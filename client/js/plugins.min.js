if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(p,t){function e(t,e){return e.toUpperCase()}var d=[],u=d.slice,g=d.concat,s=d.push,o=d.indexOf,n={},i=n.toString,m=n.hasOwnProperty,v={},r="1.11.2",T=function(t,e){return new T.fn.init(t,e)},a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,l=/^-ms-/,c=/-([\da-z])/gi;function h(t){var e=t.length,n=T.type(t);return"function"!==n&&!T.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t))}T.fn=T.prototype={jquery:r,constructor:T,selector:"",length:0,toArray:function(){return u.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:u.call(this)},pushStack:function(t){var e=T.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return T.each(this,t,e)},map:function(n){return this.pushStack(T.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:d.sort,splice:d.splice},T.extend=T.fn.extend=function(){var t,e,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||T.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(o=arguments[s]))for(i in o)t=a[i],a!==(n=o[i])&&(c&&n&&(T.isPlainObject(n)||(e=T.isArray(n)))?(r=e?(e=!1,t&&T.isArray(t)?t:[]):t&&T.isPlainObject(t)?t:{},a[i]=T.extend(c,r,n)):void 0!==n&&(a[i]=n));return a},T.extend({expando:"jQuery"+(r+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===T.type(t)},isArray:Array.isArray||function(t){return"array"===T.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!T.isArray(t)&&0<=t-parseFloat(t)+1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==T.type(t)||t.nodeType||T.isWindow(t))return!1;try{if(t.constructor&&!m.call(t,"constructor")&&!m.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(v.ownLast)for(e in t)return m.call(t,e);for(e in t);return void 0===e||m.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?n[i.call(t)]||"object":typeof t},globalEval:function(t){t&&T.trim(t)&&(p.execScript||function(t){p.eval.call(p,t)})(t)},camelCase:function(t){return t.replace(l,"ms-").replace(c,e)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i=0,o=t.length,r=h(t);if(n){if(r)for(;i<o&&!1!==e.apply(t[i],n);i++);else for(i in t)if(!1===e.apply(t[i],n))break}else if(r)for(;i<o&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(a,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(h(Object(t))?T.merge(n,"string"==typeof t?[t]:t):s.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(o)return o.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;)t[o++]=e[i++];if(n!=n)for(;void 0!==e[i];)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,a=!n;o<r;o++)!e(t[o],o)!=a&&i.push(t[o]);return i},map:function(t,e,n){var i,o=0,r=t.length,a=[];if(h(t))for(;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return g.apply([],a)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(o=t[e],e=t,t=o),T.isFunction(t)?(n=u.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(u.call(arguments)))}).guid=t.guid=t.guid||T.guid++,i):void 0},now:function(){return+new Date},support:v}),T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});var f=function(n){function d(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function i(){v()}var t,p,_,r,o,g,h,m,E,c,u,v,w,a,y,b,s,f,T,C="sizzle"+1*new Date,x=n.document,D=0,O=0,l=rt(),I=rt(),k=rt(),S=function(t,e){return t===e&&(u=!0),0},R={}.hasOwnProperty,e=[],A=e.pop,M=e.push,N=e.push,K=e.slice,P=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",$=B.replace("w","w#"),H="\\["+F+"*("+B+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+F+"*\\]",z=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",j=new RegExp(F+"+","g"),V=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),W=new RegExp("^"+F+"*,"+F+"*"),q=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),G=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),U=new RegExp(z),Y=new RegExp("^"+$+"$"),X={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,tt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,nt=/'|\\/g,it=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig");try{N.apply(e=K.call(x.childNodes),x.childNodes),e[x.childNodes.length].nodeType}catch(t){N={apply:e.length?function(t,e){M.apply(t,K.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,n,i){var o,r,a,s,l,c,u,d,h,f;if((e?e.ownerDocument||e:x)!==w&&v(e),n=n||[],s=(e=e||w).nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!i&&y){if(11!==s&&(o=tt.exec(t)))if(a=o[1]){if(9===s){if(!(r=e.getElementById(a))||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(a))&&T(e,r)&&r.id===a)return n.push(r),n}else{if(o[2])return N.apply(n,e.getElementsByTagName(t)),n;if((a=o[3])&&p.getElementsByClassName)return N.apply(n,e.getElementsByClassName(a)),n}if(p.qsa&&(!b||!b.test(t))){if(d=u=C,h=e,f=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=g(t),(u=e.getAttribute("id"))?d=u.replace(nt,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+gt(c[l]);h=et.test(t)&&ft(e.parentNode)||e,f=c.join(",")}if(f)try{return N.apply(n,h.querySelectorAll(f)),n}catch(t){}finally{u||e.removeAttribute("id")}}}return m(t.replace(V,"$1"),e,n,i)}function rt(){var i=[];return function t(e,n){return i.push(e+" ")>_.cacheLength&&delete t[i.shift()],t[e+" "]=n}}function at(t){return t[C]=!0,t}function st(t){var e=w.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),i=t.length;i--;)_.attrHandle[n[i]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ut(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function dt(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function ht(a){return at(function(r){return r=+r,at(function(t,e){for(var n,i=a([],t.length,r),o=i.length;o--;)t[n=i[o]]&&(t[n]=!(e[n]=t[n]))})})}function ft(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in p=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},v=ot.setDocument=function(t){var e,n,l=t?t.ownerDocument||t:x;return l!==w&&9===l.nodeType&&l.documentElement?(a=(w=l).documentElement,(n=l.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",i,!1):n.attachEvent&&n.attachEvent("onunload",i)),y=!o(l),p.attributes=st(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=st(function(t){return t.appendChild(l.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=J.test(l.getElementsByClassName),p.getById=st(function(t){return a.appendChild(t).id=C,!l.getElementsByName||!l.getElementsByName(C).length}),p.getById?(_.find.ID=function(t,e){if(void 0!==e.getElementById&&y){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(t){var e=t.replace(it,d);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var n=t.replace(it,d);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),_.find.TAG=p.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):p.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},_.find.CLASS=p.getElementsByClassName&&function(t,e){return y?e.getElementsByClassName(t):void 0},s=[],b=[],(p.qsa=J.test(l.querySelectorAll))&&(st(function(t){a.appendChild(t).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&b.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||b.push("\\["+F+"*(?:value|"+L+")"),t.querySelectorAll("[id~="+C+"-]").length||b.push("~="),t.querySelectorAll(":checked").length||b.push(":checked"),t.querySelectorAll("a#"+C+"+*").length||b.push(".#.+[+~]")}),st(function(t){var e=l.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&b.push("name"+F+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||b.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),b.push(",.*:")})),(p.matchesSelector=J.test(f=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&st(function(t){p.disconnectedMatch=f.call(t,"div"),f.call(t,"[s!='']:x"),s.push("!=",z)}),b=b.length&&new RegExp(b.join("|")),s=s.length&&new RegExp(s.join("|")),e=J.test(a.compareDocumentPosition),T=e||J.test(a.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===n?t===l||t.ownerDocument===x&&T(x,t)?-1:e===l||e.ownerDocument===x&&T(x,e)?1:c?P(c,t)-P(c,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,a=[t],s=[e];if(!o||!r)return t===l?-1:e===l?1:o?-1:r?1:c?P(c,t)-P(c,e):0;if(o===r)return ct(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ct(a[i],s[i]):a[i]===x?-1:s[i]===x?1:0},l):w},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==w&&v(t),e=e.replace(G,"='$1']"),!(!p.matchesSelector||!y||s&&s.test(e)||b&&b.test(e)))try{var n=f.call(t,e);if(n||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return 0<ot(e,w,null,[t]).length},ot.contains=function(t,e){return(t.ownerDocument||t)!==w&&v(t),T(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==w&&v(t);var n=_.attrHandle[e.toLowerCase()],i=n&&R.call(_.attrHandle,e.toLowerCase())?n(t,e,!y):void 0;return void 0!==i?i:p.attributes||!y?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,n=[],i=0,o=0;if(u=!p.detectDuplicates,c=!p.sortStable&&t.slice(0),t.sort(S),u){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return c=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(_=ot.selectors={cacheLength:50,createPseudo:at,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(it,d),t[3]=(t[3]||t[4]||t[5]||"").replace(it,d),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&U.test(n)&&(e=g(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(it,d).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=l[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&l(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(t){var e=ot.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===o:"!="===i?e!==o:"^="===i?o&&0===e.indexOf(o):"*="===i?o&&-1<e.indexOf(o):"$="===i?o&&e.slice(-o.length)===o:"~="===i?-1<(" "+e.replace(j," ")+" ").indexOf(o):"|="===i&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,t,e,p,g){var m="nth"!==f.slice(0,3),v="last"!==f.slice(-4),y="of-type"===t;return 1===p&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,o,r,a,s,l,c=m!=v?"nextSibling":"previousSibling",u=t.parentNode,d=y&&t.nodeName.toLowerCase(),h=!n&&!y;if(u){if(m){for(;c;){for(r=t;r=r[c];)if(y?r.nodeName.toLowerCase()===d:1===r.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(s=(i=(o=u[C]||(u[C]={}))[f]||[])[0]===D&&i[1],a=i[0]===D&&i[2],r=s&&u.childNodes[s];r=++s&&r&&r[c]||(a=s=0)||l.pop();)if(1===r.nodeType&&++a&&r===t){o[f]=[D,s,a];break}}else if(h&&(i=(t[C]||(t[C]={}))[f])&&i[0]===D)a=i[1];else for(;(r=++s&&r&&r[c]||(a=s=0)||l.pop())&&((y?r.nodeName.toLowerCase()!==d:1!==r.nodeType)||!++a||(h&&((r[C]||(r[C]={}))[f]=[D,a]),r!==t)););return(a-=g)===p||a%p==0&&0<=a/p}}},PSEUDO:function(t,r){var e,a=_.pseudos[t]||_.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return a[C]?a(r):1<a.length?(e=[t,t,"",r],_.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,e){for(var n,i=a(t,r),o=i.length;o--;)t[n=P(t,i[o])]=!(e[n]=i[o])}):function(t){return a(t,0,e)}):a}},pseudos:{not:at(function(t){var i=[],o=[],s=h(t.replace(V,"$1"));return s[C]?at(function(t,e,n,i){for(var o,r=s(t,null,i,[]),a=t.length;a--;)(o=r[a])&&(t[a]=!(e[a]=o))}):function(t,e,n){return i[0]=t,s(i,null,n,o),i[0]=null,!o.pop()}}),has:at(function(e){return function(t){return 0<ot(e,t).length}}),contains:at(function(e){return e=e.replace(it,d),function(t){return-1<(t.textContent||t.innerText||r(t)).indexOf(e)}}),lang:at(function(n){return Y.test(n||"")||ot.error("unsupported lang: "+n),n=n.replace(it,d).toLowerCase(),function(t){var e;do{if(e=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===a},focus:function(t){return t===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ht(function(){return[0]}),last:ht(function(t,e){return[e-1]}),eq:ht(function(t,e,n){return[n<0?n+e:n]}),even:ht(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ht(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ht(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:ht(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[t]=ut(t);for(t in{submit:!0,reset:!0})_.pseudos[t]=dt(t);function pt(){}function gt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function mt(a,t,e){var s=t.dir,l=e&&"parentNode"===s,c=O++;return t.first?function(t,e,n){for(;t=t[s];)if(1===t.nodeType||l)return a(t,e,n)}:function(t,e,n){var i,o,r=[D,c];if(n){for(;t=t[s];)if((1===t.nodeType||l)&&a(t,e,n))return!0}else for(;t=t[s];)if(1===t.nodeType||l){if((i=(o=t[C]||(t[C]={}))[s])&&i[0]===D&&i[1]===c)return r[2]=i[2];if((o[s]=r)[2]=a(t,e,n))return!0}}}function vt(o){return 1<o.length?function(t,e,n){for(var i=o.length;i--;)if(!o[i](t,e,n))return!1;return!0}:o[0]}function yt(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,c=null!=e;s<l;s++)!(r=t[s])||n&&!n(r,i,o)||(a.push(r),c&&e.push(s));return a}function bt(f,p,g,m,v,t){return m&&!m[C]&&(m=bt(m)),v&&!v[C]&&(v=bt(v,t)),at(function(t,e,n,i){var o,r,a,s=[],l=[],c=e.length,u=t||function(t,e,n){for(var i=0,o=e.length;i<o;i++)ot(t,e[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!f||!t&&p?u:yt(u,s,f,n,i),h=g?v||(t?f:c||m)?[]:e:d;if(g&&g(d,h,n,i),m)for(o=yt(h,l),m(o,[],n,i),r=o.length;r--;)(a=o[r])&&(h[l[r]]=!(d[l[r]]=a));if(t){if(v||f){if(v){for(o=[],r=h.length;r--;)(a=h[r])&&o.push(d[r]=a);v(null,h=[],o,i)}for(r=h.length;r--;)(a=h[r])&&-1<(o=v?P(t,a):s[r])&&(t[o]=!(e[o]=a))}}else h=yt(h===e?h.splice(c,h.length):h),v?v(null,e,h,i):N.apply(e,h)})}function _t(t){for(var o,e,n,i=t.length,r=_.relative[t[0].type],a=r||_.relative[" "],s=r?1:0,l=mt(function(t){return t===o},a,!0),c=mt(function(t){return-1<P(o,t)},a,!0),u=[function(t,e,n){var i=!r&&(n||e!==E)||((o=e).nodeType?l(t,e,n):c(t,e,n));return o=null,i}];s<i;s++)if(e=_.relative[t[s].type])u=[mt(vt(u),e)];else{if((e=_.filter[t[s].type].apply(null,t[s].matches))[C]){for(n=++s;n<i&&!_.relative[t[n].type];n++);return bt(1<s&&vt(u),1<s&&gt(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(V,"$1"),e,s<n&&_t(t.slice(s,n)),n<i&&_t(t=t.slice(n)),n<i&&gt(t))}u.push(e)}return vt(u)}return pt.prototype=_.filters=_.pseudos,_.setFilters=new pt,g=ot.tokenize=function(t,e){var n,i,o,r,a,s,l,c=I[t+" "];if(c)return e?0:c.slice(0);for(a=t,s=[],l=_.preFilter;a;){for(r in n&&!(i=W.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=q.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(V," ")}),a=a.slice(n.length)),_.filter)!(i=X[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):I(t,s).slice(0)},h=ot.compile=function(t,e){var n,i=[],o=[],r=k[t+" "];if(!r){for(n=(e=e||g(t)).length;n--;)(r=_t(e[n]))[C]?i.push(r):o.push(r);(r=k(t,function(m,v){function t(t,e,n,i,o){var r,a,s,l=0,c="0",u=t&&[],d=[],h=E,f=t||b&&_.find.TAG("*",o),p=D+=null==h?1:Math.random()||.1,g=f.length;for(o&&(E=e!==w&&e);c!==g&&null!=(r=f[c]);c++){if(b&&r){for(a=0;s=m[a++];)if(s(r,e,n)){i.push(r);break}o&&(D=p)}y&&((r=!s&&r)&&l--,t&&u.push(r))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,e,n);if(t){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=A.call(i));d=yt(d)}N.apply(i,d),o&&!t&&0<d.length&&1<l+v.length&&ot.uniqueSort(i)}return o&&(D=p,E=h),u}var y=0<v.length,b=0<m.length;return y?at(t):t}(o,i))).selector=t}return r},m=ot.select=function(t,e,n,i){var o,r,a,s,l,c="function"==typeof t&&t,u=!i&&g(t=c.selector||t);if(n=n||[],1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(a=r[0]).type&&p.getById&&9===e.nodeType&&y&&_.relative[r[1].type]){if(!(e=(_.find.ID(a.matches[0].replace(it,d),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=X.needsContext.test(t)?0:r.length;o--&&(a=r[o],!_.relative[s=a.type]);)if((l=_.find[s])&&(i=l(a.matches[0].replace(it,d),et.test(r[0].type)&&ft(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&gt(r)))return N.apply(n,i),n;break}}return(c||h(t,u))(i,e,!y,n,et.test(t)&&ft(e.parentNode)||e),n},p.sortStable=C.split("").sort(S).join("")===C,p.detectDuplicates=!!u,v(),p.sortDetached=st(function(t){return 1&t.compareDocumentPosition(w.createElement("div"))}),st(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&st(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),st(function(t){return null==t.getAttribute("disabled")})||lt(L,function(t,e,n){var i;return n?void 0:!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(p);T.find=f,T.expr=f.selectors,T.expr[":"]=T.expr.pseudos,T.unique=f.uniqueSort,T.text=f.getText,T.isXMLDoc=f.isXML,T.contains=f.contains;var y=T.expr.match.needsContext,b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,_=/^.[^:#\[\.,]*$/;function E(t,n,i){if(T.isFunction(n))return T.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return T.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(_.test(n))return T.filter(n,t,i);n=T.filter(n,t)}return T.grep(t,function(t){return 0<=T.inArray(t,n)!==i})}T.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?T.find.matchesSelector(i,t)?[i]:[]:T.find.matches(t,T.grep(e,function(t){return 1===t.nodeType}))},T.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(T(t).filter(function(){for(e=0;e<o;e++)if(T.contains(i[e],this))return!0}));for(e=0;e<o;e++)T.find(t,i[e],n);return(n=this.pushStack(1<o?T.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(E(this,t||[],!1))},not:function(t){return this.pushStack(E(this,t||[],!0))},is:function(t){return!!E(this,"string"==typeof t&&y.test(t)?T(t):t||[],!1).length}});var w,C=p.document,x=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(T.fn.init=function(t,e){var n,i;if(!t)return this;if("string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):T.isFunction(t)?void 0!==w.ready?w.ready(t):t(T):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),T.makeArray(t,this));if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:x.exec(t))||!n[1]&&e)return!e||e.jquery?(e||w).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:C,!0)),b.test(n[1])&&T.isPlainObject(e))for(n in e)T.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((i=C.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return w.find(t);this.length=1,this[0]=i}return this.context=C,this.selector=t,this}).prototype=T.fn,w=T(C);var D=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function I(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}T.extend({dir:function(t,e,n){for(var i=[],o=t[e];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!T(o).is(n));)1===o.nodeType&&i.push(o),o=o[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),T.fn.extend({has:function(t){var e,n=T(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(T.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],a=y.test(t)||"string"!=typeof t?T(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&T.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(1<r.length?T.unique(r):r)},index:function(t){return t?"string"==typeof t?T.inArray(this[0],T(t)):T.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.unique(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return T.dir(t,"parentNode")},parentsUntil:function(t,e,n){return T.dir(t,"parentNode",n)},next:function(t){return I(t,"nextSibling")},prev:function(t){return I(t,"previousSibling")},nextAll:function(t){return T.dir(t,"nextSibling")},prevAll:function(t){return T.dir(t,"previousSibling")},nextUntil:function(t,e,n){return T.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return T.dir(t,"previousSibling",n)},siblings:function(t){return T.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return T.sibling(t.firstChild)},contents:function(t){return T.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:T.merge([],t.childNodes)}},function(i,o){T.fn[i]=function(t,e){var n=T.map(this,o,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=T.filter(e,n)),1<this.length&&(O[i]||(n=T.unique(n)),D.test(i)&&(n=n.reverse())),this.pushStack(n)}});var k,S=/\S+/g,R={};function A(){C.addEventListener?(C.removeEventListener("DOMContentLoaded",M,!1),p.removeEventListener("load",M,!1)):(C.detachEvent("onreadystatechange",M),p.detachEvent("onload",M))}function M(){!C.addEventListener&&"load"!==event.type&&"complete"!==C.readyState||(A(),T.ready())}T.Callbacks=function(o){o="string"==typeof o?R[o]||function(t){var n=R[t]={};return T.each(t.match(S)||[],function(t,e){n[e]=!0}),n}(o):T.extend({},o);var i,e,n,r,a,s,l=[],c=!o.once&&[],u=function(t){for(e=o.memory&&t,n=!0,a=s||0,s=0,r=l.length,i=!0;l&&a<r;a++)if(!1===l[a].apply(t[0],t[1])&&o.stopOnFalse){e=!1;break}i=!1,l&&(c?c.length&&u(c.shift()):e?l=[]:d.disable())},d={add:function(){if(l){var t=l.length;!function i(t){T.each(t,function(t,e){var n=T.type(e);"function"===n?o.unique&&d.has(e)||l.push(e):e&&e.length&&"string"!==n&&i(e)})}(arguments),i?r=l.length:e&&(s=t,u(e))}return this},remove:function(){return l&&T.each(arguments,function(t,e){for(var n;-1<(n=T.inArray(e,l,n));)l.splice(n,1),i&&(n<=r&&r--,n<=a&&a--)}),this},has:function(t){return t?-1<T.inArray(t,l):!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=e=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,e||d.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!l||n&&!c||(e=[t,(e=e||[]).slice?e.slice():e],i?c.push(e):u(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},T.extend({Deferred:function(t){var r=[["resolve","done",T.Callbacks("once memory"),"resolved"],["reject","fail",T.Callbacks("once memory"),"rejected"],["notify","progress",T.Callbacks("memory")]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return T.Deferred(function(i){T.each(r,function(t,e){var n=T.isFunction(o[t])&&o[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&T.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[e[0]+"With"](this===a?i.promise():this,n?[t]:arguments)})}),o=null}).promise()},promise:function(t){return null!=t?T.extend(t,a):a}},s={};return a.pipe=a.then,T.each(r,function(t,e){var n=e[2],i=e[3];a[e[1]]=n.add,i&&n.add(function(){o=i},r[1^t][2].disable,r[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?a:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){function e(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?u.call(arguments):t,i===o?c.notifyWith(n,i):--l||c.resolveWith(n,i)}}var o,n,i,r=0,a=u.call(arguments),s=a.length,l=1!==s||t&&T.isFunction(t.promise)?s:0,c=1===l?t:T.Deferred();if(1<s)for(o=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)a[r]&&T.isFunction(a[r].promise)?a[r].promise().done(e(r,i,a)).fail(c.reject).progress(e(r,n,o)):--l;return l||c.resolveWith(i,a),c.promise()}}),T.fn.ready=function(t){return T.ready.promise().done(t),this},T.extend({isReady:!1,readyWait:1,holdReady:function(t){t?T.readyWait++:T.ready(!0)},ready:function(t){if(!0===t?!--T.readyWait:!T.isReady){if(!C.body)return setTimeout(T.ready);(T.isReady=!0)!==t&&0<--T.readyWait||(k.resolveWith(C,[T]),T.fn.triggerHandler&&(T(C).triggerHandler("ready"),T(C).off("ready")))}}}),T.ready.promise=function(t){if(!k)if(k=T.Deferred(),"complete"===C.readyState)setTimeout(T.ready);else if(C.addEventListener)C.addEventListener("DOMContentLoaded",M,!1),p.addEventListener("load",M,!1);else{C.attachEvent("onreadystatechange",M),p.attachEvent("onload",M);var n=!1;try{n=null==p.frameElement&&C.documentElement}catch(t){}n&&n.doScroll&&!function e(){if(!T.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}A(),T.ready()}}()}return k.promise(t)};var N,K="undefined";for(N in T(v))break;v.ownLast="0"!==N,v.inlineBlockNeedsLayout=!1,T(function(){var t,e,n,i;(n=C.getElementsByTagName("body")[0])&&n.style&&(e=C.createElement("div"),(i=C.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==K&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",v.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=C.createElement("div");if(null==v.deleteExpando){v.deleteExpando=!0;try{delete t.test}catch(t){v.deleteExpando=!1}}t=null}(),T.acceptData=function(t){var e=T.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)};var P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/([A-Z])/g;function F(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(L,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:P.test(n)?T.parseJSON(n):n)}catch(t){}T.data(t,e,n)}else n=void 0}return n}function B(t){var e;for(e in t)if(("data"!==e||!T.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function $(t,e,n,i){if(T.acceptData(t)){var o,r,a=T.expando,s=t.nodeType,l=s?T.cache:t,c=s?t[a]:t[a]&&a;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof e)return l[c=c||(s?t[a]=d.pop()||T.guid++:a)]||(l[c]=s?{}:{toJSON:T.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[c]=T.extend(l[c],e):l[c].data=T.extend(l[c].data,e)),r=l[c],i||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[T.camelCase(e)]=n),"string"==typeof e?null==(o=r[e])&&(o=r[T.camelCase(e)]):o=r,o}}function H(t,e,n){if(T.acceptData(t)){var i,o,r=t.nodeType,a=r?T.cache:t,s=r?t[T.expando]:T.expando;if(a[s]){if(e&&(i=n?a[s]:a[s].data)){o=(e=T.isArray(e)?e.concat(T.map(e,T.camelCase)):e in i?[e]:(e=T.camelCase(e))in i?[e]:e.split(" ")).length;for(;o--;)delete i[e[o]];if(n?!B(i):!T.isEmptyObject(i))return}(n||(delete a[s].data,B(a[s])))&&(r?T.cleanData([t],!0):v.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}T.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?T.cache[t[T.expando]]:t[T.expando])&&!B(t)},data:function(t,e,n){return $(t,e,n)},removeData:function(t,e){return H(t,e)},_data:function(t,e,n){return $(t,e,n,!0)},_removeData:function(t,e){return H(t,e,!0)}}),T.fn.extend({data:function(t,e){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0!==t)return"object"==typeof t?this.each(function(){T.data(this,t)}):1<arguments.length?this.each(function(){T.data(this,t,e)}):r?F(r,t,T.data(r,t)):void 0;if(this.length&&(o=T.data(r),1===r.nodeType&&!T._data(r,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(0===(i=a[n].name).indexOf("data-")&&F(r,i=T.camelCase(i.slice(5)),o[i]));T._data(r,"parsedAttrs",!0)}return o},removeData:function(t){return this.each(function(){T.removeData(this,t)})}}),T.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=T._data(t,e),n&&(!i||T.isArray(n)?i=T._data(t,e,T.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=T.queue(t,e),i=n.length,o=n.shift(),r=T._queueHooks(t,e);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,function(){T.dequeue(t,e)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return T._data(t,n)||T._data(t,n,{empty:T.Callbacks("once memory").add(function(){T._removeData(t,e+"queue"),T._removeData(t,n)})})}}),T.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?T.queue(this[0],e):void 0===n?this:this.each(function(){var t=T.queue(this,e,n);T._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&T.dequeue(this,e)})},dequeue:function(t){return this.each(function(){T.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--o||r.resolveWith(a,[a])}var i,o=1,r=T.Deferred(),a=this,s=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=T._data(a[s],t+"queueHooks"))&&i.empty&&(o++,i.empty.add(n));return n(),r.promise(e)}});function z(t,e){return t=e||t,"none"===T.css(t,"display")||!T.contains(t.ownerDocument,t)}var j=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,V=["Top","Right","Bottom","Left"],W=T.access=function(t,e,n,i,o,r,a){var s=0,l=t.length,c=null==n;if("object"===T.type(n))for(s in o=!0,n)T.access(t,e,s,n[s],!0,r,a);else if(void 0!==i&&(o=!0,T.isFunction(i)||(a=!0),c&&(e=a?(e.call(t,i),null):(c=e,function(t,e,n){return c.call(T(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):r},q=/^(?:checkbox|radio)$/i;!function(){var t=C.createElement("input"),e=C.createElement("div"),n=C.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",v.leadingWhitespace=3===e.firstChild.nodeType,v.tbody=!e.getElementsByTagName("tbody").length,v.htmlSerialize=!!e.getElementsByTagName("link").length,v.html5Clone="<:nav></:nav>"!==C.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),v.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",v.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,v.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){v.noCloneEvent=!1}),e.cloneNode(!0).click()),null==v.deleteExpando){v.deleteExpando=!0;try{delete e.test}catch(t){v.deleteExpando=!1}}}(),function(){var t,e,n=C.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(v[t+"Bubbles"]=e in p)||(n.setAttribute(e,"t"),v[t+"Bubbles"]=!1===n.attributes[e].expando);n=null}();var G=/^(?:input|select|textarea)$/i,U=/^key/,Y=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Z=/^([^.]*)(?:\.(.+)|)$/;function Q(){return!0}function J(){return!1}function tt(){try{return C.activeElement}catch(t){}}function et(t){var e=nt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}T.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,u,d,h,f,p,g,m=T._data(t);if(m){for(n.handler&&(n=(l=n).handler,o=l.selector),n.guid||(n.guid=T.guid++),(a=m.events)||(a=m.events={}),(u=m.handle)||((u=m.handle=function(t){return typeof T===K||t&&T.event.triggered===t.type?void 0:T.event.dispatch.apply(u.elem,arguments)}).elem=t),s=(e=(e||"").match(S)||[""]).length;s--;)f=g=(r=Z.exec(e[s])||[])[1],p=(r[2]||"").split(".").sort(),f&&(c=T.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=T.event.special[f]||{},d=T.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&T.expr.match.needsContext.test(o),namespace:p.join(".")},l),(h=a[f])||((h=a[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,p,u)||(t.addEventListener?t.addEventListener(f,u,!1):t.attachEvent&&t.attachEvent("on"+f,u))),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),T.event.global[f]=!0);t=null}},remove:function(t,e,n,i,o){var r,a,s,l,c,u,d,h,f,p,g,m=T.hasData(t)&&T._data(t);if(m&&(u=m.events)){for(c=(e=(e||"").match(S)||[""]).length;c--;)if(f=g=(s=Z.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=T.event.special[f]||{},h=u[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)a=h[r],!o&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(r,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(t,a));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,m.handle)||T.removeEvent(t,f,m.handle),delete u[f])}else for(f in u)T.event.remove(t,f+e[c],n,i,!0);T.isEmptyObject(u)&&(delete m.handle,T._removeData(t,"events"))}},trigger:function(t,e,n,i){var o,r,a,s,l,c,u,d=[n||C],h=m.call(t,"type")?t.type:t,f=m.call(t,"namespace")?t.namespace.split("."):[];if(a=c=n=n||C,3!==n.nodeType&&8!==n.nodeType&&!X.test(h+T.event.triggered)&&(0<=h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),r=h.indexOf(":")<0&&"on"+h,(t=t[T.expando]?t:new T.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:T.makeArray(e,[t]),l=T.event.special[h]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!T.isWindow(n)){for(s=l.delegateType||h,X.test(s+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),c=a;c===(n.ownerDocument||C)&&d.push(c.defaultView||c.parentWindow||p)}for(u=0;(a=d[u++])&&!t.isPropagationStopped();)t.type=1<u?s:l.bindType||h,(o=(T._data(a,"events")||{})[t.type]&&T._data(a,"handle"))&&o.apply(a,e),(o=r&&a[r])&&o.apply&&T.acceptData(a)&&(t.result=o.apply(a,e),!1===t.result&&t.preventDefault());if(t.type=h,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(d.pop(),e))&&T.acceptData(n)&&r&&n[h]&&!T.isWindow(n)){(c=n[r])&&(n[r]=null),T.event.triggered=h;try{n[h]()}catch(t){}T.event.triggered=void 0,c&&(n[r]=c)}return t.result}},dispatch:function(t){t=T.event.fix(t);var e,n,i,o,r,a=[],s=u.call(arguments),l=(T._data(this,"events")||{})[t.type]||[],c=T.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(a=T.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(i.namespace)||(t.handleObj=i,t.data=i.data,void 0!==(n=((T.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(o=[],r=0;r<s;r++)void 0===o[n=(i=e[r]).selector+" "]&&(o[n]=i.needsContext?0<=T(n,this).index(l):T.find(n,this,null,[l]).length),o[n]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[T.expando])return t;var e,n,i,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Y.test(o)?this.mouseHooks:U.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new T.Event(r),e=i.length;e--;)t[n=i[e]]=r[n];return t.target||(t.target=r.srcElement||C),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=(i=t.target.ownerDocument||C).documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==tt()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===tt()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return T.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return T.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var o=T.extend(new T.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?T.event.trigger(o,null,e):T.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},T.removeEvent=C.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===K&&(t[i]=null),t.detachEvent(i,n))},T.Event=function(t,e){return this instanceof T.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Q:J):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||T.now(),void(this[T.expando]=!0)):new T.Event(t,e)},T.Event.prototype={isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Q,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Q,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Q,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){T.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||T.contains(this,n))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=o),e}}}),v.submitBubbles||(T.event.special.submit={setup:function(){return!T.nodeName(this,"form")&&void T.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=T.nodeName(e,"input")||T.nodeName(e,"button")?e.form:void 0;n&&!T._data(n,"submitBubbles")&&(T.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),T._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&T.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return!T.nodeName(this,"form")&&void T.event.remove(this,"._submit")}}),v.changeBubbles||(T.event.special.change={setup:function(){return G.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(T.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),T.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),T.event.simulate("change",this,t,!0)})),!1):void T.event.add(this,"beforeactivate._change",function(t){var e=t.target;G.test(e.nodeName)&&!T._data(e,"changeBubbles")&&(T.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||T.event.simulate("change",this.parentNode,t,!0)}),T._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return T.event.remove(this,"._change"),!G.test(this.nodeName)}}),v.focusinBubbles||T.each({focus:"focusin",blur:"focusout"},function(n,i){function o(t){T.event.simulate(i,t.target,T.event.fix(t),!0)}T.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=T._data(t,i);e||t.addEventListener(n,o,!0),T._data(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=T._data(t,i)-1;e?T._data(t,i,e):(t.removeEventListener(n,o,!0),T._removeData(t,i))}}}),T.fn.extend({on:function(t,e,n,i,o){var r,a;if("object"==typeof t){for(r in"string"!=typeof e&&(n=n||e,e=void 0),t)this.on(r,e,n,t[r],o);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),!1===i)i=J;else if(!i)return this;return 1===o&&(a=i,(i=function(t){return T().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=T.guid++)),this.each(function(){T.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,T(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=J),this.each(function(){T.event.remove(this,t,n,e)});for(o in t)this.off(o,e,t[o]);return this},trigger:function(t,e){return this.each(function(){T.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?T.event.trigger(t,e,n,!0):void 0}});var nt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",it=/ jQuery\d+="(?:null|\d+)"/g,ot=new RegExp("<(?:"+nt+")[\\s/>]","i"),rt=/^\s+/,at=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,st=/<([\w:]+)/,lt=/<tbody/i,ct=/<|&#?\w+;/,ut=/<(?:script|style|link)/i,dt=/checked\s*(?:[^=]|=\s*.checked.)/i,ht=/^$|\/(?:java|ecma)script/i,ft=/^true\/(.*)/,pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:v.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},mt=et(C).appendChild(C.createElement("div"));function vt(t,e){var n,i,o=0,r=typeof t.getElementsByTagName!==K?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==K?t.querySelectorAll(e||"*"):void 0;if(!r)for(r=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||T.nodeName(i,e)?r.push(i):T.merge(r,vt(i,e));return void 0===e||e&&T.nodeName(t,e)?T.merge([t],r):r}function yt(t){q.test(t.type)&&(t.defaultChecked=t.checked)}function bt(t,e){return T.nodeName(t,"table")&&T.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function _t(t){return t.type=(null!==T.find.attr(t,"type"))+"/"+t.type,t}function Et(t){var e=ft.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function wt(t,e){for(var n,i=0;null!=(n=t[i]);i++)T._data(n,"globalEval",!e||T._data(e[i],"globalEval"))}function Tt(t,e){if(1===e.nodeType&&T.hasData(t)){var n,i,o,r=T._data(t),a=T._data(e,r),s=r.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,o=s[n].length;i<o;i++)T.event.add(e,n,s[n][i]);a.data&&(a.data=T.extend({},a.data))}}function Ct(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!v.noCloneEvent&&e[T.expando]){for(i in(o=T._data(e)).events)T.removeEvent(e,i,o.handle);e.removeAttribute(T.expando)}"script"===n&&e.text!==t.text?(_t(e).text=t.text,Et(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),v.html5Clone&&t.innerHTML&&!T.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&q.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,T.extend({clone:function(t,e,n){var i,o,r,a,s,l=T.contains(t.ownerDocument,t);if(v.html5Clone||T.isXMLDoc(t)||!ot.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(mt.innerHTML=t.outerHTML,mt.removeChild(r=mt.firstChild)),!(v.noCloneEvent&&v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||T.isXMLDoc(t)))for(i=vt(r),s=vt(t),a=0;null!=(o=s[a]);++a)i[a]&&Ct(o,i[a]);if(e)if(n)for(s=s||vt(t),i=i||vt(r),a=0;null!=(o=s[a]);a++)Tt(o,i[a]);else Tt(t,r);return 0<(i=vt(r,"script")).length&&wt(i,!l&&vt(t,"script")),i=s=o=null,r},buildFragment:function(t,e,n,i){for(var o,r,a,s,l,c,u,d=t.length,h=et(e),f=[],p=0;p<d;p++)if((r=t[p])||0===r)if("object"===T.type(r))T.merge(f,r.nodeType?[r]:r);else if(ct.test(r)){for(s=s||h.appendChild(e.createElement("div")),l=(st.exec(r)||["",""])[1].toLowerCase(),u=gt[l]||gt._default,s.innerHTML=u[1]+r.replace(at,"<$1></$2>")+u[2],o=u[0];o--;)s=s.lastChild;if(!v.leadingWhitespace&&rt.test(r)&&f.push(e.createTextNode(rt.exec(r)[0])),!v.tbody)for(o=(r="table"!==l||lt.test(r)?"<table>"!==u[1]||lt.test(r)?0:s:s.firstChild)&&r.childNodes.length;o--;)T.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(T.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else f.push(e.createTextNode(r));for(s&&h.removeChild(s),v.appendChecked||T.grep(vt(f,"input"),yt),p=0;r=f[p++];)if((!i||-1===T.inArray(r,i))&&(a=T.contains(r.ownerDocument,r),s=vt(h.appendChild(r),"script"),a&&wt(s),n))for(o=0;r=s[o++];)ht.test(r.type||"")&&n.push(r);return s=null,h},cleanData:function(t,e){for(var n,i,o,r,a=0,s=T.expando,l=T.cache,c=v.deleteExpando,u=T.event.special;null!=(n=t[a]);a++)if((e||T.acceptData(n))&&(r=(o=n[s])&&l[o])){if(r.events)for(i in r.events)u[i]?T.event.remove(n,i):T.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c?delete n[s]:typeof n.removeAttribute!==K?n.removeAttribute(s):n[s]=null,d.push(o))}}}),T.fn.extend({text:function(t){return W(this,function(t){return void 0===t?T.text(this):this.empty().append((this[0]&&this[0].ownerDocument||C).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||bt(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=bt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?T.filter(t,this):this,o=0;null!=(n=i[o]);o++)e||1!==n.nodeType||T.cleanData(vt(n)),n.parentNode&&(e&&T.contains(n.ownerDocument,n)&&wt(vt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&T.cleanData(vt(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&T.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return T.clone(this,t,e)})},html:function(t){return W(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(it,""):void 0;if(!("string"!=typeof t||ut.test(t)||!v.htmlSerialize&&ot.test(t)||!v.leadingWhitespace&&rt.test(t)||gt[(st.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(at,"<$1></$2>");try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(T.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,T.cleanData(vt(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(n,i){n=g.apply([],n);var t,e,o,r,a,s,l=0,c=this.length,u=this,d=c-1,h=n[0],f=T.isFunction(h);if(f||1<c&&"string"==typeof h&&!v.checkClone&&dt.test(h))return this.each(function(t){var e=u.eq(t);f&&(n[0]=h.call(this,t,e.html())),e.domManip(n,i)});if(c&&(t=(s=T.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===s.childNodes.length&&(s=t),t)){for(o=(r=T.map(vt(s,"script"),_t)).length;l<c;l++)e=s,l!==d&&(e=T.clone(e,!0,!0),o&&T.merge(r,vt(e,"script"))),i.call(this[l],e,l);if(o)for(a=r[r.length-1].ownerDocument,T.map(r,Et),l=0;l<o;l++)e=r[l],ht.test(e.type||"")&&!T._data(e,"globalEval")&&T.contains(a,e)&&(e.src?T._evalUrl&&T._evalUrl(e.src):T.globalEval((e.text||e.textContent||e.innerHTML||"").replace(pt,"")));s=t=null}return this}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){T.fn[t]=function(t){for(var e,n=0,i=[],o=T(t),r=o.length-1;n<=r;n++)e=n===r?this:this.clone(!0),T(o[n])[a](e),s.apply(i,e.get());return this.pushStack(i)}});var xt,Dt,Ot={};function It(t,e){var n,i=T(e.createElement(t)).appendTo(e.body),o=p.getDefaultComputedStyle&&(n=p.getDefaultComputedStyle(i[0]))?n.display:T.css(i[0],"display");return i.detach(),o}function kt(t){var e=C,n=Ot[t];return n||("none"!==(n=It(t,e))&&n||((e=((xt=(xt||T("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||xt[0].contentDocument).document).write(),e.close(),n=It(t,e),xt.detach()),Ot[t]=n),n}v.shrinkWrapBlocks=function(){return null!=Dt?Dt:(Dt=!1,(e=C.getElementsByTagName("body")[0])&&e.style?(t=C.createElement("div"),(n=C.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),typeof t.style.zoom!==K&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(C.createElement("div")).style.width="5px",Dt=3!==t.offsetWidth),e.removeChild(n),Dt):void 0);var t,e,n};var St,Rt,At=/^margin/,Mt=new RegExp("^("+j+")(?!px)[a-z%]+$","i"),Nt=/^(top|right|bottom|left)$/;function Kt(e,n){return{get:function(){var t=e();if(null!=t)return t?void delete this.get:(this.get=n).apply(this,arguments)}}}p.getComputedStyle?(St=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):p.getComputedStyle(t,null)},Rt=function(t,e,n){var i,o,r,a,s=t.style;return a=(n=n||St(t))?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==a||T.contains(t.ownerDocument,t)||(a=T.style(t,e)),Mt.test(a)&&At.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),void 0===a?a:a+""}):C.documentElement.currentStyle&&(St=function(t){return t.currentStyle},Rt=function(t,e,n){var i,o,r,a,s=t.style;return null==(a=(n=n||St(t))?n[e]:void 0)&&s&&s[e]&&(a=s[e]),Mt.test(a)&&!Nt.test(e)&&(i=s.left,(r=(o=t.runtimeStyle)&&o.left)&&(o.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=i,r&&(o.left=r)),void 0===a?a:a+""||"auto"}),function(){var t,e,n,o,r,a,s;if((t=C.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=(n=t.getElementsByTagName("a")[0])&&n.style){function i(){var t,e,n,i;(e=C.getElementsByTagName("body")[0])&&e.style&&(t=C.createElement("div"),(n=C.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=r=!1,s=!0,p.getComputedStyle&&(o="1%"!==(p.getComputedStyle(t,null)||{}).top,r="4px"===(p.getComputedStyle(t,null)||{width:"4px"}).width,(i=t.appendChild(C.createElement("div"))).style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",s=!parseFloat((p.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(i=t.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===i[0].offsetHeight)&&(i[0].style.display="",i[1].style.display="none",a=0===i[0].offsetHeight),e.removeChild(n))}e.cssText="float:left;opacity:.5",v.opacity="0.5"===e.opacity,v.cssFloat=!!e.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===t.style.backgroundClip,v.boxSizing=""===e.boxSizing||""===e.MozBoxSizing||""===e.WebkitBoxSizing,T.extend(v,{reliableHiddenOffsets:function(){return null==a&&i(),a},boxSizingReliable:function(){return null==r&&i(),r},pixelPosition:function(){return null==o&&i(),o},reliableMarginRight:function(){return null==s&&i(),s}})}}(),T.swap=function(t,e,n,i){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in o=n.apply(t,i||[]),e)t.style[r]=a[r];return o};var Pt=/alpha\([^)]*\)/i,Lt=/opacity\s*=\s*([^)]*)/,Ft=/^(none|table(?!-c[ea]).+)/,Bt=new RegExp("^("+j+")(.*)$","i"),$t=new RegExp("^([+-])=("+j+")","i"),Ht={position:"absolute",visibility:"hidden",display:"block"},zt={letterSpacing:"0",fontWeight:"400"},jt=["Webkit","O","Moz","ms"];function Vt(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,o=jt.length;o--;)if((e=jt[o]+n)in t)return e;return i}function Wt(t,e){for(var n,i,o,r=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(r[a]=T._data(i,"olddisplay"),n=i.style.display,e?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&z(i)&&(r[a]=T._data(i,"olddisplay",kt(i.nodeName)))):(o=z(i),(n&&"none"!==n||!o)&&T._data(i,"olddisplay",o?n:T.css(i,"display"))));for(a=0;a<s;a++)(i=t[a]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[a]||"":"none"));return t}function qt(t,e,n){var i=Bt.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function Gt(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=T.css(t,n+V[r],!0,o)),i?("content"===n&&(a-=T.css(t,"padding"+V[r],!0,o)),"margin"!==n&&(a-=T.css(t,"border"+V[r]+"Width",!0,o))):(a+=T.css(t,"padding"+V[r],!0,o),"padding"!==n&&(a+=T.css(t,"border"+V[r]+"Width",!0,o)));return a}function Ut(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=St(t),a=v.boxSizing&&"border-box"===T.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(((o=Rt(t,e,r))<0||null==o)&&(o=t.style[e]),Mt.test(o))return o;i=a&&(v.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+Gt(t,e,n||(a?"border":"content"),i,r)+"px"}function Yt(t,e,n,i,o){return new Yt.prototype.init(t,e,n,i,o)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Rt(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:v.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=T.camelCase(e),l=t.style;if(e=T.cssProps[s]||(T.cssProps[s]=Vt(l,s)),a=T.cssHooks[e]||T.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(t,!1,i))?o:l[e];if("string"===(r=typeof n)&&(o=$t.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(T.css(t,e)),r="number"),null!=n&&n==n&&("number"!==r||T.cssNumber[s]||(n+="px"),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(t,n,i)))))try{l[e]=n}catch(t){}}},css:function(t,e,n,i){var o,r,a,s=T.camelCase(e);return e=T.cssProps[s]||(T.cssProps[s]=Vt(t.style,s)),(a=T.cssHooks[e]||T.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Rt(t,e,i)),"normal"===r&&e in zt&&(r=zt[e]),""===n||n?(o=parseFloat(r),!0===n||T.isNumeric(o)?o||0:r):r}}),T.each(["height","width"],function(t,o){T.cssHooks[o]={get:function(t,e,n){return e?Ft.test(T.css(t,"display"))&&0===t.offsetWidth?T.swap(t,Ht,function(){return Ut(t,o,n)}):Ut(t,o,n):void 0},set:function(t,e,n){var i=n&&St(t);return qt(0,e,n?Gt(t,o,n,v.boxSizing&&"border-box"===T.css(t,"boxSizing",!1,i),i):0)}}}),v.opacity||(T.cssHooks.opacity={get:function(t,e){return Lt.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=T.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===T.trim(r.replace(Pt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=Pt.test(r)?r.replace(Pt,o):r+" "+o)}}),T.cssHooks.marginRight=Kt(v.reliableMarginRight,function(t,e){return e?T.swap(t,{display:"inline-block"},Rt,[t,"marginRight"]):void 0}),T.each({margin:"",padding:"",border:"Width"},function(o,r){T.cssHooks[o+r]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[o+V[e]+r]=i[e]||i[e-2]||i[0];return n}},At.test(o)||(T.cssHooks[o+r].set=qt)}),T.fn.extend({css:function(t,e){return W(this,function(t,e,n){var i,o,r={},a=0;if(T.isArray(e)){for(i=St(t),o=e.length;a<o;a++)r[e[a]]=T.css(t,e[a],!1,i);return r}return void 0!==n?T.style(t,e,n):T.css(t,e)},t,e,1<arguments.length)},show:function(){return Wt(this,!0)},hide:function(){return Wt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){z(this)?T(this).show():T(this).hide()})}}),((T.Tween=Yt).prototype={constructor:Yt,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(T.cssNumber[n]?"":"px")},cur:function(){var t=Yt.propHooks[this.prop];return t&&t.get?t.get(this):Yt.propHooks._default.get(this)},run:function(t){var e,n=Yt.propHooks[this.prop];return this.pos=e=this.options.duration?T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yt.propHooks._default.set(this),this}}).init.prototype=Yt.prototype,(Yt.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=T.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[T.cssProps[t.prop]]||T.cssHooks[t.prop])?T.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}}).scrollTop=Yt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},T.fx=Yt.prototype.init,T.fx.step={};var Xt,Zt,Qt,Jt,te,ee,ne,ie=/^(?:toggle|show|hide)$/,oe=new RegExp("^(?:([+-])=|)("+j+")([a-z%]*)$","i"),re=/queueHooks$/,ae=[function(e,t,n){var i,o,r,a,s,l,c,u=this,d={},h=e.style,f=e.nodeType&&z(e),p=T._data(e,"fxshow");for(i in n.queue||(null==(s=T._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,T.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=T.css(e,"display"),"inline"===("none"===c?T._data(e,"olddisplay")||kt(e.nodeName):c)&&"none"===T.css(e,"float")&&(v.inlineBlockNeedsLayout&&"inline"!==kt(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",v.shrinkWrapBlocks()||u.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),t)if(o=t[i],ie.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!p||void 0===p[i])continue;f=!0}d[i]=p&&p[i]||T.style(e,i)}else c=void 0;if(T.isEmptyObject(d))"inline"===("none"===c?kt(e.nodeName):c)&&(h.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=T._data(e,"fxshow",{}),r&&(p.hidden=!f),f?T(e).show():u.done(function(){T(e).hide()}),u.done(function(){var t;for(t in T._removeData(e,"fxshow"),d)T.style(e,t,d[t])}),d)a=ue(f?p[i]:0,i,u),i in p||(p[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],se={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),o=oe.exec(e),r=o&&o[3]||(T.cssNumber[t]?"":"px"),a=(T.cssNumber[t]||"px"!==r&&+i)&&oe.exec(T.css(n.elem,t)),s=1,l=20;if(a&&a[3]!==r)for(r=r||a[3],o=o||[],a=+i||1;a/=s=s||".5",T.style(n.elem,t,a+r),s!==(s=n.cur()/i)&&1!==s&&--l;);return o&&(a=n.start=+a||+i||0,n.unit=r,n.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),n}]};function le(){return setTimeout(function(){Xt=void 0}),Xt=T.now()}function ce(t,e){var n,i={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)i["margin"+(n=V[o])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function ue(t,e,n){for(var i,o=(se[e]||[]).concat(se["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,e,t))return i}function de(r,t,e){var n,a,i=0,o=ae.length,s=T.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=Xt||le(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,o=c.tweens.length;i<o;i++)c.tweens[i].run(n);return s.notifyWith(r,[c,n,e]),n<1&&o?e:(s.resolveWith(r,[c]),!1)},c=s.promise({elem:r,props:T.extend({},t),opts:T.extend(!0,{specialEasing:{}},e),originalProperties:t,originalOptions:e,startTime:Xt||le(),duration:e.duration,tweens:[],createTween:function(t,e){var n=T.Tween(r,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)c.tweens[e].run(1);return t?s.resolveWith(r,[c,t]):s.rejectWith(r,[c,t]),this}}),u=c.props;for(function(t,e){var n,i,o,r,a;for(n in t)if(o=e[i=T.camelCase(n)],r=t[n],T.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(a=T.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}(u,c.opts.specialEasing);i<o;i++)if(n=ae[i].call(c,r,u,c.opts))return n;return T.map(u,ue,c),T.isFunction(c.opts.start)&&c.opts.start.call(r,c),T.fx.timer(T.extend(l,{elem:r,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}T.Animation=T.extend(de,{tweener:function(t,e){for(var n,i=0,o=(t=T.isFunction(t)?(e=t,["*"]):t.split(" ")).length;i<o;i++)n=t[i],se[n]=se[n]||[],se[n].unshift(e)},prefilter:function(t,e){e?ae.unshift(t):ae.push(t)}}),T.speed=function(t,e,n){var i=t&&"object"==typeof t?T.extend({},t):{complete:n||!n&&e||T.isFunction(t)&&t,duration:t,easing:n&&e||e&&!T.isFunction(e)&&e};return i.duration=T.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in T.fx.speeds?T.fx.speeds[i.duration]:T.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){T.isFunction(i.old)&&i.old.call(this),i.queue&&T.dequeue(this,i.queue)},i},T.fn.extend({fadeTo:function(t,e,n,i){return this.filter(z).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){function o(){var t=de(this,T.extend({},e),a);(r||T._data(this,"finish"))&&t.stop(!0)}var r=T.isEmptyObject(e),a=T.speed(t,n,i);return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(o,t,r){function a(t){var e=t.stop;delete t.stop,e(r)}return"string"!=typeof o&&(r=t,t=o,o=void 0),t&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",n=T.timers,i=T._data(this);if(e)i[e]&&i[e].stop&&a(i[e]);else for(e in i)i[e]&&i[e].stop&&re.test(e)&&a(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=o&&n[e].queue!==o||(n[e].anim.stop(r),t=!1,n.splice(e,1));!t&&r||T.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=T._data(this),n=e[a+"queue"],i=e[a+"queueHooks"],o=T.timers,r=n?n.length:0;for(e.finish=!0,T.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===a&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),T.each(["toggle","show","hide"],function(t,i){var o=T.fn[i];T.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(ce(i,!0),t,e,n)}}),T.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){T.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),T.timers=[],T.fx.tick=function(){var t,e=T.timers,n=0;for(Xt=T.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||T.fx.stop(),Xt=void 0},T.fx.timer=function(t){T.timers.push(t),t()?T.fx.start():T.timers.pop()},T.fx.interval=13,T.fx.start=function(){Zt=Zt||setInterval(T.fx.tick,T.fx.interval)},T.fx.stop=function(){clearInterval(Zt),Zt=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(i,t){return i=T.fx&&T.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=setTimeout(t,i);e.stop=function(){clearTimeout(n)}})},(Jt=C.createElement("div")).setAttribute("className","t"),Jt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ee=Jt.getElementsByTagName("a")[0],ne=(te=C.createElement("select")).appendChild(C.createElement("option")),Qt=Jt.getElementsByTagName("input")[0],ee.style.cssText="top:1px",v.getSetAttribute="t"!==Jt.className,v.style=/top/.test(ee.getAttribute("style")),v.hrefNormalized="/a"===ee.getAttribute("href"),v.checkOn=!!Qt.value,v.optSelected=ne.selected,v.enctype=!!C.createElement("form").enctype,te.disabled=!0,v.optDisabled=!ne.disabled,(Qt=C.createElement("input")).setAttribute("value",""),v.input=""===Qt.getAttribute("value"),Qt.value="t",Qt.setAttribute("type","radio"),v.radioValue="t"===Qt.value;var he=/\r/g;T.fn.extend({val:function(n){var i,t,o,e=this[0];return arguments.length?(o=T.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?n.call(this,t,T(this).val()):n)?e="":"number"==typeof e?e+="":T.isArray(e)&&(e=T.map(e,function(t){return null==t?"":t+""})),(i=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):e?(i=T.valHooks[e.type]||T.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(he,""):null==t?"":t:void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:T.trim(T.text(t))}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,a=r?null:[],s=r?o+1:i.length,l=o<0?s:r?o:0;l<s;l++)if(!(!(n=i[l]).selected&&l!==o||(v.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&T.nodeName(n.parentNode,"optgroup"))){if(e=T(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,r=T.makeArray(e),a=o.length;a--;)if(i=o[a],0<=T.inArray(T.valHooks.option.get(i),r))try{i.selected=n=!0}catch(t){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(t,e){return T.isArray(e)?t.checked=0<=T.inArray(T(t).val(),e):void 0}},v.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var fe,pe,ge=T.expr.attrHandle,me=/^(?:checked|selected)$/i,ve=v.getSetAttribute,ye=v.input;T.fn.extend({attr:function(t,e){return W(this,T.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){T.removeAttr(this,t)})}}),T.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===K?T.prop(t,e,n):(1===r&&T.isXMLDoc(t)||(e=e.toLowerCase(),i=T.attrHooks[e]||(T.expr.match.bool.test(e)?pe:fe)),void 0===n?i&&"get"in i&&null!==(o=i.get(t,e))?o:null==(o=T.find.attr(t,e))?void 0:o:null!==n?i&&"set"in i&&void 0!==(o=i.set(t,n,e))?o:(t.setAttribute(e,n+""),n):void T.removeAttr(t,e))},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(S);if(r&&1===t.nodeType)for(;n=r[o++];)i=T.propFix[n]||n,T.expr.match.bool.test(n)?ye&&ve||!me.test(n)?t[i]=!1:t[T.camelCase("default-"+n)]=t[i]=!1:T.attr(t,n,""),t.removeAttribute(ve?n:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&T.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),pe={set:function(t,e,n){return!1===e?T.removeAttr(t,n):ye&&ve||!me.test(n)?t.setAttribute(!ve&&T.propFix[n]||n,n):t[T.camelCase("default-"+n)]=t[n]=!0,n}},T.each(T.expr.match.bool.source.match(/\w+/g),function(t,e){var r=ge[e]||T.find.attr;ge[e]=ye&&ve||!me.test(e)?function(t,e,n){var i,o;return n||(o=ge[e],ge[e]=i,i=null!=r(t,e,n)?e.toLowerCase():null,ge[e]=o),i}:function(t,e,n){return n?void 0:t[T.camelCase("default-"+e)]?e.toLowerCase():null}}),ye&&ve||(T.attrHooks.value={set:function(t,e,n){return T.nodeName(t,"input")?void(t.defaultValue=e):fe&&fe.set(t,e,n)}}),ve||(fe={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},ge.id=ge.name=ge.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},T.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:fe.set},T.attrHooks.contenteditable={set:function(t,e,n){fe.set(t,""!==e&&e,n)}},T.each(["width","height"],function(t,n){T.attrHooks[n]={set:function(t,e){return""===e?(t.setAttribute(n,"auto"),e):void 0}}})),v.style||(T.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var be=/^(?:input|select|textarea|button|object)$/i,_e=/^(?:a|area)$/i;T.fn.extend({prop:function(t,e){return W(this,T.prop,t,e,1<arguments.length)},removeProp:function(t){return t=T.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),T.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var i,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return(1!==r||!T.isXMLDoc(t))&&(e=T.propFix[e]||e,o=T.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):be.test(t.nodeName)||_e.test(t.nodeName)&&t.href?0:-1}}}}),v.hrefNormalized||T.each(["href","src"],function(t,e){T.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),v.optSelected||(T.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),v.enctype||(T.propFix.enctype="encoding");var Ee=/[\t\r\n\f]/g;T.fn.extend({addClass:function(e){var t,n,i,o,r,a,s=0,l=this.length,c="string"==typeof e&&e;if(T.isFunction(e))return this.each(function(t){T(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(S)||[];s<l;s++)if(i=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(Ee," "):" ")){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=T.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,o,r,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(T.isFunction(e))return this.each(function(t){T(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(S)||[];s<l;s++)if(i=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(Ee," "):"")){for(r=0;o=t[r++];)for(;0<=i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");a=e?T.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(o,e){var r=typeof o;return"boolean"==typeof e&&"string"==r?e?this.addClass(o):this.removeClass(o):this.each(T.isFunction(o)?function(t){T(this).toggleClass(o.call(this,t,this.className,e),e)}:function(){if("string"==r)for(var t,e=0,n=T(this),i=o.match(S)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else r!==K&&"boolean"!=r||(this.className&&T._data(this,"__className__",this.className),this.className=this.className||!1===o?"":T._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(Ee," ").indexOf(e))return!0;return!1}}),T.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){T.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),T.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var we=T.now(),Te=/\?/,Ce=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;T.parseJSON=function(t){if(p.JSON&&p.JSON.parse)return p.JSON.parse(t+"");var o,r=null,e=T.trim(t+"");return e&&!T.trim(e.replace(Ce,function(t,e,n,i){return o&&e&&(r=0),0===r?t:(o=n||e,r+=!i-!n,"")}))?Function("return "+e)():T.error("Invalid JSON: "+t)},T.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{p.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(t){e=void 0}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+t),e};var xe,De,Oe=/#.*$/,Ie=/([?&])_=[^&]*/,ke=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Se=/^(?:GET|HEAD)$/,Re=/^\/\//,Ae=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Me={},Ne={},Ke="*/".concat("*");try{De=location.href}catch(t){(De=C.createElement("a")).href="",De=De.href}function Pe(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,o=t.toLowerCase().match(S)||[];if(T.isFunction(e))for(;n=o[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(e)):(r[n]=r[n]||[]).push(e)}}function Le(e,o,r,a){var s={},l=e===Ne;function c(t){var i;return s[t]=!0,T.each(e[t]||[],function(t,e){var n=e(o,r,a);return"string"!=typeof n||l||s[n]?l?!(i=n):void 0:(o.dataTypes.unshift(n),c(n),!1)}),i}return c(o.dataTypes[0])||!s["*"]&&c("*")}function Fe(t,e){var n,i,o=T.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n=n||{})[i]=e[i]);return n&&T.extend(!0,t,n),t}xe=Ae.exec(De.toLowerCase())||[],T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:De,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xe[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":T.parseJSON,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Fe(Fe(t,T.ajaxSettings),e):Fe(T.ajaxSettings,t)},ajaxPrefilter:Pe(Me),ajaxTransport:Pe(Ne),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i,u,d,h,f,p,o,g=T.ajaxSetup({},e),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?T(m):T.event,y=T.Deferred(),b=T.Callbacks("once memory"),_=g.statusCode||{},r={},a={},E=0,s="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===E){if(!o)for(o={};e=ke.exec(d);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===E?d:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return E||(t=a[n]=a[n]||t,r[t]=e),this},overrideMimeType:function(t){return E||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(E<2)for(e in t)_[e]=[_[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||s;return p&&p.abort(e),l(0,e),this}};if(y.promise(w).complete=b.add,w.success=w.done,w.error=w.fail,g.url=((t||g.url||De)+"").replace(Oe,"").replace(Re,xe[1]+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=T.trim(g.dataType||"*").toLowerCase().match(S)||[""],null==g.crossDomain&&(n=Ae.exec(g.url.toLowerCase()),g.crossDomain=!(!n||n[1]===xe[1]&&n[2]===xe[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(xe[3]||("http:"===xe[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=T.param(g.data,g.traditional)),Le(Me,g,e,w),2===E)return w;for(i in(f=T.event&&g.global)&&0==T.active++&&T.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Se.test(g.type),u=g.url,g.hasContent||(g.data&&(u=g.url+=(Te.test(u)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=Ie.test(u)?u.replace(Ie,"$1_="+we++):u+(Te.test(u)?"&":"?")+"_="+we++)),g.ifModified&&(T.lastModified[u]&&w.setRequestHeader("If-Modified-Since",T.lastModified[u]),T.etag[u]&&w.setRequestHeader("If-None-Match",T.etag[u])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&w.setRequestHeader("Content-Type",g.contentType),w.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Ke+"; q=0.01":""):g.accepts["*"]),g.headers)w.setRequestHeader(i,g.headers[i]);if(g.beforeSend&&(!1===g.beforeSend.call(m,w,g)||2===E))return w.abort();for(i in s="abort",{success:1,error:1,complete:1})w[i](g[i]);if(p=Le(Ne,g,e,w)){w.readyState=1,f&&v.trigger("ajaxSend",[w,g]),g.async&&0<g.timeout&&(h=setTimeout(function(){w.abort("timeout")},g.timeout));try{E=1,p.send(r,l)}catch(t){if(!(E<2))throw t;l(-1,t)}}else l(-1,"No Transport");function l(t,e,n,i){var o,r,a,s,l,c=e;2!==E&&(E=2,h&&clearTimeout(h),p=void 0,d=i||"",w.readyState=0<t?4:0,o=200<=t&&t<300||304===t,n&&(s=function(t,e,n){for(var i,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||t.converters[a+" "+l[0]]){r=a;break}i=i||a}r=r||i}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}(g,w,n)),s=function(t,e,n,i){var o,r,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(g,s,w,o),o?(g.ifModified&&((l=w.getResponseHeader("Last-Modified"))&&(T.lastModified[u]=l),(l=w.getResponseHeader("etag"))&&(T.etag[u]=l)),204===t||"HEAD"===g.type?c="nocontent":304===t?c="notmodified":(c=s.state,r=s.data,o=!(a=s.error))):(a=c,!t&&c||(c="error",t<0&&(t=0))),w.status=t,w.statusText=(e||c)+"",o?y.resolveWith(m,[r,c,w]):y.rejectWith(m,[w,c,a]),w.statusCode(_),_=void 0,f&&v.trigger(o?"ajaxSuccess":"ajaxError",[w,g,o?r:a]),b.fireWith(m,[w,c]),f&&(v.trigger("ajaxComplete",[w,g]),--T.active||T.event.trigger("ajaxStop")))}return w},getJSON:function(t,e,n){return T.get(t,e,n,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],function(t,o){T[o]=function(t,e,n,i){return T.isFunction(e)&&(i=i||n,n=e,e=void 0),T.ajax({url:t,type:o,dataType:i,data:e,success:n})}}),T._evalUrl=function(t){return T.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},T.fn.extend({wrapAll:function(e){if(T.isFunction(e))return this.each(function(t){T(this).wrapAll(e.call(this,t))});if(this[0]){var t=T(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return this.each(T.isFunction(n)?function(t){T(this).wrapInner(n.call(this,t))}:function(){var t=T(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=T.isFunction(e);return this.each(function(t){T(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){T.nodeName(this,"body")||T(this).replaceWith(this.childNodes)}).end()}}),T.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!v.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||T.css(t,"display"))},T.expr.filters.visible=function(t){return!T.expr.filters.hidden(t)};var Be=/%20/g,$e=/\[\]$/,He=/\r?\n/g,ze=/^(?:submit|button|image|reset|file)$/i,je=/^(?:input|select|textarea|keygen)/i;function Ve(n,t,i,o){var e;if(T.isArray(t))T.each(t,function(t,e){i||$e.test(n)?o(n,e):Ve(n+"["+("object"==typeof e?t:"")+"]",e,i,o)});else if(i||"object"!==T.type(t))o(n,t);else for(e in t)Ve(n+"["+e+"]",t[e],i,o)}T.param=function(t,e){function n(t,e){e=T.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)}var i,o=[];if(void 0===e&&(e=T.ajaxSettings&&T.ajaxSettings.traditional),T.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,function(){n(this.name,this.value)});else for(i in t)Ve(i,t[i],e,n);return o.join("&").replace(Be,"+")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&je.test(this.nodeName)&&!ze.test(t)&&(this.checked||!q.test(t))}).map(function(t,e){var n=T(this).val();return null==n?null:T.isArray(n)?T.map(n,function(t){return{name:e.name,value:t.replace(He,"\r\n")}}):{name:e.name,value:n.replace(He,"\r\n")}}).get()}}),T.ajaxSettings.xhr=void 0!==p.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Ue()||function(){try{return new p.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}()}:Ue;var We=0,qe={},Ge=T.ajaxSettings.xhr();function Ue(){try{return new p.XMLHttpRequest}catch(t){}}p.attachEvent&&p.attachEvent("onunload",function(){for(var t in qe)qe[t](void 0,!0)}),v.cors=!!Ge&&"withCredentials"in Ge,(Ge=v.ajax=!!Ge)&&T.ajaxTransport(function(l){var c;if(!l.crossDomain||v.cors)return{send:function(t,r){var e,a=l.xhr(),s=++We;if(a.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(e in l.xhrFields)a[e]=l.xhrFields[e];for(e in l.mimeType&&a.overrideMimeType&&a.overrideMimeType(l.mimeType),l.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)void 0!==t[e]&&a.setRequestHeader(e,t[e]+"");a.send(l.hasContent&&l.data||null),c=function(t,e){var n,i,o;if(c&&(e||4===a.readyState))if(delete qe[s],c=void 0,a.onreadystatechange=T.noop,e)4!==a.readyState&&a.abort();else{o={},n=a.status,"string"==typeof a.responseText&&(o.text=a.responseText);try{i=a.statusText}catch(t){i=""}n||!l.isLocal||l.crossDomain?1223===n&&(n=204):n=o.text?200:404}o&&r(n,i,o,a.getAllResponseHeaders())},l.async?4===a.readyState?setTimeout(c):a.onreadystatechange=qe[s]=c:c()},abort:function(){c&&c(void 0,!0)}}}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),T.ajaxTransport("script",function(e){if(e.crossDomain){var i,o=C.head||T("head")[0]||C.documentElement;return{send:function(t,n){(i=C.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(t,e){!e&&i.readyState&&!/loaded|complete/.test(i.readyState)||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||n(200,"success"))},o.insertBefore(i,o.firstChild)},abort:function(){i&&i.onload(void 0,!0)}}}});var Ye=[],Xe=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||T.expando+"_"+we++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,r,a=!1!==t.jsonp&&(Xe.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=T.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Xe,"$1"+i):!1!==t.jsonp&&(t.url+=(Te.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return r||T.error(i+" was not called"),r[0]},t.dataTypes[0]="json",o=p[i],p[i]=function(){r=arguments},n.always(function(){p[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(i)),r&&T.isFunction(o)&&o(r[0]),r=o=void 0}),"script"):void 0}),T.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||C;var i=b.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=T.buildFragment([t],e,o),o&&o.length&&T(o).remove(),T.merge([],i.childNodes))};var Ze=T.fn.load;T.fn.load=function(t,e,n){if("string"!=typeof t&&Ze)return Ze.apply(this,arguments);var i,o,r,a=this,s=t.indexOf(" ");return 0<=s&&(i=T.trim(t.slice(s,t.length)),t=t.slice(0,s)),T.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<a.length&&T.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?T("<div>").append(T.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){T.fn[e]=function(t){return this.on(e,t)}}),T.expr.filters.animated=function(e){return T.grep(T.timers,function(t){return e===t.elem}).length};var Qe=p.document.documentElement;function Je(t){return T.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}T.offset={setOffset:function(t,e,n){var i,o,r,a,s,l,c=T.css(t,"position"),u=T(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),r=T.css(t,"top"),l=T.css(t,"left"),o=("absolute"===c||"fixed"===c)&&-1<T.inArray("auto",[r,l])?(a=(i=u.position()).top,i.left):(a=parseFloat(r)||0,parseFloat(l)||0),T.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):u.css(d)}},T.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){T.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(t=r.documentElement,T.contains(t,o)?(typeof o.getBoundingClientRect!==K&&(i=o.getBoundingClientRect()),n=Je(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===T.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),T.nodeName(t[0],"html")||(n=t.offset()),n.top+=T.css(t[0],"borderTopWidth",!0),n.left+=T.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-T.css(i,"marginTop",!0),left:e.left-n.left-T.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Qe;t&&!T.nodeName(t,"html")&&"static"===T.css(t,"position");)t=t.offsetParent;return t||Qe})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var r=/Y/.test(o);T.fn[e]=function(t){return W(this,function(t,e,n){var i=Je(t);return void 0===n?i?o in i?i[o]:i.document.documentElement[e]:t[e]:void(i?i.scrollTo(r?T(i).scrollLeft():n,r?n:T(i).scrollTop()):t[e]=n)},e,t,arguments.length,null)}}),T.each(["top","left"],function(t,n){T.cssHooks[n]=Kt(v.pixelPosition,function(t,e){return e?(e=Rt(t,n),Mt.test(e)?T(t).position()[n]+"px":e):void 0})}),T.each({Height:"height",Width:"width"},function(r,a){T.each({padding:"inner"+r,content:a,"":"outer"+r},function(i,t){T.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),o=i||(!0===t||!0===e?"margin":"border");return W(this,function(t,e,n){var i;return T.isWindow(t)?t.document.documentElement["client"+r]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+r],i["scroll"+r],t.body["offset"+r],i["offset"+r],i["client"+r])):void 0===n?T.css(t,e,o):T.style(t,e,n,o)},a,n?t:void 0,n,null)}})}),T.fn.size=function(){return this.length},T.fn.andSelf=T.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return T});var tn=p.jQuery,en=p.$;return T.noConflict=function(t){return p.$===T&&(p.$=en),t&&p.jQuery===T&&(p.jQuery=tn),T},typeof t===K&&(p.jQuery=p.$=T),T}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(I){var t,e,n,i;function o(t,e){var n,i,o,r=t.nodeName.toLowerCase();return"area"===r?(i=(n=t.parentNode).name,!(!t.href||!i||"map"!==n.nodeName.toLowerCase())&&(!!(o=I("img[usemap='#"+i+"']")[0])&&a(o))):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r&&t.href||e)&&a(t)}function a(t){return I.expr.filters.visible(t)&&!I(t).parents().addBack().filter(function(){return"hidden"===I.css(this,"visibility")}).length}I.ui=I.ui||{},I.extend(I.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),I.fn.extend({scrollParent:function(t){var e=this.css("position"),n="absolute"===e,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=I(this);return(!n||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&o.length?o:I(this[0].ownerDocument||document)},uniqueId:(t=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&I(this).removeAttr("id")})}}),I.extend(I.expr[":"],{data:I.expr.createPseudo?I.expr.createPseudo(function(e){return function(t){return!!I.data(t,e)}}):function(t,e,n){return!!I.data(t,n[3])},focusable:function(t){return o(t,!isNaN(I.attr(t,"tabindex")))},tabbable:function(t){var e=I.attr(t,"tabindex"),n=isNaN(e);return(n||0<=e)&&o(t,!n)}}),I("<a>").outerWidth(1).jquery||I.each(["Width","Height"],function(t,n){var o="Width"===n?["Left","Right"]:["Top","Bottom"],i=n.toLowerCase(),r={innerWidth:I.fn.innerWidth,innerHeight:I.fn.innerHeight,outerWidth:I.fn.outerWidth,outerHeight:I.fn.outerHeight};function a(t,e,n,i){return I.each(o,function(){e-=parseFloat(I.css(t,"padding"+this))||0,n&&(e-=parseFloat(I.css(t,"border"+this+"Width"))||0),i&&(e-=parseFloat(I.css(t,"margin"+this))||0)}),e}I.fn["inner"+n]=function(t){return void 0===t?r["inner"+n].call(this):this.each(function(){I(this).css(i,a(this,t)+"px")})},I.fn["outer"+n]=function(t,e){return"number"!=typeof t?r["outer"+n].call(this,t):this.each(function(){I(this).css(i,a(this,t,!0,e)+"px")})}}),I.fn.addBack||(I.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),I("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(I.fn.removeData=(e=I.fn.removeData,function(t){return arguments.length?e.call(this,I.camelCase(t)):e.call(this)})),I.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),I.fn.extend({focus:(i=I.fn.focus,function(e,n){return"number"==typeof e?this.each(function(){var t=this;setTimeout(function(){I(t).focus(),n&&n.call(t)},e)}):i.apply(this,arguments)}),disableSelection:(n="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(n+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var e,n,i=I(this[0]);i.length&&i[0]!==document;){if(("absolute"===(e=i.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(i.css("zIndex"),10),!isNaN(n)&&0!==n))return n;i=i.parent()}return 0}}),I.ui.plugin={add:function(t,e,n){var i,o=I.ui[t].prototype;for(i in n)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([e,n[i]])},call:function(t,e,n,i){var o,r=t.plugins[e];if(r&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)t.options[r[o][0]]&&r[o][1].apply(t.element,n)}};var r,s=0,l=Array.prototype.slice;I.cleanData=(r=I.cleanData,function(t){var e,n,i;for(i=0;null!=(n=t[i]);i++)try{(e=I._data(n,"events"))&&e.remove&&I(n).triggerHandler("remove")}catch(t){}r(t)}),I.widget=function(t,n,e){var i,o,r,a,s={},l=t.split(".")[0];return t=t.split(".")[1],i=l+"-"+t,e||(e=n,n=I.Widget),I.expr[":"][i.toLowerCase()]=function(t){return!!I.data(t,i)},I[l]=I[l]||{},o=I[l][t],r=I[l][t]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},I.extend(r,o,{version:e.version,_proto:I.extend({},e),_childConstructors:[]}),(a=new n).options=I.widget.extend({},a.options),I.each(e,function(e,i){function o(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}I.isFunction(i)?s[e]=function(){var t,e=this._super,n=this._superApply;return this._super=o,this._superApply=r,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}:s[e]=i}),r.prototype=I.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||t},s,{constructor:r,namespace:l,widgetName:t,widgetFullName:i}),o?(I.each(o._childConstructors,function(t,e){var n=e.prototype;I.widget(n.namespace+"."+n.widgetName,r,e._proto)}),delete o._childConstructors):n._childConstructors.push(r),I.widget.bridge(t,r),r},I.widget.extend=function(t){for(var e,n,i=l.call(arguments,1),o=0,r=i.length;o<r;o++)for(e in i[o])n=i[o][e],i[o].hasOwnProperty(e)&&void 0!==n&&(I.isPlainObject(n)?t[e]=I.isPlainObject(t[e])?I.widget.extend({},t[e],n):I.widget.extend({},n):t[e]=n);return t},I.widget.bridge=function(r,e){var a=e.prototype.widgetFullName||r;I.fn[r]=function(n){var t="string"==typeof n,i=l.call(arguments,1),o=this;return t?this.each(function(){var t,e=I.data(this,a);return"instance"===n?(o=e,!1):e?I.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&void 0!==t?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0:I.error("no such method '"+n+"' for "+r+" widget instance"):I.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+n+"'")}):(i.length&&(n=I.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=I.data(this,a);t?(t.option(n||{}),t._init&&t._init()):I.data(this,a,new e(n,this))})),o}},I.Widget=function(){},I.Widget._childConstructors=[],I.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=I(e||this.defaultElement||this)[0],this.element=I(e),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=I(),this.hoverable=I(),this.focusable=I(),e!==this&&(I.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=I(e.style?e.ownerDocument:e.document||e),this.window=I(this.document[0].defaultView||this.document[0].parentWindow)),this.options=I.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:I.noop,_getCreateEventData:I.noop,_create:I.noop,_init:I.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(I.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:I.noop,widget:function(){return this.element},option:function(t,e){var n,i,o,r=t;if(0===arguments.length)return I.widget.extend({},this.options);if("string"==typeof t)if(r={},t=(n=t.split(".")).shift(),n.length){for(i=r[t]=I.widget.extend({},this.options[t]),o=0;o<n.length-1;o++)i[n[o]]=i[n[o]]||{},i=i[n[o]];if(t=n.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=e}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(a,s,t){var l,c=this;"boolean"!=typeof a&&(t=s,s=a,a=!1),t?(s=l=I(s),this.bindings=this.bindings.add(s)):(t=s,s=this.element,l=this.widget()),I.each(t,function(t,e){function n(){if(a||!0!==c.options.disabled&&!I(this).hasClass("ui-state-disabled"))return("string"==typeof e?c[e]:e).apply(c,arguments)}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||I.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),o=i[1]+c.eventNamespace,r=i[2];r?l.delegate(r,o,n):s.bind(o,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e),this.bindings=I(this.bindings.not(t).get()),this.focusable=I(this.focusable.not(t).get()),this.hoverable=I(this.hoverable.not(t).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){I(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){I(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){I(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){I(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,n){var i,o,r=this.options[t];if(n=n||{},(e=I.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],o=e.originalEvent)for(i in o)i in e||(e[i]=o[i]);return this.element.trigger(e,n),!(I.isFunction(r)&&!1===r.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},I.each({show:"fadeIn",hide:"fadeOut"},function(r,a){I.Widget.prototype["_"+r]=function(e,t,n){"string"==typeof t&&(t={effect:t});var i,o=t?!0===t||"number"==typeof t?a:t.effect||a:r;"number"==typeof(t=t||{})&&(t={duration:t}),i=!I.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&I.effects&&I.effects.effect[o]?e[r](t):o!==r&&e[o]?e[o](t.duration,t.easing,n):e.queue(function(t){I(this)[r](),n&&n.call(e[0]),t()})}});I.widget;var c=!1;I(document).mouseup(function(){c=!1});I.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(t){if(!0===I.data(t.target,e.widgetName+".preventClickEvent"))return I.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,n=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&I(t.target).closest(this.options.cancel).length;return!(n&&!i&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===I.data(t.target,this.widgetName+".preventClickEvent")&&I.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),c=!0))}},_mouseMove:function(t){if(this._mouseMoved){if(I.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&I.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),c=!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){I.ui=I.ui||{};var o,w,T=Math.max,C=Math.abs,x=Math.round,i=/left|center|right/,r=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,e=I.fn.position;function D(t,e,n){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?n/100:1)]}function O(t,e){return parseInt(I.css(t,e),10)||0}I.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,e,n=I("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];return I("body").append(n),t=i.offsetWidth,n.css("overflow","scroll"),t===(e=i.offsetWidth)&&(e=n[0].clientWidth),n.remove(),o=t-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?I.position.scrollbarWidth():0,height:i?I.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=I(t||window),n=I.isWindow(e[0]),i=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:n,isDocument:i,offset:e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:n||i?e.width():e.outerWidth(),height:n||i?e.height():e.outerHeight()}}},I.fn.position=function(d){if(!d||!d.of)return e.apply(this,arguments);d=I.extend({},d);var h,f,p,g,m,t,v=I(d.of),y=I.position.getWithinInfo(d.within),b=I.position.getScrollInfo(y),_=(d.collision||"flip").split(" "),E={};return t=function(t){var e=t[0];return 9===e.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:I.isWindow(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(v),v[0].preventDefault&&(d.at="left top"),f=t.width,p=t.height,g=t.offset,m=I.extend({},g),I.each(["my","at"],function(){var t,e,n=(d[this]||"").split(" ");1===n.length&&(n=i.test(n[0])?n.concat(["center"]):r.test(n[0])?["center"].concat(n):["center","center"]),n[0]=i.test(n[0])?n[0]:"center",n[1]=r.test(n[1])?n[1]:"center",t=a.exec(n[0]),e=a.exec(n[1]),E[this]=[t?t[0]:0,e?e[0]:0],d[this]=[s.exec(n[0])[0],s.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===d.at[0]?m.left+=f:"center"===d.at[0]&&(m.left+=f/2),"bottom"===d.at[1]?m.top+=p:"center"===d.at[1]&&(m.top+=p/2),h=D(E.at,f,p),m.left+=h[0],m.top+=h[1],this.each(function(){var n,t,a=I(this),s=a.outerWidth(),l=a.outerHeight(),e=O(this,"marginLeft"),i=O(this,"marginTop"),o=s+e+O(this,"marginRight")+b.width,r=l+i+O(this,"marginBottom")+b.height,c=I.extend({},m),u=D(E.my,a.outerWidth(),a.outerHeight());"right"===d.my[0]?c.left-=s:"center"===d.my[0]&&(c.left-=s/2),"bottom"===d.my[1]?c.top-=l:"center"===d.my[1]&&(c.top-=l/2),c.left+=u[0],c.top+=u[1],w||(c.left=x(c.left),c.top=x(c.top)),n={marginLeft:e,marginTop:i},I.each(["left","top"],function(t,e){I.ui.position[_[t]]&&I.ui.position[_[t]][e](c,{targetWidth:f,targetHeight:p,elemWidth:s,elemHeight:l,collisionPosition:n,collisionWidth:o,collisionHeight:r,offset:[h[0]+u[0],h[1]+u[1]],my:d.my,at:d.at,within:y,elem:a})}),d.using&&(t=function(t){var e=g.left-c.left,n=e+f-s,i=g.top-c.top,o=i+p-l,r={target:{element:v,left:g.left,top:g.top,width:f,height:p},element:{element:a,left:c.left,top:c.top,width:s,height:l},horizontal:n<0?"left":0<e?"right":"center",vertical:o<0?"top":0<i?"bottom":"middle"};f<s&&C(e+n)<f&&(r.horizontal="center"),p<l&&C(i+o)<p&&(r.vertical="middle"),T(C(e),C(n))>T(C(i),C(o))?r.important="horizontal":r.important="vertical",d.using.call(this,t,r)}),a.offset(I.extend(c,{using:t}))})},I.ui.position={fit:{left:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,a=t.left-e.collisionPosition.marginLeft,s=o-a,l=a+e.collisionWidth-r-o;e.collisionWidth>r?0<s&&l<=0?(n=t.left+s+e.collisionWidth-r-o,t.left+=s-n):t.left=0<l&&s<=0?o:l<s?o+r-e.collisionWidth:o:0<s?t.left+=s:0<l?t.left-=l:t.left=T(t.left-a,t.left)},top:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollTop:i.offset.top,r=e.within.height,a=t.top-e.collisionPosition.marginTop,s=o-a,l=a+e.collisionHeight-r-o;e.collisionHeight>r?0<s&&l<=0?(n=t.top+s+e.collisionHeight-r-o,t.top+=s-n):t.top=0<l&&s<=0?o:l<s?o+r-e.collisionHeight:o:0<s?t.top+=s:0<l?t.top-=l:t.top=T(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,o=e.within,r=o.offset.left+o.scrollLeft,a=o.width,s=o.isWindow?o.scrollLeft:o.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-s,u=l+e.collisionWidth-a-s,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,h="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?((n=t.left+d+h+f+e.collisionWidth-a-r)<0||n<C(c))&&(t.left+=d+h+f):0<u&&(0<(i=t.left-e.collisionPosition.marginLeft+d+h+f-s)||C(i)<u)&&(t.left+=d+h+f)},top:function(t,e){var n,i,o=e.within,r=o.offset.top+o.scrollTop,a=o.height,s=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-s,u=l+e.collisionHeight-a-s,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,h="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];c<0?((i=t.top+d+h+f+e.collisionHeight-a-r)<0||i<C(c))&&(t.top+=d+h+f):0<u&&(0<(n=t.top-e.collisionPosition.marginTop+d+h+f-s)||C(n)<u)&&(t.top+=d+h+f)}},flipfit:{left:function(){I.ui.position.flip.left.apply(this,arguments),I.ui.position.fit.left.apply(this,arguments)},top:function(){I.ui.position.flip.top.apply(this,arguments),I.ui.position.fit.top.apply(this,arguments)}}},function(){var t,e,n,i,o,r=document.getElementsByTagName("body")[0],a=document.createElement("div");for(o in t=document.createElement(r?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&I.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)t.style[o]=n[o];t.appendChild(a),(e=r||document.documentElement).insertBefore(t,e.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",i=I(a).offset().left,w=10<i&&i<11,t.innerHTML="",e.removeChild(t)}()}();I.ui.position,I.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=I(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():I()}},_createIcons:function(){var t=this.options.icons;t&&(I("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))):this._activate(e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var e=I.ui.keyCode,n=this.headers.length,i=this.headers.index(t.target),o=!1;switch(t.keyCode){case e.RIGHT:case e.DOWN:o=this.headers[(i+1)%n];break;case e.LEFT:case e.UP:o=this.headers[(i-1+n)%n];break;case e.SPACE:case e.ENTER:this._eventHandler(t);break;case e.HOME:o=this.headers[0];break;case e.END:o=this.headers[n-1]}o&&(I(t.target).attr("tabIndex",-1),I(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===I.ui.keyCode.UP&&t.ctrlKey&&I(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=I()):!1===t.active?this._activate(0):this.active.length&&!I.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=I()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var n,t=this.options,e=t.heightStyle,i=this.element.parent();this.active=this._findActive(t.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=I(this),e=t.uniqueId().attr("id"),n=t.next(),i=n.uniqueId().attr("id");t.attr("aria-controls",i),n.attr("aria-labelledby",e)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(t.event),"fill"===e?(n=i.height(),this.element.siblings(":visible").each(function(){var t=I(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),this.headers.each(function(){n-=I(this).outerHeight(!0)}),this.headers.next().each(function(){I(this).height(Math.max(0,n-I(this).innerHeight()+I(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.headers.next().each(function(){n=Math.max(n,I(this).css("height","").height())}).height(n))},_activate:function(t){var e=this._findActive(t)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:I.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):I()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&I.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var e=this.options,n=this.active,i=I(t.currentTarget),o=i[0]===n[0],r=o&&e.collapsible,a=r?I():i.next(),s=n.next(),l={oldHeader:n,oldPanel:s,newHeader:r?I():i,newPanel:a};t.preventDefault(),o&&!e.collapsible||!1===this._trigger("beforeActivate",t,l)||(e.active=!r&&this.headers.index(i),this.active=o?I():i,this._toggle(l),n.removeClass("ui-accordion-header-active ui-state-active"),e.icons&&n.children(".ui-accordion-header-icon").removeClass(e.icons.activeHeader).addClass(e.icons.header),o||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),e.icons&&i.children(".ui-accordion-header-icon").removeClass(e.icons.header).addClass(e.icons.activeHeader),i.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var e=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=n,this.options.animate?this._animate(e,n,t):(n.hide(),e.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),e.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):e.length&&this.headers.filter(function(){return 0===parseInt(I(this).attr("tabIndex"),10)}).attr("tabIndex",-1),e.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,n,e){function i(){s._toggleComplete(e)}var o,r,a,s=this,l=0,c=t.css("box-sizing"),u=t.length&&(!n.length||t.index()<n.index()),d=this.options.animate||{},h=u&&d.down||d;return"number"==typeof h&&(a=h),"string"==typeof h&&(r=h),r=r||h.easing||d.easing,a=a||h.duration||d.duration,n.length?t.length?(o=t.show().outerHeight(),n.animate(this.hideProps,{duration:a,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:a,easing:r,complete:i,step:function(t,e){e.now=Math.round(t),"height"!==e.prop?"content-box"===c&&(l+=e.now):"content"!==s.options.heightStyle&&(e.now=Math.round(o-n.outerHeight()-l),l=0)}})):n.animate(this.hideProps,a,r,i):t.animate(this.showProps,a,r,i)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),I.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(t){var e=I(t.target);!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&I(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var e=I(t.currentTarget);e.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,e)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(t){this._delay(function(){I.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=I(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var e,n,i,o,r=!0;switch(t.keyCode){case I.ui.keyCode.PAGE_UP:this.previousPage(t);break;case I.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case I.ui.keyCode.HOME:this._move("first","first",t);break;case I.ui.keyCode.END:this._move("last","last",t);break;case I.ui.keyCode.UP:this.previous(t);break;case I.ui.keyCode.DOWN:this.next(t);break;case I.ui.keyCode.LEFT:this.collapse(t);break;case I.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case I.ui.keyCode.ENTER:case I.ui.keyCode.SPACE:this._activate(t);break;case I.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,n=this.previousFilter||"",i=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),i===n?o=!0:i=n+i,e=this._filterMenuItems(i),(e=o&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e).length||(i=String.fromCharCode(t.keyCode),e=this._filterMenuItems(i)),e.length?(this.focus(t,e),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}r&&t.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var t,e=this,i=this.options.icons.submenu,n=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=I(this),e=t.parent(),n=I("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);e.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",e.attr("id"))}),(t=n.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=I(this);e._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!I.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,n,i,o,r,a;this._hasScroll()&&(e=parseFloat(I.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(I.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-n,o=this.activeMenu.scrollTop(),r=this.activeMenu.height(),a=t.outerHeight(),i<0?this.activeMenu.scrollTop(o+i):r<i+a&&this.activeMenu.scrollTop(o+i-r+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=I.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var t=n?this.element:I(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this.activeMenu=t},this.delay)},_close:function(t){(t=t||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!I(t.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(t){var e,n,i;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(e=I(this)).offset().top-n-i<0}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var e,n,i;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=I(this)).offset().top-n+i}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||I(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)},_filterMenuItems:function(t){var e=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(I.trim(I(this).text()))})}});I.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var n,i,o,t=this.element[0].nodeName.toLowerCase(),e="textarea"===t,r="input"===t;this.isMultiLine=e||!r&&this.element.prop("isContentEditable"),this.valueMethod=this.element[e||r?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))i=o=n=!0;else{i=o=n=!1;var e=I.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:n=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:n=!0,this._move("nextPage",t);break;case e.UP:n=!0,this._keyEvent("previous",t);break;case e.DOWN:n=!0,this._keyEvent("next",t);break;case e.ENTER:this.menu.active&&(n=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(t),t.preventDefault());break;default:i=!0,this._searchTimeout(t)}}},keypress:function(t){if(n)return n=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||t.preventDefault());if(!i){var e=I.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){if(o)return o=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=I("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];I(t.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(t){t.target===e.element[0]||t.target===n||I.contains(n,t.target)||e.close()})})},menufocus:function(t,e){var n,i;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){I(t.target).trigger(t.originalEvent)});i=e.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),(n=e.item.attr("aria-label")||i.value)&&I.trim(n).length&&(this.liveRegion.children().hide(),I("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=I("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return(t=t&&(t.jquery||t.nodeType?I(t):this.document.find(t).eq(0)))&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var n,i,o=this;I.isArray(this.options.source)?(n=this.options.source,this.source=function(t,e){e(I.ui.autocomplete.filter(n,t.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,e){o.xhr&&o.xhr.abort(),o.xhr=I.ajax({url:i,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(i){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),e=this.menu.element.is(":visible"),n=i.altKey||i.ctrlKey||i.metaKey||i.shiftKey;t&&(!t||e||n)||(this.selectedItem=null,this.search(null,i))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return I.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t=t&&this._normalize(t),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:I.map(t,function(t){return"string"==typeof t?{label:t,value:t}:I.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var e=this.menu.element.empty();this._renderMenu(e,t),this.isNewMenu=!0,this.menu.refresh(),e.show(),this._resizeMenu(),e.position(I.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,t){var i=this;I.each(t,function(t,e){i._renderItemData(n,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return I("<li>").text(e.label).appendTo(t)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),I.extend(I.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var n=new RegExp(I.ui.autocomplete.escapeRegex(e),"i");return I.grep(t,function(t){return n.test(t.label||t.value||t)})}}),I.widget("ui.autocomplete",I.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),I("<div>").text(e).appendTo(this.liveRegion))}});I.ui.autocomplete;function u(){var t=I(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)}function d(t){var e=t.name,n=t.form,i=I([]);return e&&(e=e.replace(/'/g,"\\'"),i=n?I(n).find("[name='"+e+"'][type=radio]"):I("[name='"+e+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),i}var h,f="ui-button ui-widget ui-state-default ui-corner-all",p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only";I.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,u),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,n=this.options,t="checkbox"===this.type||"radio"===this.type,i=t?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(f).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===h&&I(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||I(this).removeClass(i)}).bind("click"+this.eventNamespace,function(t){n.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),t&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;I(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var t=e.element[0];d(t).not(t).map(function(){return I(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(n.disabled)return!1;I(this).addClass("ui-state-active"),h=this,e.document.one("mouseup",function(){h=null})}).bind("mouseup"+this.eventNamespace,function(){if(n.disabled)return!1;I(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(n.disabled)return!1;t.keyCode!==I.ui.keyCode.SPACE&&t.keyCode!==I.ui.keyCode.ENTER||I(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){I(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===I.ui.keyCode.SPACE&&I(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var t,e,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(f+" ui-state-active "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?d(this.element[0]).each(function(){I(this).is(":checked")?I(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):I(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(p),e=I("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,i=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(i?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",I.trim(e)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),I.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var t="rtl"===this.element.css("direction"),e=this.element.find(this.options.items),n=e.filter(":ui-button");e.not(":ui-button").button(),n.button("refresh"),this.buttons=e.map(function(){return I(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return I(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});var g;I.ui.button;function m(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},I.extend(this._defaults,this.regional[""]),this.regional.en=I.extend(!0,{},this.regional[""]),this.regional["en-US"]=I.extend(!0,{},this.regional.en),this.dpDiv=v(I("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function v(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(e,"mouseout",function(){I(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&I(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&I(this).removeClass("ui-datepicker-next-hover")}).delegate(e,"mouseover",y)}function y(){I.datepicker._isDisabledDatepicker(g.inline?g.dpDiv.parent()[0]:g.input[0])||(I(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),I(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&I(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&I(this).addClass("ui-datepicker-next-hover"))}function b(t,e){for(var n in I.extend(t,e),e)null==e[n]&&(t[n]=e[n]);return t}I.extend(I.ui,{datepicker:{version:"1.11.4"}}),I.extend(m.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return b(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var n,i,o;i="div"===(n=t.nodeName.toLowerCase())||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(I(t),i)).settings=I.extend({},e||{}),"input"===n?this._connectDatepicker(t,o):i&&this._inlineDatepicker(t,o)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?v(I("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var n=I(t);e.append=I([]),e.trigger=I([]),n.hasClass(this.markerClassName)||(this._attachments(n,e),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(e),I.data(t,"datepicker",e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var n,i,o,r=this._get(e,"appendText"),a=this._get(e,"isRTL");e.append&&e.append.remove(),r&&(e.append=I("<span class='"+this._appendClass+"'>"+r+"</span>"),t[a?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),"focus"!==(n=this._get(e,"showOn"))&&"both"!==n||t.focus(this._showDatepicker),"button"!==n&&"both"!==n||(i=this._get(e,"buttonText"),o=this._get(e,"buttonImage"),e.trigger=I(this._get(e,"buttonImageOnly")?I("<img/>").addClass(this._triggerClass).attr({src:o,alt:i,title:i}):I("<button type='button'></button>").addClass(this._triggerClass).html(o?I("<img/>").attr({src:o,alt:i,title:i}):i)),t[a?"before":"after"](e.trigger),e.trigger.click(function(){return I.datepicker._datepickerShowing&&I.datepicker._lastInput===t[0]?I.datepicker._hideDatepicker():(I.datepicker._datepickerShowing&&I.datepicker._lastInput!==t[0]&&I.datepicker._hideDatepicker(),I.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,o,r=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(o=i=n=0;o<t.length;o++)t[o].length>n&&(n=t[o].length,i=o);return i},r.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(t,e){var n=I(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(e.dpDiv),I.data(t,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,n,i,o){var r,a,s,l,c,u=this._dialogInst;return u||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=I("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),I("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},I.data(this._dialogInput[0],"datepicker",u)),b(u.settings,i||{}),e=e&&e.constructor===Date?this._formatDate(u,e):e,this._dialogInput.val(e),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(a=document.documentElement.clientWidth,s=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+l,s/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),I.blockUI&&I.blockUI(this.dpDiv),I.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(t){var e,n=I(t),i=I.data(t,"datepicker");n.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),I.removeData(t,"datepicker"),"input"===e?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||n.removeClass(this.markerClassName).empty(),g===i&&(g=null))},_enableDatepicker:function(e){var t,n,i=I(e),o=I.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==t&&"span"!==t||((n=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=I.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,n,i=I(e),o=I.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==t&&"span"!==t||((n=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=I.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return I.data(t,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,n){var i,o,r,a,s=this._getInst(t);if(2===arguments.length&&"string"==typeof e)return"defaults"===e?I.extend({},I.datepicker._defaults):s?"all"===e?I.extend({},s.settings):this._get(s,e):null;i=e||{},"string"==typeof e&&((i={})[e]=n),s&&(this._curInst===s&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(s,"min"),a=this._getMinMaxDate(s,"max"),b(s.settings,i),null!==r&&void 0!==i.dateFormat&&void 0===i.minDate&&(s.settings.minDate=this._formatDate(s,r)),null!==a&&void 0!==i.dateFormat&&void 0===i.maxDate&&(s.settings.maxDate=this._formatDate(s,a)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(I(t),s),this._autoSize(s),this._setDate(s,o),this._updateAlternate(s),this._updateDatepicker(s))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(t){var e,n,i,o=I.datepicker._getInst(t.target),r=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,I.datepicker._datepickerShowing)switch(t.keyCode){case 9:I.datepicker._hideDatepicker(),r=!1;break;case 13:return(i=I("td."+I.datepicker._dayOverClass+":not(."+I.datepicker._currentClass+")",o.dpDiv))[0]&&I.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,i[0]),(e=I.datepicker._get(o,"onSelect"))?(n=I.datepicker._formatDate(o),e.apply(o.input?o.input[0]:null,[n,o])):I.datepicker._hideDatepicker(),!1;case 27:I.datepicker._hideDatepicker();break;case 33:I.datepicker._adjustDate(t.target,t.ctrlKey?-I.datepicker._get(o,"stepBigMonths"):-I.datepicker._get(o,"stepMonths"),"M");break;case 34:I.datepicker._adjustDate(t.target,t.ctrlKey?+I.datepicker._get(o,"stepBigMonths"):+I.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&I.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&I.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&I.datepicker._adjustDate(t.target,a?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&I.datepicker._adjustDate(t.target,t.ctrlKey?-I.datepicker._get(o,"stepBigMonths"):-I.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&I.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&I.datepicker._adjustDate(t.target,a?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&I.datepicker._adjustDate(t.target,t.ctrlKey?+I.datepicker._get(o,"stepBigMonths"):+I.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&I.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?I.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,n,i=I.datepicker._getInst(t.target);if(I.datepicker._get(i,"constrainInput"))return e=I.datepicker._possibleChars(I.datepicker._get(i,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||n<" "||!e||-1<e.indexOf(n)},_doKeyUp:function(t){var e=I.datepicker._getInst(t.target);if(e.input.val()!==e.lastVal)try{I.datepicker.parseDate(I.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,I.datepicker._getFormatConfig(e))&&(I.datepicker._setDateFromField(e),I.datepicker._updateAlternate(e),I.datepicker._updateDatepicker(e))}catch(t){}return!0},_showDatepicker:function(t){var e,n,i,o,r,a,s;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=I("input",t.parentNode)[0]),I.datepicker._isDisabledDatepicker(t)||I.datepicker._lastInput===t||(e=I.datepicker._getInst(t),I.datepicker._curInst&&I.datepicker._curInst!==e&&(I.datepicker._curInst.dpDiv.stop(!0,!0),e&&I.datepicker._datepickerShowing&&I.datepicker._hideDatepicker(I.datepicker._curInst.input[0])),!1!==(i=(n=I.datepicker._get(e,"beforeShow"))?n.apply(t,[t,e]):{})&&(b(e.settings,i),e.lastVal=null,I.datepicker._lastInput=t,I.datepicker._setDateFromField(e),I.datepicker._inDialog&&(t.value=""),I.datepicker._pos||(I.datepicker._pos=I.datepicker._findPos(t),I.datepicker._pos[1]+=t.offsetHeight),o=!1,I(t).parents().each(function(){return!(o|="fixed"===I(this).css("position"))}),r={left:I.datepicker._pos[0],top:I.datepicker._pos[1]},I.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),I.datepicker._updateDatepicker(e),r=I.datepicker._checkOffset(e,r,o),e.dpDiv.css({position:I.datepicker._inDialog&&I.blockUI?"static":o?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),e.inline||(a=I.datepicker._get(e,"showAnim"),s=I.datepicker._get(e,"duration"),e.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(I(t))+1),I.datepicker._datepickerShowing=!0,I.effects&&I.effects.effect[a]?e.dpDiv.show(a,I.datepicker._get(e,"showOptions"),s):e.dpDiv[a||"show"](a?s:null),I.datepicker._shouldFocusInput(e)&&e.input.focus(),I.datepicker._curInst=e)))},_updateDatepicker:function(t){this.maxRows=4,(g=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var e,n=this._getNumberOfMonths(t),i=n[1],o=t.dpDiv.find("."+this._dayOverClass+" a");0<o.length&&y.apply(o.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<i&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===I.datepicker._curInst&&I.datepicker._datepickerShowing&&I.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),e=t.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,n){var i=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,s=document.documentElement.clientWidth+(n?0:I(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:I(document).scrollTop());return e.left-=this._get(t,"isRTL")?i-r:0,e.left-=n&&e.left===t.input.offset().left?I(document).scrollLeft():0,e.top-=n&&e.top===t.input.offset().top+a?I(document).scrollTop():0,e.left-=Math.min(e.left,e.left+i>s&&i<s?Math.abs(e.left+i-s):0),e.top-=Math.min(e.top,e.top+o>l&&o<l?Math.abs(o+a):0),e},_findPos:function(t){for(var e,n=this._getInst(t),i=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||I.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(e=I(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,n,i,o,r=this._curInst;!r||t&&r!==I.data(t,"datepicker")||this._datepickerShowing&&(e=this._get(r,"showAnim"),n=this._get(r,"duration"),i=function(){I.datepicker._tidyDialog(r)},I.effects&&(I.effects.effect[e]||I.effects[e])?r.dpDiv.hide(e,I.datepicker._get(r,"showOptions"),n,i):r.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?n:null,i),e||i(),this._datepickerShowing=!1,(o=this._get(r,"onClose"))&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),I.blockUI&&(I.unblockUI(),I("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(I.datepicker._curInst){var e=I(t.target),n=I.datepicker._getInst(e[0]);(e[0].id===I.datepicker._mainDivId||0!==e.parents("#"+I.datepicker._mainDivId).length||e.hasClass(I.datepicker.markerClassName)||e.closest("."+I.datepicker._triggerClass).length||!I.datepicker._datepickerShowing||I.datepicker._inDialog&&I.blockUI)&&(!e.hasClass(I.datepicker.markerClassName)||I.datepicker._curInst===n)||I.datepicker._hideDatepicker()}},_adjustDate:function(t,e,n){var i=I(t),o=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(o,e+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(t){var e,n=I(t),i=this._getInst(n[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(e=new Date,i.selectedDay=e.getDate(),i.drawMonth=i.selectedMonth=e.getMonth(),i.drawYear=i.selectedYear=e.getFullYear()),this._notifyChange(i),this._adjustDate(n)},_selectMonthYear:function(t,e,n){var i=I(t),o=this._getInst(i[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(i)},_selectDay:function(t,e,n,i){var o,r=I(t);I(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||((o=this._getInst(r[0])).selectedDay=o.currentDay=I("a",i).html(),o.selectedMonth=o.currentMonth=e,o.selectedYear=o.currentYear=n,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var e=I(t);this._selectDate(e,"")},_selectDate:function(t,e){var n,i=I(t),o=this._getInst(i[0]);e=null!=e?e:this._formatDate(o),o.input&&o.input.val(e),this._updateAlternate(o),(n=this._get(o,"onSelect"))?n.apply(o.input?o.input[0]:null,[e,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e,n,i,o=this._get(t,"altField");o&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),i=this.formatDate(e,n,this._getFormatConfig(t)),I(o).each(function(){I(this).val(i)}))},noWeekends:function(t){var e=t.getDay();return[0<e&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(n,r,t){if(null==n||null==r)throw"Invalid arguments";if(""===(r="object"==typeof r?r.toString():r+""))return null;function a(t){var e=s+1<n.length&&n.charAt(s+1)===t;return e&&s++,e}function e(t){var e=a(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,i=new RegExp("^\\d{"+("y"===t?n:1)+","+n+"}"),o=r.substring(d).match(i);if(!o)throw"Missing number at position "+d;return d+=o[0].length,parseInt(o[0],10)}function i(t,e,n){var i=-1,o=I.map(a(t)?n:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(I.each(o,function(t,e){var n=e[1];if(r.substr(d,n.length).toLowerCase()===n.toLowerCase())return i=e[0],d+=n.length,!1}),-1!==i)return i+1;throw"Unknown name at position "+d}function o(){if(r.charAt(d)!==n.charAt(s))throw"Unexpected literal at position "+d;d++}var s,l,c,u,d=0,h=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff,f="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),p=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,g=(t?t.dayNames:null)||this._defaults.dayNames,m=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,v=(t?t.monthNames:null)||this._defaults.monthNames,y=-1,b=-1,_=-1,E=-1,w=!1;for(s=0;s<n.length;s++)if(w)"'"!==n.charAt(s)||a("'")?o():w=!1;else switch(n.charAt(s)){case"d":_=e("d");break;case"D":i("D",p,g);break;case"o":E=e("o");break;case"m":b=e("m");break;case"M":b=i("M",m,v);break;case"y":y=e("y");break;case"@":y=(u=new Date(e("@"))).getFullYear(),b=u.getMonth()+1,_=u.getDate();break;case"!":y=(u=new Date((e("!")-this._ticksTo1970)/1e4)).getFullYear(),b=u.getMonth()+1,_=u.getDate();break;case"'":a("'")?o():w=!0;break;default:o()}if(d<r.length&&(c=r.substr(d),!/^\s+/.test(c)))throw"Extra/unparsed characters found in date: "+c;if(-1===y?y=(new Date).getFullYear():y<100&&(y+=(new Date).getFullYear()-(new Date).getFullYear()%100+(y<=f?0:-100)),-1<E)for(b=1,_=E;;){if(_<=(l=this._getDaysInMonth(y,b-1)))break;b++,_-=l}if((u=this._daylightSavingAdjust(new Date(y,b-1,_))).getFullYear()!==y||u.getMonth()+1!==b||u.getDate()!==_)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(n,t,e){if(!t)return"";function o(t){var e=a+1<n.length&&n.charAt(a+1)===t;return e&&a++,e}function i(t,e,n){var i=""+e;if(o(t))for(;i.length<n;)i="0"+i;return i}function r(t,e,n,i){return o(t)?i[e]:n[e]}var a,s=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,l=(e?e.dayNames:null)||this._defaults.dayNames,c=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,u=(e?e.monthNames:null)||this._defaults.monthNames,d="",h=!1;if(t)for(a=0;a<n.length;a++)if(h)"'"!==n.charAt(a)||o("'")?d+=n.charAt(a):h=!1;else switch(n.charAt(a)){case"d":d+=i("d",t.getDate(),2);break;case"D":d+=r("D",t.getDay(),s,l);break;case"o":d+=i("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=i("m",t.getMonth()+1,2);break;case"M":d+=r("M",t.getMonth(),c,u);break;case"y":d+=o("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":o("'")?d+="'":h=!0;break;default:d+=n.charAt(a)}return d},_possibleChars:function(n){function t(t){var e=i+1<n.length&&n.charAt(i+1)===t;return e&&i++,e}var i,e="",o=!1;for(i=0;i<n.length;i++)if(o)"'"!==n.charAt(i)||t("'")?e+=n.charAt(i):o=!1;else switch(n.charAt(i)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":t("'")?e+="'":o=!0;break;default:e+=n.charAt(i)}return e},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),r=o,a=this._getFormatConfig(t);try{r=this.parseDate(n,i,a)||o}catch(t){i=e?"":i}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=i?r.getDate():0,t.currentMonth=i?r.getMonth():0,t.currentYear=i?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(s,t,e){var n,i,o=null==t||""===t?e:"string"==typeof t?function(t){try{return I.datepicker.parseDate(I.datepicker._get(s,"dateFormat"),t,I.datepicker._getFormatConfig(s))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?I.datepicker._getDate(s):null)||new Date,n=e.getFullYear(),i=e.getMonth(),o=e.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=r.exec(t);a;){switch(a[2]||"d"){case"d":case"D":o+=parseInt(a[1],10);break;case"w":case"W":o+=7*parseInt(a[1],10);break;case"m":case"M":i+=parseInt(a[1],10),o=Math.min(o,I.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(a[1],10),o=Math.min(o,I.datepicker._getDaysInMonth(n,i))}a=r.exec(t)}return new Date(n,i,o)}(t):"number"==typeof t?isNaN(t)?e:(n=t,(i=new Date).setDate(i.getDate()+n),i):new Date(t.getTime());return(o=o&&"Invalid Date"===o.toString()?e:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,o=t.selectedMonth,r=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),o===t.selectedMonth&&r===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){I.datepicker._adjustDate(n,-e,"M")},next:function(){I.datepicker._adjustDate(n,+e,"M")},hide:function(){I.datepicker._hideDatepicker()},today:function(){I.datepicker._gotoToday(n)},selectDay:function(){return I.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return I.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return I.datepicker._selectMonthYear(n,this,"Y"),!1}};I(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,o,r,a,s,l,c,u,d,h,f,p,g,m,v,y,b,_,E,w,T,C,x,D,O,I,k,S,R,A,M,N,K,P,L,F,B,$=new Date,H=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth(),$.getDate())),z=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),V=this._get(t,"hideIfNoPrevNext"),W=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),G=this._get(t,"showCurrentAtPos"),U=this._get(t,"stepMonths"),Y=1!==q[0]||1!==q[1],X=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-G,tt=t.drawYear;if(J<0&&(J+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-q[0]*q[1]+1,Q.getDate())),e=Z&&e<Z?Z:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)--J<0&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,n=this._get(t,"prevText"),n=W?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,J-U,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+n+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+n+"</span></a>",o=this._get(t,"nextText"),o=W?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,J+U,1)),this._getFormatConfig(t)):o,r=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+o+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+o+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?X:H,a=W?this.formatDate(a,s,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?l:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(z?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(t,"showWeek"),h=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),_="",w=0;w<q[0];w++){for(T="",this.maxRows=4,C=0;C<q[1];C++){if(x=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),D=" ui-corner-all",O="",Y){if(O+="<div class='ui-datepicker-group",1<q[1])switch(C){case 0:O+=" ui-datepicker-group-first",D=" ui-corner-"+(z?"right":"left");break;case q[1]-1:O+=" ui-datepicker-group-last",D=" ui-corner-"+(z?"left":"right");break;default:O+=" ui-datepicker-group-middle",D=""}O+="'>"}for(O+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&0===w?z?r:i:"")+(/all|right/.test(D)&&0===w?z?i:r:"")+this._generateMonthYearHeader(t,J,tt,Z,Q,0<w||0<C,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",I=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",E=0;E<7;E++)I+="<th scope='col'"+(5<=(E+u+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+h[k=(E+u)%7]+"'>"+f[k]+"</span></th>";for(O+=I+"</tr></thead><tbody>",S=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),R=(this._getFirstDayOfMonth(tt,J)-u+7)%7,A=Math.ceil((R+S)/7),M=Y&&this.maxRows>A?this.maxRows:A,this.maxRows=M,N=this._daylightSavingAdjust(new Date(tt,J,1-R)),K=0;K<M;K++){for(O+="<tr>",P=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",E=0;E<7;E++)L=m?m.apply(t.input?t.input[0]:null,[N]):[!0,""],B=(F=N.getMonth()!==J)&&!y||!L[0]||Z&&N<Z||Q&&Q<N,P+="<td class='"+(5<=(E+u+6)%7?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(N.getTime()===x.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===x.getTime()?" "+this._dayOverClass:"")+(B?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+L[1]+(N.getTime()===X.getTime()?" "+this._currentClass:"")+(N.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(B?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":B?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===H.getTime()?" ui-state-highlight":"")+(N.getTime()===X.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);O+=P+"</tr>"}11<++J&&(J=0,tt++),T+=O+="</tbody></table>"+(Y?"</div>"+(0<q[0]&&C===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=T}return _+=c,t._keyEvent=!1,_},_generateMonthYearHeader:function(t,e,n,i,o,r,a,s){var l,c,u,d,h,f,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(r||!m)_+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=i&&i.getFullYear()===n,c=o&&o.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||u<=o.getMonth())&&(_+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+s[u]+"</option>");_+="</select>"}if(y||(b+=_+(!r&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=(f=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e})(d[0]),g=Math.max(p,f(d[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=o?Math.min(g,o.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!r&&m&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"===n?e:0),o=t.drawMonth+("M"===n?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(i,o))+("D"===n?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,o,r)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),o=n&&e<n?n:e;return i&&i<o?i:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var o=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(n,i+(e<0?e:o[0]*o[1]),1));return e<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var n,i,o=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),a=null,s=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!o||e.getTime()>=o.getTime())&&(!r||e.getTime()<=r.getTime())&&(!a||e.getFullYear()>=a)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),I.fn.datepicker=function(t){if(!this.length)return this;I.datepicker.initialized||(I(document).mousedown(I.datepicker._checkExternalClick),I.datepicker.initialized=!0),0===I("#"+I.datepicker._mainDivId).length&&I("body").append(I.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?I.datepicker["_"+t+"Datepicker"].apply(I.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?I.datepicker["_"+t+"Datepicker"].apply(I.datepicker,[this].concat(e)):I.datepicker._attachDatepicker(this,t)}):I.datepicker["_"+t+"Datepicker"].apply(I.datepicker,[this[0]].concat(e))},I.datepicker=new m,I.datepicker.initialized=!1,I.datepicker.uuid=(new Date).getTime(),I.datepicker.version="1.11.4";I.datepicker;I.widget("ui.draggable",I.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return this._blurActiveElement(t),!(this.helper||e.disabled||0<I(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=I(this);return I("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=this.document[0];if(this.handleElement.is(t.target))try{e.activeElement&&"body"!==e.activeElement.nodeName.toLowerCase()&&I(e.activeElement).blur()}catch(t){}},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),I.ui.ddmanager&&(I.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===I(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),I.ui.ddmanager&&!e.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),I.ui.ddmanager&&I.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",I.ui.ddmanager&&I.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,n=!1;return I.ui.ddmanager&&!this.options.dropBehaviour&&(n=I.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||I.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?I(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),I.ui.ddmanager&&I.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),I.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!I(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var e=this.options,n=I.isFunction(e.helper),i=n?I(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),n&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),I.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&I.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options,o=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(n=(e=I(i.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e)):this.containment=i.containment:this.containment=[0,0,I(o).width()-this.helperProportions.width-this.margins.left,(I(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[I(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,I(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,I(window).scrollLeft()+I(window).width()-this.helperProportions.width-this.margins.left,I(window).scrollTop()+(I(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e=e||this.position;var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,o,r,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(n=this.relativeContainer?(i=this.relativeContainer.offset(),[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(o=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-a.grid[1]:o+a.grid[1]:o,r=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?r-this.offset.click.left>=n[0]||r-this.offset.click.left>n[2]?r:r-this.offset.click.left>=n[0]?r-a.grid[0]:r+a.grid[0]:r),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,e,n){return n=n||this._uiHash(),I.ui.plugin.call(this,t,[e,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),I.Widget.prototype._trigger.call(this,t,e,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),I.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,n){var i=I.extend({},t,{item:n.element});n.sortables=[],I(n.options.connectToSortable).each(function(){var t=I(this).sortable("instance");t&&!t.options.disabled&&(n.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,i))})},stop:function(e,t,n){var i=I.extend({},t,{item:n.element});n.cancelHelperRemoval=!1,I.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,i))})},drag:function(n,i,o){I.each(o.sortables,function(){var t=!1,e=this;e.positionAbs=o.positionAbs,e.helperProportions=o.helperProportions,e.offset.click=o.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,I.each(o.sortables,function(){return this.positionAbs=o.positionAbs,this.helperProportions=o.helperProportions,this.offset.click=o.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&I.contains(e.element[0],this.element[0])&&(t=!1),t})),t?(e.isOver||(e.isOver=1,o._parent=i.helper.parent(),e.currentItem=i.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return i.helper[0]},n.target=e.currentItem[0],e._mouseCapture(n,!0),e._mouseStart(n,!0,!0),e.offset.click.top=o.offset.click.top,e.offset.click.left=o.offset.click.left,e.offset.parent.left-=o.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=o.offset.parent.top-e.offset.parent.top,o._trigger("toSortable",n),o.dropped=e.element,I.each(o.sortables,function(){this.refreshPositions()}),o.currentItem=o.element,e.fromOutside=o),e.currentItem&&(e._mouseDrag(n),i.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",n,e._uiHash(e)),e._mouseStop(n,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),i.helper.appendTo(o._parent),o._refreshOffsets(n),i.position=o._generatePosition(n,!0),o._trigger("fromSortable",n),o.dropped=!1,I.each(o.sortables,function(){this.refreshPositions()}))})}}),I.ui.plugin.add("draggable","cursor",{start:function(t,e,n){var i=I("body"),o=n.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(t,e,n){var i=n.options;i._cursor&&I("body").css("cursor",i._cursor)}}),I.ui.plugin.add("draggable","opacity",{start:function(t,e,n){var i=I(e.helper),o=n.options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,e,n){var i=n.options;i._opacity&&I(e.helper).css("opacity",i._opacity)}}),I.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,e,n){var i=n.options,o=!1,r=n.scrollParentNotHidden[0],a=n.document[0];r!==a&&"HTML"!==r.tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+r.offsetHeight-t.pageY<i.scrollSensitivity?r.scrollTop=o=r.scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(r.scrollTop=o=r.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+r.offsetWidth-t.pageX<i.scrollSensitivity?r.scrollLeft=o=r.scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(r.scrollLeft=o=r.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-I(a).scrollTop()<i.scrollSensitivity?o=I(a).scrollTop(I(a).scrollTop()-i.scrollSpeed):I(window).height()-(t.pageY-I(a).scrollTop())<i.scrollSensitivity&&(o=I(a).scrollTop(I(a).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-I(a).scrollLeft()<i.scrollSensitivity?o=I(a).scrollLeft(I(a).scrollLeft()-i.scrollSpeed):I(window).width()-(t.pageX-I(a).scrollLeft())<i.scrollSensitivity&&(o=I(a).scrollLeft(I(a).scrollLeft()+i.scrollSpeed)))),!1!==o&&I.ui.ddmanager&&!i.dropBehaviour&&I.ui.ddmanager.prepareOffsets(n,t)}}),I.ui.plugin.add("draggable","snap",{start:function(t,e,n){var i=n.options;n.snapElements=[],I(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=I(this),e=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,n){var i,o,r,a,s,l,c,u,d,h,f=n.options,p=f.snapTolerance,g=e.offset.left,m=g+n.helperProportions.width,v=e.offset.top,y=v+n.helperProportions.height;for(d=n.snapElements.length-1;0<=d;d--)l=(s=n.snapElements[d].left-n.margins.left)+n.snapElements[d].width,u=(c=n.snapElements[d].top-n.margins.top)+n.snapElements[d].height,m<s-p||l+p<g||y<c-p||u+p<v||!I.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,I.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(i=Math.abs(c-y)<=p,o=Math.abs(u-v)<=p,r=Math.abs(s-m)<=p,a=Math.abs(l-g)<=p,i&&(e.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),o&&(e.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),r&&(e.position.left=n._convertPositionTo("relative",{top:0,left:s-n.helperProportions.width}).left),a&&(e.position.left=n._convertPositionTo("relative",{top:0,left:l}).left)),h=i||o||r||a,"outer"!==f.snapMode&&(i=Math.abs(c-v)<=p,o=Math.abs(u-y)<=p,r=Math.abs(s-g)<=p,a=Math.abs(l-m)<=p,i&&(e.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),o&&(e.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),r&&(e.position.left=n._convertPositionTo("relative",{top:0,left:s}).left),a&&(e.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(i||o||r||a||h)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,I.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=i||o||r||a||h)}}),I.ui.plugin.add("draggable","stack",{start:function(t,e,n){var i,o=n.options,r=I.makeArray(I(o.stack)).sort(function(t,e){return(parseInt(I(t).css("zIndex"),10)||0)-(parseInt(I(e).css("zIndex"),10)||0)});r.length&&(i=parseInt(I(r[0]).css("zIndex"),10)||0,I(r).each(function(t){I(this).css("zIndex",i+t)}),this.css("zIndex",i+r.length))}}),I.ui.plugin.add("draggable","zIndex",{start:function(t,e,n){var i=I(e.helper),o=n.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,e,n){var i=n.options;i._zIndex&&I(e.helper).css("zIndex",i._zIndex)}});I.ui.draggable;I.widget("ui.resizable",I.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(t,e){if("hidden"===I(t).css("overflow"))return!1;var n,i=e&&"left"===e?"scrollLeft":"scrollTop";return 0<t[i]||(t[i]=1,n=0<t[i],t[i]=0,n)},_create:function(){var t,e,n,i,r=this,o=this.options;if(this.element.addClass("ui-resizable"),I.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(I("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(I(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=I(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},e=0;e<t.length;e++)n=I.trim(t[e]),(i=I("<div class='ui-resizable-handle "+("ui-resizable-"+n)+"'></div>")).css({zIndex:o.zIndex}),"se"===n&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(i);this._renderAxis=function(t){var e,n,i,o;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=I(this.handles[e]),this._on(this.handles[e],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=I(this.handles[e],this.element),o=/sw|ne|nw|se|n|s/.test(e)?n.outerHeight():n.outerWidth(),i=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(i,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=i&&i[1]?i[1]:"se")}),o.autoHide&&(this._handles.hide(),I(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(I(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){o.disabled||r.resizing||(I(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();function t(t){I(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()}var e;return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var e,n,i=!1;for(e in this.handles)(n=I(this.handles[e])[0])!==t.target&&!I.contains(n,t.target)||(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var e,n,i,o=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),o.containment&&(e+=I(o.containment).scrollLeft()||0,n+=I(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:e,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=I(".ui-resizable-"+this.axis).css("cursor"),I("body").css("cursor","auto"===i?this.axis+"-resize":i),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,n,i=this.originalMousePosition,o=this.axis,r=t.pageX-i.left||0,a=t.pageY-i.top||0,s=this._change[o];return this._updatePrevProperties(),s&&(e=s.apply(this,[t,r,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),I.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,n,i,o,r,a,s,l=this.options,c=this;return this._helper&&(i=(n=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:c.sizeDiff.height,o=n?0:c.sizeDiff.width,r={width:c.helper.width()-o,height:c.helper.height()-i},a=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,s=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(I.extend(r,{top:s,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),I("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,o,r,a=this.options;r={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,i=r.minWidth/this.aspectRatio,n=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),i>r.minHeight&&(r.minHeight=i),n<r.maxWidth&&(r.maxWidth=n),o<r.maxHeight&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return r&&(t.width=e.minWidth),a&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),r&&c&&(t.left=s-e.minWidth),i&&c&&(t.left=s-e.maxWidth),a&&u&&(t.top=l-e.minHeight),o&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseInt(i[e],10)||0,n[e]+=parseInt(o[e],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||I("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(t,e,n){return I.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},sw:function(t,e,n){return I.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,n]))},ne:function(t,e,n){return I.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},nw:function(t,e,n){return I.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,n]))}},_propagate:function(t,e){I.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),I.ui.plugin.add("resizable","animate",{stop:function(e){var n=I(this).resizable("instance"),t=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),r=o&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,s={width:n.size.width-a,height:n.size.height-r},l=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(I.extend(s,c&&l?{top:c,left:l}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&I(i[0]).css({width:t.width,height:t.height}),n._updateCache(t),n._propagate("resize",e)}})}}),I.ui.plugin.add("resizable","containment",{start:function(){var n,i,t,e,o,r,a,s=I(this).resizable("instance"),l=s.options,c=s.element,u=l.containment,d=u instanceof I?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(s.containerElement=I(d),/document/.test(u)||u===document?(s.containerOffset={left:0,top:0},s.containerPosition={left:0,top:0},s.parentData={element:I(document),left:0,top:0,width:I(document).width(),height:I(document).height()||document.body.parentNode.scrollHeight}):(n=I(d),i=[],I(["Top","Right","Left","Bottom"]).each(function(t,e){i[t]=s._num(n.css("padding"+e))}),s.containerOffset=n.offset(),s.containerPosition=n.position(),s.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},t=s.containerOffset,e=s.containerSize.height,o=s.containerSize.width,r=s._hasScroll(d,"left")?d.scrollWidth:o,a=s._hasScroll(d)?d.scrollHeight:e,s.parentData={element:d,left:t.left,top:t.top,width:r,height:a}))},resize:function(t){var e,n,i,o,r=I(this).resizable("instance"),a=r.options,s=r.containerOffset,l=r.position,c=r._aspectRatio||t.shiftKey,u={top:0,left:0},d=r.containerElement,h=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=s),l.left<(r._helper?s.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-s.left:r.position.left-u.left),c&&(r.size.height=r.size.width/r.aspectRatio,h=!1),r.position.left=a.helper?s.left:0),l.top<(r._helper?s.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-s.top:r.position.top),c&&(r.size.width=r.size.height*r.aspectRatio,h=!1),r.position.top=r._helper?s.top:0),i=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),i&&o?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),e=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-u.left:r.offset.left-s.left)),n=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-u.top:r.offset.top-s.top)),e+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-e,c&&(r.size.height=r.size.width/r.aspectRatio,h=!1)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,c&&(r.size.width=r.size.height*r.aspectRatio,h=!1)),h||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=I(this).resizable("instance"),e=t.options,n=t.containerOffset,i=t.containerPosition,o=t.containerElement,r=I(t.helper),a=r.offset(),s=r.outerWidth()-t.sizeDiff.width,l=r.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(o.css("position"))&&I(this).css({left:a.left-i.left-n.left,width:s,height:l}),t._helper&&!e.animate&&/static/.test(o.css("position"))&&I(this).css({left:a.left-i.left-n.left,width:s,height:l})}}),I.ui.plugin.add("resizable","alsoResize",{start:function(){var t=I(this).resizable("instance").options;I(t.alsoResize).each(function(){var t=I(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,n){var e=I(this).resizable("instance"),i=e.options,o=e.originalSize,r=e.originalPosition,a={height:e.size.height-o.height||0,width:e.size.width-o.width||0,top:e.position.top-r.top||0,left:e.position.left-r.left||0};I(i.alsoResize).each(function(){var t=I(this),i=I(this).data("ui-resizable-alsoresize"),o={},e=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];I.each(e,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&0<=n&&(o[e]=n||null)}),t.css(o)})},stop:function(){I(this).removeData("resizable-alsoresize")}}),I.ui.plugin.add("resizable","ghost",{start:function(){var t=I(this).resizable("instance"),e=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=I(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=I(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),I.ui.plugin.add("resizable","grid",{resize:function(){var t,e=I(this).resizable("instance"),n=e.options,i=e.size,o=e.originalSize,r=e.originalPosition,a=e.axis,s="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=s[0]||1,c=s[1]||1,u=Math.round((i.width-o.width)/l)*l,d=Math.round((i.height-o.height)/c)*c,h=o.width+u,f=o.height+d,p=n.maxWidth&&n.maxWidth<h,g=n.maxHeight&&n.maxHeight<f,m=n.minWidth&&n.minWidth>h,v=n.minHeight&&n.minHeight>f;n.grid=s,m&&(h+=l),v&&(f+=c),p&&(h-=l),g&&(f-=c),/^(se|s|e)$/.test(a)?(e.size.width=h,e.size.height=f):/^(ne)$/.test(a)?(e.size.width=h,e.size.height=f,e.position.top=r.top-d):/^(sw)$/.test(a)?(e.size.width=h,e.size.height=f,e.position.left=r.left-u):((f-c<=0||h-l<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),0<f-c?(e.size.height=f,e.position.top=r.top-d):(f=c-t.height,e.size.height=f,e.position.top=r.top+o.height-f),0<h-l?(e.size.width=h,e.position.left=r.left-u):(h=l-t.width,e.size.width=h,e.position.left=r.left+o.width-h))}});I.ui.resizable,I.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=I(this).css(t).offset().top;e<0&&I(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&I.fn.draggable&&this._makeDraggable(),this.options.resizable&&I.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?I(t):this.document.find(t||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:I.noop,enable:I.noop,close:function(t){var e,n=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(e=this.document[0].activeElement)&&"body"!==e.nodeName.toLowerCase()&&I(e).blur()}catch(t){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var n=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+I(this).css("z-index")}).get(),o=Math.max.apply(null,i);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),n=!0),n&&!e&&this._trigger("focus",t),n},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=I(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;(t=t||this.element.find("[autofocus]")).length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(t){function e(){var t=this.document[0].activeElement;this.uiDialog[0]===t||I.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),e.call(this),this._delay(e)},_createWrapper:function(){this.uiDialog=I("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===I.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===I.ui.keyCode.TAB&&!t.isDefaultPrevented()){var e=this.uiDialog.find(":tabbable"),n=e.filter(":first"),i=e.filter(":last");t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){i.focus()}),t.preventDefault()):(this._delay(function(){n.focus()}),t.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=I("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){I(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=I("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),t=I("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=I("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=I("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var o=this,t=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),I.isEmptyObject(t)||I.isArray(t)&&!t.length?this.uiDialog.removeClass("ui-dialog-buttons"):(I.each(t,function(t,e){var n,i;e=I.isFunction(e)?{click:e,text:t}:e,e=I.extend({type:"button"},e),n=e.click,e.click=function(){n.apply(o.element[0],arguments)},i={icons:e.icons,text:e.showText},delete e.icons,delete e.showText,I("<button></button>",e).button(i).appendTo(o.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var o=this,r=this.options;function a(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){I(this).addClass("ui-dialog-dragging"),o._blockFrames(),o._trigger("dragStart",t,a(e))},drag:function(t,e){o._trigger("drag",t,a(e))},stop:function(t,e){var n=e.offset.left-o.document.scrollLeft(),i=e.offset.top-o.document.scrollTop();r.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=i?"+":"")+i,of:o.window},I(this).removeClass("ui-dialog-dragging"),o._unblockFrames(),o._trigger("dragStop",t,a(e))}})},_makeResizable:function(){var r=this,a=this.options,t=a.resizable,e=this.uiDialog.css("position"),n="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";function s(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:n,start:function(t,e){I(this).addClass("ui-dialog-resizing"),r._blockFrames(),r._trigger("resizeStart",t,s(e))},resize:function(t,e){r._trigger("resize",t,s(e))},stop:function(t,e){var n=r.uiDialog.offset(),i=n.left-r.document.scrollLeft(),o=n.top-r.document.scrollTop();a.height=r.uiDialog.height(),a.width=r.uiDialog.width(),a.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=o?"+":"")+o,of:r.window},I(this).removeClass("ui-dialog-resizing"),r._unblockFrames(),r._trigger("resizeStop",t,s(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=I(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=I.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,o={};I.each(t,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(o[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(t,e){var n,i,o=this.uiDialog;"dialogClass"===t&&o.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&((n=o.is(":data(ui-draggable)"))&&!e&&o.draggable("destroy"),!n&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((i=o.is(":data(ui-resizable)"))&&!e&&o.resizable("destroy"),i&&"string"==typeof e&&o.resizable("option","handles",e),i||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=I(this);return I("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!I(t.target).closest(".ui-dialog").length||!!I(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=I("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}});function _(t,e,n){return e<=t&&t<e+n}I.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,n=e.accept;this.isover=!1,this.isout=!0,this.accept=I.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(e.scope),e.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){I.ui.ddmanager.droppables[t]=I.ui.ddmanager.droppables[t]||[],I.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=I.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,e){if("accept"===t)this.accept=I.isFunction(e)?e:function(t){return t.is(e)};else if("scope"===t){var n=I.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(e)}this._super(t,e)},_activate:function(t){var e=I.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=I.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=I.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=I.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var n=t||I.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=I(this).droppable("instance");if(t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&I.ui.intersect(n,I.extend(t,{offset:t.element.offset()}),t.options.tolerance,e))return!(i=!0)}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),I.ui.intersect=function(t,e,n,i){if(!e.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,a=o+t.helperProportions.width,s=r+t.helperProportions.height,l=e.offset.left,c=e.offset.top,u=l+e.proportions().width,d=c+e.proportions().height;switch(n){case"fit":return l<=o&&a<=u&&c<=r&&s<=d;case"intersect":return l<o+t.helperProportions.width/2&&a-t.helperProportions.width/2<u&&c<r+t.helperProportions.height/2&&s-t.helperProportions.height/2<d;case"pointer":return _(i.pageY,c,e.proportions().height)&&_(i.pageX,l,e.proportions().width);case"touch":return(c<=r&&r<=d||c<=s&&s<=d||r<c&&d<s)&&(l<=o&&o<=u||l<=a&&a<=u||o<l&&u<a);default:return!1}},I.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var n,i,o=I.ui.ddmanager.droppables[t.options.scope]||[],r=e?e.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<o.length;n++)if(!(o[n].options.disabled||t&&!o[n].accept.call(o[n].element[0],t.currentItem||t.element))){for(i=0;i<a.length;i++)if(a[i]===o[n].element[0]){o[n].proportions().height=0;continue t}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===r&&o[n]._activate.call(o[n],e),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(t,e){var n=!1;return I.each((I.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&I.ui.intersect(t,this,this.options.tolerance,e)&&(n=this._drop.call(this,e)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),n},dragStart:function(t,e){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||I.ui.ddmanager.prepareOffsets(t,e)})},drag:function(r,a){r.options.refreshPositions&&I.ui.ddmanager.prepareOffsets(r,a),I.each(I.ui.ddmanager.droppables[r.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var t,e,n,i=I.ui.intersect(r,this,this.options.tolerance,a),o=!i&&this.isover?"isout":i&&!this.isover?"isover":null;o&&(this.options.greedy&&(e=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return I(this).droppable("instance").options.scope===e})).length&&((t=I(n[0]).droppable("instance")).greedyChild="isover"===o)),t&&"isover"===o&&(t.isover=!1,t.isout=!0,t._out.call(t,a)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,a),t&&"isout"===o&&(t.isout=!1,t.isover=!0,t._over.call(t,a)))}})},dragStop:function(t,e){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||I.ui.ddmanager.prepareOffsets(t,e)}};I.ui.droppable;var E,w,T,C,x,D,O,k,S,R,A,M,N,K,P,L,F,B,$,H,z="ui-effects-",j=I;function V(t,e,n){var i=k[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:t<0?0:i.max<t?i.max:t)}function W(a){var s=D(),l=s._rgba=[];return a=a.toLowerCase(),A(x,function(t,e){var n,i=e.re.exec(a),o=i&&e.parse(i),r=e.space||"rgba";if(o)return n=s[r](o),s[O[r].cache]=n[O[r].cache],l=s._rgba=n._rgba,!1}),l.length?("0,0,0,0"===l.join()&&E.extend(l,T.transparent),s):T[a]}function q(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function G(t){var e,n,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)"string"==typeof i[e=i[n]]&&(o[I.camelCase(e)]=i[e]);else for(e in i)"string"==typeof i[e]&&(o[e]=i[e]);return o}function U(t,e,n,i){return I.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),I.isFunction(e)&&(i=e,n=null,e={}),"number"!=typeof e&&!I.fx.speeds[e]||(i=n,n=e,e={}),I.isFunction(n)&&(i=n,n=null),e&&I.extend(t,e),n=n||e.duration,t.duration=I.fx.off?0:"number"==typeof n?n:n in I.fx.speeds?I.fx.speeds[n]:I.fx.speeds._default,t.complete=i||e.complete,t}function Y(t){return!(t&&"number"!=typeof t&&!I.fx.speeds[t])||("string"==typeof t&&!I.effects.effect[t]||(!!I.isFunction(t)||"object"==typeof t&&!t.effect))}I.effects={effect:{}},C=/^([\-+])=\s*(\d+\.?\d*)/,x=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],D=(E=j).Color=function(t,e,n,i){return new E.Color.fn.parse(t,e,n,i)},O={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},k={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},S=D.support={},R=E("<p>")[0],A=E.each,R.style.cssText="background-color:rgba(1,1,1,.5)",S.rgba=-1<R.style.backgroundColor.indexOf("rgba"),A(O,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),D.fn=E.extend(D.prototype,{parse:function(o,t,e,n){if(o===w)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=E(o).css(t),t=w);var r=this,i=E.type(o),a=this._rgba=[];return t!==w&&(o=[o,t,e,n],i="array"),"string"===i?this.parse(W(o)||T._default):"array"===i?(A(O.rgba.props,function(t,e){a[e.idx]=V(o[e.idx],e)}),this):"object"===i?(A(O,o instanceof D?function(t,e){o[e.cache]&&(r[e.cache]=o[e.cache].slice())}:function(t,n){var i=n.cache;A(n.props,function(t,e){if(!r[i]&&n.to){if("alpha"===t||null==o[t])return;r[i]=n.to(r._rgba)}r[i][e.idx]=V(o[t],e,!0)}),r[i]&&E.inArray(null,r[i].slice(0,3))<0&&(r[i][3]=1,n.from&&(r._rgba=n.from(r[i])))}),this):void 0},is:function(t){var o=D(t),r=!0,a=this;return A(O,function(t,e){var n,i=o[e.cache];return i&&(n=a[e.cache]||e.to&&e.to(a._rgba)||[],A(e.props,function(t,e){if(null!=i[e.idx])return r=i[e.idx]===n[e.idx]})),r}),r},_space:function(){var n=[],i=this;return A(O,function(t,e){i[e.cache]&&n.push(t)}),n.pop()},transition:function(t,a){var s=D(t),e=s._space(),n=O[e],i=0===this.alpha()?D("transparent"):this,l=i[n.cache]||n.to(i._rgba),c=l.slice();return s=s[n.cache],A(n.props,function(t,e){var n=e.idx,i=l[n],o=s[n],r=k[e.type]||{};null!==o&&(null===i?c[n]=o:(r.mod&&(o-i>r.mod/2?i+=r.mod:i-o>r.mod/2&&(i-=r.mod)),c[n]=V((o-i)*a+i,e)))}),this[e](c)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),n=e.pop(),i=D(t)._rgba;return D(E.map(e,function(t,e){return(1-n)*i[e]+n*t}))},toRgbaString:function(){var t="rgba(",e=E.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=E.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),n=e.pop();return t&&e.push(~~(255*n)),"#"+E.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),D.fn.parse.prototype=D.fn,O.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,o=t[1]/255,r=t[2]/255,a=t[3],s=Math.max(i,o,r),l=Math.min(i,o,r),c=s-l,u=s+l,d=.5*u;return e=l===s?0:i===s?60*(o-r)/c+360:o===s?60*(r-i)/c+120:60*(i-o)/c+240,n=0==c?0:d<=.5?c/u:c/(2-u),[Math.round(e)%360,n,d,null==a?1:a]},O.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],r=i<=.5?i*(1+n):i+n-i*n,a=2*i-r;return[Math.round(255*q(a,r,e+1/3)),Math.round(255*q(a,r,e)),Math.round(255*q(a,r,e-1/3)),o]},A(O,function(l,t){var n=t.props,a=t.cache,s=t.to,c=t.from;D.fn[l]=function(t){if(s&&!this[a]&&(this[a]=s(this._rgba)),t===w)return this[a].slice();var e,i=E.type(t),o="array"===i||"object"===i?t:arguments,r=this[a].slice();return A(n,function(t,e){var n=o["object"===i?t:e.idx];null==n&&(n=r[e.idx]),r[e.idx]=V(n,e)}),c?((e=D(c(r)))[a]=r,e):D(r)},A(n,function(a,s){D.fn[a]||(D.fn[a]=function(t){var e,n=E.type(t),i="alpha"===a?this._hsla?"hsla":"rgba":l,o=this[i](),r=o[s.idx];return"undefined"===n?r:("function"===n&&(t=t.call(this,r),n=E.type(t)),null==t&&s.empty?this:("string"===n&&(e=C.exec(t))&&(t=r+parseFloat(e[2])*("+"===e[1]?1:-1)),o[s.idx]=t,this[i](o)))})})}),D.hook=function(t){var e=t.split(" ");A(e,function(t,r){E.cssHooks[r]={set:function(t,e){var n,i,o="";if("transparent"!==e&&("string"!==E.type(e)||(n=W(e)))){if(e=D(n||e),!S.rgba&&1!==e._rgba[3]){for(i="backgroundColor"===r?t.parentNode:t;(""===o||"transparent"===o)&&i&&i.style;)try{o=E.css(i,"backgroundColor"),i=i.parentNode}catch(t){}e=e.blend(o&&"transparent"!==o?o:"_default")}e=e.toRgbaString()}try{t.style[r]=e}catch(t){}}},E.fx.step[r]=function(t){t.colorInit||(t.start=D(t.elem,r),t.end=D(t.end),t.colorInit=!0),E.cssHooks[r].set(t.elem,t.start.transition(t.end,t.pos))}})},D.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),E.cssHooks.borderColor={expand:function(n){var i={};return A(["Top","Right","Bottom","Left"],function(t,e){i["border"+e+"Color"]=n}),i}},T=E.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},P=["add","remove","toggle"],L={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},I.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){I.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(j.style(t.elem,e,t.end),t.setAttr=!0)}}),I.fn.addBack||(I.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),I.effects.animateClass=function(o,t,e,n){var r=I.speed(t,e,n);return this.queue(function(){var t,n=I(this),e=n.attr("class")||"",i=r.children?n.find("*").addBack():n;i=i.map(function(){return{el:I(this),start:G(this)}}),(t=function(){I.each(P,function(t,e){o[e]&&n[e+"Class"](o[e])})})(),i=i.map(function(){return this.end=G(this.el[0]),this.diff=function(t,e){var n,i,o={};for(n in e)i=e[n],t[n]!==i&&(L[n]||!I.fx.step[n]&&isNaN(parseFloat(i))||(o[n]=i));return o}(this.start,this.end),this}),n.attr("class",e),i=i.map(function(){var t=this,e=I.Deferred(),n=I.extend({},r,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,n),e.promise()}),I.when.apply(I,i.get()).done(function(){t(),I.each(arguments,function(){var e=this.el;I.each(this.diff,function(t){e.css(t,"")})}),r.complete.call(n[0])})})},I.fn.extend({addClass:(K=I.fn.addClass,function(t,e,n,i){return e?I.effects.animateClass.call(this,{add:t},e,n,i):K.apply(this,arguments)}),removeClass:(N=I.fn.removeClass,function(t,e,n,i){return 1<arguments.length?I.effects.animateClass.call(this,{remove:t},e,n,i):N.apply(this,arguments)}),toggleClass:(M=I.fn.toggleClass,function(t,e,n,i,o){return"boolean"==typeof e||void 0===e?n?I.effects.animateClass.call(this,e?{add:t}:{remove:t},n,i,o):M.apply(this,arguments):I.effects.animateClass.call(this,{toggle:t},e,n,i)}),switchClass:function(t,e,n,i,o){return I.effects.animateClass.call(this,{add:e,remove:t},n,i,o)}}),I.extend(I.effects,{version:"1.11.4",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data(z+e[n],t[0].style[e[n]])},restore:function(t,e){var n,i;for(i=0;i<e.length;i++)null!==e[i]&&(void 0===(n=t.data(z+e[i]))&&(n=""),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},t=I("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:n.width(),height:n.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return n.wrap(t),n[0]!==o&&!I.contains(n[0],o)||I(o).focus(),t=n.parent(),"static"===n.css("position")?(t.css({position:"relative"}),n.css({position:"relative"})):(I.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),I.each(["top","left","bottom","right"],function(t,e){i[e]=n.css(e),isNaN(parseInt(i[e],10))&&(i[e]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(e),t.css(i).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),t[0]!==e&&!I.contains(t[0],e)||I(e).focus()),t},setTransition:function(i,t,o,r){return r=r||{},I.each(t,function(t,e){var n=i.cssUnit(e);0<n[0]&&(r[e]=n[0]*o+n[1])}),r}}),I.fn.extend({effect:function(){var r=U.apply(this,arguments),t=r.mode,e=r.queue,a=I.effects.effect[r.effect];if(I.fx.off||!a)return t?this[t](r.duration,r.complete):this.each(function(){r.complete&&r.complete.call(this)});function n(t){var e=I(this),n=r.complete,i=r.mode;function o(){I.isFunction(n)&&n.call(e[0]),I.isFunction(t)&&t()}(e.is(":hidden")?"hide"===i:"show"===i)?(e[i](),o()):a.call(e[0],r,o)}return!1===e?this.each(n):this.queue(e||"fx",n)},show:($=I.fn.show,function(t){if(Y(t))return $.apply(this,arguments);var e=U.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}),hide:(B=I.fn.hide,function(t){if(Y(t))return B.apply(this,arguments);var e=U.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}),toggle:(F=I.fn.toggle,function(t){if(Y(t)||"boolean"==typeof t)return F.apply(this,arguments);var e=U.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}),cssUnit:function(t){var n=this.css(t),i=[];return I.each(["em","px","%","pt"],function(t,e){0<n.indexOf(e)&&(i=[parseFloat(n),e])}),i}}),H={},I.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){H[t]=function(t){return Math.pow(t,e+2)}}),I.extend(H,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),I.each(H,function(t,e){I.easing["easeIn"+t]=e,I.easing["easeOut"+t]=function(t){return 1-e(1-t)},I.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}});I.effects,I.effects.effect.blind=function(t,e){var n,i,o,r=I(this),a=["position","top","bottom","left","right","height","width"],s=I.effects.setMode(r,t.mode||"hide"),l=t.direction||"up",c=/up|down|vertical/.test(l),u=c?"height":"width",d=c?"top":"left",h=/up|left|vertical|horizontal/.test(l),f={},p="show"===s;r.parent().is(".ui-effects-wrapper")?I.effects.save(r.parent(),a):I.effects.save(r,a),r.show(),i=(n=I.effects.createWrapper(r).css({overflow:"hidden"}))[u](),o=parseFloat(n.css(d))||0,f[u]=p?i:0,h||(r.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),f[d]=p?o:i+o),p&&(n.css(u,0),h||n.css(d,o+i)),n.animate(f,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===s&&r.hide(),I.effects.restore(r,a),I.effects.removeWrapper(r),e()}})},I.effects.effect.bounce=function(t,e){var n,i,o,r=I(this),a=["position","top","bottom","left","right","height","width"],s=I.effects.setMode(r,t.mode||"effect"),l="hide"===s,c="show"===s,u=t.direction||"up",d=t.distance,h=t.times||5,f=2*h+(c||l?1:0),p=t.duration/f,g=t.easing,m="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,y=r.queue(),b=y.length;for((c||l)&&a.push("opacity"),I.effects.save(r,a),r.show(),I.effects.createWrapper(r),d=d||r["top"==m?"outerHeight":"outerWidth"]()/3,c&&((o={opacity:1})[m]=0,r.css("opacity",0).css(m,v?2*-d:2*d).animate(o,p,g)),l&&(d/=Math.pow(2,h-1)),n=(o={})[m]=0;n<h;n++)(i={})[m]=(v?"-=":"+=")+d,r.animate(i,p,g).animate(o,p,g),d=l?2*d:d/2;l&&((i={opacity:0})[m]=(v?"-=":"+=")+d,r.animate(i,p,g)),r.queue(function(){l&&r.hide(),I.effects.restore(r,a),I.effects.removeWrapper(r),e()}),1<b&&y.splice.apply(y,[1,0].concat(y.splice(b,1+f))),r.dequeue()},I.effects.effect.clip=function(t,e){var n,i,o,r=I(this),a=["position","top","bottom","left","right","height","width"],s="show"===I.effects.setMode(r,t.mode||"hide"),l="vertical"===(t.direction||"vertical"),c=l?"height":"width",u=l?"top":"left",d={};I.effects.save(r,a),r.show(),n=I.effects.createWrapper(r).css({overflow:"hidden"}),o=(i="IMG"===r[0].tagName?n:r)[c](),s&&(i.css(c,0),i.css(u,o/2)),d[c]=s?o:0,d[u]=s?0:o/2,i.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s||r.hide(),I.effects.restore(r,a),I.effects.removeWrapper(r),e()}})},I.effects.effect.drop=function(t,e){var n,i=I(this),o=["position","top","bottom","left","right","opacity","height","width"],r=I.effects.setMode(i,t.mode||"hide"),a="show"===r,s=t.direction||"left",l="up"===s||"down"===s?"top":"left",c="up"===s||"left"===s?"pos":"neg",u={opacity:a?1:0};I.effects.save(i,o),i.show(),I.effects.createWrapper(i),n=t.distance||i["top"==l?"outerHeight":"outerWidth"](!0)/2,a&&i.css("opacity",0).css(l,"pos"==c?-n:n),u[l]=(a?"pos"==c?"+=":"-=":"pos"==c?"-=":"+=")+n,i.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&i.hide(),I.effects.restore(i,o),I.effects.removeWrapper(i),e()}})},I.effects.effect.explode=function(t,e){var n,i,o,r,a,s,l=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=l,u=I(this),d="show"===I.effects.setMode(u,t.mode||"hide"),h=u.show().css("visibility","hidden").offset(),f=Math.ceil(u.outerWidth()/c),p=Math.ceil(u.outerHeight()/l),g=[];function m(){g.push(this),g.length===l*c&&function(){u.css({visibility:"visible"}),I(g).remove(),d||u.hide();e()}()}for(n=0;n<l;n++)for(r=h.top+n*p,s=n-(l-1)/2,i=0;i<c;i++)o=h.left+i*f,a=i-(c-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-i*f,top:-n*p}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:p,left:o+(d?a*f:0),top:r+(d?s*p:0),opacity:d?0:1}).animate({left:o+(d?0:a*f),top:r+(d?0:s*p),opacity:d?1:0},t.duration||500,t.easing,m)},I.effects.effect.fade=function(t,e){var n=I(this),i=I.effects.setMode(n,t.mode||"toggle");n.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:e})},I.effects.effect.fold=function(t,e){var n,i,o=I(this),r=["position","top","bottom","left","right","height","width"],a=I.effects.setMode(o,t.mode||"hide"),s="show"===a,l="hide"===a,c=t.size||15,u=/([0-9]+)%/.exec(c),d=!!t.horizFirst,h=s!=d,f=h?["width","height"]:["height","width"],p=t.duration/2,g={},m={};I.effects.save(o,r),o.show(),n=I.effects.createWrapper(o).css({overflow:"hidden"}),i=h?[n.width(),n.height()]:[n.height(),n.width()],u&&(c=parseInt(u[1],10)/100*i[l?0:1]),s&&n.css(d?{height:0,width:c}:{height:c,width:0}),g[f[0]]=s?i[0]:c,m[f[1]]=s?i[1]:0,n.animate(g,p,t.easing).animate(m,p,t.easing,function(){l&&o.hide(),I.effects.restore(o,r),I.effects.removeWrapper(o),e()})},I.effects.effect.highlight=function(t,e){var n=I(this),i=["backgroundImage","backgroundColor","opacity"],o=I.effects.setMode(n,t.mode||"show"),r={backgroundColor:n.css("backgroundColor")};"hide"===o&&(r.opacity=0),I.effects.save(n,i),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),I.effects.restore(n,i),e()}})},I.effects.effect.size=function(r,t){var e,n,a,s=I(this),i=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],o=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=I.effects.setMode(s,r.mode||"effect"),h=r.restore||"effect"!==d,f=r.scale||"both",p=r.origin||["middle","center"],g=s.css("position"),m=h?i:["position","top","bottom","left","right","overflow","opacity"],v={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&s.show(),e={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===r.mode&&"show"===d?(s.from=r.to||v,s.to=r.from||e):(s.from=r.from||("show"===d?v:e),s.to=r.to||("hide"===d?v:e)),a={from:{y:s.from.height/e.height,x:s.from.width/e.width},to:{y:s.to.height/e.height,x:s.to.width/e.width}},"box"!==f&&"both"!==f||(a.from.y!==a.to.y&&(m=m.concat(c),s.from=I.effects.setTransition(s,c,a.from.y,s.from),s.to=I.effects.setTransition(s,c,a.to.y,s.to)),a.from.x!==a.to.x&&(m=m.concat(u),s.from=I.effects.setTransition(s,u,a.from.x,s.from),s.to=I.effects.setTransition(s,u,a.to.x,s.to))),"content"!==f&&"both"!==f||a.from.y!==a.to.y&&(m=m.concat(o).concat(l),s.from=I.effects.setTransition(s,o,a.from.y,s.from),s.to=I.effects.setTransition(s,o,a.to.y,s.to)),I.effects.save(s,m),s.show(),I.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),p&&(n=I.effects.getBaseline(p,e),s.from.top=(e.outerHeight-s.outerHeight())*n.y,s.from.left=(e.outerWidth-s.outerWidth())*n.x,s.to.top=(e.outerHeight-s.to.outerHeight)*n.y,s.to.left=(e.outerWidth-s.to.outerWidth)*n.x),s.css(s.from),"content"!==f&&"both"!==f||(c=c.concat(["marginTop","marginBottom"]).concat(o),u=u.concat(["marginLeft","marginRight"]),l=i.concat(c).concat(u),s.find("*[width]").each(function(){var t=I(this),e=t.height(),n=t.width(),i=t.outerHeight(),o=t.outerWidth();h&&I.effects.save(t,l),t.from={height:e*a.from.y,width:n*a.from.x,outerHeight:i*a.from.y,outerWidth:o*a.from.x},t.to={height:e*a.to.y,width:n*a.to.x,outerHeight:e*a.to.y,outerWidth:n*a.to.x},a.from.y!==a.to.y&&(t.from=I.effects.setTransition(t,c,a.from.y,t.from),t.to=I.effects.setTransition(t,c,a.to.y,t.to)),a.from.x!==a.to.x&&(t.from=I.effects.setTransition(t,u,a.from.x,t.from),t.to=I.effects.setTransition(t,u,a.to.x,t.to)),t.css(t.from),t.animate(t.to,r.duration,r.easing,function(){h&&I.effects.restore(t,l)})})),s.animate(s.to,{queue:!1,duration:r.duration,easing:r.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===d&&s.hide(),I.effects.restore(s,m),h||("static"===g?s.css({position:"relative",top:s.to.top,left:s.to.left}):I.each(["top","left"],function(o,t){s.css(t,function(t,e){var n=parseInt(e,10),i=o?s.to.left:s.to.top;return"auto"===e?i+"px":n+i+"px"})})),I.effects.removeWrapper(s),t()}})},I.effects.effect.scale=function(t,e){var n=I(this),i=I.extend(!0,{},t),o=I.effects.setMode(n,t.mode||"effect"),r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===o?0:100),a=t.direction||"both",s=t.origin,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c="horizontal"!==a?r/100:1,u="vertical"!==a?r/100:1;i.effect="size",i.queue=!1,i.complete=e,"effect"!==o&&(i.origin=s||["middle","center"],i.restore=!0),i.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),i.to={height:l.height*c,width:l.width*u,outerHeight:l.outerHeight*c,outerWidth:l.outerWidth*u},i.fade&&("show"===o&&(i.from.opacity=0,i.to.opacity=1),"hide"===o&&(i.from.opacity=1,i.to.opacity=0)),n.effect(i)},I.effects.effect.puff=function(t,e){var n=I(this),i=I.effects.setMode(n,t.mode||"hide"),o="hide"===i,r=parseInt(t.percent,10)||150,a=r/100,s={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};I.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:e,percent:o?r:100,from:o?s:{height:s.height*a,width:s.width*a,outerHeight:s.outerHeight*a,outerWidth:s.outerWidth*a}}),n.effect(t)},I.effects.effect.pulsate=function(t,e){var n,i=I(this),o=I.effects.setMode(i,t.mode||"show"),r="show"===o,a="hide"===o,s=r||"hide"===o,l=2*(t.times||5)+(s?1:0),c=t.duration/l,u=0,d=i.queue(),h=d.length;for(!r&&i.is(":visible")||(i.css("opacity",0).show(),u=1),n=1;n<l;n++)i.animate({opacity:u},c,t.easing),u=1-u;i.animate({opacity:u},c,t.easing),i.queue(function(){a&&i.hide(),e()}),1<h&&d.splice.apply(d,[1,0].concat(d.splice(h,1+l))),i.dequeue()},I.effects.effect.shake=function(t,e){var n,i=I(this),o=["position","top","bottom","left","right","height","width"],r=I.effects.setMode(i,t.mode||"effect"),a=t.direction||"left",s=t.distance||20,l=t.times||3,c=2*l+1,u=Math.round(t.duration/c),d="up"===a||"down"===a?"top":"left",h="up"===a||"left"===a,f={},p={},g={},m=i.queue(),v=m.length;for(I.effects.save(i,o),i.show(),I.effects.createWrapper(i),f[d]=(h?"-=":"+=")+s,p[d]=(h?"+=":"-=")+2*s,g[d]=(h?"-=":"+=")+2*s,i.animate(f,u,t.easing),n=1;n<l;n++)i.animate(p,u,t.easing).animate(g,u,t.easing);i.animate(p,u,t.easing).animate(f,u/2,t.easing).queue(function(){"hide"===r&&i.hide(),I.effects.restore(i,o),I.effects.removeWrapper(i),e()}),1<v&&m.splice.apply(m,[1,0].concat(m.splice(v,1+c))),i.dequeue()},I.effects.effect.slide=function(t,e){var n,i=I(this),o=["position","top","bottom","left","right","width","height"],r=I.effects.setMode(i,t.mode||"show"),a="show"===r,s=t.direction||"left",l="up"===s||"down"===s?"top":"left",c="up"===s||"left"===s,u={};I.effects.save(i,o),i.show(),n=t.distance||i["top"==l?"outerHeight":"outerWidth"](!0),I.effects.createWrapper(i).css({overflow:"hidden"}),a&&i.css(l,c?isNaN(n)?"-"+n:-n:n),u[l]=(a?c?"+=":"-=":c?"-=":"+=")+n,i.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&i.hide(),I.effects.restore(i,o),I.effects.removeWrapper(i),e()}})},I.effects.effect.transfer=function(t,e){var n=I(this),i=I(t.to),o="fixed"===i.css("position"),r=I("body"),a=o?r.scrollTop():0,s=o?r.scrollLeft():0,l=i.offset(),c={top:l.top-a,left:l.left-s,height:i.innerHeight(),width:i.innerWidth()},u=n.offset(),d=I("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:u.top-a,left:u.left-s,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){d.remove(),e()})},I.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=I("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(e.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=I("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),I.widget("ui.selectable",I.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,e=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=I(e.options.filter,e.element[0])).addClass("ui-selectee"),t.each(function(){var t=I(this),e=t.offset();I.data(this,"selectable-item",{element:this,$element:t,left:e.left,top:e.top,right:e.left+t.outerWidth(),bottom:e.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=I("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(n){var i=this,t=this.options;this.opos=[n.pageX,n.pageY],this.options.disabled||(this.selectees=I(t.filter,this.element[0]),this._trigger("start",n),I(t.appendTo).append(this.helper),this.helper.css({left:n.pageX,top:n.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=I.data(this,"selectable-item");t.startselected=!0,n.metaKey||n.ctrlKey||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element}))}),I(n.target).parents().addBack().each(function(){var t,e=I.data(this,"selectable-item");if(e)return t=!n.metaKey&&!n.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(t?"ui-unselecting":"ui-selected").addClass(t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?i._trigger("selecting",n,{selecting:e.element}):i._trigger("unselecting",n,{unselecting:e.element}),!1}))},_mouseDrag:function(n){if(this.dragged=!0,!this.options.disabled){var t,i=this,o=this.options,r=this.opos[0],a=this.opos[1],s=n.pageX,l=n.pageY;return s<r&&(t=s,s=r,r=t),l<a&&(t=l,l=a,a=t),this.helper.css({left:r,top:a,width:s-r,height:l-a}),this.selectees.each(function(){var t=I.data(this,"selectable-item"),e=!1;t&&t.element!==i.element[0]&&("touch"===o.tolerance?e=!(t.left>s||t.right<r||t.top>l||t.bottom<a):"fit"===o.tolerance&&(e=t.left>r&&t.right<s&&t.top>a&&t.bottom<l),e?(t.selected&&(t.$element.removeClass("ui-selected"),t.selected=!1),t.unselecting&&(t.$element.removeClass("ui-unselecting"),t.unselecting=!1),t.selecting||(t.$element.addClass("ui-selecting"),t.selecting=!0,i._trigger("selecting",n,{selecting:t.element}))):(t.selecting&&((n.metaKey||n.ctrlKey)&&t.startselected?(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.$element.addClass("ui-selected"),t.selected=!0):(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.startselected&&(t.$element.addClass("ui-unselecting"),t.unselecting=!0),i._trigger("unselecting",n,{unselecting:t.element}))),t.selected&&(n.metaKey||n.ctrlKey||t.startselected||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,I(".ui-unselecting",this.element[0]).each(function(){var t=I.data(this,"selectable-item");t.$element.removeClass("ui-unselecting"),t.unselecting=!1,t.startselected=!1,n._trigger("unselected",e,{unselected:t.element})}),I(".ui-selecting",this.element[0]).each(function(){var t=I.data(this,"selectable-item");t.$element.removeClass("ui-selecting").addClass("ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,n._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),I.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=I("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=I("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),I("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=I("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var i=this;this.menu=I("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=I("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,e){t.preventDefault(),i._setSelection(),i._select(e.item.data("ui-selectmenu-item"),t)},focus:function(t,e){var n=e.item.data("ui-selectmenu-item");null!=i.focusIndex&&n.index!==i.focusIndex&&(i._trigger("focus",t,{item:n}),i.isOpen||i._select(n,t)),i.focusIndex=n.index,i.button.attr("aria-activedescendant",i.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(I.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(n,t){var i=this,o="";I.each(t,function(t,e){e.optgroup!==o&&(I("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(e.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:e.optgroup}).appendTo(n),o=e.optgroup),i._renderItemData(n,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(t,e){var n=I("<li>");return e.disabled&&n.addClass("ui-state-disabled"),this._setText(n,e.label),n.appendTo(t)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,o=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),o+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](o).eq(-1):n[t+"All"](o).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(I(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(t){var e=!0;switch(t.keyCode){case I.ui.keyCode.TAB:case I.ui.keyCode.ESCAPE:this.close(t),e=!1;break;case I.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case I.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case I.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case I.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case I.ui.keyCode.LEFT:this._move("prev",t);break;case I.ui.keyCode.RIGHT:this._move("next",t);break;case I.ui.keyCode.HOME:case I.ui.keyCode.PAGE_UP:this._move("first",t);break;case I.ui.keyCode.END:case I.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),e=!1}e&&t.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return(t=t&&(t.jquery||t.nodeType?I(t):this.document.find(t).eq(0)))&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var o=[];t.each(function(t,e){var n=I(e),i=n.parent("optgroup");o.push({element:n,index:t,value:n.val(),label:n.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||n.prop("disabled")})}),this.items=o},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),I.widget("ui.slider",I.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,e,n=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(e=n.values&&n.values.length||1,i.length>e&&(i.slice(e).remove(),i=i.slice(0,e)),t=i.length;t<e;t++)o.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=i.add(I(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){I(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,e="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:I.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=I("<div></div>").appendTo(this.element),e="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(e+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var e,n,i,o,r,a,s,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(n-l.values(t));(e<i||i===e&&(t===l._lastChangedValue||l.values(t)===c.min))&&(i=e,o=I(this),r=t)}),!1!==this._start(t,r)&&(this._mouseSliding=!0,this._handleIndex=r,o.addClass("ui-state-active").focus(),a=o.offset(),s=!I(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=s?{left:0,top:0}:{left:t.pageX-a.left-o.width()/2,top:t.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,r,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,o;return 1<(n=("horizontal"===this.orientation?(e=this.elementSize.width,t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)))/e)&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),i=this._valueMax()-this._valueMin(),o=this._valueMin()+n*i,this._trimAlignValue(o)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,o,r;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i<n||1===e&&n<i)&&(n=i),n!==this.values(e)&&((o=this.values())[e]=n,r=this._trigger("slide",t,{handle:this.handles[e],value:n,values:o}),i=this.values(e?0:1),!1!==r&&this.values(e,n))):n!==this.value()&&!1!==(r=this._trigger("slide",t,{handle:this.handles[e],value:n}))&&this.value(n)},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var n,i,o;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!I.isArray(t))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,i=t,o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(i[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,e){var n,i=0;switch("range"===t&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),I.isArray(this.options.values)&&(i=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e),this._super(t,e),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===e?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<i;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=0<n?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;t=Math.floor(+(t-e).toFixed(this._precision())/n)*n+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,n,t,i,o,r=this.options.range,a=this.options,s=this,l=!this._animateOff&&a.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(t){n=(s.values(t)-s._valueMin())/(s._valueMax()-s._valueMin())*100,c["horizontal"===s.orientation?"left":"bottom"]=n+"%",I(this).stop(1,1)[l?"animate":"css"](c,a.animate),!0===s.options.range&&("horizontal"===s.orientation?(0===t&&s.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},a.animate),1===t&&s.range[l?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===t&&s.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},a.animate),1===t&&s.range[l?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(t=this.value(),i=this._valueMin(),o=this._valueMax(),n=o!==i?(t-i)/(o-i)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](c,a.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},a.animate),"max"===r&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:a.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},a.animate),"max"===r&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(t){var e,n,i,o=I(t.target).data("ui-slider-handle-index");switch(t.keyCode){case I.ui.keyCode.HOME:case I.ui.keyCode.END:case I.ui.keyCode.PAGE_UP:case I.ui.keyCode.PAGE_DOWN:case I.ui.keyCode.UP:case I.ui.keyCode.RIGHT:case I.ui.keyCode.DOWN:case I.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,I(t.target).addClass("ui-state-active"),!1===this._start(t,o)))return}switch(i=this.options.step,e=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case I.ui.keyCode.HOME:n=this._valueMin();break;case I.ui.keyCode.END:n=this._valueMax();break;case I.ui.keyCode.PAGE_UP:n=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case I.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case I.ui.keyCode.UP:case I.ui.keyCode.RIGHT:if(e===this._valueMax())return;n=this._trimAlignValue(e+i);break;case I.ui.keyCode.DOWN:case I.ui.keyCode.LEFT:if(e===this._valueMin())return;n=this._trimAlignValue(e-i)}this._slide(t,o,n)},keyup:function(t){var e=I(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),I(t.target).removeClass("ui-state-active"))}}}),I.widget("ui.sortable",I.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return e<=t&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),I.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var n=null,i=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),I(t.target).parents().each(function(){if(I.data(this,o.widgetName+"-item")===o)return n=I(this),!1}),I.data(t.target,o.widgetName+"-item")===o&&(n=I(t.target)),!!n&&(!(this.options.handle&&!e&&(I(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,n){var i,o,r=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},I.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=I("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return I.ui.ddmanager&&(I.ui.ddmanager.current=this),I.ui.ddmanager&&!r.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,n,i,o,r=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-this.document.scrollTop()<r.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<r.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),t.pageX-this.document.scrollLeft()<r.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),!1!==a&&I.ui.ddmanager&&!r.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(i=(n=this.items[e]).item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===i||I.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&I.contains(this.element[0],i))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),I.ui.ddmanager&&I.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(I.ui.ddmanager&&!this.options.dropBehaviour&&I.ui.ddmanager.drop(this,t),this.options.revert){var n=this,i=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,I(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),I.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?I(this.domPosition.prev).after(this.currentItem):I(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},I(t).each(function(){var t=(I(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&n.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e.each(function(){n.push(I(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=t.left,a=r+t.width,s=t.top,l=s+t.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s<i+c&&i+c<l,h="y"===this.options.axis||r<e+u&&e+u<a,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:r<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return!!i&&(this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){var e,n,i,o,r=[],a=[],s=this._connectWith();if(s&&t)for(e=s.length-1;0<=e;e--)for(n=(i=I(s[e],this.document[0])).length-1;0<=n;n--)(o=I.data(i[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([I.isFunction(o.options.items)?o.options.items.call(o.element):I(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function l(){r.push(this)}for(a.push([I.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):I(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),e=a.length-1;0<=e;e--)a[e][0].each(l);return I(r)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=I.grep(this.items,function(t){for(var e=0;e<n.length;e++)if(n[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,n,i,o,r,a,s,l,c=this.items,u=[[I.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):I(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(e=d.length-1;0<=e;e--)for(n=(i=I(d[e],this.document[0])).length-1;0<=n;n--)(o=I.data(i[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([I.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):I(o.options.items,o.element),o]),this.containers.push(o));for(e=u.length-1;0<=e;e--)for(r=u[e][1],n=0,l=(a=u[e][0]).length;n<l;n++)(s=I(a[n])).data(this.widgetName+"-item",r),c.push({item:s,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,n,i,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(n=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?I(this.options.toleranceElement,n.item):n.item,t||(n.width=i.outerWidth(),n.height=i.outerHeight()),o=i.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)o=this.containers[e].element.offset(),this.containers[e].containerCache.left=o.left,this.containers[e].containerCache.top=o.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(n){var i,o=(n=n||this).options;o.placeholder&&o.placeholder.constructor!==String||(i=o.placeholder,o.placeholder={element:function(){var t=n.currentItem[0].nodeName.toLowerCase(),e=I("<"+t+">",n.document[0]).addClass(i||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===t?n._createTrPlaceholder(n.currentItem.find("tr").eq(0),I("<tr>",n.document[0]).appendTo(e)):"tr"===t?n._createTrPlaceholder(n.currentItem,e):"img"===t&&e.attr("src",n.currentItem.attr("src")),i||e.css("visibility","hidden"),e},update:function(t,e){i&&!o.forcePlaceholderSize||(e.height()||e.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=I(o.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),o.placeholder.update(n,n.placeholder)},_createTrPlaceholder:function(t,e){var n=this;t.children().each(function(){I("<td>&#160;</td>",n.document[0]).attr("colspan",I(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){var e,n,i,o,r,a,s,l,c,u,d=null,h=null;for(e=this.containers.length-1;0<=e;e--)if(!I.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(d&&I.contains(this.containers[e].element[0],d.element[0]))continue;d=this.containers[e],h=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(i=1e4,o=null,r=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",u=c?"clientX":"clientY",n=this.items.length-1;0<=n;n--)I.contains(this.containers[h].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(s=this.items[n].item.offset()[r],l=!1,t[u]-s>this.items[n][a]/2&&(l=!0),Math.abs(t[u]-s)<i&&(i=Math.abs(t[u]-s),o=this.items[n],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return void(this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[h].element,!0),this._trigger("change",t,this._uiHash()),this.containers[h]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(t){var e=this.options,n=I.isFunction(e.helper)?I(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||I("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!e.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!e.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),I.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&I.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&I.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=I(i.containment)[0],e=I(i.containment).offset(),n="hidden"!==I(t).css("overflow"),this.containment=[e.left+(parseInt(I(t).css("borderLeftWidth"),10)||0)+(parseInt(I(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(I(t).css("borderTopWidth"),10)||0)+(parseInt(I(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(I(t).css("borderLeftWidth"),10)||0)-(parseInt(I(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(I(t).css("borderTopWidth"),10)||0)-(parseInt(I(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e=e||this.position;var n="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&I.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*n}},_generatePosition:function(t){var e,n,i=this.options,o=t.pageX,r=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&I.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),i.grid&&(e=this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1],r=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-i.grid[1]:e+i.grid[1]:e,n=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function o(e,n,i){return function(t){i._trigger(e,t,n._uiHash(n))}}for(this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(i.push(function(t){this._trigger("remove",t,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;0<=n;n--)e||i.push(o("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(o("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===I.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||I([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}});function X(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}var Z;I.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i={},o=this.element;return I.each(["min","max","step"],function(t,e){var n=o.attr(e);void 0!==n&&n.length&&(i[e]=n)}),i},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){var e;function n(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e}))}e=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(t)&&this._repeat(null,I(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(I(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,I(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&0<t.height()&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(t){var e=this.options,n=I.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,e.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?I.isFunction(e)?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var n=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(n))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:X(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:X(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:X(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:X(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:X(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());X(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),I.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(Z=/#.*$/,function(t){var e,n;e=(t=t.cloneNode(!1)).href.replace(Z,""),n=location.href.replace(Z,"");try{e=decodeURIComponent(e)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return 1<t.hash.length&&e===n}),_create:function(){var e=this,t=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible),this._processTabs(),t.active=this._initialActive(),I.isArray(t.disabled)&&(t.disabled=I.unique(t.disabled.concat(I.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(t.active):this.active=I(),this._refresh(),this.active.length&&this.load(t.active)},_initialActive:function(){var n=this.options.active,t=this.options.collapsible,i=location.hash.substring(1);return null===n&&(i&&this.tabs.each(function(t,e){if(I(e).attr("aria-controls")===i)return n=t,!1}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==n&&-1!==n||(n=!!this.tabs.length&&0)),!1!==n&&-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!t&&0),!t&&!1===n&&this.anchors.length&&(n=0),n},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):I()}},_tabKeydown:function(t){var e=I(this.document[0].activeElement).closest("li"),n=this.tabs.index(e),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case I.ui.keyCode.RIGHT:case I.ui.keyCode.DOWN:n++;break;case I.ui.keyCode.UP:case I.ui.keyCode.LEFT:i=!1,n--;break;case I.ui.keyCode.END:n=this.anchors.length-1;break;case I.ui.keyCode.HOME:n=0;break;case I.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case I.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,i),t.ctrlKey||t.metaKey||(e.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===I.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===I.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===I.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){var n=this.tabs.length-1;for(;-1!==I.inArray((n<t&&(t=0),t<0&&(t=n),t),this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){"active"!==t?"disabled"!==t?(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._setupDisabled(e):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=I.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!I.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=I()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=I()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,t=this.tabs,e=this.anchors,n=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){I(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){I(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return I("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=I(),this.anchors.each(function(t,e){var n,i,o,r=I(e).uniqueId().attr("id"),a=I(e).closest("li"),s=a.attr("aria-controls");l._isLocal(e)?(o=(n=e.hash).substring(1),i=l.element.find(l._sanitizeSelector(n))):(n="#"+(o=a.attr("aria-controls")||I({}).uniqueId()[0].id),(i=l.element.find(n)).length||(i=l._createPanel(o)).insertAfter(l.panels[t-1]||l.tablist),i.attr("aria-live","polite")),i.length&&(l.panels=l.panels.add(i)),s&&a.data("ui-tabs-aria-controls",s),a.attr({"aria-controls":o,"aria-labelledby":r}),i.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),t&&(this._off(t.not(this.tabs)),this._off(e.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return I("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){I.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var e,n=0;e=this.tabs[n];n++)!0===t||-1!==I.inArray(n,t)?I(e).addClass("ui-state-disabled").attr("aria-disabled","true"):I(e).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={};t&&I.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,e=this.element.parent();"fill"===t?(n=e.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=I(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=I(this).outerHeight(!0)}),this.panels.each(function(){I(this).height(Math.max(0,n-I(this).innerHeight()+I(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,I(this).height("").height())}).height(n))},_eventHandler:function(t){var e=this.options,n=this.active,i=I(t.currentTarget).closest("li"),o=i[0]===n[0],r=o&&e.collapsible,a=r?I():this._getPanelForTab(i),s=n.length?this._getPanelForTab(n):I(),l={oldTab:n,oldPanel:s,newTab:r?I():i,newPanel:a};t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||o&&!e.collapsible||!1===this._trigger("beforeActivate",t,l)||(e.active=!r&&this.tabs.index(i),this.active=o?I():i,this.xhr&&this.xhr.abort(),s.length||a.length||I.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(i),t),this._toggle(t,l))},_toggle:function(t,e){var n=this,i=e.newPanel,o=e.oldPanel;function r(){n.running=!1,n._trigger("activate",t,e)}function a(){e.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),i.length&&n.options.show?n._show(i,n.options.show,r):(i.show(),r())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a()}):(e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),a()),o.attr("aria-hidden","true"),e.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&o.length?e.oldTab.attr("tabIndex",-1):i.length&&this.tabs.filter(function(){return 0===I(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false"),e.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var e,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),e=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:I.noop}))},_findActive:function(t){return!1===t?I():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){I.data(this,"ui-tabs-destroy")?I(this).remove():I(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=I(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var t=this.options.disabled;!1!==t&&(t=void 0!==n&&(n=this._getIndex(n),I.isArray(t)?I.map(t,function(t){return t!==n?t:null}):I.map(this.tabs,function(t,e){return e!==n?e:null})),this._setupDisabled(t))},disable:function(t){var e=this.options.disabled;if(!0!==e){if(void 0===t)e=!0;else{if(t=this._getIndex(t),-1!==I.inArray(t,e))return;e=I.isArray(e)?I.merge([t],e).sort():[t]}this._setupDisabled(e)}},load:function(t,i){t=this._getIndex(t);function o(t,e){"abort"===e&&r.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),t===r.xhr&&delete r.xhr}var r=this,n=this.tabs.eq(t),e=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),s={tab:n,panel:a};this._isLocal(e[0])||(this.xhr=I.ajax(this._ajaxSettings(e,i,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),r._trigger("load",i,s),o(n,e)},1)}).fail(function(t,e){setTimeout(function(){o(t,e)},1)})))},_ajaxSettings:function(t,n,i){var o=this;return{url:t.attr("href"),beforeSend:function(t,e){return o._trigger("beforeLoad",n,I.extend({jqXHR:t,ajaxSettings:e},i))}}},_getPanelForTab:function(t){var e=I(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}}),I.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=I(this).attr("title")||"";return I("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,e){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(e),t.data("ui-tooltip-id",e).attr("aria-describedby",I.trim(n.join(" ")))},_removeDescribedBy:function(t){var e=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),i=I.inArray(e,n);-1!==i&&n.splice(i,1),t.removeData("ui-tooltip-id"),(n=I.trim(n.join(" ")))?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=I("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,e){var n=this;if("disabled"===t)return this[e?"_disable":"_enable"](),void(this.options[t]=e);this._super(t,e),"content"===t&&I.each(this.tooltips,function(t,e){n._updateContent(e.element)})},_disable:function(){var i=this;I.each(this.tooltips,function(t,e){var n=I.Event("blur");n.target=n.currentTarget=e.element[0],i.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=I(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=I(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,e=I(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=I(this);e.data("ui-tooltip-open")&&((t=I.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),e.attr("title")&&(e.uniqueId(),n.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._registerCloseHandlers(t,e),this._updateContent(e,t))},_updateContent:function(e,n){var t,i=this.options.content,o=this,r=n?n.type:null;if("string"==typeof i)return this._open(n,e,i);(t=i.call(e[0],function(t){o._delay(function(){e.data("ui-tooltip-open")&&(n&&(n.type=r),this._open(n,e,t))})}))&&this._open(n,e,t)},_open:function(t,e,n){var i,o,r,a,s=I.extend({},this.options.position);function l(t){s.of=t,o.is(":hidden")||o.position(s)}n&&((i=this._find(e))?i.tooltip.find(".ui-tooltip-content").html(n):(e.is("[title]")&&(t&&"mouseover"===t.type?e.attr("title",""):e.removeAttr("title")),i=this._tooltip(e),o=i.tooltip,this._addDescribedBy(e,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(a=n.clone()).removeAttr("id").find("[id]").removeAttr("id"):a=n,I("<div>").html(a).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:l}),l(t)):o.position(I.extend({of:e},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(":visible")&&(l(s.of),clearInterval(r))},I.fx.interval)),this._trigger("open",t,{tooltip:o})))},_registerCloseHandlers:function(t,n){var e={keyup:function(t){if(t.keyCode===I.ui.keyCode.ESCAPE){var e=I.Event(t);e.currentTarget=n[0],this.close(e,!0)}}};n[0]!==this.element[0]&&(e.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(e.mouseleave="close"),t&&"focusin"!==t.type||(e.focusout="close"),this._on(!0,n,e)},close:function(t){var e,n=this,i=I(t?t.currentTarget:this.element),o=this._find(i);o?(e=o.tooltip,o.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),o.hiding=!0,e.stop(!0),this._hide(e,this.options.hide,function(){n._removeTooltip(I(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&I.each(this.parents,function(t,e){I(e.element).attr("title",e.title),delete n.parents[t]}),o.closing=!0,this._trigger("close",t,{tooltip:e}),o.hiding||(o.closing=!1))):i.removeData("ui-tooltip-open")},_tooltip:function(t){var e=I("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=e.uniqueId().attr("id");return I("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),this.tooltips[n]={element:t,tooltip:e}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var o=this;I.each(this.tooltips,function(t,e){var n=I.Event("blur"),i=e.element;n.target=n.currentTarget=i[0],o.close(n,!0),I("#"+t).remove(),i.data("ui-tooltip-title")&&(i.attr("title")||i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),function(t){function e(t,e){if(!(1<t.originalEvent.touches.length)){t.preventDefault();var n=t.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i)}}if(t.support.touch="ontouchend"in document,t.support.touch){var n,i=t.ui.mouse.prototype,o=i._mouseInit,r=i._mouseDestroy;i._touchStart=function(t){!n&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},i._touchMove=function(t){n&&(this._touchMoved=!0,e(t,"mousemove"))},i._touchEnd=function(t){n&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),n=!1)},i._mouseInit=function(){this.element.bind({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),o.call(this)},i._mouseDestroy=function(){this.element.unbind({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),r.call(this)}}}(jQuery),window.Modernizr=function(i,d,a){function n(t){m.cssText=t}function r(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var n in t){var i=t[n];if(!o(i,"-")&&m[i]!==a)return"pfx"!=e||i}return!1}function l(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+w.join(i+" ")+i).split(" ");return r(e,"string")||r(e,"undefined")?s(o,e):function(t,e,n){for(var i in t){var o=e[t[i]];if(o!==a)return!1===n?t[i]:r(o,"function")?o.bind(n||e):o}return!1}(o=(t+" "+T.join(i+" ")+i).split(" "),e,n)}function c(t,e,n,i){var o,r,a,s,l=d.createElement("div"),c=d.body,u=c||d.createElement("body");if(parseInt(n,10))for(;n--;)(a=d.createElement("div")).id=i?i[n]:g+(n+1),l.appendChild(a);return o=["&#173;",'<style id="s',g,'">',t,"</style>"].join(""),l.id=g,(c?l:u).innerHTML+=o,u.appendChild(l),c||(u.style.background="",u.style.overflow="hidden",s=p.style.overflow,p.style.overflow="hidden",p.appendChild(u)),r=e(l,t),c?l.parentNode.removeChild(l):(u.parentNode.removeChild(u),p.style.overflow=s),!!r}var t,u,h,f={},p=d.documentElement,g="modernizr",e=d.createElement(g),m=e.style,v=d.createElement("input"),y=":)",b={}.toString,_=" -webkit- -moz- -o- -ms- ".split(" "),E="Webkit Moz O ms",w=E.split(" "),T=E.toLowerCase().split(" "),C="http://www.w3.org/2000/svg",x={},D={},O={},I=[],k=I.slice,S=(h={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(t,e){e=e||d.createElement(h[t]||"div");var n=(t="on"+t)in e;return n||(e.setAttribute||(e=d.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(t,""),n=r(e[t],"function"),r(e[t],"undefined")||(e[t]=a),e.removeAttribute(t))),e=null,n}),R={}.hasOwnProperty;for(var A in u=r(R,"undefined")||r(R.call,"undefined")?function(t,e){return e in t&&r(t.constructor.prototype[e],"undefined")}:function(t,e){return R.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(i){var o=this;if("function"!=typeof o)throw new TypeError;var r=k.call(arguments,1),a=function(){if(this instanceof a){function t(){}t.prototype=o.prototype;var e=new t,n=o.apply(e,r.concat(k.call(arguments)));return Object(n)===n?n:e}return o.apply(i,r.concat(k.call(arguments)))};return a}),x.flexbox=function(){return l("flexWrap")},x.canvas=function(){var t=d.createElement("canvas");return!!t.getContext&&!!t.getContext("2d")},x.canvastext=function(){return!!f.canvas&&!!r(d.createElement("canvas").getContext("2d").fillText,"function")},x.webgl=function(){return!!i.WebGLRenderingContext},x.touch=function(){var e;return"ontouchstart"in i||i.DocumentTouch&&d instanceof DocumentTouch?e=!0:c(["@media (",_.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){e=9===t.offsetTop}),e},x.geolocation=function(){return"geolocation"in navigator},x.postmessage=function(){return!!i.postMessage},x.websqldatabase=function(){return!!i.openDatabase},x.indexedDB=function(){return!!l("indexedDB",i)},x.hashchange=function(){return S("hashchange",i)&&(d.documentMode===a||7<d.documentMode)},x.history=function(){return!!i.history&&!!history.pushState},x.draganddrop=function(){var t=d.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},x.websockets=function(){return"WebSocket"in i||"MozWebSocket"in i},x.rgba=function(){return n("background-color:rgba(150,255,150,.5)"),o(m.backgroundColor,"rgba")},x.hsla=function(){return n("background-color:hsla(120,40%,100%,.5)"),o(m.backgroundColor,"rgba")||o(m.backgroundColor,"hsla")},x.multiplebgs=function(){return n("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(m.background)},x.backgroundsize=function(){return l("backgroundSize")},x.borderimage=function(){return l("borderImage")},x.borderradius=function(){return l("borderRadius")},x.boxshadow=function(){return l("boxShadow")},x.textshadow=function(){return""===d.createElement("div").style.textShadow},x.opacity=function(){return function(t,e){n(_.join(t+";")+(e||""))}("opacity:.55"),/^0.55$/.test(m.opacity)},x.cssanimations=function(){return l("animationName")},x.csscolumns=function(){return l("columnCount")},x.cssgradients=function(){var t="background-image:";return n((t+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+t)+_.join("linear-gradient(left top,#9f9, white);"+t)).slice(0,-t.length)),o(m.backgroundImage,"gradient")},x.cssreflections=function(){return l("boxReflect")},x.csstransforms=function(){return!!l("transform")},x.csstransforms3d=function(){var n=!!l("perspective");return n&&"webkitPerspective"in p.style&&c("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,e){n=9===t.offsetLeft&&3===t.offsetHeight}),n},x.csstransitions=function(){return l("transition")},x.fontface=function(){var r;return c('@font-face {font-family:"font";src:url("https://")}',function(t,e){var n=d.getElementById("smodernizr"),i=n.sheet||n.styleSheet,o=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"";r=/src/i.test(o)&&0===o.indexOf(e.split(" ")[0])}),r},x.generatedcontent=function(){var e;return c(["#",g,"{font:0/0 a}#",g,':after{content:"',y,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=3<=t.offsetHeight}),e},x.video=function(){var t=d.createElement("video"),e=!1;try{(e=!!t.canPlayType)&&((e=new Boolean(e)).ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),e.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),e.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return e},x.audio=function(){var t=d.createElement("audio"),e=!1;try{(e=!!t.canPlayType)&&((e=new Boolean(e)).ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),e.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),e.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),e.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(t){}return e},x.localstorage=function(){try{return localStorage.setItem(g,g),localStorage.removeItem(g),!0}catch(t){return!1}},x.sessionstorage=function(){try{return sessionStorage.setItem(g,g),sessionStorage.removeItem(g),!0}catch(t){return!1}},x.webworkers=function(){return!!i.Worker},x.applicationcache=function(){return!!i.applicationCache},x.svg=function(){return!!d.createElementNS&&!!d.createElementNS(C,"svg").createSVGRect},x.inlinesvg=function(){var t=d.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==C},x.smil=function(){return!!d.createElementNS&&/SVGAnimate/.test(b.call(d.createElementNS(C,"animate")))},x.svgclippaths=function(){return!!d.createElementNS&&/SVGClipPath/.test(b.call(d.createElementNS(C,"clipPath")))},x)u(x,A)&&(t=A.toLowerCase(),f[t]=x[A](),I.push((f[t]?"":"no-")+t));return f.input||(f.input=function(t){for(var e=0,n=t.length;e<n;e++)O[t[e]]=t[e]in v;return O.list&&(O.list=!!d.createElement("datalist")&&!!i.HTMLDataListElement),O}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(t){for(var e,n,i,o=0,r=t.length;o<r;o++)v.setAttribute("type",n=t[o]),(e="text"!==v.type)&&(v.value=y,v.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(n)&&v.style.WebkitAppearance!==a?(p.appendChild(v),e=(i=d.defaultView).getComputedStyle&&"textfield"!==i.getComputedStyle(v,null).WebkitAppearance&&0!==v.offsetHeight,p.removeChild(v)):/^(search|tel)$/.test(n)||(e=/^(url|email)$/.test(n)?v.checkValidity&&!1===v.checkValidity():v.value!=y)),D[t[o]]=!!e;return D}("search tel url email datetime date month week time datetime-local number range color".split(" "))),f.addTest=function(t,e){if("object"==typeof t)for(var n in t)u(t,n)&&f.addTest(n,t[n]);else{if(t=t.toLowerCase(),f[t]!==a)return f;e="function"==typeof e?e():e,p.className+=" "+(e?"":"no-")+t,f[t]=e}return f},n(""),e=v=null,function(t,a){function s(){var t=p.elements;return"string"==typeof t?t.split(" "):t}function l(t){var e=f[t[d]];return e||(e={},h++,t[d]=h,f[h]=e),e}function i(t,e,n){return e=e||a,c?e.createElement(t):!(i=(n=n||l(e)).cache[t]?n.cache[t].cloneNode():u.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t)).canHaveChildren||r.test(t)||i.tagUrn?i:n.frag.appendChild(i);var i}function e(t){var e=l(t=t||a);return!p.shivCSS||n||e.hasCSS||(e.hasCSS=!!function(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||function(e,n){n.cache||(n.cache={},n.createElem=e.createElement,n.createFrag=e.createDocumentFragment,n.frag=n.createFrag()),e.createElement=function(t){return p.shivMethods?i(t,e,n):n.createElem(t)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+s().join().replace(/[\w\-]+/g,function(t){return n.createElem(t),n.frag.createElement(t),'c("'+t+'")'})+");return n}")(p,n.frag)}(t,e),t}var n,c,o=t.html5||{},r=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,u=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,d="_html5shiv",h=0,f={};!function(){try{var t=a.createElement("a");t.innerHTML="<xyz></xyz>",n="hidden"in t,c=1==t.childNodes.length||function(){a.createElement("a");var t=a.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){c=n=!0}}();var p={elements:o.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==o.shivCSS,supportsUnknownElements:c,shivMethods:!1!==o.shivMethods,type:"default",shivDocument:e,createElement:i,createDocumentFragment:function(t,e){if(t=t||a,c)return t.createDocumentFragment();for(var n=(e=e||l(t)).frag.cloneNode(),i=0,o=s(),r=o.length;i<r;i++)n.createElement(o[i]);return n}};t.html5=p,e(a)}(this,d),f._version="2.8.3",f._prefixes=_,f._domPrefixes=T,f._cssomPrefixes=w,f.mq=function(t){var e,n=i.matchMedia||i.msMatchMedia;return n?n(t)&&n(t).matches||!1:(c("@media "+t+" { #"+g+" { position: absolute; } }",function(t){e="absolute"==(i.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),e)},f.hasEvent=S,f.testProp=function(t){return s([t])},f.testAllProps=l,f.testStyles=c,f.prefixed=function(t,e,n){return e?l(t,e,n):l(t,"pfx")},p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+I.join(" "),f}(this,this.document),function(t,h){function d(t){return"[object Function]"==o.call(t)}function f(t){return"string"==typeof t}function p(){}function g(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function m(){var t=_.shift();E=1,t?t.t?y(function(){("c"==t.t?v.injectCss:v.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),m()):E=0}function e(t,e,n,i,o){return E=0,e=e||"j",f(t)?function(n,i,t,e,o,r,a){function s(t){if(!c&&g(l.readyState)&&(d.r=c=1,E||m(),l.onload=l.onreadystatechange=null,t))for(var e in"img"!=n&&y(function(){T.removeChild(l)},50),x[i])x[i].hasOwnProperty(e)&&x[i][e].onload()}a=a||v.errorTimeout;var l=h.createElement(n),c=0,u=0,d={t:t,s:i,e:o,a:r,x:a};1===x[i]&&(u=1,x[i]=[]),"object"==n?l.data=i:(l.src=i,l.type=n),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){s.call(this,u)},_.splice(e,0,d),"img"!=n&&(u||2===x[i]?(T.insertBefore(l,w?null:b),y(s,a)):x[i].push(l))}("c"==e?l:a,t,e,this.i++,n,i,o):(_.splice(this.i++,0,t),1==_.length&&m()),this}function s(){var t=v;return t.loader={load:e,i:0},t}var n,v,i=h.documentElement,y=t.setTimeout,b=h.getElementsByTagName("script")[0],o={}.toString,_=[],E=0,r="MozAppearance"in i.style,w=r&&!!h.createRange().compareNode,T=w?i:b.parentNode,a=(i=t.opera&&"[object Opera]"==o.call(t.opera),i=!!h.attachEvent&&!i,r?"object":i?"script":"img"),l=i?"script":a,c=Array.isArray||function(t){return"[object Array]"==o.call(t)},C=[],x={},D={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};(v=function(t){function u(t,e,n,i,o){var r=function(t){t=t.split("!");var e,n,i,o=C.length,r=t.pop(),a=t.length;for(r={url:r,origUrl:r,prefixes:t},n=0;n<a;n++)i=t[n].split("="),(e=D[i.shift()])&&(r=e(r,i));for(n=0;n<o;n++)r=C[n](r);return r}(t),a=r.autoCallback;r.url.split(".").pop().split("?").shift(),r.bypass||(e=e&&(d(e)?e:e[t]||e[i]||e[t.split("/").pop().split("?")[0]]),r.instead?r.instead(t,e,n,i,o):(x[r.url]?r.noexec=!0:x[r.url]=1,n.load(r.url,r.forceCSS||!r.forceJS&&"css"==r.url.split(".").pop().split("?").shift()?"c":void 0,r.noexec,r.attrs,r.timeout),(d(e)||d(a))&&n.load(function(){s(),e&&e(r.origUrl,o,i),a&&a(r.origUrl,o,i),x[r.url]=2})))}function e(t,e){function n(n,t){if(n){if(f(n))t||(s=function(){var t=[].slice.call(arguments);l.apply(this,t),c()}),u(n,s,e,0,r);else if(Object(n)===n)for(o in i=function(){var t,e=0;for(t in n)n.hasOwnProperty(t)&&e++;return e}(),n)n.hasOwnProperty(o)&&(t||--i||(d(s)?s=function(){var t=[].slice.call(arguments);l.apply(this,t),c()}:s[o]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[o])),u(n[o],s,e,o,r))}else t||c()}var i,o,r=!!t.test,a=t.load||t.both,s=t.callback||p,l=s,c=t.complete||p;n(r?t.yep:t.nope,!!a),a&&n(a)}var n,i,o=this.yepnope.loader;if(f(t))u(t,0,o,0);else if(c(t))for(n=0;n<t.length;n++)f(i=t[n])?u(i,0,o,0):c(i)?v(i):Object(i)===i&&e(i,o);else Object(t)===t&&e(t,o)}).addPrefix=function(t,e){D[t]=e},v.addFilter=function(t){C.push(t)},v.errorTimeout=1e4,null==h.readyState&&h.addEventListener&&(h.readyState="loading",h.addEventListener("DOMContentLoaded",n=function(){h.removeEventListener("DOMContentLoaded",n,0),h.readyState="complete"},0)),t.yepnope=s(),t.yepnope.executeStack=m,t.yepnope.injectJs=function(t,e,n,i,o,r){var a,s,l=h.createElement("script");i=i||v.errorTimeout;for(s in l.src=t,n)l.setAttribute(s,n[s]);e=r?m:e||p,l.onreadystatechange=l.onload=function(){!a&&g(l.readyState)&&(a=1,e(),l.onload=l.onreadystatechange=null)},y(function(){a||e(a=1)},i),o?l.onload():b.parentNode.insertBefore(l,b)},t.yepnope.injectCss=function(t,e,n,i,o,r){var a;i=h.createElement("link"),e=r?m:e||p;for(a in i.href=t,i.rel="stylesheet",i.type="text/css",n)i.setAttribute(a,n[a]);o||(b.parentNode.insertBefore(i,b),y(e,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(t){"use strict";var e,n,i,o,r,a;t.matchMedia=t.matchMedia||(e=t.document,i=e.documentElement,o=i.firstElementChild||i.firstChild,r=e.createElement("body"),(a=e.createElement("div")).id="mq-test-1",a.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(a),function(t){return a.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(r,o),n=42===a.offsetWidth,i.removeChild(r),{matches:n,media:t}})}(this),function(v){"use strict";function t(){k(!0)}var f={};(v.respond=f).update=function(){};function n(t,e){var n=i();n&&(n.open("GET",t,!0),n.onreadystatechange=function(){4!==n.readyState||200!==n.status&&304!==n.status||e(n.responseText)},4!==n.readyState&&n.send(null))}function p(t){return t.replace(f.regex.minmaxwh,"").match(f.regex.other)}var r=[],i=function(){var e=!1;try{e=new v.XMLHttpRequest}catch(t){e=new v.ActiveXObject("Microsoft.XMLHTTP")}return function(){return e}}();if(f.ajax=n,f.queue=r,f.unsupportedmq=p,f.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,comments:/\/\*[^*]*\*+([^/][^*]*\*+)*\//gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,other:/\([^\)]*\)/g},f.mediaQueriesSupported=v.matchMedia&&null!==v.matchMedia("only all")&&v.matchMedia("only all").matches,!f.mediaQueriesSupported){var y,b,_,E=v.document,w=E.documentElement,T=[],C=[],x=[],a={},D=E.getElementsByTagName("head")[0]||w,s=E.getElementsByTagName("base")[0],O=D.getElementsByTagName("link"),I=function(){var t,e=E.createElement("div"),n=E.body,i=w.style.fontSize,o=n&&n.style.fontSize,r=!1;return e.style.cssText="position:absolute;font-size:1em;width:1em",n||((n=r=E.createElement("body")).style.background="none"),w.style.fontSize="100%",n.style.fontSize="100%",n.appendChild(e),r&&w.insertBefore(n,w.firstChild),t=e.offsetWidth,r?w.removeChild(n):n.removeChild(e),w.style.fontSize=i,o&&(n.style.fontSize=o),_=parseFloat(t)},k=function(t){var e="clientWidth",n=w[e],i="CSS1Compat"===E.compatMode&&n||E.body[e]||n,o={},r=O[O.length-1],a=(new Date).getTime();if(t&&y&&a-y<30)return v.clearTimeout(b),void(b=v.setTimeout(k,30));for(var s in y=a,T)if(T.hasOwnProperty(s)){var l=T[s],c=l.minw,u=l.maxw,d=null===c,h=null===u;c=c&&parseFloat(c)*(-1<c.indexOf("em")?_||I():1),u=u&&parseFloat(u)*(-1<u.indexOf("em")?_||I():1),l.hasquery&&(d&&h||!(d||c<=i)||!(h||i<=u))||(o[l.media]||(o[l.media]=[]),o[l.media].push(C[l.rules]))}for(var f in x)x.hasOwnProperty(f)&&x[f]&&x[f].parentNode===D&&D.removeChild(x[f]);for(var p in x.length=0,o)if(o.hasOwnProperty(p)){var g=E.createElement("style"),m=o[p].join("\n");g.type="text/css",g.media=p,D.insertBefore(g,r.nextSibling),g.styleSheet?g.styleSheet.cssText=m:g.appendChild(E.createTextNode(m)),x.push(g)}},l=function(t,e,n){function i(t){return t.replace(f.regex.urls,"$1"+e+"$2$3")}var o=t.replace(f.regex.comments,"").replace(f.regex.keyframes,"").match(f.regex.media),r=o&&o.length||0,a=!r&&n;(e=e.substring(0,e.lastIndexOf("/"))).length&&(e+="/"),a&&(r=1);for(var s=0;s<r;s++){var l,c,u,d;a?(l=n,C.push(i(t))):(l=o[s].match(f.regex.findStyles)&&RegExp.$1,C.push(RegExp.$2&&i(RegExp.$2))),d=(u=l.split(",")).length;for(var h=0;h<d;h++)c=u[h],p(c)||T.push({media:c.split("(")[0].match(f.regex.only)&&RegExp.$2||"all",rules:C.length-1,hasquery:-1<c.indexOf("("),minw:c.match(f.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:c.match(f.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}k()},c=function(){if(r.length){var e=r.shift();n(e.href,function(t){l(t,e.href,e.media),a[e.href]=!0,v.setTimeout(function(){c()},0)})}},e=function(){for(var t=0;t<O.length;t++){var e=O[t],n=e.href,i=e.media,o=e.rel&&"stylesheet"===e.rel.toLowerCase();n&&o&&!a[n]&&(e.styleSheet&&e.styleSheet.rawCssText?(l(e.styleSheet.rawCssText,n,i),a[n]=!0):(/^([a-zA-Z:]*\/\/)/.test(n)||s)&&n.replace(RegExp.$1,"").split("/")[0]!==v.location.host||("//"===n.substring(0,2)&&(n=v.location.protocol+n),r.push({href:n,media:i})))}c()};e(),f.update=e,f.getEmValue=I,v.addEventListener?v.addEventListener("resize",t,!1):v.attachEvent&&v.attachEvent("onresize",t)}}(this),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){var e=t.getBoundingClientRect(),n={};for(var i in e)n[i]=e[i];if(t.ownerDocument!==document){var o=t.ownerDocument.defaultView.frameElement;if(o){var r=a(o);n.top+=r.top,n.bottom+=r.top,n.left+=r.left,n.right+=r.left}}return n}function s(t){var e=(getComputedStyle(t)||{}).position,n=[];if("fixed"===e)return[t];for(var i=t;(i=i.parentNode)&&i&&1===i.nodeType;){var o=void 0;try{o=getComputedStyle(i)}catch(t){}if(null==o)return n.push(i),n;var r=o,a=r.overflow,s=r.overflowX,l=r.overflowY;/(auto|scroll)/.test(a+l+s)&&("absolute"!==e||0<=["relative","absolute","fixed"].indexOf(o.position))&&n.push(i)}return n.push(t.ownerDocument.body),t.ownerDocument!==document&&n.push(t.ownerDocument.defaultView),n}function o(){g&&document.body.removeChild(g),g=null}function C(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,i=a(t),o=b();return i.top-=o.top,i.left-=o.left,void 0===i.width&&(i.width=document.body.scrollWidth-i.left-i.right),void 0===i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=e.body.clientWidth-i.width-i.left,i.bottom=e.body.clientHeight-i.height-i.top,i}function E(t){return t.offsetParent||document.documentElement}function w(){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");x(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;n===i&&(i=e.clientWidth),document.body.removeChild(e);var o=n-i;return{width:o,height:o}}function x(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var e in t)!{}.hasOwnProperty.call(t,e)||(n[e]=t[e])}),n}function r(e,t){if(void 0!==e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var n=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),i=u(e).replace(n," ");d(e,i)}}function l(e,t){if(void 0!==e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{r(e,t);var n=u(e)+" "+t;d(e,n)}}function c(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=u(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function u(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function d(t,e){t.setAttribute("class",e)}function D(e,n,t){t.forEach(function(t){-1===n.indexOf(t)&&c(e,t)&&r(e,t)}),n.forEach(function(t){c(e,t)||l(e,t)})}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e,n){var i=arguments.length<=2||void 0===n?1:n;return e<=t+i&&t-i<=e}function h(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function T(){for(var i={top:0,left:0},t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.forEach(function(t){var e=t.top,n=t.left;"string"==typeof e&&(e=parseFloat(e,10)),"string"==typeof n&&(n=parseFloat(n,10)),i.top+=e,i.left+=n}),i}function O(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}var I=void 0;function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}void 0===I&&(I={modules:[]});var p,g=null,v=(p=0,function(){return++p}),y={},b=function(){var t=g;t||((t=document.createElement("div")).setAttribute("data-tether-id",v()),x(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),g=t);var e=t.getAttribute("data-tether-id");return void 0===y[e]&&(y[e]=a(t),k(function(){delete y[e]})),y[e]},_=[],k=function(t){_.push(t)},S=function(){for(var t=void 0;t=_.pop();)t()},R=((N=function(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t})(A,[{key:"on",value:function(t,e,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,i=Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];for(;e<this.bindings[t].length;){var r=this.bindings[t][e],a=r.handler,s=r.ctx,l=r.once,c=s;void 0===c&&(c=this),a.apply(c,i),l?this.bindings[t].splice(e,1):++e}}}}]),A);function A(){i(this,A)}I.Utils={getActualBoundingClientRect:a,getScrollParents:s,getBounds:C,getOffsetParent:E,extend:x,addClass:l,removeClass:r,hasClass:c,updateClasses:D,defer:k,flush:S,uniqueId:v,Evented:R,getScrollBarSize:w,removeUtilElements:o};var M=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},N=function(t,e,n){return e&&K(t.prototype,e),n&&K(t,n),t};function K(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}if(void 0===I)throw new Error("You must include the utils.js file before tether.js");function P(){H.forEach(function(t){t.position(!1)}),S()}var L,F,B,s=(J=I.Utils).getScrollParents,E=(C=J.getBounds,J.getOffsetParent),l=(x=J.extend,J.addClass),r=J.removeClass,w=(D=J.updateClasses,k=J.defer,S=J.flush,J.getScrollBarSize),o=J.removeUtilElements,$=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var i=e[n];if(void 0!==t.style[i])return i}}(),H=[];function z(){return void 0!==F&&16<F?(F=Math.min(F-16,250),void(B=setTimeout(z,250))):void(void 0!==L&&h()-L<10||(null!=B&&(clearTimeout(B),B=null),L=h(),P(),F=h()-L))}B=F=L=null,"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,z)});function j(t){var e=t.left,n=t.top;return void 0!==G[t.left]&&(e=G[t.left]),void 0!==G[t.top]&&(n=G[t.top]),{left:e,top:n}}function V(t){var e=t.split(" "),n=M(e,2);return{top:n[0],left:n[1]}}var W={center:"center",left:"right",right:"left"},q={middle:"middle",top:"bottom",bottom:"top"},G={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},U=V,Y=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(X,R),N(X,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1];this.options=x({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},t);var i=this.options,o=i.element,r=i.target,a=i.targetModifier;if(this.element=o,this.target=r,this.targetModifier=a,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),l(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&l(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=U(this.options.targetAttachment),this.attachment=U(this.options.attachment),this.offset=V(this.options.offset),this.targetOffset=V(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=s(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return C(this.target);if("visible"===this.targetModifier)return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((r={height:(t=C(this.target)).height,width:t.width,top:t.top,left:t.left}).height=Math.min(r.height,t.height-(pageYOffset-t.top)),r.height=Math.min(r.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),r.height=Math.min(innerHeight,r.height),r.height-=2,r.width=Math.min(r.width,t.width-(pageXOffset-t.left)),r.width=Math.min(r.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),r.width=Math.min(innerWidth,r.width),r.width-=2,r.top<pageYOffset&&(r.top=pageYOffset),r.left<pageXOffset&&(r.left=pageXOffset),r);if("scroll-handle"===this.targetModifier){var t=void 0,e=this.target;t=e===document.body?(e=document.documentElement,{left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):C(e);var n=getComputedStyle(e),i=0;(e.scrollWidth>e.clientWidth||0<=[n.overflow,n.overflowX].indexOf("scroll")||this.target!==document.body)&&(i=15);var o=t.height-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)-i,r={width:15,height:.975*o*(o/e.scrollHeight),left:t.left+t.width-parseFloat(n.borderLeftWidth)-15},a=0;o<408&&this.target===document.body&&(a=-11e-5*Math.pow(o,2)-.00727*o+22.58),this.target!==document.body&&(r.height=Math.max(r.height,24));var s=this.target.scrollTop/(e.scrollHeight-o);return r.top=s*(o-r.height-a)+t.top+parseFloat(n.borderTopWidth),this.target===document.body&&(r.height=Math.max(r.height,24)),r}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&l(this.target,this.getClass("enabled")),l(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;r(this.target,this.getClass("enabled")),r(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var n=this;this.disable(),H.forEach(function(t,e){t===n&&H.splice(e,1)}),0===H.length&&o()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment,void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var i=this._addAttachClasses;t.top&&i.push(this.getClass("element-attached")+"-"+t.top),t.left&&i.push(this.getClass("element-attached")+"-"+t.left),e.top&&i.push(this.getClass("target-attached")+"-"+e.top),e.left&&i.push(this.getClass("target-attached")+"-"+e.left);var o=[];["left","top","bottom","right","middle","center"].forEach(function(t){o.push(n.getClass("element-attached")+"-"+t),o.push(n.getClass("target-attached")+"-"+t)}),k(function(){void 0!==n._addAttachClasses&&(D(n.element,n._addAttachClasses,o),!1!==n.options.addTargetClasses&&D(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var s=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var e=function(t,e){var n=t.left,i=t.top;return"auto"===n&&(n=W[e.left]),"auto"===i&&(i=q[e.top]),{left:n,top:i}}(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,e);var n=this.cache("element-bounds",function(){return C(s.element)}),i=n.width,o=n.height;if(0===i&&0===o&&void 0!==this.lastSize){var r=this.lastSize;i=r.width,o=r.height}else this.lastSize={width:i,height:o};var a=this.cache("target-bounds",function(){return s.getTargetBounds()}),l=a,c=O(j(this.attachment),{width:i,height:o}),u=O(j(e),l),d=O(this.offset,{width:i,height:o}),h=O(this.targetOffset,l);c=T(c,d),u=T(u,h);for(var f=a.left+u.left-c.left,p=a.top+u.top-c.top,g=0;g<I.modules.length;++g){var m=I.modules[g].position.call(this,{left:f,top:p,targetAttachment:e,targetPos:a,elementPos:n,offset:c,targetOffset:u,manualOffset:d,manualTargetOffset:h,scrollbarSize:_,attachment:this.attachment});if(!1===m)return!1;void 0!==m&&"object"==typeof m&&(p=m.top,f=m.left)}var v={page:{top:p,left:f},viewport:{top:p-pageYOffset,bottom:pageYOffset-p-o+innerHeight,left:f-pageXOffset,right:pageXOffset-f-i+innerWidth}},y=this.target.ownerDocument,b=y.defaultView,_=void 0;return y.body.scrollWidth>b.innerWidth&&(_=this.cache("scrollbar-size",w),v.viewport.bottom-=_.height),y.body.scrollHeight>b.innerHeight&&(_=this.cache("scrollbar-size",w),v.viewport.right-=_.width),-1!==["","static"].indexOf(y.body.style.position)&&-1!==["","static"].indexOf(y.body.parentElement.style.position)||(v.page.bottom=y.body.scrollHeight-p-o,v.page.right=y.body.scrollWidth-f-i),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var t=s.cache("target-offsetparent",function(){return E(s.target)}),e=s.cache("target-offsetparent-bounds",function(){return C(t)}),n=getComputedStyle(t),i=e,o={};if(["Top","Left","Bottom","Right"].forEach(function(t){o[t.toLowerCase()]=parseFloat(n["border"+t+"Width"])}),e.right=y.body.scrollWidth-e.left-i.width+o.right,e.bottom=y.body.scrollHeight-e.top-i.height+o.bottom,v.page.top>=e.top+o.top&&v.page.bottom>=e.bottom&&v.page.left>=e.left+o.left&&v.page.right>=e.right){var r=t.scrollTop,a=t.scrollLeft;v.offset={top:v.page.top-e.top+r-o.top,left:v.page.left-e.left+a-o.left}}}(),this.move(v),this.history.unshift(v),3<this.history.length&&this.history.pop(),t&&S(),!0}}},{key:"move",value:function(e){var o=this;if(void 0!==this.element.parentNode){var n={};for(var t in e)for(var i in n[t]={},e[t]){for(var r=!1,a=0;a<this.history.length;++a){var s=this.history[a];if(void 0!==s[t]&&!m(s[t][i],e[t][i])){r=!0;break}}r||(n[t][i]=!0)}var l={top:"",left:"",right:"",bottom:""},c=function(t,e){if(!1!==(void 0!==o.options.optimizations?o.options.optimizations.gpu:null)){var n=void 0,i=void 0;n=t.top?(l.top=0,e.top):(l.bottom=0,-e.bottom),i=t.left?(l.left=0,e.left):(l.right=0,-e.right),l[$]="translateX("+Math.round(i)+"px) translateY("+Math.round(n)+"px)","msTransform"!==$&&(l[$]+=" translateZ(0)")}else t.top?l.top=e.top+"px":l.bottom=e.bottom+"px",t.left?l.left=e.left+"px":l.right=e.right+"px"},u=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(l.position="absolute",c(n.page,e.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(l.position="fixed",c(n.viewport,e.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){l.position="absolute";var t=o.cache("target-offsetparent",function(){return E(o.target)});E(o.element)!==t&&k(function(){o.element.parentNode.removeChild(o.element),t.appendChild(o.element)}),c(n.offset,e.offset),u=!0}():(l.position="absolute",c({top:!0,left:!0},e.page)),!u){for(var d=!0,h=this.element.parentNode;h&&1===h.nodeType&&"BODY"!==h.tagName;){if("static"!==getComputedStyle(h).position){d=!1;break}h=h.parentNode}d||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var f={},p=!1;for(var i in l){var g=l[i];this.element.style[i]!==g&&(p=!0,f[i]=g)}p&&k(function(){x(o.element.style,f)})}}}]),X);function X(t){var e=this;i(this,X),function(t,e,n){for(var i=!0;i;){var o=t,r=e,a=n;i=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;t=c,e=r,n=a,i=!0,s=c=void 0}}(Object.getPrototypeOf(X.prototype),"constructor",this).call(this),this.position=this.position.bind(this),H.push(this),this.history=[],this.setOptions(t,!1),I.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(e)}),this.position()}Y.modules=[],I.position=P;var Z=x(Y,I),x=(M=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},C=(J=I.Utils).getBounds,J.extend),Q=(D=J.updateClasses,k=J.defer,["left","top","right","bottom"]);I.modules.push({position:function(t){var f=this,p=t.top,g=t.left,m=t.targetAttachment;if(!this.options.constraints)return!0;var e=this.cache("element-bounds",function(){return C(f.element)}),v=e.height,y=e.width;if(0===y&&0===v&&void 0!==this.lastSize){var n=this.lastSize;y=n.width,v=n.height}var i=this.cache("target-bounds",function(){return f.getTargetBounds()}),b=i.height,_=i.width,o=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&o.push(e),n&&o.push(n)}),o.forEach(function(e){["left","top","right","bottom"].forEach(function(t){o.push(e+"-"+t)})});var E=[],w=x({},m),T=x({},this.attachment);return this.options.constraints.forEach(function(t){var e=t.to,n=t.attachment,i=t.pin;void 0===n&&(n="");var o=void 0,r=void 0;if(0<=n.indexOf(" ")){var a=n.split(" "),s=M(a,2);r=s[0],o=s[1]}else o=r=n;var l=function(t,r){return"scrollParent"===r?r=t.scrollParents[0]:"window"===r&&(r=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),r===document&&(r=r.documentElement),void 0!==r.nodeType&&function(){var t=r,e=C(r),n=e,i=getComputedStyle(r);if(r=[n.left,n.top,e.width+n.left,e.height+n.top],t.ownerDocument!==document){var o=t.ownerDocument.defaultView;r[0]+=o.pageXOffset,r[1]+=o.pageYOffset,r[2]+=o.pageXOffset,r[3]+=o.pageYOffset}Q.forEach(function(t,e){"Top"===(t=t[0].toUpperCase()+t.substr(1))||"Left"===t?r[e]+=parseFloat(i["border"+t+"Width"]):r[e]-=parseFloat(i["border"+t+"Width"])})}(),r}(f,e);"target"!==r&&"both"!==r||(p<l[1]&&"top"===w.top&&(p+=b,w.top="bottom"),p+v>l[3]&&"bottom"===w.top&&(p-=b,w.top="top")),"together"===r&&("top"===w.top&&("bottom"===T.top&&p<l[1]?(p+=b,w.top="bottom",p+=v,T.top="top"):"top"===T.top&&p+v>l[3]&&p-(v-b)>=l[1]&&(p-=v-b,w.top="bottom",T.top="bottom")),"bottom"===w.top&&("top"===T.top&&p+v>l[3]?(p-=b,w.top="top",p-=v,T.top="bottom"):"bottom"===T.top&&p<l[1]&&p+(2*v-b)<=l[3]&&(p+=v-b,w.top="top",T.top="top")),"middle"===w.top&&(p+v>l[3]&&"top"===T.top?(p-=v,T.top="bottom"):p<l[1]&&"bottom"===T.top&&(p+=v,T.top="top"))),"target"!==o&&"both"!==o||(g<l[0]&&"left"===w.left&&(g+=_,w.left="right"),g+y>l[2]&&"right"===w.left&&(g-=_,w.left="left")),"together"===o&&(g<l[0]&&"left"===w.left?"right"===T.left?(g+=_,w.left="right",g+=y,T.left="left"):"left"===T.left&&(g+=_,w.left="right",g-=y,T.left="right"):g+y>l[2]&&"right"===w.left?"left"===T.left?(g-=_,w.left="left",g-=y,T.left="right"):"right"===T.left&&(g-=_,w.left="left",g+=y,T.left="left"):"center"===w.left&&(g+y>l[2]&&"left"===T.left?(g-=y,T.left="right"):g<l[0]&&"right"===T.left&&(g+=y,T.left="left"))),"element"!==r&&"both"!==r||(p<l[1]&&"bottom"===T.top&&(p+=v,T.top="top"),p+v>l[3]&&"top"===T.top&&(p-=v,T.top="bottom")),"element"!==o&&"both"!==o||(g<l[0]&&("right"===T.left?(g+=y,T.left="left"):"center"===T.left&&(g+=y/2,T.left="left")),g+y>l[2]&&("left"===T.left?(g-=y,T.left="right"):"center"===T.left&&(g-=y/2,T.left="right"))),"string"==typeof i?i=i.split(",").map(function(t){return t.trim()}):!0===i&&(i=["top","left","right","bottom"]),i=i||[];var c,u,d=[],h=[];p<l[1]&&(0<=i.indexOf("top")?(p=l[1],d.push("top")):h.push("top")),p+v>l[3]&&(0<=i.indexOf("bottom")?(p=l[3]-v,d.push("bottom")):h.push("bottom")),g<l[0]&&(0<=i.indexOf("left")?(g=l[0],d.push("left")):h.push("left")),g+y>l[2]&&(0<=i.indexOf("right")?(g=l[2]-y,d.push("right")):h.push("right")),d.length&&(u=void 0!==f.options.pinnedClass?f.options.pinnedClass:f.getClass("pinned"),E.push(u),d.forEach(function(t){E.push(u+"-"+t)})),h.length&&(c=void 0!==f.options.outOfBoundsClass?f.options.outOfBoundsClass:f.getClass("out-of-bounds"),E.push(c),h.forEach(function(t){E.push(c+"-"+t)})),(0<=d.indexOf("left")||0<=d.indexOf("right"))&&(T.left=w.left=!1),(0<=d.indexOf("top")||0<=d.indexOf("bottom"))&&(T.top=w.top=!1),w.top===m.top&&w.left===m.left&&T.top===f.attachment.top&&T.left===f.attachment.left||(f.updateAttachClasses(T,w),f.trigger("update",{attachment:T,targetAttachment:w}))}),k(function(){!1!==f.options.addTargetClasses&&D(f.target,E,o),D(f.element,E,o)}),{top:p,left:g}}});var J,C=(J=I.Utils).getBounds,D=J.updateClasses;k=J.defer;I.modules.push({position:function(t){var e=this,n=t.top,i=t.left,o=this.cache("element-bounds",function(){return C(e.element)}),r=o.height,a=o.width,s=this.getTargetBounds(),l=n+r,c=i+a,u=[];n<=s.bottom&&l>=s.top&&["left","right"].forEach(function(t){var e=s[t];e!==i&&e!==c||u.push(t)}),i<=s.right&&c>=s.left&&["top","bottom"].forEach(function(t){var e=s[t];e!==n&&e!==l||u.push(t)});var d=[],h=[];return d.push(this.getClass("abutted")),["left","top","right","bottom"].forEach(function(t){d.push(e.getClass("abutted")+"-"+t)}),u.length&&h.push(this.getClass("abutted")),u.forEach(function(t){h.push(e.getClass("abutted")+"-"+t)}),k(function(){!1!==e.options.addTargetClasses&&D(e.target,h,d),D(e.element,h,d)}),!0}});M=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};return I.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:n}));var o=void 0,r=void 0;if("string"==typeof i){(i=i.split(" "))[1]=i[1]||i[0];var a=M(i,2);o=a[0],r=a[1],o=parseFloat(o,10),r=parseFloat(r,10)}else o=i.top,r=i.left;return{top:e+=o,left:n+=r}}}}),Z}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t;function p(){return t.apply(null,arguments)}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function g(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var n in e)g(e,n)&&(t[n]=e[n]);return g(e,"toString")&&(t.toString=e.toString),g(e,"valueOf")&&(t.valueOf=e.valueOf),t}function s(t,e,n,i){return Nt(t,e,n,i,!0).utc()}function m(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),t._pf}function l(t){if(null==t._isValid){var e=m(t);t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function c(t){var e=s(NaN);return null!=t?a(m(e),t):m(e).userInvalidated=!0,e}var u=p.momentProperties=[];function d(t,e){var n,i,o;if(void 0!==e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),void 0!==e._i&&(t._i=e._i),void 0!==e._f&&(t._f=e._f),void 0!==e._l&&(t._l=e._l),void 0!==e._strict&&(t._strict=e._strict),void 0!==e._tzm&&(t._tzm=e._tzm),void 0!==e._isUTC&&(t._isUTC=e._isUTC),void 0!==e._offset&&(t._offset=e._offset),void 0!==e._pf&&(t._pf=m(e)),void 0!==e._locale&&(t._locale=e._locale),0<u.length)for(n in u)void 0!==(o=e[i=u[n]])&&(t[i]=o);return t}var e=!1;function h(t){d(this,t),this._d=new Date(+t._d),!1===e&&(e=!0,p.updateOffset(this),e=!1)}function f(t){return t instanceof h||null!=t&&null!=t._isAMomentObject}function v(t){var e=+t,n=0;return 0!=e&&isFinite(e)&&(n=0<=e?Math.floor(e):Math.ceil(e)),n}function y(t,e,n){var i,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(i=0;i<o;i++)(n&&t[i]!==e[i]||!n&&v(t[i])!==v(e[i]))&&a++;return a+r}function n(){}var i,b={};function _(t){return t?t.toLowerCase().replace("_","-"):t}function E(t){var e=null;if(!b[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=i._abbr,require("./locale/"+t),w(e)}catch(t){}return b[t]}function w(t,e){var n;return t&&(n=void 0===e?C(t):T(t,e))&&(i=n),i._abbr}function T(t,e){return null!==e?(e.abbr=t,b[t]||(b[t]=new n),b[t].set(e),w(t),b[t]):(delete b[t],null)}function C(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return i;if(!o(t)){if(e=E(t))return e;t=[t]}return function(t){for(var e,n,i,o,r=0;r<t.length;){for(e=(o=_(t[r]).split("-")).length,n=(n=_(t[r+1]))?n.split("-"):null;0<e;){if(i=E(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&y(o,n,!0)>=e-1)break;e--}r++}return null}(t)}var x={};function D(t,e){var n=t.toLowerCase();x[n]=x[n+"s"]=x[e]=t}function O(t){return"string"==typeof t?x[t]||x[t.toLowerCase()]:void 0}function I(t){var e,n,i={};for(n in t)g(t,n)&&(e=O(n))&&(i[e]=t[n]);return i}function k(e,n){return function(t){return null!=t?(R(this,e,t),p.updateOffset(this,n),this):S(this,e)}}function S(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function R(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function A(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if("function"==typeof this[t=O(t)])return this[t](e);return this}function M(t,e,n){for(var i=""+Math.abs(t),o=0<=t;i.length<e;)i="0"+i;return(o?n?"+":"":"-")+i}var N=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,K=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,P={},L={};function F(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(L[t]=o),e&&(L[e[0]]=function(){return M(o.apply(this,arguments),e[1],e[2])}),n&&(L[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function B(t,e){return t.isValid()?(e=$(e,t.localeData()),P[e]||(P[e]=function(n){var i,o,t,r=n.match(N);for(i=0,o=r.length;i<o;i++)L[r[i]]?r[i]=L[r[i]]:r[i]=(t=r[i]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){var e="";for(i=0;i<o;i++)e+=r[i]instanceof Function?r[i].call(t,n):r[i];return e}}(e)),P[e](t)):t.localeData().invalidDate()}function $(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(K.lastIndex=0;0<=n&&K.test(t);)t=t.replace(K,i),K.lastIndex=0,n-=1;return t}var H=/\d/,z=/\d\d/,j=/\d{3}/,V=/\d{4}/,W=/[+-]?\d{6}/,q=/\d\d?/,G=/\d{1,3}/,U=/\d{1,4}/,Y=/[+-]?\d{1,6}/,X=/[+-]?\d+/,Z=/Z|[+-]\d\d:?\d\d/gi,Q=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,J={};function tt(t,e,n){J[t]="function"==typeof e?e:function(t){return t&&n?n:e}}var et={};function nt(t,n){var e,i=n;for("string"==typeof t&&(t=[t]),"number"==typeof n&&(i=function(t,e){e[n]=v(t)}),e=0;e<t.length;e++)et[t[e]]=i}function it(t,o){nt(t,function(t,e,n,i){n._w=n._w||{},o(t,n._w,n,i)})}var ot=0,rt=1,at=2,st=3,lt=4,ct=5,ut=6;function dt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}F("M",["MM",2],"Mo",function(){return this.month()+1}),F("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),F("MMMM",0,0,function(t){return this.localeData().months(this,t)}),D("month","M"),tt("M",q),tt("MM",q,z),tt("MMM",Q),tt("MMMM",Q),nt(["M","MM"],function(t,e){e[rt]=v(t)-1}),nt(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[rt]=o:m(n).invalidMonth=t});var ht="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var ft="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function pt(t,e){var n;return"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))||(n=Math.min(t.date(),dt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n)),t}function gt(t){return null!=t?(pt(this,t),p.updateOffset(this,!0),this):S(this,"Month")}function mt(t){var e,n=t._a;return n&&-2===m(t).overflow&&(e=n[rt]<0||11<n[rt]?rt:n[at]<1||n[at]>dt(n[ot],n[rt])?at:n[st]<0||24<n[st]||24===n[st]&&(0!==n[lt]||0!==n[ct]||0!==n[ut])?st:n[lt]<0||59<n[lt]?lt:n[ct]<0||59<n[ct]?ct:n[ut]<0||999<n[ut]?ut:-1,m(t)._overflowDayOfYear&&(e<ot||at<e)&&(e=at),m(t).overflow=e),t}function vt(t){!1===p.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function yt(t,e){var n=!0,i=t+"\n"+(new Error).stack;return a(function(){return n&&(vt(i),n=!1),e.apply(this,arguments)},e)}var bt={};p.suppressDeprecationWarnings=!1;var _t=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Et=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],wt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Tt=/^\/?Date\((\-?\d+)/i;function Ct(t){var e,n,i=t._i,o=_t.exec(i);if(o){for(m(t).iso=!0,e=0,n=Et.length;e<n;e++)if(Et[e][1].exec(i)){t._f=Et[e][0]+(o[6]||" ");break}for(e=0,n=wt.length;e<n;e++)if(wt[e][1].exec(i)){t._f+=wt[e][0];break}i.match(Z)&&(t._f+="Z"),At(t)}else t._isValid=!1}function xt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function Dt(t){return Ot(t)?366:365}function Ot(t){return t%4==0&&t%100!=0||t%400==0}p.createFromInputFallback=yt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),F(0,["YY",2],0,function(){return this.year()%100}),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),D("year","y"),tt("Y",X),tt("YY",q,z),tt("YYYY",U,V),tt("YYYYY",Y,W),tt("YYYYYY",Y,W),nt(["YYYY","YYYYY","YYYYYY"],ot),nt("YY",function(t,e){e[ot]=p.parseTwoDigitYear(t)});var It=k("FullYear",!(p.parseTwoDigitYear=function(t){return v(t)+(68<v(t)?1900:2e3)}));function kt(t,e,n){var i,o=n-e,r=n-t.day();return o<r&&(r-=7),r<o-7&&(r+=7),i=Kt(t).add(r,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),tt("w",q),tt("ww",q,z),tt("W",q),tt("WW",q,z),it(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=v(t)});function St(t,e,n){return null!=t?t:null!=e?e:n}function Rt(t){var e,n,i,o,r=[];if(!t._d){for(i=function(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[at]&&null==t._a[rt]&&function(t){var e,n,i,o,r,a,s;null!=(e=t._w).GG||null!=e.W||null!=e.E?(r=1,a=4,n=St(e.GG,t._a[ot],kt(Kt(),1,4).year),i=St(e.W,1),o=St(e.E,1)):(r=t._locale._week.dow,a=t._locale._week.doy,n=St(e.gg,t._a[ot],kt(Kt(),r,a).year),i=St(e.w,1),null!=e.d?(o=e.d)<r&&++i:o=null!=e.e?e.e+r:r);s=function(t,e,n,i,o){var r,a=xt(t,0,1).getUTCDay();return{year:0<(r=7*(e-1)+((n=null!=n?n:o)-o)+(o-(a=0===a?7:a)+(i<a?7:0)-(a<o?7:0))+1)?t:t-1,dayOfYear:0<r?r:Dt(t-1)+r}}(n,i,o,a,r),t._a[ot]=s.year,t._dayOfYear=s.dayOfYear}(t),t._dayOfYear&&(o=St(t._a[ot],i[ot]),t._dayOfYear>Dt(o)&&(m(t)._overflowDayOfYear=!0),n=xt(o,0,t._dayOfYear),t._a[rt]=n.getUTCMonth(),t._a[at]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[st]&&0===t._a[lt]&&0===t._a[ct]&&0===t._a[ut]&&(t._nextDay=!0,t._a[st]=0),t._d=(t._useUTC?xt:function(t,e,n,i,o,r,a){var s=new Date(t,e,n,i,o,r,a);return t<1970&&s.setFullYear(t),s}).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[st]=24)}}function At(t){if(t._f!==p.ISO_8601){t._a=[],m(t).empty=!0;var e,n,i,o,r,a,s,l,c,u,d=""+t._i,h=d.length,f=0;for(i=$(t._f,t._locale).match(N)||[],e=0;e<i.length;e++)o=i[e],(n=(d.match((u=t,g(J,c=o)?J[c](u._strict,u._locale):new RegExp(function(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(c))))||[])[0])&&(0<(r=d.substr(0,d.indexOf(n))).length&&m(t).unusedInput.push(r),d=d.slice(d.indexOf(n)+n.length),f+=n.length),L[o]?(n?m(t).empty=!1:m(t).unusedTokens.push(o),a=o,l=t,null!=(s=n)&&g(et,a)&&et[a](s,l._a,l,a)):t._strict&&!n&&m(t).unusedTokens.push(o);m(t).charsLeftOver=h-f,0<d.length&&m(t).unusedInput.push(d),!0===m(t).bigHour&&t._a[st]<=12&&0<t._a[st]&&(m(t).bigHour=void 0),t._a[st]=function(t,e,n){var i;if(null==n)return e;return null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0)),e)}(t._locale,t._a[st],t._meridiem),Rt(t),mt(t)}else Ct(t)}function Mt(t){var e,n=t._i,i=t._f;return t._locale=t._locale||C(t._l),null===n||void 0===i&&""===n?c({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),f(n)?new h(mt(n)):(o(i)?function(t){var e,n,i,o,r;if(0===t._f.length)return m(t).invalidFormat=!0,t._d=new Date(NaN);for(o=0;o<t._f.length;o++)r=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],At(e),l(e)&&(r+=m(e).charsLeftOver,r+=10*m(e).unusedTokens.length,m(e).score=r,(null==i||r<i)&&(i=r,n=e));a(t,n||e)}(t):i?At(t):r(n)?t._d=n:function(t){var e=t._i;void 0===e?t._d=new Date:r(e)?t._d=new Date(+e):"string"==typeof e?function(t){var e=Tt.exec(t._i);null===e?(Ct(t),!1===t._isValid&&(delete t._isValid,p.createFromInputFallback(t))):t._d=new Date(+e[1])}(t):o(e)?(t._a=function(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}(e.slice(0),function(t){return parseInt(t,10)}),Rt(t)):"object"==typeof e?function(t){if(!t._d){var e=I(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],Rt(t)}}(t):"number"==typeof e?t._d=new Date(e):p.createFromInputFallback(t)}(t),(e=new h(mt(t)))._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e))}function Nt(t,e,n,i,o){var r={};return"boolean"==typeof n&&(i=n,n=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=n,r._i=t,r._f=e,r._strict=i,Mt(r)}function Kt(t,e,n,i){return Nt(t,e,n,i,!1)}F("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),tt("DDD",G),tt("DDDD",j),nt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=v(t)}),p.ISO_8601=function(){};var Pt=yt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Kt.apply(null,arguments);return t<this?this:t}),Lt=yt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Kt.apply(null,arguments);return this<t?this:t});function Ft(t,e){var n,i;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Kt();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function Bt(t){var e=I(t),n=e.year||0,i=e.quarter||0,o=e.month||0,r=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*s,this._days=+a+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=C(),this._bubble()}function $t(t){return t instanceof Bt}function Ht(t,n){F(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+M(~~(t/60),2)+n+M(~~t%60,2)})}Ht("Z",":"),Ht("ZZ",""),tt("Z",Z),tt("ZZ",Z),nt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=jt(t)});var zt=/([\+\-]|\d\d)/gi;function jt(t){var e=(t||"").match(Z)||[],n=((e[e.length-1]||[])+"").match(zt)||["-",0,0],i=60*n[1]+v(n[2]);return"+"===n[0]?i:-i}function Vt(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(f(t)||r(t)?+t:+Kt(t))-+n,n._d.setTime(+n._d+i),p.updateOffset(n,!1),n):Kt(t).local()}function Wt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function qt(){return this._isUTC&&0===this._offset}p.updateOffset=function(){};var Gt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ut=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;function Yt(t,e){var n,i,o,r=t,a=null;return $t(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(a=Gt.exec(t))?(n="-"===a[1]?-1:1,r={y:0,d:v(a[at])*n,h:v(a[st])*n,m:v(a[lt])*n,s:v(a[ct])*n,ms:v(a[ut])*n}):(a=Ut.exec(t))?(n="-"===a[1]?-1:1,r={y:Xt(a[2],n),M:Xt(a[3],n),d:Xt(a[4],n),h:Xt(a[5],n),m:Xt(a[6],n),s:Xt(a[7],n),w:Xt(a[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=function(t,e){var n;e=Vt(e,t),t.isBefore(e)?n=Zt(t,e):((n=Zt(e,t)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Kt(r.from),Kt(r.to)),(r={}).ms=o.milliseconds,r.M=o.months),i=new Bt(r),$t(t)&&g(t,"_locale")&&(i._locale=t._locale),i}function Xt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Zt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Qt(i,o){return function(t,e){var n;return null===e||isNaN(+e)||(function(t,e){bt[t]||(vt(e),bt[t]=!0)}(o,"moment()."+o+"(period, number) is deprecated. Please use moment()."+o+"(number, period)."),n=t,t=e,e=n),Jt(this,Yt(t="string"==typeof t?+t:t,e),i),this}}function Jt(t,e,n,i){var o=e._milliseconds,r=e._days,a=e._months;i=null==i||i,o&&t._d.setTime(+t._d+o*n),r&&R(t,"Date",S(t,"Date")+r*n),a&&pt(t,S(t,"Month")+a*n),i&&p.updateOffset(t,r||a)}Yt.fn=Bt.prototype;var te=Qt(1,"add"),ee=Qt(-1,"subtract");function ne(t){return t<0?Math.ceil(t):Math.floor(t)}function ie(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():B(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):B(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function oe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=C(t))&&(this._locale=e),this)}p.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var re=yt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function ae(){return this._locale}function se(t,e){F(0,[t,t.length],0,e)}function le(t,e,n){return kt(Kt([t,11,31+e-n]),e,n).week}F(0,["gg",2],0,function(){return this.weekYear()%100}),F(0,["GG",2],0,function(){return this.isoWeekYear()%100}),se("gggg","weekYear"),se("ggggg","weekYear"),se("GGGG","isoWeekYear"),se("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),tt("G",X),tt("g",X),tt("GG",q,z),tt("gg",q,z),tt("GGGG",U,V),tt("gggg",U,V),tt("GGGGG",Y,W),tt("ggggg",Y,W),it(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=v(t)}),it(["gg","GG"],function(t,e,n,i){e[i]=p.parseTwoDigitYear(t)}),F("Q",0,0,"quarter"),D("quarter","Q"),tt("Q",H),nt("Q",function(t,e){e[rt]=3*(v(t)-1)}),F("D",["DD",2],"Do","date"),D("date","D"),tt("D",q),tt("DD",q,z),tt("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),nt(["D","DD"],at),nt("Do",function(t,e){e[at]=v(t.match(q)[0])});var ce=k("Date",!0);F("d",0,"do","day"),F("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),F("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),F("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),tt("d",q),tt("e",q),tt("E",q),tt("dd",Q),tt("ddd",Q),tt("dddd",Q),it(["dd","ddd","dddd"],function(t,e,n){var i=n._locale.weekdaysParse(t);null!=i?e.d=i:m(n).invalidWeekday=t}),it(["d","e","E"],function(t,e,n,i){e[i]=v(t)});var ue="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var de="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var he="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function fe(t,e){F(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function pe(t,e){return e._meridiemParse}F("H",["HH",2],0,"hour"),F("h",["hh",2],0,function(){return this.hours()%12||12}),fe("a",!0),fe("A",!1),D("hour","h"),tt("a",pe),tt("A",pe),tt("H",q),tt("h",q),tt("HH",q,z),tt("hh",q,z),nt(["H","HH"],st),nt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),nt(["h","hh"],function(t,e,n){e[st]=v(t),m(n).bigHour=!0});var ge=k("Hours",!0);F("m",["mm",2],0,"minute"),D("minute","m"),tt("m",q),tt("mm",q,z),nt(["m","mm"],lt);var me=k("Minutes",!1);F("s",["ss",2],0,"second"),D("second","s"),tt("s",q),tt("ss",q,z),nt(["s","ss"],ct);var ve=k("Seconds",!1);function ye(t){F(0,[t,3],0,"millisecond")}F("S",0,0,function(){return~~(this.millisecond()/100)}),F(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ye("SSS"),ye("SSSS"),D("millisecond","ms"),tt("S",G,H),tt("SS",G,z),tt("SSS",G,j),tt("SSSS",/\d+/),nt(["S","SS","SSS","SSSS"],function(t,e){e[ut]=v(1e3*("0."+t))});var be=k("Milliseconds",!1);F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var _e=h.prototype;_e.add=te,_e.calendar=function(t){var e=t||Kt(),n=Vt(e,this).startOf("day"),i=this.diff(n,"days",!0),o=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this,Kt(e)))},_e.clone=function(){return new h(this)},_e.diff=function(t,e,n){var i,o,r=Vt(t,this),a=6e4*(r.utcOffset()-this.utcOffset());return"year"===(e=O(e))||"month"===e||"quarter"===e?(o=function(t,e){var n,i,o=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(o,"months");i=e-r<0?(n=t.clone().add(o-1,"months"),(e-r)/(r-n)):(n=t.clone().add(1+o,"months"),(e-r)/(n-r));return-(o+i)}(this,r),"quarter"===e?o/=3:"year"===e&&(o/=12)):(i=this-r,o="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-a)/864e5:"week"===e?(i-a)/6048e5:i),n?o:ne(o)},_e.endOf=function(t){return void 0===(t=O(t))||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},_e.format=function(t){var e=B(this,t||p.defaultFormat);return this.localeData().postformat(e)},_e.from=function(t,e){return this.isValid()?Yt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},_e.fromNow=function(t){return this.from(Kt(),t)},_e.to=function(t,e){return this.isValid()?Yt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},_e.toNow=function(t){return this.to(Kt(),t)},_e.get=A,_e.invalidAt=function(){return m(this).overflow},_e.isAfter=function(t,e){return"millisecond"===(e=O(void 0!==e?e:"millisecond"))?+(t=f(t)?t:Kt(t))<+this:(f(t)?+t:+Kt(t))<+this.clone().startOf(e)},_e.isBefore=function(t,e){var n;return"millisecond"===(e=O(void 0!==e?e:"millisecond"))?+this<+(t=f(t)?t:Kt(t)):(n=f(t)?+t:+Kt(t),+this.clone().endOf(e)<n)},_e.isBetween=function(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)},_e.isSame=function(t,e){var n;return"millisecond"===(e=O(e||"millisecond"))?+this==+(t=f(t)?t:Kt(t)):(n=+Kt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},_e.isValid=function(){return l(this)},_e.lang=re,_e.locale=oe,_e.localeData=ae,_e.max=Lt,_e.min=Pt,_e.parsingFlags=function(){return a({},m(this))},_e.set=A,_e.startOf=function(t){switch(t=O(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},_e.subtract=ee,_e.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},_e.toDate=function(){return this._offset?new Date(+this):this._d},_e.toISOString=ie,_e.toJSON=ie,_e.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},_e.unix=function(){return Math.floor(+this/1e3)},_e.valueOf=function(){return+this._d-6e4*(this._offset||0)},_e.year=It,_e.isLeapYear=function(){return Ot(this.year())},_e.weekYear=function(t){var e=kt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},_e.isoWeekYear=function(t){var e=kt(this,1,4).year;return null==t?e:this.add(t-e,"y")},_e.quarter=_e.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},_e.month=gt,_e.daysInMonth=function(){return dt(this.year(),this.month())},_e.week=_e.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},_e.isoWeek=_e.isoWeeks=function(t){var e=kt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},_e.weeksInYear=function(){var t=this.localeData()._week;return le(this.year(),t.dow,t.doy)},_e.isoWeeksInYear=function(){return le(this.year(),1,4)},_e.date=ce,_e.day=_e.days=function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){if("string"==typeof t)if(isNaN(t)){if("number"!=typeof(t=e.weekdaysParse(t)))return null}else t=parseInt(t,10);return t}(t,this.localeData()),this.add(t-e,"d")):e},_e.weekday=function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},_e.isoWeekday=function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},_e.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},_e.hour=_e.hours=ge,_e.minute=_e.minutes=me,_e.second=_e.seconds=ve,_e.millisecond=_e.milliseconds=be,_e.utcOffset=function(t,e){var n,i=this._offset||0;return null!=t?("string"==typeof t&&(t=jt(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(n=Wt(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?Jt(this,Yt(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,p.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Wt(this)},_e.utc=function(t){return this.utcOffset(0,t)},_e.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Wt(this),"m")),this},_e.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(jt(this._i)),this},_e.hasAlignedHourOffset=function(t){return t=t?Kt(t).utcOffset():0,(this.utcOffset()-t)%60==0},_e.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},_e.isDSTShifted=function(){if(this._a){var t=this._isUTC?s(this._a):Kt(this._a);return this.isValid()&&0<y(this._a,t.toArray())}return!1},_e.isLocal=function(){return!this._isUTC},_e.isUtcOffset=function(){return this._isUTC},_e.isUtc=qt,_e.isUTC=qt,_e.zoneAbbr=function(){return this._isUTC?"UTC":""},_e.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},_e.dates=yt("dates accessor is deprecated. Use date instead.",ce),_e.months=yt("months accessor is deprecated. Use month instead",gt),_e.years=yt("years accessor is deprecated. Use year instead",It),_e.zone=yt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()});var Ee=_e;function we(t){return t}var Te=n.prototype;function Ce(t,e,n,i){var o=C(),r=s().set(i,e);return o[n](r,t)}function xe(t,e,n,i,o){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Ce(t,e,n,o);var r,a=[];for(r=0;r<i;r++)a[r]=Ce(t,r,n,o);return a}Te._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Te.calendar=function(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.call(e,n):i},Te._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Te.longDateFormat=function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},Te._invalidDate="Invalid date",Te.invalidDate=function(){return this._invalidDate},Te._ordinal="%d",Te.ordinal=function(t){return this._ordinal.replace("%d",t)},Te._ordinalParse=/\d{1,2}/,Te.preparse=we,Te.postformat=we,Te._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Te.relativeTime=function(t,e,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(t,e,n,i):o.replace(/%d/i,t)},Te.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},Te.set=function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},Te.months=function(t){return this._months[t.month()]},Te._months=ht,Te.monthsShort=function(t){return this._monthsShort[t.month()]},Te._monthsShort=ft,Te.monthsParse=function(t,e,n){var i,o,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=s([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},Te.week=function(t){return kt(t,this._week.dow,this._week.doy).week},Te._week={dow:0,doy:6},Te.firstDayOfYear=function(){return this._week.doy},Te.firstDayOfWeek=function(){return this._week.dow},Te.weekdays=function(t){return this._weekdays[t.day()]},Te._weekdays=ue,Te.weekdaysMin=function(t){return this._weekdaysMin[t.day()]},Te._weekdaysMin=he,Te.weekdaysShort=function(t){return this._weekdaysShort[t.day()]},Te._weekdaysShort=de,Te.weekdaysParse=function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=Kt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},Te.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Te._meridiemParse=/[ap]\.?m?\.?/i,Te.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===v(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),p.lang=yt("moment.lang is deprecated. Use moment.locale instead.",w),p.langData=yt("moment.langData is deprecated. Use moment.localeData instead.",C);var De=Math.abs;function Oe(t,e,n,i){var o=Yt(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function Ie(t){return 400*t/146097}function ke(t){return 146097*t/400}function Se(t){return function(){return this.as(t)}}var Re=Se("ms"),Ae=Se("s"),Me=Se("m"),Ne=Se("h"),Ke=Se("d"),Pe=Se("w"),Le=Se("M"),Fe=Se("y");function Be(t){return function(){return this._data[t]}}var $e=Be("milliseconds"),He=Be("seconds"),ze=Be("minutes"),je=Be("hours"),Ve=Be("days"),We=Be("months"),qe=Be("years");var Ge=Math.round,Ue={s:45,m:45,h:22,d:26,M:11};var Ye=Math.abs;function Xe(){var t=Ye(this.years()),e=Ye(this.months()),n=Ye(this.days()),i=Ye(this.hours()),o=Ye(this.minutes()),r=Ye(this.seconds()+this.milliseconds()/1e3),a=this.asSeconds();return a?(a<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||o||r?"T":"")+(i?i+"H":"")+(o?o+"M":"")+(r?r+"S":""):"P0D"}var Ze=Bt.prototype;return Ze.abs=function(){var t=this._data;return this._milliseconds=De(this._milliseconds),this._days=De(this._days),this._months=De(this._months),t.milliseconds=De(t.milliseconds),t.seconds=De(t.seconds),t.minutes=De(t.minutes),t.hours=De(t.hours),t.months=De(t.months),t.years=De(t.years),this},Ze.add=function(t,e){return Oe(this,t,e,1)},Ze.subtract=function(t,e){return Oe(this,t,e,-1)},Ze.as=function(t){var e,n,i=this._milliseconds;if("month"===(t=O(t))||"year"===t)return e=this._days+i/864e5,n=this._months+12*Ie(e),"month"===t?n:n/12;switch(e=this._days+Math.round(ke(this._months/12)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Ze.asMilliseconds=Re,Ze.asSeconds=Ae,Ze.asMinutes=Me,Ze.asHours=Ne,Ze.asDays=Ke,Ze.asWeeks=Pe,Ze.asMonths=Le,Ze.asYears=Fe,Ze.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)},Ze._bubble=function(){var t,e,n,i=this._milliseconds,o=this._days,r=this._months,a=this._data,s=0;return a.milliseconds=i%1e3,t=ne(i/1e3),a.seconds=t%60,e=ne(t/60),a.minutes=e%60,n=ne(e/60),a.hours=n%24,o+=ne(n/24),r+=ne((o-=ne(ke(s=ne(Ie(o)))))/30),o%=30,s+=ne(r/12),r%=12,a.days=o,a.months=r,a.years=s,this},Ze.get=function(t){return this[(t=O(t))+"s"]()},Ze.milliseconds=$e,Ze.seconds=He,Ze.minutes=ze,Ze.hours=je,Ze.days=Ve,Ze.weeks=function(){return ne(this.days()/7)},Ze.months=We,Ze.years=qe,Ze.humanize=function(t){var e=this.localeData(),n=function(t,e,n){var i=Yt(t).abs(),o=Ge(i.as("s")),r=Ge(i.as("m")),a=Ge(i.as("h")),s=Ge(i.as("d")),l=Ge(i.as("M")),c=Ge(i.as("y")),u=o<Ue.s&&["s",o]||1===r&&["m"]||r<Ue.m&&["mm",r]||1===a&&["h"]||a<Ue.h&&["hh",a]||1===s&&["d"]||s<Ue.d&&["dd",s]||1===l&&["M"]||l<Ue.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=e,u[3]=0<+t,u[4]=n,function(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}.apply(null,u)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Ze.toISOString=Xe,Ze.toString=Xe,Ze.toJSON=Xe,Ze.locale=oe,Ze.localeData=ae,Ze.toIsoString=yt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Xe),Ze.lang=re,F("X",0,0,"unix"),F("x",0,0,"valueOf"),tt("x",X),tt("X",/[+-]?\d+(\.\d{1,3})?/),nt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),nt("x",function(t,e,n){n._d=new Date(v(t))}),p.version="2.10.3",t=Kt,p.fn=Ee,p.min=function(){return Ft("isBefore",[].slice.call(arguments,0))},p.max=function(){return Ft("isAfter",[].slice.call(arguments,0))},p.utc=s,p.unix=function(t){return Kt(1e3*t)},p.months=function(t,e){return xe(t,e,"months",12,"month")},p.isDate=r,p.locale=w,p.invalid=c,p.duration=Yt,p.isMoment=f,p.weekdays=function(t,e){return xe(t,e,"weekdays",7,"day")},p.parseZone=function(){return Kt.apply(null,arguments).parseZone()},p.localeData=C,p.isDuration=$t,p.monthsShort=function(t,e){return xe(t,e,"monthsShort",12,"month")},p.weekdaysMin=function(t,e){return xe(t,e,"weekdaysMin",7,"day")},p.defineLocale=T,p.weekdaysShort=function(t,e){return xe(t,e,"weekdaysShort",7,"day")},p.normalizeUnits=O,p.relativeTimeThreshold=function(t,e){return void 0!==Ue[t]&&(void 0===e?Ue[t]:(Ue[t]=e,!0))},p}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(i){"use strict";i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;i(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){if(i(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(r){"use strict";function a(t){r(t).on("click",e,this.close)}var e='[data-dismiss="alert"]';a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function e(){o.detach().trigger("closed.bs.alert").remove()}var n=r(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var o=r("#"===i?[]:i);t&&t.preventDefault(),o.length||(o=n.closest(".alert")),o.trigger(t=r.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),r.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(a.TRANSITION_DURATION):e())};var t=r.fn.alert;r.fn.alert=function(n){return this.each(function(){var t=r(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})},r.fn.alert.Constructor=a,r.fn.alert.noConflict=function(){return r.fn.alert=t,this},r(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(r){"use strict";function n(i){return this.each(function(){var t=r(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new o(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var o=function(t,e){this.$element=r(t),this.options=r.extend({},o.DEFAULTS,e),this.isLoading=!1};o.VERSION="3.3.7",o.DEFAULTS={loadingText:"loading..."},o.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",null==o.resetText&&n.data("resetText",n[i]()),setTimeout(r.proxy(function(){n[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},o.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=r.fn.button;r.fn.button=n,r.fn.button.Constructor=o,r.fn.button.noConflict=function(){return r.fn.button=t,this},r(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=r(t.target).closest(".btn");n.call(e,"toggle"),r(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){r(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(d){"use strict";function a(o){return this.each(function(){var t=d(this),e=t.data("bs.carousel"),n=d.extend({},h.DEFAULTS,t.data(),"object"==typeof o&&o),i="string"==typeof o?o:n.slide;e||t.data("bs.carousel",e=new h(this,n)),"number"==typeof o?e.to(o):i?e[i]():n.interval&&e.pause().cycle()})}function h(t,e){this.$element=d(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))}h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),o=this.interval,r="next"==t?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:s,direction:r});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=d(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=d.Event("slid.bs.carousel",{relatedTarget:s,direction:r});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(r),i.addClass(r),n.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(u)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),o&&this.cycle(),this}};var t=d.fn.carousel;d.fn.carousel=a,d.fn.carousel.Constructor=h,d.fn.carousel.noConflict=function(){return d.fn.carousel=t,this};function e(t){var e,n=d(this),i=d(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var o=d.extend({},i.data(),n.data()),r=n.attr("data-slide-to");r&&(o.interval=!1),a.call(i,o),r&&i.data("bs.carousel").to(r),t.preventDefault()}}d(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var t=d(this);a.call(t,t.data())})})}(jQuery),function(a){"use strict";function o(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function s(i){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),n=a.extend({},l.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.$element=a(t),this.options=a.extend({},l.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&((t=e.data("bs.collapse"))&&t.transitioning))){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return o.call(this);var r=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(o,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][r])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[e](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION):n.call(this)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var n=a(e);this.addAriaAndCollapsedClass(o(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=a.fn.collapse;a.fn.collapse=s,a.fn.collapse.Constructor=l,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var n=o(e),i=n.data("bs.collapse")?"toggle":e.data();s.call(n,i)})}(jQuery),function(a){"use strict";function s(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&a(e);return n&&n.length?n:t.parent()}function r(i){i&&3===i.which||(a(".dropdown-backdrop").remove(),a(l).each(function(){var t=a(this),e=s(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&a.contains(e[0],i.target)||(e.trigger(i=a.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",n)))))}))}function i(t){a(t).on("click.bs.dropdown",this.toggle)}var l='[data-toggle="dropdown"]';i.VERSION="3.3.7",i.prototype.toggle=function(t){var e=a(this);if(!e.is(".disabled, :disabled")){var n=s(e),i=n.hasClass("open");if(r(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",r);var o={relatedTarget:this};if(n.trigger(t=a.Event("show.bs.dropdown",o)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(a.Event("shown.bs.dropdown",o))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=a(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=s(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(l).trigger("focus"),e.trigger("click");var o=n.find(".dropdown-menu li:not(.disabled):visible a");if(o.length){var r=o.index(t.target);38==t.which&&0<r&&r--,40==t.which&&r<o.length-1&&r++,~r||(r=0),o.eq(r).trigger("focus")}}}};var t=a.fn.dropdown;a.fn.dropdown=function(n){return this.each(function(){var t=a(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})},a.fn.dropdown.Constructor=i,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=t,this},a(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",l,i.prototype.toggle).on("keydown.bs.dropdown.data-api",l,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(r){"use strict";function a(i,o){return this.each(function(){var t=r(this),e=t.data("bs.modal"),n=r.extend({},s.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new s(this,n)),"string"==typeof i?e[i](o):n.show&&e.show(o)})}function s(t,e){this.options=e,this.$body=r(document.body),this.$element=r(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,r.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var i=this,t=r.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',r.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){r(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=r.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=r.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=r.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),r(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),r.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",r.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){r(document).off("focusin.bs.modal").on("focusin.bs.modal",r.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",r.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?r(window).on("resize.bs.modal",r.proxy(this.handleUpdate,this)):r(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=r.support.transition&&n;if(this.$backdrop=r(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",r.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){e.removeBackdrop(),t&&t()};r.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=r.fn.modal;r.fn.modal=a,r.fn.modal.Constructor=s,r.fn.modal.noConflict=function(){return r.fn.modal=t,this},r(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=r(this),n=e.attr("href"),i=r(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("bs.modal")?"toggle":r.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),a.call(i,o,this)})}(jQuery),function(g){"use strict";function m(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)}m.VERSION="3.3.7",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},m.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",s="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(t){return(t=g.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},m.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},m.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState?void(e.hoverState="in"):(clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())},m.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},m.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue())return clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide()},m.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(r);s&&(r=r.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,u=i[0].offsetHeight;if(s){var d=r,h=this.getPosition(this.$viewport);r="bottom"==r&&l.bottom+u>h.bottom?"top":"top"==r&&l.top-u<h.top?"bottom":"right"==r&&l.right+c>h.width?"left":"left"==r&&l.left-c<h.left?"right":r,i.removeClass(d).addClass(r)}var f=this.getCalculatedOffset(r,l,c,u);this.applyPlacement(f,r);var p=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",p).emulateTransitionEnd(m.TRANSITION_DURATION):p()}},m.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),t.top+=r,t.left+=a,g.offset.setOffset(n[0],g.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=o&&(t.top=t.top+o-l);var c=this.getViewportAdjustedDelta(e,t,s,l);c.left?t.left+=c.left:t.top+=c.top;var u=/top|bottom/.test(e),d=u?2*c.left-i+s:2*c.top-o+l,h=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,n[0][h],u)},m.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},m.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},m.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=g(this.$tip),o=g.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass("in"),g.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(m.TRANSITION_DURATION):e(),this.hoverState=null,this},m.prototype.fixTitle=function(){var t=this.$element;!t.attr("title")&&"string"==typeof t.attr("data-original-title")||t.attr("data-original-title",t.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&e instanceof window.SVGElement,r=n?{top:0,left:0}:o?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,a,s,r)},m.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},m.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+i;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=e.left-r,u=e.left+r+n;c<a.left?o.left=a.left-c:u>a.right&&(o.left=a.left+a.width-u)}return o},m.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},m.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},m.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var t=g.fn.tooltip;g.fn.tooltip=function(i){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new m(this,n)),"string"==typeof i&&e[i]())})},g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=t,this}}(jQuery),function(o){"use strict";function r(t,e){this.init("popover",t,e)}if(!o.fn.tooltip)throw new Error("Popover requires tooltip.js");r.VERSION="3.3.7",r.DEFAULTS=o.extend({},o.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((r.prototype=o.extend({},o.fn.tooltip.Constructor.prototype)).constructor=r).prototype.getDefaults=function(){return r.DEFAULTS},r.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},r.prototype.hasContent=function(){return this.getTitle()||this.getContent()},r.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},r.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=o.fn.popover;o.fn.popover=function(i){return this.each(function(){var t=o(this),e=t.data("bs.popover"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.popover",e=new r(this,n)),"string"==typeof i&&e[i]())})},o.fn.popover.Constructor=r,o.fn.popover.noConflict=function(){return o.fn.popover=t,this}}(jQuery),function(r){"use strict";function o(t,e){this.$body=r(document.body),this.$scrollElement=r(r(t).is(document.body)?window:t),this.options=r.extend({},o.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=r(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new o(this,n)),"string"==typeof i&&e[i]()})}o.VERSION="3.3.7",o.DEFAULTS={offset:10},o.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},o.prototype.refresh=function(){var t=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),r.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=r(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&r(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+o,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},o.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},o.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=r(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},o.prototype.clear=function(){r(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=r.fn.scrollspy;r.fn.scrollspy=e,r.fn.scrollspy.Constructor=o,r.fn.scrollspy.noConflict=function(){return r.fn.scrollspy=t,this},r(window).on("load.bs.scrollspy.data-api",function(){r('[data-spy="scroll"]').each(function(){var t=r(this);e.call(t,t.data())})})}(jQuery),function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}function a(t){this.element=s(t)}a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),o=s.Event("hide.bs.tab",{relatedTarget:t[0]}),r=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(r),!r.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=s(n);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(t,e,n){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var o=e.find("> .active"),r=n&&s.support.transition&&(o.length&&o.hasClass("fade")||!!e.find("> .fade").length);o.length&&r?o.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),o.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};function n(t){t.preventDefault(),e.call(s(this),"show")}s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new c(this,n)),"string"==typeof i&&e[i]()})}var c=function(t,e){this.options=l.extend({},c.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(o+a<=t-i)&&"bottom";var s=null==this.affixed,l=s?o:r.top;return null!=n&&o<=n?"top":null!=i&&t-i<=l+(s?a:e)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,o=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var r=this.getState(o,t,n,i);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var a="affix"+(r?"-"+r:""),s=l.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:o-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(m){"use strict";var r={tagClass:function(t){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},itemTitle:function(t){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!0,onTagExists:function(t,e){e.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};function a(t,e){this.itemsArray=[],this.$element=m(t),this.$element.hide(),this.isSelect="SELECT"===t.tagName,this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=e&&e.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=m('<div class="bootstrap-tagsinput"></div>'),this.$input=m('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(e)}function s(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(t){return t[n]}}}function c(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(){return n}}}a.prototype={constructor:a,add:function(t,e,n){var i=this;if(!(i.options.maxTags&&i.itemsArray.length>=i.options.maxTags)&&(!1===t||t)){if("string"==typeof t&&i.options.trimValue&&(t=m.trim(t)),"object"==typeof t&&!i.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(i.isSelect&&!i.multiple&&0<i.itemsArray.length&&i.remove(i.itemsArray[0]),"string"==typeof t&&"INPUT"===this.$element[0].tagName){var o=i.options.delimiterRegex?i.options.delimiterRegex:i.options.delimiter,r=t.split(o);if(1<r.length){for(var a=0;a<r.length;a++)this.add(r[a],!0);return void(e||i.pushVal())}}var s=i.options.itemValue(t),l=i.options.itemText(t),c=i.options.tagClass(t),u=i.options.itemTitle(t),d=m.grep(i.itemsArray,function(t){return i.options.itemValue(t)===s})[0];if(!d||i.options.allowDuplicates){if(!(i.items().toString().length+t.length+1>i.options.maxInputLength)){var h=m.Event("beforeItemAdd",{item:t,cancel:!1,options:n});if(i.$element.trigger(h),!h.cancel){i.itemsArray.push(t);var f=m('<span class="tag '+v(c)+(null!==u?'" title="'+u:"")+'">'+v(l)+'<span data-role="remove"></span></span>');if(f.data("item",t),i.findInputWrapper().before(f),f.after(" "),i.isSelect&&!m('option[value="'+encodeURIComponent(s)+'"]',i.$element)[0]){var p=m("<option selected>"+v(l)+"</option>");p.data("item",t),p.attr("value",s),i.$element.append(p)}e||i.pushVal(),i.options.maxTags!==i.itemsArray.length&&i.items().toString().length!==i.options.maxInputLength||i.$container.addClass("bootstrap-tagsinput-max"),i.$element.trigger(m.Event("itemAdded",{item:t,options:n}))}}}else if(i.options.onTagExists){var g=m(".tag",i.$container).filter(function(){return m(this).data("item")===d});i.options.onTagExists(t,g)}}}},remove:function(e,t,n){var i=this;if(i.objectItems&&(e=(e="object"==typeof e?m.grep(i.itemsArray,function(t){return i.options.itemValue(t)==i.options.itemValue(e)}):m.grep(i.itemsArray,function(t){return i.options.itemValue(t)==e}))[e.length-1]),e){var o=m.Event("beforeItemRemove",{item:e,cancel:!1,options:n});if(i.$element.trigger(o),o.cancel)return;m(".tag",i.$container).filter(function(){return m(this).data("item")===e}).remove(),m("option",i.$element).filter(function(){return m(this).data("item")===e}).remove(),-1!==m.inArray(e,i.itemsArray)&&i.itemsArray.splice(m.inArray(e,i.itemsArray),1)}t||i.pushVal(),i.options.maxTags>i.itemsArray.length&&i.$container.removeClass("bootstrap-tagsinput-max"),i.$element.trigger(m.Event("itemRemoved",{item:e,options:n}))},removeAll:function(){for(m(".tag",this.$container).remove(),m("option",this.$element).remove();0<this.itemsArray.length;)this.itemsArray.pop();this.pushVal()},refresh:function(){var r=this;m(".tag",r.$container).each(function(){var t=m(this),e=t.data("item"),n=r.options.itemValue(e),i=r.options.itemText(e),o=r.options.tagClass(e);t.attr("class",null),t.addClass("tag "+v(o)),t.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=v(i),r.isSelect&&m("option",r.$element).filter(function(){return m(this).data("item")===e}).attr("value",n)})},items:function(){return this.itemsArray},pushVal:function(){var e=this,t=m.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(t,!0).trigger("change")},build:function(t){var l=this;if(l.options=m.extend({},r,t),l.objectItems&&(l.options.freeInput=!1),s(l.options,"itemValue"),s(l.options,"itemText"),c(l.options,"tagClass"),l.options.typeahead){var i=l.options.typeahead||{};c(i,"source"),l.$input.typeahead(m.extend({},i,{source:function(t,o){function e(t){for(var e=[],n=0;n<t.length;n++){var i=l.options.itemText(t[n]);r[i]=t[n],e.push(i)}o(e)}this.map={};var r=this.map,n=i.source(t);m.isFunction(n.success)?n.success(e):m.isFunction(n.then)?n.then(e):m.when(n).then(e)},updater:function(t){return l.add(this.map[t]),this.map[t]},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}}))}if(l.options.typeaheadjs){var e=null,n={},o=l.options.typeaheadjs;n=m.isArray(o)?(e=o[0],o[1]):o,l.$input.typeahead(e,n).on("typeahead:selected",m.proxy(function(t,e){n.valueKey?l.add(e[n.valueKey]):l.add(e),l.$input.typeahead("val","")},l))}l.$container.on("click",m.proxy(function(t){l.$element.attr("disabled")||l.$input.removeAttr("disabled"),l.$input.focus()},l)),l.options.addOnBlur&&l.options.freeInput&&l.$input.on("focusout",m.proxy(function(t){0===m(".typeahead, .twitter-typeahead",l.$container).length&&(l.add(l.$input.val()),l.$input.val(""))},l)),l.$container.on("keydown","input",m.proxy(function(t){var e=m(t.target),n=l.findInputWrapper();if(l.$element.attr("disabled"))l.$input.attr("disabled","disabled");else{switch(t.which){case 8:if(0===u(e[0])){var i=n.prev();i.length&&l.remove(i.data("item"))}break;case 46:if(0===u(e[0])){var o=n.next();o.length&&l.remove(o.data("item"))}break;case 37:var r=n.prev();0===e.val().length&&r[0]&&(r.before(n),e.focus());break;case 39:var a=n.next();0===e.val().length&&a[0]&&(a.after(n),e.focus())}var s=e.val().length;Math.ceil(s/5);e.attr("size",Math.max(this.inputSize,e.val().length))}},l)),l.$container.on("keypress","input",m.proxy(function(t){var e=m(t.target);if(l.$element.attr("disabled"))l.$input.attr("disabled","disabled");else{var n=e.val(),i=l.options.maxChars&&n.length>=l.options.maxChars;l.options.freeInput&&(function(r,t){var a=!1;return m.each(t,function(t,e){if("number"==typeof e&&r.which===e)return!(a=!0);if(r.which===e.which){var n=!e.hasOwnProperty("altKey")||r.altKey===e.altKey,i=!e.hasOwnProperty("shiftKey")||r.shiftKey===e.shiftKey,o=!e.hasOwnProperty("ctrlKey")||r.ctrlKey===e.ctrlKey;if(n&&i&&o)return!(a=!0)}}),a}(t,l.options.confirmKeys)||i)&&(0!==n.length&&(l.add(i?n.substr(0,l.options.maxChars):n),e.val("")),!1===l.options.cancelConfirmKeysOnEmpty&&t.preventDefault());var o=e.val().length;Math.ceil(o/5);e.attr("size",Math.max(this.inputSize,e.val().length))}},l)),l.$container.on("click","[data-role=remove]",m.proxy(function(t){l.$element.attr("disabled")||l.remove(m(t.target).closest(".tag").data("item"))},l)),l.options.itemValue===r.itemValue&&("INPUT"===l.$element[0].tagName?l.add(l.$element.val()):m("option",l.$element).each(function(){l.add(m(this).attr("value"),!0)}))},destroy:function(){this.$container.off("keypress","input"),this.$container.off("click","[role=remove]"),this.$container.remove(),this.$element.removeData("tagsinput"),this.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],e=this.$container[0];t&&t.parentNode!==e;)t=t.parentNode;return m(t)}},m.fn.tagsinput=function(n,i,o){var r=[];return this.each(function(){var t=m(this).data("tagsinput");if(t)if(n||i){if(void 0!==t[n]){if(3===t[n].length&&void 0!==o)var e=t[n](i,null,o);else e=t[n](i);void 0!==e&&r.push(e)}}else r.push(t);else t=new a(this,n),m(this).data("tagsinput",t),r.push(t),"SELECT"===this.tagName&&m("option",m(this)).attr("selected","selected"),m(this).val(m(this).val())}),"string"==typeof n?1<r.length?r:r[0]:r},m.fn.tagsinput.Constructor=a;var e=m("<div />");function v(t){return t?e.text(t).html():""}function u(t){var e=0;if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}else!t.selectionStart&&"0"!=t.selectionStart||(e=t.selectionStart);return e}m(function(){m("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function($){"use strict";function s(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function C(r){var n;return 1===r.length&&(n=r,r=function(t,e){return s(n(t),e)}),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var o=n+i>>>1;r(t[o],e)<0?n=1+o:i=o}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var o=n+i>>>1;0<r(t[o],e)?i=o:n=1+o}return n}}}var t=C(s),g=t.right,e=t.left;function u(t,e){return[t,e]}function c(t){return null===t?NaN:+t}function i(t,e){var n,i,o=t.length,r=0,a=-1,s=0,l=0;if(null==e)for(;++a<o;)isNaN(n=c(t[a]))||(l+=(i=n-s)*(n-(s+=i/++r)));else for(;++a<o;)isNaN(n=c(e(t[a],a,t)))||(l+=(i=n-s)*(n-(s+=i/++r)));if(1<r)return l/(r-1)}function o(t,e){var n=i(t,e);return n?Math.sqrt(n):n}function l(t,e){var n,i,o,r=t.length,a=-1;if(null==e){for(;++a<r;)if(null!=(n=t[a])&&n<=n)for(i=o=n;++a<r;)null!=(n=t[a])&&(n<i&&(i=n),o<n&&(o=n))}else for(;++a<r;)if(null!=(n=e(t[a],a,t))&&n<=n)for(i=o=n;++a<r;)null!=(n=e(t[a],a,t))&&(n<i&&(i=n),o<n&&(o=n));return[i,o]}var n=Array.prototype,r=n.slice,a=n.map;function d(t){return function(){return t}}function m(t){return t}function x(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var i=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),r=new Array(o);++i<o;)r[i]=t+i*n;return r}var h=Math.sqrt(50),f=Math.sqrt(10),p=Math.sqrt(2);function v(t,e,n){var i,o,r,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&0<n)return[t];if((i=e<t)&&(o=t,t=e,e=o),0===(a=y(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),r=new Array(o=Math.ceil(e-t+1));++s<o;)r[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),r=new Array(o=Math.ceil(t-e+1));++s<o;)r[s]=(t-s)/a;return i&&r.reverse(),r}function y(t,e,n){var i=(e-t)/Math.max(0,n),o=Math.floor(Math.log(i)/Math.LN10),r=i/Math.pow(10,o);return 0<=o?(h<=r?10:f<=r?5:p<=r?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(h<=r?10:f<=r?5:p<=r?2:1)}function D(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/o;return h<=r?o*=10:f<=r?o*=5:p<=r&&(o*=2),e<t?-o:o}function b(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function _(t,e,n){if(null==n&&(n=c),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(1<=e)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,r=Math.floor(o),a=+n(t[r],r,t);return a+(+n(t[r+1],r+1,t)-a)*(o-r)}}function E(t,e){var n,i,o=t.length,r=-1;if(null==e){for(;++r<o;)if(null!=(n=t[r])&&n<=n)for(i=n;++r<o;)null!=(n=t[r])&&i<n&&(i=n)}else for(;++r<o;)if(null!=(n=e(t[r],r,t))&&n<=n)for(i=n;++r<o;)null!=(n=e(t[r],r,t))&&i<n&&(i=n);return i}function O(t){for(var e,n,i,o=t.length,r=-1,a=0;++r<o;)a+=t[r].length;for(n=new Array(a);0<=--o;)for(e=(i=t[o]).length;0<=--e;)n[--a]=i[e];return n}function w(t,e){var n,i,o=t.length,r=-1;if(null==e){for(;++r<o;)if(null!=(n=t[r])&&n<=n)for(i=n;++r<o;)null!=(n=t[r])&&n<i&&(i=n)}else for(;++r<o;)if(null!=(n=e(t[r],r,t))&&n<=n)for(i=n;++r<o;)null!=(n=e(t[r],r,t))&&n<i&&(i=n);return i}function T(t){if(!(o=t.length))return[];for(var e=-1,n=w(t,I),i=new Array(n);++e<n;)for(var o,r=-1,a=i[e]=new Array(o);++r<o;)a[r]=t[r][e];return i}function I(t){return t.length}var k=Array.prototype.slice;function S(t){return t}function R(t){return"translate("+(t+.5)+",0)"}function A(t){return"translate(0,"+(t+.5)+")"}function M(){return!this.__axis}function N(g,m){var v=[],y=null,b=null,_=6,E=6,w=3,T=1===g||4===g?-1:1,C=4===g||2===g?"x":"y",x=1===g||3===g?R:A;function e(t){var e=null==y?m.ticks?m.ticks.apply(m,v):m.domain():y,n=null==b?m.tickFormat?m.tickFormat.apply(m,v):S:b,i=Math.max(_,0)+w,o=m.range(),r=+o[0]+.5,a=+o[o.length-1]+.5,s=(m.bandwidth?function(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}:function(e){return function(t){return+e(t)}})(m.copy()),l=t.selection?t.selection():t,c=l.selectAll(".domain").data([null]),u=l.selectAll(".tick").data(e,m).order(),d=u.exit(),h=u.enter().append("g").attr("class","tick"),f=u.select("line"),p=u.select("text");c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),u=u.merge(h),f=f.merge(h.append("line").attr("stroke","currentColor").attr(C+"2",T*_)),p=p.merge(h.append("text").attr("fill","currentColor").attr(C,T*i).attr("dy",1===g?"0em":3===g?"0.71em":"0.32em")),t!==l&&(c=c.transition(t),u=u.transition(t),f=f.transition(t),p=p.transition(t),d=d.transition(t).attr("opacity",1e-6).attr("transform",function(t){return isFinite(t=s(t))?x(t):this.getAttribute("transform")}),h.attr("opacity",1e-6).attr("transform",function(t){var e=this.parentNode.__axis;return x(e&&isFinite(e=e(t))?e:s(t))})),d.remove(),c.attr("d",4===g||2==g?E?"M"+T*E+","+r+"H0.5V"+a+"H"+T*E:"M0.5,"+r+"V"+a:E?"M"+r+","+T*E+"V0.5H"+a+"V"+T*E:"M"+r+",0.5H"+a),u.attr("opacity",1).attr("transform",function(t){return x(s(t))}),f.attr(C+"2",T*_),p.attr(C,T*i).text(n),l.filter(M).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===g?"start":4===g?"end":"middle"),l.each(function(){this.__axis=s})}return e.scale=function(t){return arguments.length?(m=t,e):m},e.ticks=function(){return v=k.call(arguments),e},e.tickArguments=function(t){return arguments.length?(v=null==t?[]:k.call(t),e):v.slice()},e.tickValues=function(t){return arguments.length?(y=null==t?null:k.call(t),e):y&&y.slice()},e.tickFormat=function(t){return arguments.length?(b=t,e):b},e.tickSize=function(t){return arguments.length?(_=E=+t,e):_},e.tickSizeInner=function(t){return arguments.length?(_=+t,e):_},e.tickSizeOuter=function(t){return arguments.length?(E=+t,e):E},e.tickPadding=function(t){return arguments.length?(w=+t,e):w},e}var K={value:function(){}};function H(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new P(i)}function P(t){this._=t}function L(t,e){for(var n,i=0,o=t.length;i<o;++i)if((n=t[i]).name===e)return n.value}function F(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=K,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}P.prototype=H.prototype={constructor:P,on:function(t,e){var n,i,o=this._,r=(i=o,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=r[a]).type)o[n]=F(o[n],t.name,e);else if(null==e)for(n in o)o[n]=F(o[n],t.name,null);return this}for(;++a<s;)if((n=(t=r[a]).type)&&(n=L(o[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new P(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,i,o=new Array(n),r=0;r<n;++r)o[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,n=(i=this._[t]).length;r<n;++r)i[r].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};var B="http://www.w3.org/1999/xhtml",z={svg:"http://www.w3.org/2000/svg",xhtml:B,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function j(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),z.hasOwnProperty(e)?{space:z[e],local:t}:t}function V(t){var e=j(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===B&&t.documentElement.namespaceURI===B?t.createElement(n):t.createElementNS(e,n)}})(e)}function W(){}function q(t){return null==t?W:function(){return this.querySelector(t)}}function G(){return[]}function U(t){return null==t?G:function(){return this.querySelectorAll(t)}}function Y(t){return function(){return this.matches(t)}}function X(t){return new Array(t.length)}function Z(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Z.prototype={constructor:Z,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Q(t,e,n,i,o,r){for(var a,s=0,l=e.length,c=r.length;s<c;++s)(a=e[s])?(a.__data__=r[s],i[s]=a):n[s]=new Z(t,r[s]);for(;s<l;++s)(a=e[s])&&(o[s]=a)}function J(t,e,n,i,o,r,a){var s,l,c,u={},d=e.length,h=r.length,f=new Array(d);for(s=0;s<d;++s)(l=e[s])&&(f[s]=c="$"+a.call(l,l.__data__,s,e),c in u?o[s]=l:u[c]=l);for(s=0;s<h;++s)(l=u[c="$"+a.call(t,r[s],s,r)])?((i[s]=l).__data__=r[s],u[c]=null):n[s]=new Z(t,r[s]);for(s=0;s<d;++s)(l=e[s])&&u[f[s]]===l&&(o[s]=l)}function tt(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function et(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function nt(t,e){return t.style.getPropertyValue(e)||et(t).getComputedStyle(t,null).getPropertyValue(e)}function it(t){return t.trim().split(/^|\s+/)}function ot(t){return t.classList||new rt(t)}function rt(t){this._node=t,this._names=it(t.getAttribute("class")||"")}function at(t,e){for(var n=ot(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function st(t,e){for(var n=ot(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function lt(){this.textContent=""}function ct(){this.innerHTML=""}function ut(){this.nextSibling&&this.parentNode.appendChild(this)}function dt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ht(){return null}function ft(){var t=this.parentNode;t&&t.removeChild(this)}function pt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function gt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}rt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var mt={};function vt(n,t,e){return n=yt(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function yt(n,i,o){return function(t){var e=$.event;$.event=t;try{n.call(this,this.__data__,i,o)}finally{$.event=e}}}function bt(r){return function(){var t=this.__on;if(t){for(var e,n=0,i=-1,o=t.length;n<o;++n)e=t[n],r.type&&e.type!==r.type||e.name!==r.name?t[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?t.length=i:delete this.__on}}}function _t(l,c,u){var d=mt.hasOwnProperty(l.type)?vt:yt;return function(t,e,n){var i,o=this.__on,r=d(c,e,n);if(o)for(var a=0,s=o.length;a<s;++a)if((i=o[a]).type===l.type&&i.name===l.name)return this.removeEventListener(i.type,i.listener,i.capture),this.addEventListener(i.type,i.listener=r,i.capture=u),void(i.value=c);this.addEventListener(l.type,r,u),i={type:l.type,name:l.name,value:c,listener:r,capture:u},o?o.push(i):this.__on=[i]}}function Et(t,e,n,i){var o=$.event;t.sourceEvent=$.event,$.event=t;try{return e.apply(n,i)}finally{$.event=o}}function wt(t,e,n){var i=et(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}$.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(mt={mouseenter:"mouseover",mouseleave:"mouseout"}));var Tt=[null];function Ct(t,e){this._groups=t,this._parents=e}function xt(){return new Ct([[document.documentElement]],Tt)}function Dt(t){return"string"==typeof t?new Ct([[document.querySelector(t)]],[document.documentElement]):new Ct([[t]],Tt)}Ct.prototype=xt.prototype={constructor:Ct,select:function(t){"function"!=typeof t&&(t=q(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a,s=e[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(r=s[u])&&(a=t.call(r,r.__data__,u,s))&&("__data__"in r&&(a.__data__=r.__data__),c[u]=a);return new Ct(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=U(t));for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var a,s=e[r],l=s.length,c=0;c<l;++c)(a=s[c])&&(i.push(t.call(a,a.__data__,c,s)),o.push(a));return new Ct(i,o)},filter:function(t){"function"!=typeof t&&(t=Y(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a=e[o],s=a.length,l=i[o]=[],c=0;c<s;++c)(r=a[c])&&t.call(r,r.__data__,c,a)&&l.push(r);return new Ct(i,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),u=-1,this.each(function(t){p[++u]=t}),p;var n,i=e?J:Q,o=this._parents,r=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=r.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var d=o[u],h=r[u],f=h.length,p=t.call(d,d&&d.__data__,u,o),g=p.length,m=l[u]=new Array(g),v=s[u]=new Array(g);i(d,h,m,v,c[u]=new Array(f),p,e);for(var y,b,_=0,E=0;_<g;++_)if(y=m[_]){for(E<=_&&(E=_+1);!(b=v[E])&&++E<g;);y._next=b||null}}return(s=new Ct(s,o))._enter=l,s._exit=c,s},enter:function(){return new Ct(this._enter||this._groups.map(X),this._parents)},exit:function(){return new Ct(this._exit||this._groups.map(X),this._parents)},join:function(t,e,n){var i=this.enter(),o=this,r=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(o=e(o)),null==n?r.remove():n(r),i&&o?i.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),a=new Array(i),s=0;s<r;++s)for(var l,c=e[s],u=n[s],d=c.length,h=a[s]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(h[f]=l);for(;s<i;++s)a[s]=e[s];return new Ct(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,o=t[e],r=o.length-1,a=o[r];0<=--r;)(i=o[r])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||tt;for(var e=this._groups,i=e.length,o=new Array(i),r=0;r<i;++r){for(var a,s=e[r],l=s.length,c=o[r]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new Ct(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var a=i[o];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o,r=e[n],a=0,s=r.length;a<s;++a)(o=r[a])&&t.call(o,o.__data__,a,r);return this},attr:function(t,e){var n=j(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,i){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):nt(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=it(t+"");if(arguments.length<2){for(var i=ot(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?at:st)(this,t)}}:e?function(t){return function(){at(this,t)}}:function(t){return function(){st(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?lt:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ct:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(ut)},lower:function(){return this.each(dt)},append:function(t){var e="function"==typeof t?t:V(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:V(t),i=null==e?ht:"function"==typeof e?e:q(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(ft)},clone:function(t){return this.select(t?gt:pt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,o,r=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=r.length;if(!(arguments.length<2)){for(s=e?_t:bt,null==n&&(n=!1),i=0;i<a;++i)this.each(s(r[i],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(i=0,l=s[c];i<a;++i)if((o=r[i]).type===l.type&&o.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return wt(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return wt(this,t,e)}})(t,e))}};var Ot=0;function It(){return new kt}function kt(){this._="@"+(++Ot).toString(36)}function St(){for(var t,e=$.event;t=e.sourceEvent;)e=t;return e}function Rt(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function At(t){var e=St();return e.changedTouches&&(e=e.changedTouches[0]),Rt(t,e)}function Mt(t,e,n){arguments.length<3&&(n=e,e=St().changedTouches);for(var i,o=0,r=e?e.length:0;o<r;++o)if((i=e[o]).identifier===n)return Rt(t,i);return null}function Nt(){$.event.stopImmediatePropagation()}function Kt(){$.event.preventDefault(),$.event.stopImmediatePropagation()}function Pt(t){var e=t.document.documentElement,n=Dt(t).on("dragstart.drag",Kt,!0);"onselectstart"in e?n.on("selectstart.drag",Kt,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Lt(t,e){var n=t.document.documentElement,i=Dt(t).on("dragstart.drag",null);e&&(i.on("click.drag",Kt,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ft(t){return function(){return t}}function Bt(t,e,n,i,o,r,a,s,l,c){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=o,this.x=r,this.y=a,this.dx=s,this.dy=l,this._=c}function $t(){return!$.event.button}function Ht(){return this.parentNode}function zt(t){return null==t?{x:$.event.x,y:$.event.y}:t}function jt(){return"ontouchstart"in this}function Vt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Wt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function qt(){}kt.prototype=It.prototype={constructor:kt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},Bt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Gt="\\s*([+-]?\\d+)\\s*",Ut="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xt=/^#([0-9a-f]{3})$/,Zt=/^#([0-9a-f]{6})$/,Qt=new RegExp("^rgb\\("+[Gt,Gt,Gt]+"\\)$"),Jt=new RegExp("^rgb\\("+[Yt,Yt,Yt]+"\\)$"),te=new RegExp("^rgba\\("+[Gt,Gt,Gt,Ut]+"\\)$"),ee=new RegExp("^rgba\\("+[Yt,Yt,Yt,Ut]+"\\)$"),ne=new RegExp("^hsl\\("+[Ut,Yt,Yt]+"\\)$"),ie=new RegExp("^hsla\\("+[Ut,Yt,Yt,Ut]+"\\)$"),oe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function re(t){var e;return t=(t+"").trim().toLowerCase(),(e=Xt.exec(t))?new ue((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Zt.exec(t))?ae(parseInt(e[1],16)):(e=Qt.exec(t))?new ue(e[1],e[2],e[3],1):(e=Jt.exec(t))?new ue(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=te.exec(t))?se(e[1],e[2],e[3],e[4]):(e=ee.exec(t))?se(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ne.exec(t))?he(e[1],e[2]/100,e[3]/100,1):(e=ie.exec(t))?he(e[1],e[2]/100,e[3]/100,e[4]):oe.hasOwnProperty(t)?ae(oe[t]):"transparent"===t?new ue(NaN,NaN,NaN,0):null}function ae(t){return new ue(t>>16&255,t>>8&255,255&t,1)}function se(t,e,n,i){return i<=0&&(t=e=n=NaN),new ue(t,e,n,i)}function le(t){return t instanceof qt||(t=re(t)),t?new ue((t=t.rgb()).r,t.g,t.b,t.opacity):new ue}function ce(t,e,n,i){return 1===arguments.length?le(t):new ue(t,e,n,null==i?1:i)}function ue(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function de(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function he(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new pe(t,e,n,i)}function fe(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof pe)return new pe(t.h,t.s,t.l,t.opacity);if(t instanceof qt||(t=re(t)),!t)return new pe;if(t instanceof pe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),a=NaN,s=r-o,l=(r+o)/2;return s?(a=e===r?(n-i)/s+6*(n<i):n===r?(i-e)/s+2:(e-n)/s+4,s/=l<.5?r+o:2-r-o,a*=60):s=0<l&&l<1?0:a,new pe(a,s,l,t.opacity)}(t):new pe(t,e,n,null==i?1:i)}function pe(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function ge(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Vt(qt,re,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Vt(ue,ce,Wt(qt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ue(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ue(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+de(this.r)+de(this.g)+de(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Vt(pe,fe,Wt(qt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new pe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new pe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new ue(ge(240<=t?t-240:120+t,o,i),ge(t,o,i),ge(t<120?240+t:t-120,o,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var me=Math.PI/180,ve=180/Math.PI,ye=.96422,be=1,_e=.82521,Ee=4/29,we=6/29*3*(6/29),Te=6/29*(6/29)*(6/29);function Ce(t){if(t instanceof De)return new De(t.l,t.a,t.b,t.opacity);if(t instanceof Me){if(isNaN(t.h))return new De(t.l,0,0,t.opacity);var e=t.h*me;return new De(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof ue||(t=le(t));var n,i,o=Se(t.r),r=Se(t.g),a=Se(t.b),s=Oe((.2225045*o+.7168786*r+.0606169*a)/be);return o===r&&r===a?n=i=s:(n=Oe((.4360747*o+.3850649*r+.1430804*a)/ye),i=Oe((.0139322*o+.0971045*r+.7141733*a)/_e)),new De(116*s-16,500*(n-s),200*(s-i),t.opacity)}function xe(t,e,n,i){return 1===arguments.length?Ce(t):new De(t,e,n,null==i?1:i)}function De(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Oe(t){return Te<t?Math.pow(t,1/3):t/we+Ee}function Ie(t){return 6/29<t?t*t*t:we*(t-Ee)}function ke(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Se(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Re(t){if(t instanceof Me)return new Me(t.h,t.c,t.l,t.opacity);if(t instanceof De||(t=Ce(t)),0===t.a&&0===t.b)return new Me(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*ve;return new Me(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ae(t,e,n,i){return 1===arguments.length?Re(t):new Me(t,e,n,null==i?1:i)}function Me(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}Vt(De,xe,Wt(qt,{brighter:function(t){return new De(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new De(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new ue(ke(3.1338561*(e=ye*Ie(e))-1.6168667*(t=be*Ie(t))-.4906146*(n=_e*Ie(n))),ke(-.9787684*e+1.9161415*t+.033454*n),ke(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Vt(Me,Ae,Wt(qt,{brighter:function(t){return new Me(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Me(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ce(this).rgb()}}));var Ne=-.29227,Ke=-.90649,Pe=1.97294,Le=Pe*Ke,Fe=1.78277*Pe,Be=1.78277*Ne- -.14861*Ke;function $e(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof He)return new He(t.h,t.s,t.l,t.opacity);t instanceof ue||(t=le(t));var e=t.r/255,n=t.g/255,i=t.b/255,o=(Be*i+Le*e-Fe*n)/(Be+Le-Fe),r=i-o,a=(Pe*(n-o)-Ne*r)/Ke,s=Math.sqrt(a*a+r*r)/(Pe*o*(1-o)),l=s?Math.atan2(a,r)*ve-120:NaN;return new He(l<0?l+360:l,s,o,t.opacity)}(t):new He(t,e,n,null==i?1:i)}function He(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function ze(t,e,n,i,o){var r=t*t,a=r*t;return((1-3*t+3*r-a)*e+(4-6*r+3*a)*n+(1+3*t+3*r-3*a)*i+a*o)/6}function je(a){var s=a.length-1;return function(t){var e=t<=0?t=0:1<=t?s-(t=1):Math.floor(t*s),n=a[e],i=a[e+1],o=0<e?a[e-1]:2*n-i,r=e<s-1?a[e+2]:2*i-n;return ze((t-e/s)*s,o,n,i,r)}}function Ve(a){var s=a.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*s),n=a[(e+s-1)%s],i=a[e%s],o=a[(e+1)%s],r=a[(e+2)%s];return ze((t-e/s)*s,n,i,o,r)}}function We(t){return function(){return t}}function qe(e,n){return function(t){return e+t*n}}function Ge(t,e){var n=e-t;return n?qe(t,180<n||n<-180?n-360*Math.round(n/360):n):We(isNaN(t)?e:t)}function Ue(t,e){var n=e-t;return n?qe(t,n):We(isNaN(t)?e:t)}Vt(He,$e,Wt(qt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new He(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new He(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*me,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),o=Math.sin(t);return new ue(255*(e+n*(-.14861*i+1.78277*o)),255*(e+n*(Ne*i+Ke*o)),255*(e+Pe*i*n),this.opacity)}}));var Ye=function t(e){var a=function(r){return 1==(r=+r)?Ue:function(t,e){return e-t?(n=t,i=e,o=r,n=Math.pow(n,o),i=Math.pow(i,o)-n,o=1/o,function(t){return Math.pow(n+t*i,o)}):We(isNaN(t)?e:t);var n,i,o}}(e);function n(e,t){var n=a((e=ce(e)).r,(t=ce(t)).r),i=a(e.g,t.g),o=a(e.b,t.b),r=Ue(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=o(t),e.opacity=r(t),e+""}}return n.gamma=t,n}(1);function Xe(s){return function(t){var e,n,i=t.length,o=new Array(i),r=new Array(i),a=new Array(i);for(e=0;e<i;++e)n=ce(t[e]),o[e]=n.r||0,r[e]=n.g||0,a[e]=n.b||0;return o=s(o),r=s(r),a=s(a),n.opacity=1,function(t){return n.r=o(t),n.g=r(t),n.b=a(t),n+""}}}var Ze=Xe(je),Qe=Xe(Ve);function Je(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,r=new Array(o),a=new Array(i);for(n=0;n<o;++n)r[n]=sn(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=r[n](t);return a}}function tn(e,n){var i=new Date;return n-=e=+e,function(t){return i.setTime(e+n*t),i}}function en(e,n){return n-=e=+e,function(t){return e+n*t}}function nn(t,e){var n,i={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=sn(t[n],e[n]):o[n]=e[n];return function(t){for(n in i)o[n]=i[n](t);return o}}var on=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rn=new RegExp(on.source,"g");function an(t,i){var e,n,o,r,a,s=on.lastIndex=rn.lastIndex=0,l=-1,c=[],u=[];for(t+="",i+="";(e=on.exec(t))&&(n=rn.exec(i));)(o=n.index)>s&&(o=i.slice(s,o),c[l]?c[l]+=o:c[++l]=o),(e=e[0])===(n=n[0])?c[l]?c[l]+=n:c[++l]=n:(c[++l]=null,u.push({i:l,x:en(e,n)})),s=rn.lastIndex;return s<i.length&&(o=i.slice(s),c[l]?c[l]+=o:c[++l]=o),c.length<2?u[0]?(a=u[0].x,function(t){return a(t)+""}):(r=i,function(){return r}):(i=u.length,function(t){for(var e,n=0;n<i;++n)c[(e=u[n]).i]=e.x(t);return c.join("")})}function sn(t,e){var n,i=typeof e;return null==e||"boolean"==i?We(e):("number"==i?en:"string"==i?(n=re(e))?(e=n,Ye):an:e instanceof re?Ye:e instanceof Date?tn:Array.isArray(e)?Je:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?nn:en)(t,e)}function ln(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}}var cn,un,dn,hn,fn=180/Math.PI,pn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gn(t,e,n,i,o,r){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*fn,skewX:Math.atan(l)*fn,scaleX:a,scaleY:s}}function mn(u,d,h,f){function p(t){return t.length?t.pop()+" ":""}return function(t,e){var n,i,o,r,a,s,l=[],c=[];return t=u(t),e=u(e),function(t,e,n,i,o,r){if(t!==n||e!==i){var a=o.push("translate(",null,d,null,h);r.push({i:a-4,x:en(t,n)},{i:a-2,x:en(e,i)})}else(n||i)&&o.push("translate("+n+d+i+h)}(t.translateX,t.translateY,e.translateX,e.translateY,l,c),r=t.rotate,a=e.rotate,s=l,r!==a?(180<r-a?a+=360:180<a-r&&(r+=360),c.push({i:s.push(p(s)+"rotate(",null,f)-2,x:en(r,a)})):a&&s.push(p(s)+"rotate("+a+f),n=t.skewX,i=e.skewX,o=l,n!==i?c.push({i:o.push(p(o)+"skewX(",null,f)-2,x:en(n,i)}):i&&o.push(p(o)+"skewX("+i+f),function(t,e,n,i,o,r){if(t!==n||e!==i){var a=o.push(p(o)+"scale(",null,",",null,")");r.push({i:a-4,x:en(t,n)},{i:a-2,x:en(e,i)})}else 1===n&&1===i||o.push(p(o)+"scale("+n+","+i+")")}(t.scaleX,t.scaleY,e.scaleX,e.scaleY,l,c),t=e=null,function(t){for(var e,n=-1,i=c.length;++n<i;)l[(e=c[n]).i]=e.x(t);return l.join("")}}}var vn=mn(function(t){return"none"===t?pn:(cn||(cn=document.createElement("DIV"),un=document.documentElement,dn=document.defaultView),cn.style.transform=t,t=dn.getComputedStyle(un.appendChild(cn),null).getPropertyValue("transform"),un.removeChild(cn),gn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),yn=mn(function(t){return null==t?pn:((hn=hn||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=hn.transform.baseVal.consolidate())?gn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):pn)},", ",")",")"),bn=Math.SQRT2;function _n(t){return((t=Math.exp(t))+1/t)/2}function En(t,e){var n,a,s=t[0],l=t[1],c=t[2],i=e[0],o=e[1],r=e[2],u=i-s,d=o-l,h=u*u+d*d;if(h<1e-12)a=Math.log(r/c)/bn,n=function(t){return[s+t*u,l+t*d,c*Math.exp(bn*t*a)]};else{var f=Math.sqrt(h),p=(r*r-c*c+4*h)/(2*c*2*f),g=(r*r-c*c-4*h)/(2*r*2*f),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);a=(v-m)/bn,n=function(t){var e,n,i=t*a,o=_n(m),r=c/(2*f)*(o*(e=bn*i+m,((e=Math.exp(2*e))-1)/(e+1))-(n=m,((n=Math.exp(n))-1/n)/2));return[s+r*u,l+r*d,c*o/_n(bn*i+m)]}}return n.duration=1e3*a,n}function wn(a){return function(e,t){var n=a((e=fe(e)).h,(t=fe(t)).h),i=Ue(e.s,t.s),o=Ue(e.l,t.l),r=Ue(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=o(t),e.opacity=r(t),e+""}}}var Tn=wn(Ge),Cn=wn(Ue);function xn(a){return function(e,t){var n=a((e=Ae(e)).h,(t=Ae(t)).h),i=Ue(e.c,t.c),o=Ue(e.l,t.l),r=Ue(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=i(t),e.l=o(t),e.opacity=r(t),e+""}}}var Dn=xn(Ge),On=xn(Ue);function In(s){return function t(a){function e(e,t){var n=s((e=$e(e)).h,(t=$e(t)).h),i=Ue(e.s,t.s),o=Ue(e.l,t.l),r=Ue(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=o(Math.pow(t,a)),e.opacity=r(t),e+""}}return a=+a,e.gamma=t,e}(1)}var kn,Sn,Rn=In(Ge),An=In(Ue),Mn=0,Nn=0,Kn=0,Pn=1e3,Ln=0,Fn=0,Bn=0,$n="object"==typeof performance&&performance.now?performance:Date,Hn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function zn(){return Fn||(Hn(jn),Fn=$n.now()+Bn)}function jn(){Fn=0}function Vn(){this._call=this._time=this._next=null}function Wn(t,e,n){var i=new Vn;return i.restart(t,e,n),i}function qn(){zn(),++Mn;for(var t,e=kn;e;)0<=(t=Fn-e._time)&&e._call.call(null,t),e=e._next;--Mn}function Gn(){Fn=(Ln=$n.now())+Bn,Mn=Nn=0;try{qn()}finally{Mn=0,function(){for(var t,e,n=kn,i=1/0;n;)n=n._call?(i>n._time&&(i=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:kn=e);Sn=t,Yn(i)}(),Fn=0}}function Un(){var t=$n.now(),e=t-Ln;Pn<e&&(Bn-=e,Ln=t)}function Yn(t){Mn||(Nn=Nn&&clearTimeout(Nn),24<t-Fn?(t<1/0&&(Nn=setTimeout(Gn,t-$n.now()-Bn)),Kn=Kn&&clearInterval(Kn)):(Kn||(Ln=$n.now(),Kn=setInterval(Un,Pn)),Mn=1,Hn(Gn)))}function Xn(e,n,t){var i=new Vn;return n=null==n?0:+n,i.restart(function(t){i.stop(),e(t+n)},n,t),i}Vn.prototype=Wn.prototype={constructor:Vn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?zn():+n)+(null==e?0:+e),this._next||Sn===this||(Sn?Sn._next=this:kn=this,Sn=this),this._call=t,this._time=n,Yn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yn())}};var Zn=H("start","end","cancel","interrupt"),Qn=[],Jn=0,ti=1,ei=2,ni=3,ii=4,oi=5,ri=6;function ai(t,e,n,i,o,r){var a,s,l,c,u,d=t.__transition;if(d){if(n in d)return}else t.__transition={};function h(t){var e,n,i,o;if(l.state!==ti)return p();for(e in u)if((o=u[e]).name===l.name){if(o.state===ni)return Xn(h);o.state===ii?(o.state=ri,o.timer.stop(),o.on.call("interrupt",a,a.__data__,o.index,o.group),delete u[e]):+e<s&&(o.state=ri,o.timer.stop(),o.on.call("cancel",a,a.__data__,o.index,o.group),delete u[e])}if(Xn(function(){l.state===ni&&(l.state=ii,l.timer.restart(f,l.delay,l.time),f(t))}),l.state=ei,l.on.call("start",a,a.__data__,l.index,l.group),l.state===ei){for(l.state=ni,c=new Array(i=l.tween.length),e=0,n=-1;e<i;++e)(o=l.tween[e].value.call(a,a.__data__,l.index,l.group))&&(c[++n]=o);c.length=n+1}}function f(t){for(var e=t<l.duration?l.ease.call(null,t/l.duration):(l.timer.restart(p),l.state=oi,1),n=-1,i=c.length;++n<i;)c[n].call(a,e);l.state===oi&&(l.on.call("end",a,a.__data__,l.index,l.group),p())}function p(){for(var t in l.state=ri,l.timer.stop(),delete u[s],u)return;delete a.__transition}a=t,s=n,l={name:e,index:i,group:o,on:Zn,tween:Qn,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Jn},((u=a.__transition)[s]=l).timer=Wn(function(t){l.state=ti,l.timer.restart(h,l.delay,l.time),l.delay<=t&&h(t-l.delay)},0,l.time)}function si(t,e){var n=ci(t,e);if(n.state>Jn)throw new Error("too late; already scheduled");return n}function li(t,e){var n=ci(t,e);if(n.state>ni)throw new Error("too late; already running");return n}function ci(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ui(t,e){var n,i,o,r=t.__transition,a=!0;if(r){for(o in e=null==e?null:e+"",r)(n=r[o]).name===e?(i=n.state>ei&&n.state<oi,n.state=ri,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[o]):a=!1;a&&delete t.__transition}}function di(t,e,n){var i=t._id;return t.each(function(){var t=li(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return ci(t,i).value[e]}}function hi(t,e){var n;return("number"==typeof e?en:e instanceof re?Ye:(n=re(e))?(e=n,Ye):an)(t,e)}var fi=xt.prototype.constructor;function pi(t){return function(){this.style.removeProperty(t)}}var gi=0;function mi(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function vi(t){return xt().transition(t)}function yi(){return++gi}var bi=xt.prototype;function _i(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Ei(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}mi.prototype=vi.prototype={constructor:mi,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=q(t));for(var i=this._groups,o=i.length,r=new Array(o),a=0;a<o;++a)for(var s,l,c=i[a],u=c.length,d=r[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=t.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,ai(d[h],e,n,h,d,ci(s,n)));return new mi(r,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=U(t));for(var i=this._groups,o=i.length,r=[],a=[],s=0;s<o;++s)for(var l,c=i[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,f=t.call(l,l.__data__,d,c),p=ci(l,n),g=0,m=f.length;g<m;++g)(h=f[g])&&ai(h,e,n,g,f,p);r.push(f),a.push(l)}return new mi(r,a,e,n)},filter:function(t){"function"!=typeof t&&(t=Y(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a=e[o],s=a.length,l=i[o]=[],c=0;c<s;++c)(r=a[c])&&t.call(r,r.__data__,c,a)&&l.push(r);return new mi(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),a=new Array(i),s=0;s<r;++s)for(var l,c=e[s],u=n[s],d=c.length,h=a[s]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(h[f]=l);for(;s<i;++s)a[s]=e[s];return new mi(a,this._parents,this._name,this._id)},selection:function(){return new fi(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=yi(),i=this._groups,o=i.length,r=0;r<o;++r)for(var a,s=i[r],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=ci(a,e);ai(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new mi(i,this._parents,t,n)},call:bi.call,nodes:bi.nodes,node:bi.node,size:bi.size,empty:bi.empty,each:bi.each,on:function(t,e){var n,i,o,r,a,s,l=this._id;return arguments.length<2?ci(this.node(),l).on.on(t):this.each((n=l,o=e,s=((i=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})?si:li,function(){var t=s(this,n),e=t.on;e!==r&&(a=(r=e).copy()).on(i,o),t.on=a}))},attr:function(t,e){var n=j(t),i="transform"===n?yn:hi;return this.attrTween(t,"function"==typeof e?(n.local?function(i,o,r){var a,s,l;return function(){var t,e,n=r(this);if(null!=n)return(t=this.getAttributeNS(i.space,i.local))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=o(a=t,n));this.removeAttributeNS(i.space,i.local)}}:function(i,o,r){var a,s,l;return function(){var t,e,n=r(this);if(null!=n)return(t=this.getAttribute(i))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=o(a=t,n));this.removeAttribute(i)}})(n,i,di(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,i){var o,r,a=i+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===o?r:r=n(o=t,i)}}:function(e,n,i){var o,r,a=i+"";return function(){var t=this.getAttribute(e);return t===a?null:t===o?r:r=n(o=t,i)}})(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=j(t);return this.tween(n,(i.local?function(i,o){var r,a;function t(){var e,n,t=o.apply(this,arguments);return t!==a&&(r=(a=t)&&(e=i,n=t,function(t){this.setAttributeNS(e.space,e.local,n(t))})),r}return t._value=o,t}:function(i,o){var r,a;function t(){var e,n,t=o.apply(this,arguments);return t!==a&&(r=(a=t)&&(e=i,n=t,function(t){this.setAttribute(e,n(t))})),r}return t._value=o,t})(i,e))},style:function(t,e,n){var i,o,r,a,s,l,c,u,d,h,f,p,g,m,v,y,b,_,E,w,T,C,x,D,O,I="transform"==(t+="")?vn:hi;return null==e?this.styleTween(t,(T=t,C=I,function(){var t=nt(this,T),e=(this.style.removeProperty(T),nt(this,T));return t===e?null:t===x&&e===D?O:O=C(x=t,D=e)})).on("end.style."+t,pi(t)):"function"==typeof e?this.styleTween(t,(y=I,b=di(this,"style."+(v=t),e),function(){var t=nt(this,v),e=b(this),n=e+"";return null==e&&(this.style.removeProperty(v),n=e=nt(this,v)),t===n?null:t===_&&n===E?w:(E=n,w=y(_=t,e))})).each((c=this._id,m="end."+(g="style."+(u=t)),function(){var t=li(this,c),e=t.on,n=null==t.value[g]?p=p||pi(u):void 0;e===d&&f===n||(h=(d=e).copy()).on(m,f=n),t.on=h})):this.styleTween(t,(i=t,o=I,l=(r=e)+"",function(){var t=nt(this,i);return t===l?null:t===a?s:s=o(a=t,r)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var o,r,a,s,l,i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,(o=t,a=null==n?"":n,c._value=r=e,c));function c(){var e,n,i,t=r.apply(this,arguments);return t!==l&&(s=(l=t)&&(e=o,n=t,i=a,function(t){this.style.setProperty(e,n(t),i)})),s}},text:function(t){return this.tween("text","function"==typeof t?(n=di(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},remove:function(){return this.on("end.remove",(n=this._id,function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,o=ci(this.node(),n).tween,r=0,a=o.length;r<a;++r)if((i=o[r]).name===t)return i.value;return null}return this.each((null==e?function(o,r){var a,s;return function(){var t=li(this,o),e=t.tween;if(e!==a)for(var n=0,i=(s=a=e).length;n<i;++n)if(s[n].name===r){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(r,a,s){var l,c;if("function"!=typeof s)throw new Error;return function(){var t=li(this,r),e=t.tween;if(e!==l){c=(l=e).slice();for(var n={name:a,value:s},i=0,o=c.length;i<o;++i)if(c[i].name===a){c[i]=n;break}i===o&&c.push(n)}t.tween=c}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){si(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){si(this,t).delay=e}})(e,t)):ci(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){li(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){li(this,t).duration=e}})(e,t)):ci(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){li(this,t).ease=e}}(e,t)):ci(this.node(),e).ease},end:function(){var o,r,a=this,s=a._id,l=a.size();return new Promise(function(t,e){var n={value:e},i={value:function(){0==--l&&t()}};a.each(function(){var t=li(this,s),e=t.on;e!==o&&((r=(o=e).copy())._.cancel.push(n),r._.interrupt.push(n),r._.end.push(i)),t.on=r})})}};var wi=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Ti=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Ci=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),xi=Math.PI,Di=xi/2;function Oi(t){return(1-Math.cos(xi*t))/2}function Ii(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function ki(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Si=7.5625;function Ri(t){return(t=+t)<4/11?Si*t*t:t<8/11?Si*(t-=6/11)*t+.75:t<10/11?Si*(t-=9/11)*t+.9375:Si*(t-=21/22)*t+63/64}var Ai=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Mi=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),Ni=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Ki=2*Math.PI,Pi=function e(n,i){var o=Math.asin(1/(n=Math.max(1,n)))*(i/=Ki);function t(t){return n*Math.pow(2,10*--t)*Math.sin((o-t)/i)}return t.amplitude=function(t){return e(t,i*Ki)},t.period=function(t){return e(n,t)},t}(1,.3),Li=function e(n,i){var o=Math.asin(1/(n=Math.max(1,n)))*(i/=Ki);function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+o)/i)}return t.amplitude=function(t){return e(t,i*Ki)},t.period=function(t){return e(n,t)},t}(1,.3),Fi=function e(n,i){var o=Math.asin(1/(n=Math.max(1,n)))*(i/=Ki);function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((o-t)/i):2-n*Math.pow(2,-10*t)*Math.sin((o+t)/i))/2}return t.amplitude=function(t){return e(t,i*Ki)},t.period=function(t){return e(n,t)},t}(1,.3),Bi={time:null,delay:0,duration:250,ease:Ei};function $i(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Bi.time=zn(),Bi;return n}xt.prototype.interrupt=function(t){return this.each(function(){ui(this,t)})},xt.prototype.transition=function(t){var e,n;t=t instanceof mi?(e=t._id,t._name):(e=yi(),(n=Bi).time=zn(),null==t?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var a,s=i[r],l=s.length,c=0;c<l;++c)(a=s[c])&&ai(a,t,e,c,s,n||$i(a,e));return new mi(i,this._parents,t,e)};var Hi=[null];function zi(t){return function(){return t}}function ji(t,e,n){this.target=t,this.type=e,this.selection=n}function Vi(){$.event.stopImmediatePropagation()}function Wi(){$.event.preventDefault(),$.event.stopImmediatePropagation()}var qi={name:"drag"},Gi={name:"space"},Ui={name:"handle"},Yi={name:"center"},Xi={name:"x",handles:["e","w"].map(oo),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Zi={name:"y",handles:["n","s"].map(oo),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Qi={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(oo),input:function(t){return t},output:function(t){return t}},Ji={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},to={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},eo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},no={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},io={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function oo(t){return{type:t}}function ro(){return!$.event.button}function ao(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function so(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function lo(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function co(K){var P,e=ao,L=ro,n=H(o,"start","brush","end"),i=6;function o(t){var e=t.property("__brush",s).selectAll(".overlay").data([oo("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ji.overlay).merge(e).each(function(){var t=so(this).extent;Dt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([oo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ji.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(K.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Ji[t.type]}),t.each(F).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function F(){var t=Dt(this),e=so(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-i/2:e[0][0]-i/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-i/2:e[0][1]-i/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+i:i}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+i:i})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function B(t,e){return t.__brush.emitter||new r(t,e)}function r(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function a(){if($.event.touches){if($.event.changedTouches.length<$.event.touches.length)return Wi()}else if(P)return;if(L.apply(this,arguments)){var e,n,i,o,r,a,s,l,c,u,d,h,f,p=this,g=$.event.target.__data__.type,m="selection"===($.event.metaKey?g="overlay":g)?qi:$.event.altKey?Yi:Ui,v=K===Zi?null:no[g],y=K===Xi?null:io[g],b=so(p),t=b.extent,_=b.selection,E=t[0][0],w=t[0][1],T=t[1][0],C=t[1][1],x=v&&y&&$.event.shiftKey,D=At(p),O=D,I=B(p,arguments).beforestart();"overlay"===g?b.selection=_=[[e=K===Zi?E:D[0],i=K===Xi?w:D[1]],[r=K===Zi?T:e,s=K===Xi?C:i]]:(e=_[0][0],i=_[0][1],r=_[1][0],s=_[1][1]),n=e,o=i,a=r,l=s;var k=Dt(p).attr("pointer-events","none"),S=k.selectAll(".overlay").attr("cursor",Ji[g]);if($.event.touches)k.on("touchmove.brush",A,!0).on("touchend.brush touchcancel.brush",N,!0);else{var R=Dt($.event.view).on("keydown.brush",function(){switch($.event.keyCode){case 16:x=v&&y;break;case 18:m===Ui&&(v&&(r=a-c*v,e=n+c*v),y&&(s=l-u*y,i=o+u*y),m=Yi,M());break;case 32:m!==Ui&&m!==Yi||(v<0?r=a-c:0<v&&(e=n-c),y<0?s=l-u:0<y&&(i=o-u),m=Gi,S.attr("cursor",Ji.selection),M());break;default:return}Wi()},!0).on("keyup.brush",function(){switch($.event.keyCode){case 16:x&&(h=f=x=!1,M());break;case 18:m===Yi&&(v<0?r=a:0<v&&(e=n),y<0?s=l:0<y&&(i=o),m=Ui,M());break;case 32:m===Gi&&(m=$.event.altKey?(v&&(r=a-c*v,e=n+c*v),y&&(s=l-u*y,i=o+u*y),Yi):(v<0?r=a:0<v&&(e=n),y<0?s=l:0<y&&(i=o),Ui),S.attr("cursor",Ji[g]),M());break;default:return}Wi()},!0).on("mousemove.brush",A,!0).on("mouseup.brush",N,!0);Pt($.event.view)}Vi(),ui(p),F.call(p),I.start()}function A(){var t=At(p);!x||h||f||(Math.abs(t[0]-O[0])>Math.abs(t[1]-O[1])?f=!0:h=!0),O=t,d=!0,Wi(),M()}function M(){var t;switch(c=O[0]-D[0],u=O[1]-D[1],m){case Gi:case qi:v&&(c=Math.max(E-e,Math.min(T-r,c)),n=e+c,a=r+c),y&&(u=Math.max(w-i,Math.min(C-s,u)),o=i+u,l=s+u);break;case Ui:v<0?(c=Math.max(E-e,Math.min(T-e,c)),n=e+c,a=r):0<v&&(c=Math.max(E-r,Math.min(T-r,c)),n=e,a=r+c),y<0?(u=Math.max(w-i,Math.min(C-i,u)),o=i+u,l=s):0<y&&(u=Math.max(w-s,Math.min(C-s,u)),o=i,l=s+u);break;case Yi:v&&(n=Math.max(E,Math.min(T,e-c*v)),a=Math.max(E,Math.min(T,r+c*v))),y&&(o=Math.max(w,Math.min(C,i-u*y)),l=Math.max(w,Math.min(C,s+u*y)))}a<n&&(v*=-1,t=e,e=r,r=t,t=n,n=a,a=t,g in to&&S.attr("cursor",Ji[g=to[g]])),l<o&&(y*=-1,t=i,i=s,s=t,t=o,o=l,l=t,g in eo&&S.attr("cursor",Ji[g=eo[g]])),b.selection&&(_=b.selection),h&&(n=_[0][0],a=_[1][0]),f&&(o=_[0][1],l=_[1][1]),_[0][0]===n&&_[0][1]===o&&_[1][0]===a&&_[1][1]===l||(b.selection=[[n,o],[a,l]],F.call(p),I.brush())}function N(){if(Vi(),$.event.touches){if($.event.touches.length)return;P&&clearTimeout(P),P=setTimeout(function(){P=null},500),k.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Lt($.event.view,d),R.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);k.attr("pointer-events","all"),S.attr("cursor",Ji.overlay),b.selection&&(_=b.selection),lo(_)&&(b.selection=null,F.call(p)),I.end()}}function s(){var t=this.__brush||{selection:null};return t.extent=e.apply(this,arguments),t.dim=K,t}return o.move=function(t,s){t.selection?t.on("start.brush",function(){B(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){B(this,arguments).end()}).tween("brush",function(){var e=this,n=e.__brush,i=B(e,arguments),t=n.selection,o=K.input("function"==typeof s?s.apply(this,arguments):s,n.extent),r=sn(t,o);function a(t){n.selection=1===t&&lo(o)?null:r(t),F.call(e),i.brush()}return t&&o?a:a(1)}):t.each(function(){var t=arguments,e=this.__brush,n=K.input("function"==typeof s?s.apply(this,t):s,e.extent),i=B(this,t).beforestart();ui(this),e.selection=null==n||lo(n)?null:n,F.call(this),i.start().brush().end()})},r.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Et(new ji(o,t,K.output(this.state.selection)),n.apply,n,[t,this.that,this.args])}},o.extent=function(t){return arguments.length?(e="function"==typeof t?t:zi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),o):e},o.filter=function(t){return arguments.length?(L="function"==typeof t?t:zi(!!t),o):L},o.handleSize=function(t){return arguments.length?(i=+t,o):i},o.on=function(){var t=n.on.apply(n,arguments);return t===n?o:t},o}var uo=Math.cos,ho=Math.sin,fo=Math.PI,po=fo/2,go=2*fo,mo=Math.max,vo=Array.prototype.slice;function yo(t){return function(){return t}}var bo=Math.PI,_o=2*bo,Eo=_o-1e-6;function wo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function To(){return new wo}function Co(t){return t.source}function xo(t){return t.target}function Do(t){return t.radius}function Oo(t){return t.startAngle}function Io(t){return t.endAngle}function ko(){}function So(t,e){var n=new ko;if(t instanceof ko)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,o=-1,r=t.length;if(null==e)for(;++o<r;)n.set(o,t[o]);else for(;++o<r;)n.set(e(i=t[o],o,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}function Ro(){return{}}function Ao(t,e,n){t[e]=n}function Mo(){return So()}function No(t,e,n){t.set(e,n)}function Ko(){}wo.prototype=To.prototype={constructor:wo,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,o,r){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+o)+","+(this._y1=+r)},arcTo:function(t,e,n,i,o){t=+t,e=+e,n=+n,i=+i,o=+o;var r=this._x1,a=this._y1,s=n-t,l=i-e,c=r-t,u=a-e,d=c*c+u*u;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(1e-6<d)if(1e-6<Math.abs(u*s-l*c)&&o){var h=n-r,f=i-a,p=s*s+l*l,g=h*h+f*f,m=Math.sqrt(p),v=Math.sqrt(d),y=o*Math.tan((bo-Math.acos((p+d-g)/(2*m*v)))/2),b=y/v,_=y/m;1e-6<Math.abs(b-1)&&(this._+="L"+(t+b*c)+","+(e+b*u)),this._+="A"+o+","+o+",0,0,"+ +(c*f<u*h)+","+(this._x1=t+_*s)+","+(this._y1=e+_*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,i,o,r){t=+t,e=+e;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),l=t+a,c=e+s,u=1^r,d=r?i-o:o-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(1e-6<Math.abs(this._x1-l)||1e-6<Math.abs(this._y1-c))&&(this._+="L"+l+","+c),n&&(d<0&&(d=d%_o+_o),Eo<d?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):1e-6<d&&(this._+="A"+n+","+n+",0,"+ +(bo<=d)+","+u+","+(this._x1=t+n*Math.cos(o))+","+(this._y1=e+n*Math.sin(o))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}},ko.prototype=So.prototype={constructor:ko,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Po=So.prototype;function Lo(t,e){var n=new Ko;if(t instanceof Ko)t.each(function(t){n.add(t)});else if(t){var i=-1,o=t.length;if(null==e)for(;++i<o;)n.add(t[i]);else for(;++i<o;)n.add(e(t[i],i,t))}return n}Ko.prototype=Lo.prototype={constructor:Ko,has:Po.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Po.remove,clear:Po.clear,values:Po.keys,size:Po.size,empty:Po.empty,each:Po.each};var Fo=Array.prototype.slice;function Bo(t,e){return t-e}function $o(t){return function(){return t}}function Ho(t,e){for(var n,i=-1,o=e.length;++i<o;)if(n=zo(t,e[i]))return n;return 0}function zo(t,e){for(var n=e[0],i=e[1],o=-1,r=0,a=t.length,s=a-1;r<a;s=r++){var l=t[r],c=l[0],u=l[1],d=t[s],h=d[0],f=d[1];if(_=b=y=v=void 0,function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(p=l,g=d,m=e)&&(y=p[v=+(p[0]===g[0])],b=m[v],_=g[v],y<=b&&b<=_||_<=b&&b<=y))return 0;i<u!=i<f&&n<(h-c)*(i-u)/(f-u)+c&&(o=-o)}var p,g,m,v,y,b,_;return o}function jo(){}var Vo=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Wo(){var h=1,f=1,r=b,a=e;function i(e){var t=r(e);if(Array.isArray(t))t=t.slice().sort(Bo);else{var n=l(e),i=n[0],o=n[1];t=D(i,o,t),t=x(Math.floor(i/t)*t,Math.floor(o/t)*t,t)}return t.map(function(t){return s(e,t)})}function s(e,n){var o=[],i=[];return function(t,e,s){var l,c,n,i,o,r,u=new Array,d=new Array;for(l=c=-1,i=t[0]>=e,Vo[i<<1].forEach(a);++l<h-1;)n=i,i=t[l+1]>=e,Vo[n|i<<1].forEach(a);for(Vo[i<<0].forEach(a);++c<f-1;){for(l=-1,i=t[c*h+h]>=e,o=t[c*h]>=e,Vo[i<<1|o<<2].forEach(a);++l<h-1;)n=i,i=t[c*h+h+l+1]>=e,r=o,o=t[c*h+l+1]>=e,Vo[n|i<<1|o<<2|r<<3].forEach(a);Vo[i|o<<3].forEach(a)}for(l=-1,o=t[c*h]>=e,Vo[o<<2].forEach(a);++l<h-1;)r=o,o=t[c*h+l+1]>=e,Vo[o<<2|r<<3].forEach(a);function a(t){var e,n,i=[t[0][0]+l,t[0][1]+c],o=[t[1][0]+l,t[1][1]+c],r=p(i),a=p(o);(e=d[r])?(n=u[a])?(delete d[e.end],delete u[n.start],e===n?(e.ring.push(o),s(e.ring)):u[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(o),d[e.end=a]=e):(e=u[a])?(n=d[r])?(delete u[e.start],delete d[n.end],e===n?(e.ring.push(o),s(e.ring)):u[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete u[e.start],e.ring.unshift(i),u[e.start=r]=e):u[r]=d[a]={start:r,end:a,ring:[i,o]}}Vo[o<<3].forEach(a)}(e,n,function(t){a(t,e,n),0<function(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i}(t)?o.push([t]):i.push(t)}),i.forEach(function(t){for(var e,n=0,i=o.length;n<i;++n)if(-1!==Ho((e=o[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:n,coordinates:o}}function p(t){return 2*t[0]+t[1]*(h+1)*4}function e(t,s,l){t.forEach(function(t){var e,n=t[0],i=t[1],o=0|n,r=0|i,a=s[r*h+o];0<n&&n<h&&o===n&&(e=s[r*h+o-1],t[0]=n+(l-e)/(a-e)-.5),0<i&&i<f&&r===i&&(e=s[(r-1)*h+o],t[1]=i+(l-e)/(a-e)-.5)})}return i.contour=s,i.size=function(t){if(!arguments.length)return[h,f];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(0<e&&0<n))throw new Error("invalid size");return h=e,f=n,i},i.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:Array.isArray(t)?$o(Fo.call(t)):$o(t),i):r},i.smooth=function(t){return arguments.length?(a=t?e:jo,i):a===e},i}function qo(t,e,n){for(var i=t.width,o=t.height,r=1+(n<<1),a=0;a<o;++a)for(var s=0,l=0;s<i+n;++s)s<i&&(l+=t.data[s+a*i]),n<=s&&(r<=s&&(l-=t.data[s-r+a*i]),e.data[s-n+a*i]=l/Math.min(s+1,i-1+r-s,r))}function Go(t,e,n){for(var i=t.width,o=t.height,r=1+(n<<1),a=0;a<i;++a)for(var s=0,l=0;s<o+n;++s)s<o&&(l+=t.data[a+s*i]),n<=s&&(r<=s&&(l-=t.data[a+(s-r)*i]),e.data[a+(s-n)*i]=l/Math.min(s+1,o-1+r-s,r))}function Uo(t){return t[0]}function Yo(t){return t[1]}function Xo(){return 1}var Zo={},Qo={};function Jo(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function tr(r){var e=new RegExp('["'+r+"\n\r]"),d=r.charCodeAt(0);function n(i,t){var e,n=[],o=i.length,r=0,a=0,s=o<=0,l=!1;function c(){if(s)return Qo;if(l)return l=!1,Zo;var t,e,n=r;if(34===i.charCodeAt(n)){for(;r++<o&&34!==i.charCodeAt(r)||34===i.charCodeAt(++r););return(t=r)>=o?s=!0:10===(e=i.charCodeAt(r++))?l=!0:13===e&&(l=!0,10===i.charCodeAt(r)&&++r),i.slice(n+1,t-1).replace(/""/g,'"')}for(;r<o;){if(10===(e=i.charCodeAt(t=r++)))l=!0;else if(13===e)l=!0,10===i.charCodeAt(r)&&++r;else if(e!==d)continue;return i.slice(n,t)}return s=!0,i.slice(n,o)}for(10===i.charCodeAt(o-1)&&--o,13===i.charCodeAt(o-1)&&--o;(e=c())!==Qo;){for(var u=[];e!==Zo&&e!==Qo;)u.push(e),e=c();t&&null==(u=t(u,a++))||n.push(u)}return n}function i(t){return t.map(a).join(r)}function a(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,r){var a,s,e=n(t,function(t,e){if(a)return a(t,e-1);var n,i,o;s=t,a=r?(i=r,o=Jo(n=t),function(t,e){return i(o(t),e,n)}):Jo(t)});return e.columns=s||[],e},parseRows:n,format:function(t,n){return null==n&&(e=t,i=Object.create(null),o=[],e.forEach(function(t){for(var e in t)e in i||o.push(i[e]=e)}),n=o),[n.map(a).join(r)].concat(t.map(function(e){return n.map(function(t){return a(e[t])}).join(r)})).join("\n");var e,i,o},formatRows:function(t){return t.map(i).join("\n")}}}var er=tr(","),nr=er.parse,ir=er.parseRows,or=er.format,rr=er.formatRows,ar=tr("\t"),sr=ar.parse,lr=ar.parseRows,cr=ar.format,ur=ar.formatRows;function dr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function hr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function fr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function pr(t,e){return fetch(t,e).then(fr)}function gr(i){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),pr(t,e).then(function(t){return i(t,n)})}}var mr=gr(nr),vr=gr(sr);function yr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function br(n){return function(t,e){return pr(t,e).then(function(t){return(new DOMParser).parseFromString(t,n)})}}var _r=br("application/xml"),Er=br("text/html"),wr=br("image/svg+xml");function Tr(t){return function(){return t}}function Cr(){return 1e-6*(Math.random()-.5)}function xr(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var o,r,a,s,l,c,u,d,h,f=t._root,p={data:i},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((c=e>=(r=(g+v)/2))?g=r:v=r,(u=n>=(a=(m+y)/2))?m=a:y=a,!(f=(o=f)[d=u<<1|c]))return o[d]=p,t;if(s=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===s&&n===l)return p.next=f,o?o[d]=p:t._root=p,t;for(;o=o?o[d]=new Array(4):t._root=new Array(4),(c=e>=(r=(g+v)/2))?g=r:v=r,(u=n>=(a=(m+y)/2))?m=a:y=a,(d=u<<1|c)==(h=(a<=l)<<1|r<=s););return o[h]=f,o[d]=p,t}function Dr(t,e,n,i,o){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=o}function Or(t){return t[0]}function Ir(t){return t[1]}function kr(t,e,n){var i=new Sr(null==e?Or:e,null==n?Ir:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Sr(t,e,n,i,o,r){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=o,this._y1=r,this._root=void 0}function Rr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ar=kr.prototype=Sr.prototype;function Mr(t){return t.x+t.vx}function Nr(t){return t.y+t.vy}function Kr(t){return t.index}function Pr(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Lr(t){return t.x}function Fr(t){return t.y}Ar.copy=function(){var t,e,n=new Sr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=Rr(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var o=0;o<4;++o)(e=i.source[o])&&(e.length?t.push({source:e,target:i.target[o]=new Array(4)}):i.target[o]=Rr(e));return n},Ar.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return xr(this.cover(e,n),e,n,t)},Ar.addAll=function(t){var e,n,i,o,r=t.length,a=new Array(r),s=new Array(r),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||((a[n]=i)<l&&(l=i),u<i&&(u=i),(s[n]=o)<c&&(c=o),d<o&&(d=o));for(u<l&&(l=this._x0,u=this._x1),d<c&&(c=this._y0,d=this._y1),this.cover(l,c).cover(u,d),n=0;n<r;++n)xr(this,a[n],s[n],t[n]);return this},Ar.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,o=this._x1,r=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,r=(i=Math.floor(e))+1;else{if(!(t<n||o<t||e<i||r<e))return this;var a,s,l=o-n,c=this._root;switch(s=(e<(i+r)/2)<<1|t<(n+o)/2){case 0:for(;(a=new Array(4))[s]=c,c=a,r=i+(l*=2),t>(o=n+l)||r<e;);break;case 1:for(;(a=new Array(4))[s]=c,c=a,r=i+(l*=2),(n=o-l)>t||r<e;);break;case 2:for(;(a=new Array(4))[s]=c,c=a,i=r-(l*=2),t>(o=n+l)||e<i;);break;case 3:for(;(a=new Array(4))[s]=c,c=a,i=r-(l*=2),(n=o-l)>t||e<i;);}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=o,this._y1=r,this},Ar.data=function(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e},Ar.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ar.find=function(t,e,n){var i,o,r,a,s,l,c,u=this._x0,d=this._y0,h=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new Dr(g,u,d,h,f)),null==n?n=1/0:(u=t-n,d=e-n,h=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(o=l.x0)>h||(r=l.y0)>f||(a=l.x1)<u||(s=l.y1)<d))if(g.length){var m=(o+a)/2,v=(r+s)/2;p.push(new Dr(g[3],m,v,a,s),new Dr(g[2],o,v,m,s),new Dr(g[1],m,r,a,v),new Dr(g[0],o,r,m,v)),(c=(v<=e)<<1|m<=t)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var y=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),_=y*y+b*b;if(_<n){var E=Math.sqrt(n=_);u=t-E,d=e-E,h=t+E,f=e+E,i=g.data}}return i},Ar.remove=function(t){if(isNaN(r=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,o,r,a,s,l,c,u,d,h,f=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((c=r>=(s=(p+m)/2))?p=s:m=s,(u=a>=(l=(g+v)/2))?g=l:v=l,!(f=(e=f)[d=u<<1|c]))return this;if(!f.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(n=e,h=d)}for(;f.data!==t;)if(!(f=(i=f).next))return this;return(o=f.next)&&delete f.next,i?o?i.next=o:delete i.next:e?(o?e[d]=o:delete e[d],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[h]=f:this._root=f)):this._root=o,this},Ar.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Ar.root=function(){return this._root},Ar.size=function(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e},Ar.visit=function(t){var e,n,i,o,r,a,s=[],l=this._root;for(l&&s.push(new Dr(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,i=e.x0,o=e.y0,r=e.x1,a=e.y1)&&l.length){var c=(i+r)/2,u=(o+a)/2;(n=l[3])&&s.push(new Dr(n,c,u,r,a)),(n=l[2])&&s.push(new Dr(n,i,u,c,a)),(n=l[1])&&s.push(new Dr(n,c,o,r,u)),(n=l[0])&&s.push(new Dr(n,i,o,c,u))}return this},Ar.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new Dr(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o=e.node;if(o.length){var r,a=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(a+l)/2,d=(s+c)/2;(r=o[0])&&n.push(new Dr(r,a,s,u,d)),(r=o[1])&&n.push(new Dr(r,u,s,l,d)),(r=o[2])&&n.push(new Dr(r,a,d,u,c)),(r=o[3])&&n.push(new Dr(r,u,d,l,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ar.x=function(t){return arguments.length?(this._x=t,this):this._x},Ar.y=function(t){return arguments.length?(this._y=t,this):this._y};var Br=Math.PI*(3-Math.sqrt(5));function $r(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[1<i.length?i[0]+i.slice(2):i,+t.slice(n+1)]}function Hr(t){return(t=$r(Math.abs(t)))?t[1]:NaN}var zr,jr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vr(t){return new Wr(t)}function Wr(t){if(!(e=jr.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function qr(t,e){var n=$r(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}Vr.prototype=Wr.prototype,Wr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Gr={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return qr(100*t,e)},r:qr,s:function(t,e){var n=$r(t,e);if(!n)return t+"";var i=n[0],o=n[1],r=o-(zr=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=i.length;return r===a?i:a<r?i+new Array(r-a+1).join("0"):0<r?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+$r(t,Math.max(0,e+r-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ur(t){return t}var Yr,Xr=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Zr(t){var s,l,e,w=t.grouping&&t.thousands?(s=t.grouping,l=t.thousands,function(t,e){for(var n=t.length,i=[],o=0,r=s[0],a=0;0<n&&0<r&&(e<a+r+1&&(r=Math.max(1,e-a)),i.push(t.substring(n-=r,n+r)),!((a+=r+1)>e));)r=s[o=(o+1)%s.length];return i.reverse().join(l)}):Ur,i=t.currency,T=t.decimal,C=t.numerals?(e=t.numerals,function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}):Ur,o=t.percent||"%";function a(t){var c=(t=Vr(t)).fill,u=t.align,d=t.sign,e=t.symbol,h=t.zero,f=t.width,p=t.comma,g=t.precision,m=t.trim,v=t.type;"n"===v?(p=!0,v="g"):Gr[v]||(null==g&&(g=12),m=!0,v="g"),(h||"0"===c&&"="===u)&&(h=!0,c="0",u="=");var y="$"===e?i[0]:"#"===e&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===e?i[1]:/[%p]/.test(v)?o:"",_=Gr[v],E=/[defgprs%]/.test(v);function n(t){var e,n,i,o=y,r=b;if("c"===v)r=_(t)+r,t="";else{var a=(t=+t)<0;if(t=_(Math.abs(t),g),m&&(t=function(t){t:for(var e,n=t.length,i=1,o=-1;i<n;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;default:if(0<o){if(!+t[i])break t;o=0}}return 0<o?t.slice(0,o)+t.slice(e+1):t}(t)),a&&0==+t&&(a=!1),o=(a?"("===d?d:"-":"-"===d||"("===d?"":d)+o,r=("s"===v?Xr[8+zr/3]:"")+r+(a&&"("===d?")":""),E)for(e=-1,n=t.length;++e<n;)if((i=t.charCodeAt(e))<48||57<i){r=(46===i?T+t.slice(e+1):t.slice(e))+r,t=t.slice(0,e);break}}p&&!h&&(t=w(t,1/0));var s=o.length+t.length+r.length,l=s<f?new Array(f-s+1).join(c):"";switch(p&&h&&(t=w(l+t,l.length?f-r.length:1/0),l=""),u){case"<":t=o+t+r+l;break;case"=":t=o+l+t+r;break;case"^":t=l.slice(0,s=l.length>>1)+o+t+r+l.slice(s);break;default:t=l+o+t+r}return C(t)}return g=null==g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}return{format:a,formatPrefix:function(t,e){var n=a(((t=Vr(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Hr(e)/3))),o=Math.pow(10,-i),r=Xr[8+i/3];return function(t){return n(o*t)+r}}}}function Qr(t){return Yr=Zr(t),$.format=Yr.format,$.formatPrefix=Yr.formatPrefix,Yr}function Jr(t){return Math.max(0,-Hr(Math.abs(t)))}function ta(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Hr(e)/3)))-Hr(Math.abs(t)))}function ea(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hr(e)-Hr(t))+1}function na(){return new ia}function ia(){this.reset()}Qr({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),ia.prototype={constructor:ia,reset:function(){this.s=this.t=0},add:function(t){ra(oa,t,this.t),ra(this,oa.s,this.s),this.s?this.t+=oa.t:this.s=oa.t},valueOf:function(){return this.s}};var oa=new ia;function ra(t,e,n){var i=t.s=e+n,o=i-e,r=i-o;t.t=e-r+(n-o)}var aa=1e-6,sa=Math.PI,la=sa/2,ca=sa/4,ua=2*sa,da=180/sa,ha=sa/180,fa=Math.abs,pa=Math.atan,ga=Math.atan2,ma=Math.cos,va=Math.ceil,ya=Math.exp,ba=Math.log,_a=Math.pow,Ea=Math.sin,wa=Math.sign||function(t){return 0<t?1:t<0?-1:0},Ta=Math.sqrt,Ca=Math.tan;function xa(t){return 1<t?0:t<-1?sa:Math.acos(t)}function Da(t){return 1<t?la:t<-1?-la:Math.asin(t)}function Oa(t){return(t=Ea(t/2))*t}function Ia(){}function ka(t,e){t&&Ra.hasOwnProperty(t.type)&&Ra[t.type](t,e)}var Sa={Feature:function(t,e){ka(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)ka(n[i].geometry,e)}},Ra={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Aa(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)Aa(n[i],e,0)},Polygon:function(t,e){Ma(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)Ma(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)ka(n[i],e)}};function Aa(t,e,n){var i,o=-1,r=t.length-n;for(e.lineStart();++o<r;)i=t[o],e.point(i[0],i[1],i[2]);e.lineEnd()}function Ma(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Aa(t[n],e,1);e.polygonEnd()}function Na(t,e){t&&Sa.hasOwnProperty(t.type)?Sa[t.type](t,e):ka(t,e)}var Ka,Pa,La,Fa,Ba,$a=na(),Ha=na(),za={point:Ia,lineStart:Ia,lineEnd:Ia,polygonStart:function(){$a.reset(),za.lineStart=ja,za.lineEnd=Va},polygonEnd:function(){var t=+$a;Ha.add(t<0?ua+t:t),this.lineStart=this.lineEnd=this.point=Ia},sphere:function(){Ha.add(ua)}};function ja(){za.point=Wa}function Va(){qa(Ka,Pa)}function Wa(t,e){za.point=qa,Ka=t,Pa=e,La=t*=ha,Fa=ma(e=(e*=ha)/2+ca),Ba=Ea(e)}function qa(t,e){var n=(t*=ha)-La,i=0<=n?1:-1,o=i*n,r=ma(e=(e*=ha)/2+ca),a=Ea(e),s=Ba*a,l=Fa*r+s*ma(o),c=s*i*Ea(o);$a.add(ga(c,l)),La=t,Fa=r,Ba=a}function Ga(t){return[ga(t[1],t[0]),Da(t[2])]}function Ua(t){var e=t[0],n=t[1],i=ma(n);return[i*ma(e),i*Ea(e),Ea(n)]}function Ya(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Xa(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Za(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Qa(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ja(t){var e=Ta(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ts,es,ns,is,os,rs,as,ss,ls,cs,us,ds,hs,fs,ps,gs,ms,vs,ys,bs,_s,Es,ws,Ts,Cs,xs,Ds=na(),Os={point:Is,lineStart:Ss,lineEnd:Rs,polygonStart:function(){Os.point=As,Os.lineStart=Ms,Os.lineEnd=Ns,Ds.reset(),za.polygonStart()},polygonEnd:function(){za.polygonEnd(),Os.point=Is,Os.lineStart=Ss,Os.lineEnd=Rs,$a<0?(ts=-(ns=180),es=-(is=90)):aa<Ds?is=90:Ds<-aa&&(es=-90),cs[0]=ts,cs[1]=ns}};function Is(t,e){ls.push(cs=[ts=t,ns=t]),e<es&&(es=e),is<e&&(is=e)}function ks(t,e){var n=Ua([t*ha,e*ha]);if(ss){var i=Xa(ss,n),o=Xa([i[1],-i[0],0],i);Ja(o),o=Ga(o);var r,a=t-os,s=0<a?1:-1,l=o[0]*da*s,c=180<fa(a);c^(s*os<l&&l<s*t)?(r=o[1]*da)>is&&(is=r):c^(s*os<(l=(l+360)%360-180)&&l<s*t)?(r=-o[1]*da)<es&&(es=r):(e<es&&(es=e),is<e&&(is=e)),c?t<os?Ks(ts,t)>Ks(ts,ns)&&(ns=t):Ks(t,ns)>Ks(ts,ns)&&(ts=t):ts<=ns?(t<ts&&(ts=t),ns<t&&(ns=t)):os<t?Ks(ts,t)>Ks(ts,ns)&&(ns=t):Ks(t,ns)>Ks(ts,ns)&&(ts=t)}else ls.push(cs=[ts=t,ns=t]);e<es&&(es=e),is<e&&(is=e),ss=n,os=t}function Ss(){Os.point=ks}function Rs(){cs[0]=ts,cs[1]=ns,Os.point=Is,ss=null}function As(t,e){if(ss){var n=t-os;Ds.add(180<fa(n)?n+(0<n?360:-360):n)}else rs=t,as=e;za.point(t,e),ks(t,e)}function Ms(){za.lineStart()}function Ns(){As(rs,as),za.lineEnd(),fa(Ds)>aa&&(ts=-(ns=180)),cs[0]=ts,cs[1]=ns,ss=null}function Ks(t,e){return(e-=t)<0?e+360:e}function Ps(t,e){return t[0]-e[0]}function Ls(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Fs={sphere:Ia,point:Bs,lineStart:Hs,lineEnd:Vs,polygonStart:function(){Fs.lineStart=Ws,Fs.lineEnd=qs},polygonEnd:function(){Fs.lineStart=Hs,Fs.lineEnd=Vs}};function Bs(t,e){t*=ha;var n=ma(e*=ha);$s(n*ma(t),n*Ea(t),Ea(e))}function $s(t,e,n){hs+=(t-hs)/++us,fs+=(e-fs)/us,ps+=(n-ps)/us}function Hs(){Fs.point=zs}function zs(t,e){t*=ha;var n=ma(e*=ha);Ts=n*ma(t),Cs=n*Ea(t),xs=Ea(e),Fs.point=js,$s(Ts,Cs,xs)}function js(t,e){t*=ha;var n=ma(e*=ha),i=n*ma(t),o=n*Ea(t),r=Ea(e),a=ga(Ta((a=Cs*r-xs*o)*a+(a=xs*i-Ts*r)*a+(a=Ts*o-Cs*i)*a),Ts*i+Cs*o+xs*r);ds+=a,gs+=a*(Ts+(Ts=i)),ms+=a*(Cs+(Cs=o)),vs+=a*(xs+(xs=r)),$s(Ts,Cs,xs)}function Vs(){Fs.point=Bs}function Ws(){Fs.point=Gs}function qs(){Us(Es,ws),Fs.point=Bs}function Gs(t,e){Es=t,ws=e,t*=ha,e*=ha,Fs.point=Us;var n=ma(e);Ts=n*ma(t),Cs=n*Ea(t),xs=Ea(e),$s(Ts,Cs,xs)}function Us(t,e){t*=ha;var n=ma(e*=ha),i=n*ma(t),o=n*Ea(t),r=Ea(e),a=Cs*r-xs*o,s=xs*i-Ts*r,l=Ts*o-Cs*i,c=Ta(a*a+s*s+l*l),u=Da(c),d=c&&-u/c;ys+=d*a,bs+=d*s,_s+=d*l,ds+=u,gs+=u*(Ts+(Ts=i)),ms+=u*(Cs+(Cs=o)),vs+=u*(xs+(xs=r)),$s(Ts,Cs,xs)}function Ys(t){return function(){return t}}function Xs(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t}function Zs(t,e){return[fa(t)>sa?t+Math.round(-t/ua)*ua:t,e]}function Qs(t,e,n){return(t%=ua)?e||n?Xs(tl(t),el(e,n)):tl(t):e||n?el(e,n):Zs}function Js(n){return function(t,e){return[(t+=n)>sa?t-ua:t<-sa?t+ua:t,e]}}function tl(t){var e=Js(t);return e.invert=Js(-t),e}function el(t,e){var s=ma(t),l=Ea(t),c=ma(e),u=Ea(e);function n(t,e){var n=ma(e),i=ma(t)*n,o=Ea(t)*n,r=Ea(e),a=r*s+i*l;return[ga(o*c-a*u,i*s-r*l),Da(a*c+o*u)]}return n.invert=function(t,e){var n=ma(e),i=ma(t)*n,o=Ea(t)*n,r=Ea(e),a=r*c-o*u;return[ga(o*c+r*u,i*s+a*l),Da(a*s-i*l)]},n}function nl(e){function t(t){return(t=e(t[0]*ha,t[1]*ha))[0]*=da,t[1]*=da,t}return e=Qs(e[0]*ha,e[1]*ha,2<e.length?e[2]*ha:0),t.invert=function(t){return(t=e.invert(t[0]*ha,t[1]*ha))[0]*=da,t[1]*=da,t},t}function il(t,e,n,i,o,r){if(n){var a=ma(e),s=Ea(e),l=i*n;null==o?(o=e+i*ua,r=e-l/2):(o=ol(a,o),r=ol(a,r),(0<i?o<r:r<o)&&(o+=i*ua));for(var c,u=o;0<i?r<u:u<r;u-=l)c=Ga([a,-s*ma(u),-s*Ea(u)]),t.point(c[0],c[1])}}function ol(t,e){(e=Ua(e))[0]-=t,Ja(e);var n=xa(-e[1]);return((-e[2]<0?-n:n)+ua-aa)%ua}function rl(){var n,e=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){e.push(n=[])},lineEnd:Ia,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}}function al(t,e){return fa(t[0]-e[0])<aa&&fa(t[1]-e[1])<aa}function sl(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ll(t,e,n,i,r){var a,o,s=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],o=t[e];if(al(i,o)){for(r.lineStart(),a=0;a<e;++a)r.point((i=t[a])[0],i[1]);r.lineEnd()}else s.push(n=new sl(i,t,null,!0)),l.push(n.o=new sl(i,null,n,!1)),s.push(n=new sl(o,t,null,!1)),l.push(n.o=new sl(o,null,n,!0))}}),s.length){for(l.sort(e),cl(s),cl(l),a=0,o=l.length;a<o;++a)l[a].e=n=!n;for(var c,u,d=s[0];;){for(var h=d,f=!0;h.v;)if((h=h.n)===d)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(a=0,o=c.length;a<o;++a)r.point((u=c[a])[0],u[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(f)for(c=h.p.z,a=c.length-1;0<=a;--a)r.point((u=c[a])[0],u[1]);else i(h.x,h.p.x,-1,r);h=h.p}c=(h=h.o).z,f=!f}while(!h.v);r.lineEnd()}}}function cl(t){if(e=t.length){for(var e,n,i=0,o=t[0];++i<e;)o.n=n=t[i],n.p=o,o=n;o.n=n=t[0],n.p=o}}Zs.invert=Zs;var ul=na();function dl(t,e){var n=e[0],i=e[1],o=Ea(i),r=[Ea(n),-ma(n),0],a=0,s=0;ul.reset(),1===o?i=la+aa:-1===o&&(i=-la-aa);for(var l=0,c=t.length;l<c;++l)if(d=(u=t[l]).length)for(var u,d,h=u[d-1],f=h[0],p=h[1]/2+ca,g=Ea(p),m=ma(p),v=0;v<d;++v,f=b,g=E,m=w,h=y){var y=u[v],b=y[0],_=y[1]/2+ca,E=Ea(_),w=ma(_),T=b-f,C=0<=T?1:-1,x=C*T,D=sa<x,O=g*E;if(ul.add(ga(O*C*Ea(x),m*w+O*ma(x))),a+=D?T+C*ua:T,D^n<=f^n<=b){var I=Xa(Ua(h),Ua(y));Ja(I);var k=Xa(r,I);Ja(k);var S=(D^0<=T?-1:1)*Da(k[2]);(S<i||i===S&&(I[0]||I[1]))&&(s+=D^0<=T?1:-1)}}return(a<-aa||a<aa&&ul<-aa)^1&s}function hl(m,v,y,b){return function(s){var l,c,u,n=v(s),d=rl(),h=v(d),f=!1,e={point:i,lineStart:o,lineEnd:r,polygonStart:function(){e.point=p,e.lineStart=a,e.lineEnd=g,c=[],l=[]},polygonEnd:function(){e.point=i,e.lineStart=o,e.lineEnd=r,c=O(c);var t=dl(l,b);c.length?(f||(s.polygonStart(),f=!0),ll(c,pl,t,y,s)):t&&(f||(s.polygonStart(),f=!0),s.lineStart(),y(null,null,1,s),s.lineEnd()),f&&(s.polygonEnd(),f=!1),c=l=null},sphere:function(){s.polygonStart(),s.lineStart(),y(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function i(t,e){m(t,e)&&s.point(t,e)}function t(t,e){n.point(t,e)}function o(){e.point=t,n.lineStart()}function r(){e.point=i,n.lineEnd()}function p(t,e){u.push([t,e]),h.point(t,e)}function a(){h.lineStart(),u=[]}function g(){p(u[0][0],u[0][1]),h.lineEnd();var t,e,n,i,o=h.clean(),r=d.result(),a=r.length;if(u.pop(),l.push(u),u=null,a)if(1&o){if(0<(e=(n=r[0]).length-1)){for(f||(s.polygonStart(),f=!0),s.lineStart(),t=0;t<e;++t)s.point((i=n[t])[0],i[1]);s.lineEnd()}}else 1<a&&2&o&&r.push(r.pop().concat(r.shift())),c.push(r.filter(fl))}return e}}function fl(t){return 1<t.length}function pl(t,e){return((t=t.x)[0]<0?t[1]-la-aa:la-t[1])-((e=e.x)[0]<0?e[1]-la-aa:la-e[1])}var gl=hl(function(){return!0},function(d){var h,f=NaN,p=NaN,g=NaN;return{lineStart:function(){d.lineStart(),h=1},point:function(t,e){var n,i,o,r,a,s,l,c=0<t?sa:-sa,u=fa(t-f);fa(u-sa)<aa?(d.point(f,p=0<(p+e)/2?la:-la),d.point(g,p),d.lineEnd(),d.lineStart(),d.point(c,p),d.point(t,p),h=0):g!==c&&sa<=u&&(fa(f-g)<aa&&(f-=g*aa),fa(t-c)<aa&&(t-=c*aa),i=p,r=e,l=Ea((n=f)-(o=t)),p=fa(l)>aa?pa((Ea(i)*(s=ma(r))*Ea(o)-Ea(r)*(a=ma(i))*Ea(n))/(a*s*l)):(i+r)/2,d.point(g,p),d.lineEnd(),d.lineStart(),d.point(c,p),h=0),d.point(f=t,p=e),g=c},lineEnd:function(){d.lineEnd(),f=p=NaN},clean:function(){return 2-h}}},function(t,e,n,i){var o;if(null==t)o=n*la,i.point(-sa,o),i.point(0,o),i.point(sa,o),i.point(sa,0),i.point(sa,-o),i.point(0,-o),i.point(-sa,-o),i.point(-sa,0),i.point(-sa,o);else if(fa(t[0]-e[0])>aa){var r=t[0]<e[0]?sa:-sa;o=n*r/2,i.point(-r,o),i.point(0,o),i.point(r,o)}else i.point(e[0],e[1])},[-sa,-la]);function ml(o){var D=ma(o),r=6*ha,f=0<D,p=fa(D)>aa;function g(t,e){return ma(t)*ma(e)>D}function m(t,e,n){var i=[1,0,0],o=Xa(Ua(t),Ua(e)),r=Ya(o,o),a=o[0],s=r-a*a;if(!s)return!n&&t;var l=D*r/s,c=-D*a/s,u=Xa(i,o),d=Qa(i,l);Za(d,Qa(o,c));var h=u,f=Ya(d,h),p=Ya(h,h),g=f*f-p*(Ya(d,d)-1);if(!(g<0)){var m=Ta(g),v=Qa(h,(-f-m)/p);if(Za(v,d),v=Ga(v),!n)return v;var y,b=t[0],_=e[0],E=t[1],w=e[1];_<b&&(y=b,b=_,_=y);var T=_-b,C=fa(T-sa)<aa;if(!C&&w<E&&(y=E,E=w,w=y),C||T<aa?C?0<E+w^v[1]<(fa(v[0]-b)<aa?E:w):E<=v[1]&&v[1]<=w:sa<T^(b<=v[0]&&v[0]<=_)){var x=Qa(h,(-f+m)/p);return Za(x,d),[v,Ga(x)]}}}function v(t,e){var n=f?o:sa-o,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}return hl(g,function(s){var l,c,u,d,h;return{lineStart:function(){d=u=!1,h=1},point:function(t,e){var n,i=[t,e],o=g(t,e),r=f?o?0:v(t,e):o?v(t+(t<0?sa:-sa),e):0;if(!l&&(d=u=o)&&s.lineStart(),o===u||(n=m(l,i))&&!al(l,n)&&!al(i,n)||(i[0]+=aa,i[1]+=aa,o=g(i[0],i[1])),o!==u)h=0,o?(s.lineStart(),n=m(i,l),s.point(n[0],n[1])):(n=m(l,i),s.point(n[0],n[1]),s.lineEnd()),l=n;else if(p&&l&&f^o){var a;r&c||!(a=m(i,l,!0))||(h=0,f?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!o||l&&al(l,i)||s.point(i[0],i[1]),l=i,u=o,c=r},lineEnd:function(){u&&s.lineEnd(),l=null},clean:function(){return h|(d&&u)<<1}}},function(t,e,n,i){il(i,o,r,n,t,e)},f?[0,-o]:[-sa,o-sa])}var vl=1e9,yl=-vl;function bl(v,y,b,_){function E(t,e){return v<=t&&t<=b&&y<=e&&e<=_}function w(t,e,n,i){var o=0,r=0;if(null==t||(o=a(t,n))!==(r=a(e,n))||s(t,e)<0^0<n)for(;i.point(0===o||3===o?v:b,1<o?_:y),(o=(o+n+4)%4)!==r;);else i.point(e[0],e[1])}function a(t,e){return fa(t[0]-v)<aa?0<e?0:3:fa(t[0]-b)<aa?0<e?2:1:fa(t[1]-y)<aa?0<e?1:0:0<e?3:2}function T(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){var o,d,r,a,s,l,c,u,h,f,p,g=i,t=rl(),e={point:n,lineStart:function(){e.point=m,d&&d.push(r=[]),h=!(f=!0),c=u=NaN},lineEnd:function(){o&&(m(a,s),l&&h&&t.rejoin(),o.push(t.result())),e.point=n,h&&g.lineEnd()},polygonStart:function(){g=t,o=[],d=[],p=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,n=d.length;e<n;++e)for(var i,o,r=d[e],a=1,s=r.length,l=r[0],c=l[0],u=l[1];a<s;++a)i=c,o=u,c=(l=r[a])[0],u=l[1],o<=_?_<u&&(u-o)*(v-i)<(c-i)*(_-o)&&++t:u<=_&&(c-i)*(_-o)<(u-o)*(v-i)&&--t;return t}(),e=p&&t,n=(o=O(o)).length;(e||n)&&(i.polygonStart(),e&&(i.lineStart(),w(null,null,1,i),i.lineEnd()),n&&ll(o,T,t,w,i),i.polygonEnd()),g=i,o=d=r=null}};function n(t,e){E(t,e)&&g.point(t,e)}function m(t,e){var n=E(t,e);if(d&&r.push([t,e]),f)a=t,s=e,f=!1,(l=n)&&(g.lineStart(),g.point(t,e));else if(n&&h)g.point(t,e);else{var i=[c=Math.max(yl,Math.min(vl,c)),u=Math.max(yl,Math.min(vl,u))],o=[t=Math.max(yl,Math.min(vl,t)),e=Math.max(yl,Math.min(vl,e))];!function(t,e,n,i,o,r){var a,s=t[0],l=t[1],c=0,u=1,d=e[0]-s,h=e[1]-l;if(a=n-s,d||!(0<a)){if(a/=d,d<0){if(a<c)return;a<u&&(u=a)}else if(0<d){if(u<a)return;c<a&&(c=a)}if(a=o-s,d||!(a<0)){if(a/=d,d<0){if(u<a)return;c<a&&(c=a)}else if(0<d){if(a<c)return;a<u&&(u=a)}if(a=i-l,h||!(0<a)){if(a/=h,h<0){if(a<c)return;a<u&&(u=a)}else if(0<h){if(u<a)return;c<a&&(c=a)}if(a=r-l,h||!(a<0)){if(a/=h,h<0){if(u<a)return;c<a&&(c=a)}else if(0<h){if(a<c)return;a<u&&(u=a)}return 0<c&&(t[0]=s+c*d,t[1]=l+c*h),u<1&&(e[0]=s+u*d,e[1]=l+u*h),!0}}}}}(i,o,v,y,b,_)?n&&(g.lineStart(),g.point(t,e),p=!1):(h||(g.lineStart(),g.point(i[0],i[1])),g.point(o[0],o[1]),n||g.lineEnd(),p=!1)}c=t,u=e,h=n}return e}}var _l,El,wl,Tl=na(),Cl={sphere:Ia,point:Ia,lineStart:function(){Cl.point=Dl,Cl.lineEnd=xl},lineEnd:Ia,polygonStart:Ia,polygonEnd:Ia};function xl(){Cl.point=Cl.lineEnd=Ia}function Dl(t,e){_l=t*=ha,El=Ea(e*=ha),wl=ma(e),Cl.point=Ol}function Ol(t,e){t*=ha;var n=Ea(e*=ha),i=ma(e),o=fa(t-_l),r=ma(o),a=i*Ea(o),s=wl*n-El*i*r,l=El*n+wl*i*r;Tl.add(ga(Ta(a*a+s*s),l)),_l=t,El=n,wl=i}function Il(t){return Tl.reset(),Na(t,Cl),+Tl}var kl=[null,null],Sl={type:"LineString",coordinates:kl};function Rl(t,e){return kl[0]=t,kl[1]=e,Il(Sl)}var Al={Feature:function(t,e){return Nl(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)if(Nl(n[i].geometry,e))return!0;return!1}},Ml={Sphere:function(){return!0},Point:function(t,e){return Kl(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)if(Kl(n[i],e))return!0;return!1},LineString:function(t,e){return Pl(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)if(Pl(n[i],e))return!0;return!1},Polygon:function(t,e){return Ll(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)if(Ll(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)if(Nl(n[i],e))return!0;return!1}};function Nl(t,e){return!(!t||!Ml.hasOwnProperty(t.type))&&Ml[t.type](t,e)}function Kl(t,e){return 0===Rl(t,e)}function Pl(t,e){var n=Rl(t[0],t[1]);return Rl(t[0],e)+Rl(e,t[1])<=n+aa}function Ll(t,e){return!!dl(t.map(Fl),Bl(e))}function Fl(t){return(t=t.map(Bl)).pop(),t}function Bl(t){return[t[0]*ha,t[1]*ha]}function $l(t,e,n){var i=x(t,e-aa,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function Hl(t,e,n){var i=x(t,e-aa,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function zl(){var e,n,i,o,r,a,s,l,c,u,d,h,f=10,p=f,g=90,m=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:t()}}function t(){return x(va(o/g)*g,i,g).map(d).concat(x(va(l/m)*m,s,m).map(h)).concat(x(va(n/f)*f,e,f).filter(function(t){return fa(t%g)>aa}).map(c)).concat(x(va(a/p)*p,r,p).filter(function(t){return fa(t%m)>aa}).map(u))}return y.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(h(s).slice(1),d(i).reverse().slice(1),h(l).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],l=+t[0][1],s=+t[1][1],i<o&&(t=o,o=i,i=t),s<l&&(t=l,l=s,s=t),y.precision(v)):[[o,l],[i,s]]},y.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],r=+t[1][1],e<n&&(t=n,n=e,e=t),r<a&&(t=a,a=r,r=t),y.precision(v)):[[n,a],[e,r]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(g=+t[0],m=+t[1],y):[g,m]},y.stepMinor=function(t){return arguments.length?(f=+t[0],p=+t[1],y):[f,p]},y.precision=function(t){return arguments.length?(v=+t,c=$l(a,r,90),u=Hl(n,e,v),d=$l(l,s,90),h=Hl(o,i,v),y):v},y.extentMajor([[-180,-90+aa],[180,90-aa]]).extentMinor([[-180,-80-aa],[180,80+aa]])}function jl(t){return t}var Vl,Wl,ql,Gl,Ul=na(),Yl=na(),Xl={point:Ia,lineStart:Ia,lineEnd:Ia,polygonStart:function(){Xl.lineStart=Zl,Xl.lineEnd=tc},polygonEnd:function(){Xl.lineStart=Xl.lineEnd=Xl.point=Ia,Ul.add(fa(Yl)),Yl.reset()},result:function(){var t=Ul/2;return Ul.reset(),t}};function Zl(){Xl.point=Ql}function Ql(t,e){Xl.point=Jl,Vl=ql=t,Wl=Gl=e}function Jl(t,e){Yl.add(Gl*t-ql*e),ql=t,Gl=e}function tc(){Jl(Vl,Wl)}var ec,nc,ic,oc,rc=1/0,ac=rc,sc=-rc,lc=sc,cc={point:function(t,e){t<rc&&(rc=t),sc<t&&(sc=t),e<ac&&(ac=e),lc<e&&(lc=e)},lineStart:Ia,lineEnd:Ia,polygonStart:Ia,polygonEnd:Ia,result:function(){var t=[[rc,ac],[sc,lc]];return sc=lc=-(ac=rc=1/0),t}},uc=0,dc=0,hc=0,fc=0,pc=0,gc=0,mc=0,vc=0,yc=0,bc={point:_c,lineStart:Ec,lineEnd:Cc,polygonStart:function(){bc.lineStart=xc,bc.lineEnd=Dc},polygonEnd:function(){bc.point=_c,bc.lineStart=Ec,bc.lineEnd=Cc},result:function(){var t=yc?[mc/yc,vc/yc]:gc?[fc/gc,pc/gc]:hc?[uc/hc,dc/hc]:[NaN,NaN];return uc=dc=hc=fc=pc=gc=mc=vc=yc=0,t}};function _c(t,e){uc+=t,dc+=e,++hc}function Ec(){bc.point=wc}function wc(t,e){bc.point=Tc,_c(ic=t,oc=e)}function Tc(t,e){var n=t-ic,i=e-oc,o=Ta(n*n+i*i);fc+=o*(ic+t)/2,pc+=o*(oc+e)/2,gc+=o,_c(ic=t,oc=e)}function Cc(){bc.point=_c}function xc(){bc.point=Oc}function Dc(){Ic(ec,nc)}function Oc(t,e){bc.point=Ic,_c(ec=ic=t,nc=oc=e)}function Ic(t,e){var n=t-ic,i=e-oc,o=Ta(n*n+i*i);fc+=o*(ic+t)/2,pc+=o*(oc+e)/2,gc+=o,mc+=(o=oc*t-ic*e)*(ic+t),vc+=o*(oc+e),yc+=3*o,_c(ic=t,oc=e)}function kc(t){this._context=t}kc.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ua)}},result:Ia};var Sc,Rc,Ac,Mc,Nc,Kc=na(),Pc={point:Ia,lineStart:function(){Pc.point=Lc},lineEnd:function(){Sc&&Fc(Rc,Ac),Pc.point=Ia},polygonStart:function(){Sc=!0},polygonEnd:function(){Sc=null},result:function(){var t=+Kc;return Kc.reset(),t}};function Lc(t,e){Pc.point=Fc,Rc=Mc=t,Ac=Nc=e}function Fc(t,e){Mc-=t,Nc-=e,Kc.add(Ta(Mc*Mc+Nc*Nc)),Mc=t,Nc=e}function Bc(){this._string=[]}function $c(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Hc(i){return function(t){var e=new zc;for(var n in i)e[n]=i[n];return e.stream=t,e}}function zc(){}function jc(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),Na(n,t.stream(cc)),e(cc.result()),null!=i&&t.clipExtent(i),t}function Vc(a,s,t){return jc(a,function(t){var e=s[1][0]-s[0][0],n=s[1][1]-s[0][1],i=Math.min(e/(t[1][0]-t[0][0]),n/(t[1][1]-t[0][1])),o=+s[0][0]+(e-i*(t[1][0]+t[0][0]))/2,r=+s[0][1]+(n-i*(t[1][1]+t[0][1]))/2;a.scale(150*i).translate([o,r])},t)}function Wc(t,e,n){return Vc(t,[[0,0],e],n)}function qc(r,a,t){return jc(r,function(t){var e=+a,n=e/(t[1][0]-t[0][0]),i=(e-n*(t[1][0]+t[0][0]))/2,o=-n*t[0][1];r.scale(150*n).translate([i,o])},t)}function Gc(r,a,t){return jc(r,function(t){var e=+a,n=e/(t[1][1]-t[0][1]),i=-n*t[0][0],o=(e-n*(t[1][1]+t[0][1]))/2;r.scale(150*n).translate([i,o])},t)}Bc.prototype={_radius:4.5,_circle:$c(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=$c(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},zc.prototype={constructor:zc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Uc=16,Yc=ma(30*ha);function Xc(t,e){return+e?(k=t,S=e,function(o){var n,i,r,a,s,l,c,u,d,h,f,p,g={point:t,lineStart:e,lineEnd:v,polygonStart:function(){o.polygonStart(),g.lineStart=y},polygonEnd:function(){o.polygonEnd(),g.lineStart=e}};function t(t,e){t=k(t,e),o.point(t[0],t[1])}function e(){u=NaN,g.point=m,o.lineStart()}function m(t,e){var n=Ua([t,e]),i=k(t,e);R(u,d,c,h,f,p,u=i[0],d=i[1],c=t,h=n[0],f=n[1],p=n[2],Uc,o),o.point(u,d)}function v(){g.point=t,o.lineEnd()}function y(){e(),g.point=b,g.lineEnd=_}function b(t,e){m(n=t,e),i=u,r=d,a=h,s=f,l=p,g.point=m}function _(){R(u,d,c,h,f,p,i,r,n,a,s,l,Uc,o),(g.lineEnd=v)()}return g}):(n=t,Hc({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}));var n,k,S;function R(t,e,n,i,o,r,a,s,l,c,u,d,h,f){var p=a-t,g=s-e,m=p*p+g*g;if(4*S<m&&h--){var v=i+c,y=o+u,b=r+d,_=Ta(v*v+y*y+b*b),E=Da(b/=_),w=fa(fa(b)-1)<aa||fa(n-l)<aa?(n+l)/2:ga(y,v),T=k(w,E),C=T[0],x=T[1],D=C-t,O=x-e,I=g*D-p*O;(S<I*I/m||.3<fa((p*D+g*O)/m-.5)||i*c+o*u+r*d<Yc)&&(R(t,e,n,i,o,r,C,x,w,v/=_,y/=_,b,h,f),f.point(C,x),R(C,x,w,v,y,b,a,s,l,c,u,d,h,f))}}}var Zc=Hc({point:function(t,e){this.stream.point(t*ha,e*ha)}});function Qc(t,n,i,e){var o=ma(e),r=Ea(e),a=o*t,s=r*t,l=o/t,c=r/t,u=(r*i-o*n)/t,d=(r*n+o*i)/t;function h(t,e){return[a*t-s*e+n,i-s*t-a*e]}return h.invert=function(t,e){return[l*t-c*e+u,d-c*t-l*e]},h}function Jc(t){return tu(function(){return t})()}function tu(t){var n,o,e,i,r,a,s,l,c,u,d=150,h=480,f=250,p=0,g=0,m=0,v=0,y=0,b=0,_=null,E=gl,w=null,T=jl,C=.5;function x(t){return l(t[0]*ha,t[1]*ha)}function D(t){return(t=l.invert(t[0],t[1]))&&[t[0]*da,t[1]*da]}function O(){var t=Qc(d,0,0,b).apply(null,n(p,g)),e=(b?Qc:function(n,i,o){function t(t,e){return[i+n*t,o-n*e]}return t.invert=function(t,e){return[(t-i)/n,(o-e)/n]},t})(d,h-t[0],f-t[1],b);return o=Qs(m,v,y),s=Xs(n,e),l=Xs(o,s),a=Xc(s,C),I()}function I(){return c=u=null,x}return x.stream=function(t){return c&&u===t?c:c=Zc((i=o,Hc({point:function(t,e){var n=i(t,e);return this.stream.point(n[0],n[1])}})(E(a(T(u=t))))));var i},x.preclip=function(t){return arguments.length?(E=t,_=void 0,I()):E},x.postclip=function(t){return arguments.length?(T=t,w=e=i=r=null,I()):T},x.clipAngle=function(t){return arguments.length?(E=+t?ml(_=t*ha):(_=null,gl),I()):_*da},x.clipExtent=function(t){return arguments.length?(T=null==t?(w=e=i=r=null,jl):bl(w=+t[0][0],e=+t[0][1],i=+t[1][0],r=+t[1][1]),I()):null==w?null:[[w,e],[i,r]]},x.scale=function(t){return arguments.length?(d=+t,O()):d},x.translate=function(t){return arguments.length?(h=+t[0],f=+t[1],O()):[h,f]},x.center=function(t){return arguments.length?(p=t[0]%360*ha,g=t[1]%360*ha,O()):[p*da,g*da]},x.rotate=function(t){return arguments.length?(m=t[0]%360*ha,v=t[1]%360*ha,y=2<t.length?t[2]%360*ha:0,O()):[m*da,v*da,y*da]},x.angle=function(t){return arguments.length?(b=t%360*ha,O()):b*da},x.precision=function(t){return arguments.length?(a=Xc(s,C=t*t),I()):Ta(C)},x.fitExtent=function(t,e){return Vc(x,t,e)},x.fitSize=function(t,e){return Wc(x,t,e)},x.fitWidth=function(t,e){return qc(x,t,e)},x.fitHeight=function(t,e){return Gc(x,t,e)},function(){return n=t.apply(this,arguments),x.invert=n.invert&&D,O()}}function eu(t){var e=0,n=sa/3,i=tu(t),o=i(e,n);return o.parallels=function(t){return arguments.length?i(e=t[0]*ha,n=t[1]*ha):[e*da,n*da]},o}function nu(t,e){var n,i=Ea(t),o=(i+Ea(e))/2;if(fa(o)<aa)return n=ma(t),r.invert=function(t,e){return[t/n,Da(e*n)]},r;function r(t,e){return[t*n,Ea(e)/n]}var a=1+i*(2*o-i),s=Ta(a)/o;function l(t,e){var n=Ta(a-2*o*Ea(e))/o;return[n*Ea(t*=o),s-n*ma(t)]}return l.invert=function(t,e){var n=s-e;return[ga(t,fa(n))/o*wa(n),Da((a-(t*t+n*n)*o*o)/(2*o))]},l}function iu(){return eu(nu).scale(155.424).center([0,33.6442])}function ou(){return iu().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ru(r){return function(t,e){var n=ma(t),i=ma(e),o=r(n*i);return[o*i*Ea(t),o*Ea(e)]}}function au(a){return function(t,e){var n=Ta(t*t+e*e),i=a(n),o=Ea(i),r=ma(i);return[ga(t*o,n*r),Da(n&&e*o/n)]}}var su=ru(function(t){return Ta(2/(1+t))});su.invert=au(function(t){return 2*Da(t/2)});var lu=ru(function(t){return(t=xa(t))&&t/Ea(t)});function cu(t,e){return[t,ba(Ca((la+e)/2))]}function uu(n){var i,o,r,a=Jc(n),e=a.center,s=a.scale,l=a.translate,c=a.clipExtent,u=null;function d(){var t=sa*s(),e=a(nl(a.rotate()).invert([0,0]));return c(null==u?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:n===cu?[[Math.max(e[0]-t,u),i],[Math.min(e[0]+t,o),r]]:[[u,Math.max(e[1]-t,i)],[o,Math.min(e[1]+t,r)]])}return a.scale=function(t){return arguments.length?(s(t),d()):s()},a.translate=function(t){return arguments.length?(l(t),d()):l()},a.center=function(t){return arguments.length?(e(t),d()):e()},a.clipExtent=function(t){return arguments.length?(null==t?u=i=o=r=null:(u=+t[0][0],i=+t[0][1],o=+t[1][0],r=+t[1][1]),d()):null==u?null:[[u,i],[o,r]]},d()}function du(t){return Ca((la+t)/2)}function hu(t,e){var n=ma(t),o=t===e?Ea(t):ba(n/ma(e))/ba(du(e)/du(t)),r=n*_a(du(t),o)/o;if(!o)return cu;function i(t,e){0<r?e<-la+aa&&(e=-la+aa):la-aa<e&&(e=la-aa);var n=r/_a(du(e),o);return[n*Ea(o*t),r-n*ma(o*t)]}return i.invert=function(t,e){var n=r-e,i=wa(o)*Ta(t*t+n*n);return[ga(t,fa(n))/o*wa(n),2*pa(_a(r/i,1/o))-la]},i}function fu(t,e){return[t,e]}function pu(t,e){var n=ma(t),o=t===e?Ea(t):(n-ma(e))/(e-t),r=n/o+t;if(fa(o)<aa)return fu;function i(t,e){var n=r-e,i=o*t;return[n*Ea(i),r-n*ma(i)]}return i.invert=function(t,e){var n=r-e;return[ga(t,fa(n))/o*wa(n),r-wa(o)*Ta(t*t+n*n)]},i}lu.invert=au(function(t){return t}),cu.invert=function(t,e){return[t,2*pa(ya(e))-la]},fu.invert=fu;var gu=1.340264,mu=-.081106,vu=893e-6,yu=.003796,bu=Ta(3)/2;function _u(t,e){var n=Da(bu*Ea(e)),i=n*n,o=i*i*i;return[t*ma(n)/(bu*(gu+3*mu*i+o*(7*vu+9*yu*i))),n*(gu+mu*i+o*(vu+yu*i))]}function Eu(t,e){var n=ma(e),i=ma(t)*n;return[n*Ea(t)/i,Ea(e)/i]}function wu(n,i,o,r){return 1===n&&1===i&&0===o&&0===r?jl:Hc({point:function(t,e){this.stream.point(t*n+o,e*i+r)}})}function Tu(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function Cu(t,e){return[ma(e)*Ea(t),Ea(e)]}function xu(t,e){var n=ma(e),i=1+ma(t)*n;return[n*Ea(t)/i,Ea(e)/i]}function Du(t,e){return[ba(Ca((la+e)/2)),-t]}function Ou(t,e){return t.parent===e.parent?1:2}function Iu(t,e){return t+e.x}function ku(t,e){return Math.max(t,e.y)}function Su(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;0<=--i;)e+=n[i].value;else e=1;t.value=e}function Ru(t,e){var n,i,o,r,a,s=new Ku(t),l=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=Au);n=c.pop();)if(l&&(n.value=+n.data.value),(o=e(n.data))&&(a=o.length))for(n.children=new Array(a),r=a-1;0<=r;--r)c.push(i=n.children[r]=new Ku(o[r])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(Nu)}function Au(t){return t.children}function Mu(t){t.data=t.data.data}function Nu(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function Ku(t){this.data=t,this.depth=this.height=0,this.parent=null}_u.invert=function(t,e){for(var n,i=e,o=i*i,r=o*o*o,a=0;a<12&&(r=(o=(i-=n=(i*(gu+mu*o+r*(vu+yu*o))-e)/(gu+3*mu*o+r*(7*vu+9*yu*o)))*i)*o*o,!(fa(n)<1e-12));++a);return[bu*t*(gu+3*mu*o+r*(7*vu+9*yu*o))/ma(i),Da(Ea(i)/bu)]},Eu.invert=au(pa),Tu.invert=function(t,e){var n,i=e,o=25;do{var r=i*i,a=r*r;i-=n=(i*(1.007226+r*(.015085+a*(.028874*r-.044475-.005916*a)))-e)/(1.007226+r*(.045255+a*(.259866*r-.311325-.005916*11*a)))}while(fa(n)>aa&&0<--o);return[t/(.8707+(r=i*i)*(r*(r*r*r*(.003971-.001529*r)-.013791)-.131979)),i]},Cu.invert=au(Da),xu.invert=au(function(t){return 2*pa(t)}),Du.invert=function(t,e){return[-e,2*pa(ya(t))-la]},Ku.prototype=Ru.prototype={constructor:Ku,count:function(){return this.eachAfter(Su)},each:function(t){var e,n,i,o,r=this,a=[r];do{for(e=a.reverse(),a=[];r=e.pop();)if(t(r),n=r.children)for(i=0,o=n.length;i<o;++i)a.push(n[i])}while(a.length);return this},eachAfter:function(t){for(var e,n,i,o=this,r=[o],a=[];o=r.pop();)if(a.push(o),e=o.children)for(n=0,i=e.length;n<i;++n)r.push(e[n]);for(;o=a.pop();)t(o);return this},eachBefore:function(t){for(var e,n,i=this,o=[i];i=o.pop();)if(t(i),e=i.children)for(n=e.length-1;0<=n;--n)o.push(e[n]);return this},sum:function(o){return this.eachAfter(function(t){for(var e=+o(t.data)||0,n=t.children,i=n&&n.length;0<=--i;)e+=n[i].value;t.value=e})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),o=null;for(t=n.pop(),e=i.pop();t===e;)o=t,t=n.pop(),e=i.pop();return o}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var o=i.length;t!==n;)i.splice(o,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function(){return Ru(this).eachBefore(Mu)}};var Pu=Array.prototype.slice;function Lu(t){for(var e,n,i=0,o=(t=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}(Pu.call(t))).length,r=[];i<o;)e=t[i],n&&$u(n,e)?++i:(n=zu(r=Fu(r,e)),i=0);return n}function Fu(t,e){var n,i;if(Hu(e,t))return[e];for(n=0;n<t.length;++n)if(Bu(e,t[n])&&Hu(ju(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(Bu(ju(t[n],t[i]),e)&&Bu(ju(t[n],e),t[i])&&Bu(ju(t[i],e),t[n])&&Hu(Vu(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function Bu(t,e){var n=t.r-e.r,i=e.x-t.x,o=e.y-t.y;return n<0||n*n<i*i+o*o}function $u(t,e){var n=t.r-e.r+1e-6,i=e.x-t.x,o=e.y-t.y;return 0<n&&i*i+o*o<n*n}function Hu(t,e){for(var n=0;n<e.length;++n)if(!$u(t,e[n]))return!1;return!0}function zu(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return ju(t[0],t[1]);case 3:return Vu(t[0],t[1],t[2])}var e}function ju(t,e){var n=t.x,i=t.y,o=t.r,r=e.x,a=e.y,s=e.r,l=r-n,c=a-i,u=s-o,d=Math.sqrt(l*l+c*c);return{x:(n+r+l/d*u)/2,y:(i+a+c/d*u)/2,r:(d+o+s)/2}}function Vu(t,e,n){var i=t.x,o=t.y,r=t.r,a=e.x,s=e.y,l=e.r,c=n.x,u=n.y,d=n.r,h=i-a,f=i-c,p=o-s,g=o-u,m=l-r,v=d-r,y=i*i+o*o-r*r,b=y-a*a-s*s+l*l,_=y-c*c-u*u+d*d,E=f*p-h*g,w=(p*_-g*b)/(2*E)-i,T=(g*m-p*v)/E,C=(f*b-h*_)/(2*E)-o,x=(h*v-f*m)/E,D=T*T+x*x-1,O=2*(r+w*T+C*x),I=w*w+C*C-r*r,k=-(D?(O+Math.sqrt(O*O-4*D*I))/(2*D):I/O);return{x:i+w+T*k,y:o+C+x*k,r:k}}function Wu(t,e,n){var i,o,r,a,s=t.x-e.x,l=t.y-e.y,c=s*s+l*l;c?(o=e.r+n.r,o*=o,a=t.r+n.r,o>(a*=a)?(i=(c+a-o)/(2*c),r=Math.sqrt(Math.max(0,a/c-i*i)),n.x=t.x-i*s-r*l,n.y=t.y-i*l+r*s):(i=(c+o-a)/(2*c),r=Math.sqrt(Math.max(0,o/c-i*i)),n.x=e.x+i*s-r*l,n.y=e.y+i*l+r*s)):(n.x=e.x+n.r,n.y=e.y)}function qu(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,o=e.y-t.y;return 0<n&&i*i+o*o<n*n}function Gu(t){var e=t._,n=t.next._,i=e.r+n.r,o=(e.x*n.r+n.x*e.r)/i,r=(e.y*n.r+n.y*e.r)/i;return o*o+r*r}function Uu(t){this._=t,this.next=null,this.previous=null}function Yu(t){if(!(o=t.length))return 0;var e,n,i,o,r,a,s,l,c,u,d;if((e=t[0]).x=0,e.y=0,!(1<o))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(2<o))return e.r+n.r;Wu(n,e,i=t[2]),e=new Uu(e),n=new Uu(n),i=new Uu(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(s=3;s<o;++s){Wu(e._,n._,i=t[s]),i=new Uu(i),l=n.next,c=e.previous,u=n._.r,d=e._.r;do{if(u<=d){if(qu(l._,i._)){n=l,(e.next=n).previous=e,--s;continue t}u+=l._.r,l=l.next}else{if(qu(c._,i._)){((e=c).next=n).previous=e,--s;continue t}d+=c._.r,c=c.previous}}while(l!==c.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,r=Gu(e);(i=i.next)!==n;)(a=Gu(i))<r&&(e=i,r=a);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=Lu(e),s=0;s<o;++s)(e=t[s]).x-=i.x,e.y-=i.y;return i.r}function Xu(t){if("function"!=typeof t)throw new Error;return t}function Zu(){return 0}function Qu(t){return function(){return t}}function Ju(t){return Math.sqrt(t.value)}function td(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function ed(a,s){return function(t){if(e=t.children){var e,n,i,o=e.length,r=a(t)*s||0;if(r)for(n=0;n<o;++n)e[n].r+=r;if(i=Yu(e),r)for(n=0;n<o;++n)e[n].r-=r;t.r=i+r}}}function nd(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function id(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function od(t,e,n,i,o){for(var r,a=t.children,s=-1,l=a.length,c=t.value&&(i-e)/t.value;++s<l;)(r=a[s]).y0=n,r.y1=o,r.x0=e,r.x1=e+=r.value*c}var rd={depth:-1},ad={};function sd(t){return t.id}function ld(t){return t.parentId}function cd(t,e){return t.parent===e.parent?1:2}function ud(t){var e=t.children;return e?e[0]:t.t}function dd(t){var e=t.children;return e?e[e.length-1]:t.t}function hd(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function fd(t,e,n,i,o){for(var r,a=t.children,s=-1,l=a.length,c=t.value&&(o-n)/t.value;++s<l;)(r=a[s]).x0=e,r.x1=i,r.y0=n,r.y1=n+=r.value*c}hd.prototype=Object.create(Ku.prototype);var pd=(1+Math.sqrt(5))/2;function gd(t,e,n,i,o,r){for(var a,s,l,c,u,d,h,f,p,g,m,v=[],y=e.children,b=0,_=0,E=y.length,w=e.value;b<E;){for(l=o-n,c=r-i;!(u=y[_++].value)&&_<E;);for(d=h=u,m=u*u*(g=Math.max(c/l,l/c)/(w*t)),p=Math.max(h/m,m/d);_<E;++_){if(u+=s=y[_].value,s<d&&(d=s),h<s&&(h=s),m=u*u*g,(f=Math.max(h/m,m/d))>p){u-=s;break}p=f}v.push(a={value:u,dice:l<c,children:y.slice(b,_)}),a.dice?od(a,n,i,o,w?i+=c*u/w:r):fd(a,n,i,w?n+=l*u/w:o,r),w-=u,b=_}return v}var md=function e(r){function t(t,e,n,i,o){gd(r,t,e,n,i,o)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(pd),vd=function e(f){function t(t,e,n,i,o){if((r=t._squarify)&&r.ratio===f)for(var r,a,s,l,c,u=-1,d=r.length,h=t.value;++u<d;){for(s=(a=r[u]).children,l=a.value=0,c=s.length;l<c;++l)a.value+=s[l].value;a.dice?od(a,e,n,i,n+=(o-n)*a.value/h):fd(a,e,n,e+=(i-e)*a.value/h,o),h-=a.value}else t._squarify=r=gd(f,t,e,n,i,o),r.ratio=f}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(pd);function yd(t,e){return t[0]-e[0]||t[1]-e[1]}function bd(t){for(var e,n,i,o=t.length,r=[0,1],a=2,s=2;s<o;++s){for(;1<a&&(e=t[r[a-2]],n=t[r[a-1]],i=t[s],(n[0]-e[0])*(i[1]-e[1])-(n[1]-e[1])*(i[0]-e[0])<=0);)--a;r[a++]=s}return r.slice(0,a)}function _d(){return Math.random()}var Ed=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(_d),wd=function t(r){function e(e,n){var i,o;return e=null==e?0:+e,n=null==n?1:+n,function(){var t;if(null!=i)t=i,i=null;else for(;i=2*r()-1,t=2*r()-1,!(o=i*i+t*t)||1<o;);return e+n*t*Math.sqrt(-2*Math.log(o)/o)}}return e.source=t,e}(_d),Td=function t(e){function n(){var t=wd.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(_d),Cd=function t(i){function e(n){return function(){for(var t=0,e=0;e<n;++e)t+=i();return t}}return e.source=t,e}(_d),xd=function t(n){function e(t){var e=Cd.source(n)(t);return function(){return e()/t}}return e.source=t,e}(_d),Dd=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(_d);function Od(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Id(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var kd=Array.prototype,Sd=kd.map,Rd=kd.slice,Ad={name:"implicit"};function Md(){var r=So(),a=[],i=[],o=Ad;function s(t){var e=t+"",n=r.get(e);if(!n){if(o!==Ad)return o;r.set(e,n=a.push(t))}return i[(n-1)%i.length]}return s.domain=function(t){if(!arguments.length)return a.slice();a=[],r=So();for(var e,n,i=-1,o=t.length;++i<o;)r.has(n=(e=t[i])+"")||r.set(n,a.push(e));return s},s.range=function(t){return arguments.length?(i=Rd.call(t),s):i.slice()},s.unknown=function(t){return arguments.length?(o=t,s):o},s.copy=function(){return Md(a,i).unknown(o)},Od.apply(s,arguments),s}function Nd(){var r,a,t=Md().unknown(void 0),s=t.domain,l=t.range,c=[0,1],u=!1,d=0,h=0,f=.5;function e(){var t=s().length,e=c[1]<c[0],n=c[e-0],i=c[1-e];r=(i-n)/Math.max(1,t-d+2*h),u&&(r=Math.floor(r)),n+=(i-n-r*(t-d))*f,a=r*(1-d),u&&(n=Math.round(n),a=Math.round(a));var o=x(t).map(function(t){return n+r*t});return l(e?o.reverse():o)}return delete t.unknown,t.domain=function(t){return arguments.length?(s(t),e()):s()},t.range=function(t){return arguments.length?(c=[+t[0],+t[1]],e()):c.slice()},t.rangeRound=function(t){return c=[+t[0],+t[1]],u=!0,e()},t.bandwidth=function(){return a},t.step=function(){return r},t.round=function(t){return arguments.length?(u=!!t,e()):u},t.padding=function(t){return arguments.length?(d=Math.min(1,h=+t),e()):d},t.paddingInner=function(t){return arguments.length?(d=Math.min(1,t),e()):d},t.paddingOuter=function(t){return arguments.length?(h=+t,e()):h},t.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},t.copy=function(){return Nd(s(),c).round(u).paddingInner(d).paddingOuter(h).align(f)},Od.apply(e(),arguments)}function Kd(t){return+t}var Pd=[0,1];function Ld(t){return t}function Fd(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=isNaN(n)?NaN:.5,function(){return t});var t}function Bd(t){var e,n=t[0],i=t[t.length-1];return i<n&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function $d(t,e,n){var i=t[0],o=t[1],r=e[0],a=e[1];return r=o<i?(i=Fd(o,i),n(a,r)):(i=Fd(i,o),n(r,a)),function(t){return r(i(t))}}function Hd(n,t,e){var i=Math.min(n.length,t.length)-1,o=new Array(i),r=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<i;)o[a]=Fd(n[a],n[a+1]),r[a]=e(t[a],t[a+1]);return function(t){var e=g(n,t,1,i)-1;return r[e](o[e](t))}}function zd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jd(){var n,i,e,o,r,a,s=Pd,l=Pd,c=sn,u=Ld;function d(){return o=2<Math.min(s.length,l.length)?Hd:$d,r=a=null,h}function h(t){return isNaN(t=+t)?e:(r=r||o(s.map(n),l,c))(n(u(t)))}return h.invert=function(t){return u(i((a=a||o(l,s.map(n),en))(t)))},h.domain=function(t){return arguments.length?(s=Sd.call(t,Kd),u===Ld||(u=Bd(s)),d()):s.slice()},h.range=function(t){return arguments.length?(l=Rd.call(t),d()):l.slice()},h.rangeRound=function(t){return l=Rd.call(t),c=ln,d()},h.clamp=function(t){return arguments.length?(u=t?Bd(s):Ld,h):u!==Ld},h.interpolate=function(t){return arguments.length?(c=t,d()):c},h.unknown=function(t){return arguments.length?(e=t,h):e},function(t,e){return n=t,i=e,d()}}function Vd(t,e){return jd()(t,e)}function Wd(t,e,n,i){var o,r=D(t,e,n);switch((i=Vr(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(o=ta(r,a))||(i.precision=o),$.formatPrefix(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=ea(r,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=Jr(r))||(i.precision=o-2*("%"===i.type))}return $.format(i)}function qd(s){var l=s.domain;return s.ticks=function(t){var e=l();return v(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){var n=l();return Wd(n[0],n[n.length-1],null==t?10:t,e)},s.nice=function(t){null==t&&(t=10);var e,n=l(),i=0,o=n.length-1,r=n[i],a=n[o];return a<r&&(e=r,r=a,a=e,e=i,i=o,o=e),0<(e=y(r,a,t))?e=y(r=Math.floor(r/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=y(r=Math.ceil(r*e)/e,a=Math.floor(a*e)/e,t)),0<e?(n[i]=Math.floor(r/e)*e,n[o]=Math.ceil(a/e)*e,l(n)):e<0&&(n[i]=Math.ceil(r*e)/e,n[o]=Math.floor(a*e)/e,l(n)),s},s}function Gd(t,e){var n,i=0,o=(t=t.slice()).length-1,r=t[i],a=t[o];return a<r&&(n=i,i=o,o=n,n=r,r=a,a=n),t[i]=e.floor(r),t[o]=e.ceil(a),t}function Ud(t){return Math.log(t)}function Yd(t){return Math.exp(t)}function Xd(t){return-Math.log(-t)}function Zd(t){return-Math.exp(-t)}function Qd(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Jd(e){return function(t){return-e(-t)}}function th(t){var h,f,o=t(Ud,Yd),p=o.domain,g=10;function e(){return h=(n=g)===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n}),f=10===(e=g)?Qd:e===Math.E?Math.exp:function(t){return Math.pow(e,t)},p()[0]<0?(h=Jd(h),f=Jd(f),t(Xd,Zd)):t(Ud,Yd),o;var e,n}return o.base=function(t){return arguments.length?(g=+t,e()):g},o.domain=function(t){return arguments.length?(p(t),e()):p()},o.ticks=function(t){var e,n=p(),i=n[0],o=n[n.length-1];(e=o<i)&&(l=i,i=o,o=l);var r,a,s,l=h(i),c=h(o),u=null==t?10:+t,d=[];if(!(g%1)&&c-l<u){if(l=Math.round(l)-1,c=Math.round(c)+1,0<i){for(;l<c;++l)for(a=1,r=f(l);a<g;++a)if(!((s=r*a)<i)){if(o<s)break;d.push(s)}}else for(;l<c;++l)for(a=g-1,r=f(l);1<=a;--a)if(!((s=r*a)<i)){if(o<s)break;d.push(s)}}else d=v(l,c,Math.min(c-l,u)).map(f);return e?d.reverse():d},o.tickFormat=function(t,n){if(null==n&&(n=10===g?".0e":","),"function"!=typeof n&&(n=$.format(n)),t===1/0)return n;null==t&&(t=10);var i=Math.max(1,g*t/o.ticks().length);return function(t){var e=t/f(Math.round(h(t)));return e*g<g-.5&&(e*=g),e<=i?n(t):""}},o.nice=function(){return p(Gd(p(),{floor:function(t){return f(Math.floor(h(t)))},ceil:function(t){return f(Math.ceil(h(t)))}}))},o}function eh(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function nh(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ih(e){var n=1,t=e(eh(n),nh(n));return t.constant=function(t){return arguments.length?e(eh(n=+t),nh(n)):n},qd(t)}function oh(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function rh(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ah(t){return t<0?-t*t:t*t}function sh(e){var t=e(Ld,Ld),n=1;return t.exponent=function(t){return arguments.length?1==(n=+t)?e(Ld,Ld):.5===n?e(rh,ah):e(oh(n),oh(1/n)):n},qd(t)}function lh(){var t=sh(jd());return t.copy=function(){return zd(t,lh()).exponent(t.exponent())},Od.apply(t,arguments),t}var ch=new Date,uh=new Date;function dh(r,a,n,i){function s(t){return r(t=new Date(+t)),t}return(s.floor=s).ceil=function(t){return r(t=new Date(t-1)),a(t,1),r(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var i,o=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return o;for(;o.push(i=new Date(+t)),a(t,n),r(t),i<t&&t<e;);return o},s.filter=function(n){return dh(function(t){if(t<=t)for(;r(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;a(t,-1),!n(t););else for(;0<=--e;)for(;a(t,1),!n(t););})},n&&(s.count=function(t,e){return ch.setTime(+t),uh.setTime(+e),r(ch),r(uh),Math.floor(n(ch,uh))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(i?function(t){return i(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var hh=dh(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});hh.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?dh(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):hh:null};var fh=hh.range,ph=dh(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),gh=ph.range,mh=dh(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),vh=mh.range,yh=dh(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),bh=yh.range,_h=dh(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),Eh=_h.range;function wh(e){return dh(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var Th=wh(0),Ch=wh(1),xh=wh(2),Dh=wh(3),Oh=wh(4),Ih=wh(5),kh=wh(6),Sh=Th.range,Rh=Ch.range,Ah=xh.range,Mh=Dh.range,Nh=Oh.range,Kh=Ih.range,Ph=kh.range,Lh=dh(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Fh=Lh.range,Bh=dh(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Bh.every=function(n){return isFinite(n=Math.floor(n))&&0<n?dh(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var $h=Bh.range,Hh=dh(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),zh=Hh.range,jh=dh(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),Vh=jh.range,Wh=dh(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),qh=Wh.range;function Gh(e){return dh(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var Uh=Gh(0),Yh=Gh(1),Xh=Gh(2),Zh=Gh(3),Qh=Gh(4),Jh=Gh(5),tf=Gh(6),ef=Uh.range,nf=Yh.range,of=Xh.range,rf=Zh.range,af=Qh.range,sf=Jh.range,lf=tf.range,cf=dh(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),uf=cf.range,df=dh(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});df.every=function(n){return isFinite(n=Math.floor(n))&&0<n?dh(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var hf=df.range;function ff(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gf(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function mf(t){var i=t.dateTime,o=t.date,r=t.time,e=t.periods,n=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Cf(e),u=xf(e),d=Cf(n),h=xf(n),f=Cf(a),p=xf(a),g=Cf(s),m=xf(s),v=Cf(l),y=xf(l),b={a:function(t){return a[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Wf,e:Wf,f:Xf,H:qf,I:Gf,j:Uf,L:Yf,m:Zf,M:Qf,p:function(t){return e[+(12<=t.getHours())]},Q:Dp,s:Op,S:Jf,u:tp,U:ep,V:np,w:ip,W:op,x:null,X:null,y:rp,Y:ap,Z:sp,"%":xp},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:lp,e:lp,f:fp,H:cp,I:up,j:dp,L:hp,m:pp,M:gp,p:function(t){return e[+(12<=t.getUTCHours())]},Q:Dp,s:Op,S:mp,u:vp,U:yp,V:bp,w:_p,W:Ep,x:null,X:null,y:wp,Y:Tp,Z:Cp,"%":xp},E={a:function(t,e,n){var i=f.exec(e.slice(n));return i?(t.w=p[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=h[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=v.exec(e.slice(n));return i?(t.m=y[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=m[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,e,n){return C(t,i,e,n)},d:Kf,e:Kf,f:Hf,H:Lf,I:Lf,j:Pf,L:$f,m:Nf,M:Ff,p:function(t,e,n){var i=c.exec(e.slice(n));return i?(t.p=u[i[0].toLowerCase()],n+i[0].length):-1},Q:jf,s:Vf,S:Bf,u:Of,U:If,V:kf,w:Df,W:Sf,x:function(t,e,n){return C(t,o,e,n)},X:function(t,e,n){return C(t,r,e,n)},y:Af,Y:Rf,Z:Mf,"%":zf};function w(l,c){return function(t){var e,n,i,o=[],r=-1,a=0,s=l.length;for(t instanceof Date||(t=new Date(+t));++r<s;)37===l.charCodeAt(r)&&(o.push(l.slice(a,r)),null!=(n=yf[e=l.charAt(++r)])?e=l.charAt(++r):n="e"===e?" ":"0",(i=c[e])&&(e=i(t,n)),o.push(e),a=r+1);return o.push(l.slice(a,r)),o.join("")}}function T(o,r){return function(t){var e,n,i=gf(1900);if(C(i,o,t+="",0)!=t.length)return null;if("Q"in i)return new Date(i.Q);if("p"in i&&(i.H=i.H%12+12*i.p),"V"in i){if(i.V<1||53<i.V)return null;"w"in i||(i.w=1),"Z"in i?(e=4<(n=(e=pf(gf(i.y))).getUTCDay())||0===n?Yh.ceil(e):Yh(e),e=Wh.offset(e,7*(i.V-1)),i.y=e.getUTCFullYear(),i.m=e.getUTCMonth(),i.d=e.getUTCDate()+(i.w+6)%7):(e=4<(n=(e=r(gf(i.y))).getDay())||0===n?Ch.ceil(e):Ch(e),e=_h.offset(e,7*(i.V-1)),i.y=e.getFullYear(),i.m=e.getMonth(),i.d=e.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),n="Z"in i?pf(gf(i.y)).getUTCDay():r(gf(i.y)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(n+5)%7:i.w+7*i.U-(n+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,pf(i)):r(i)}}function C(t,e,n,i){for(var o,r,a=0,s=e.length,l=n.length;a<s;){if(l<=i)return-1;if(37===(o=e.charCodeAt(a++))){if(o=e.charAt(a++),!(r=E[o in yf?e.charAt(a++):o])||(i=r(t,n,i))<0)return-1}else if(o!=n.charCodeAt(i++))return-1}return i}return b.x=w(o,b),b.X=w(r,b),b.c=w(i,b),_.x=w(o,_),_.X=w(r,_),_.c=w(i,_),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=T(t+="",ff);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=T(t,pf);return e.toString=function(){return t},e}}}var vf,yf={"-":"",_:" ",0:"0"},bf=/^\s*\d+/,_f=/^%/,Ef=/[\\^$*+?|[\]().{}]/g;function wf(t,e,n){var i=t<0?"-":"",o=(i?-t:t)+"",r=o.length;return i+(r<n?new Array(n-r+1).join(e)+o:o)}function Tf(t){return t.replace(Ef,"\\$&")}function Cf(t){return new RegExp("^(?:"+t.map(Tf).join("|")+")","i")}function xf(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Df(t,e,n){var i=bf.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Of(t,e,n){var i=bf.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function If(t,e,n){var i=bf.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function kf(t,e,n){var i=bf.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Sf(t,e,n){var i=bf.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Rf(t,e,n){var i=bf.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Af(t,e,n){var i=bf.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(68<+i[0]?1900:2e3),n+i[0].length):-1}function Mf(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Nf(t,e,n){var i=bf.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Kf(t,e,n){var i=bf.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Pf(t,e,n){var i=bf.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Lf(t,e,n){var i=bf.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Ff(t,e,n){var i=bf.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Bf(t,e,n){var i=bf.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function $f(t,e,n){var i=bf.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Hf(t,e,n){var i=bf.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function zf(t,e,n){var i=_f.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function jf(t,e,n){var i=bf.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function Vf(t,e,n){var i=bf.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function Wf(t,e){return wf(t.getDate(),e,2)}function qf(t,e){return wf(t.getHours(),e,2)}function Gf(t,e){return wf(t.getHours()%12||12,e,2)}function Uf(t,e){return wf(1+_h.count(Bh(t),t),e,3)}function Yf(t,e){return wf(t.getMilliseconds(),e,3)}function Xf(t,e){return Yf(t,e)+"000"}function Zf(t,e){return wf(t.getMonth()+1,e,2)}function Qf(t,e){return wf(t.getMinutes(),e,2)}function Jf(t,e){return wf(t.getSeconds(),e,2)}function tp(t){var e=t.getDay();return 0===e?7:e}function ep(t,e){return wf(Th.count(Bh(t),t),e,2)}function np(t,e){var n=t.getDay();return t=4<=n||0===n?Oh(t):Oh.ceil(t),wf(Oh.count(Bh(t),t)+(4===Bh(t).getDay()),e,2)}function ip(t){return t.getDay()}function op(t,e){return wf(Ch.count(Bh(t),t),e,2)}function rp(t,e){return wf(t.getFullYear()%100,e,2)}function ap(t,e){return wf(t.getFullYear()%1e4,e,4)}function sp(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+wf(e/60|0,"0",2)+wf(e%60,"0",2)}function lp(t,e){return wf(t.getUTCDate(),e,2)}function cp(t,e){return wf(t.getUTCHours(),e,2)}function up(t,e){return wf(t.getUTCHours()%12||12,e,2)}function dp(t,e){return wf(1+Wh.count(df(t),t),e,3)}function hp(t,e){return wf(t.getUTCMilliseconds(),e,3)}function fp(t,e){return hp(t,e)+"000"}function pp(t,e){return wf(t.getUTCMonth()+1,e,2)}function gp(t,e){return wf(t.getUTCMinutes(),e,2)}function mp(t,e){return wf(t.getUTCSeconds(),e,2)}function vp(t){var e=t.getUTCDay();return 0===e?7:e}function yp(t,e){return wf(Uh.count(df(t),t),e,2)}function bp(t,e){var n=t.getUTCDay();return t=4<=n||0===n?Qh(t):Qh.ceil(t),wf(Qh.count(df(t),t)+(4===df(t).getUTCDay()),e,2)}function _p(t){return t.getUTCDay()}function Ep(t,e){return wf(Yh.count(df(t),t),e,2)}function wp(t,e){return wf(t.getUTCFullYear()%100,e,2)}function Tp(t,e){return wf(t.getUTCFullYear()%1e4,e,4)}function Cp(){return"+0000"}function xp(){return"%"}function Dp(t){return+t}function Op(t){return Math.floor(+t/1e3)}function Ip(t){return vf=mf(t),$.timeFormat=vf.format,$.timeParse=vf.parse,$.utcFormat=vf.utcFormat,$.utcParse=vf.utcParse,vf}Ip({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var kp=Date.prototype.toISOString?function(t){return t.toISOString()}:$.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Sp=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:$.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),Rp=1e3,Ap=60*Rp,Mp=60*Ap,Np=24*Mp,Kp=7*Np,Pp=30*Np,Lp=365*Np;function Fp(t){return new Date(t)}function Bp(t){return t instanceof Date?+t:+new Date(+t)}function $p(a,e,n,i,o,r,s,l,c){var u=Vd(Ld,Ld),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),_=c("%Y"),E=[[s,1,Rp],[s,5,5*Rp],[s,15,15*Rp],[s,30,30*Rp],[r,1,Ap],[r,5,5*Ap],[r,15,15*Ap],[r,30,30*Ap],[o,1,Mp],[o,3,3*Mp],[o,6,6*Mp],[o,12,12*Mp],[i,1,Np],[i,2,2*Np],[n,1,Kp],[e,1,Pp],[e,3,3*Pp],[a,1,Lp]];function w(t){return(s(t)<t?f:r(t)<t?p:o(t)<t?g:i(t)<t?m:e(t)<t?n(t)<t?v:y:a(t)<t?b:_)(t)}function T(t,e,n,i){if(null==t&&(t=10),"number"==typeof t){var o=Math.abs(n-e)/t,r=C(function(t){return t[2]}).right(E,o);t=r===E.length?(i=D(e/Lp,n/Lp,t),a):r?(i=(r=E[o/E[r-1][2]<E[r][2]/o?r-1:r])[1],r[0]):(i=Math.max(D(e,n,t),1),l)}return null==i?t:t.every(i)}return u.invert=function(t){return new Date(d(t))},u.domain=function(t){return arguments.length?h(Sd.call(t,Bp)):h().map(Fp)},u.ticks=function(t,e){var n,i=h(),o=i[0],r=i[i.length-1],a=r<o;return a&&(n=o,o=r,r=n),n=(n=T(t,o,r,e))?n.range(o,r+1):[],a?n.reverse():n},u.tickFormat=function(t,e){return null==e?w:c(e)},u.nice=function(t,e){var n=h();return(t=T(t,n[0],n[n.length-1],e))?h(Gd(n,t)):u},u.copy=function(){return zd(u,$p(a,e,n,i,o,r,s,l,c))},u}function Hp(){var e,n,i,o,r,a=0,s=1,l=Ld,c=!1;function u(t){return isNaN(t=+t)?r:l(0===i?.5:(t=(o(t)-e)*i,c?Math.max(0,Math.min(1,t)):t))}return u.domain=function(t){return arguments.length?(e=o(a=+t[0]),n=o(s=+t[1]),i=e===n?0:1/(n-e),u):[a,s]},u.clamp=function(t){return arguments.length?(c=!!t,u):c},u.interpolator=function(t){return arguments.length?(l=t,u):l},u.unknown=function(t){return arguments.length?(r=t,u):r},function(t){return e=(o=t)(a),n=t(s),i=e===n?0:1/(n-e),u}}function zp(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function jp(){var t=sh(Hp());return t.copy=function(){return zp(t,jp()).exponent(t.exponent())},Id.apply(t,arguments)}function Vp(){var e,n,i,o,r,a,s,l=0,c=.5,u=1,d=Ld,h=!1;function f(t){return isNaN(t=+t)?s:(t=.5+((t=+a(t))-n)*(t<n?o:r),d(h?Math.max(0,Math.min(1,t)):t))}return f.domain=function(t){return arguments.length?(e=a(l=+t[0]),n=a(c=+t[1]),i=a(u=+t[2]),o=e===n?0:.5/(n-e),r=n===i?0:.5/(i-n),f):[l,c,u]},f.clamp=function(t){return arguments.length?(h=!!t,f):h},f.interpolator=function(t){return arguments.length?(d=t,f):d},f.unknown=function(t){return arguments.length?(s=t,f):s},function(t){return e=(a=t)(l),n=t(c),i=t(u),o=e===n?0:.5/(n-e),r=n===i?0:.5/(i-n),f}}function Wp(){var t=sh(Vp());return t.copy=function(){return zp(t,Wp()).exponent(t.exponent())},Id.apply(t,arguments)}function qp(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}var Gp=qp("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Up=qp("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Yp=qp("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Xp=qp("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Zp=qp("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Qp=qp("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Jp=qp("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),tg=qp("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),eg=qp("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function ng(t){return Ze(t[t.length-1])}var ig=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(qp),og=ng(ig),rg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(qp),ag=ng(rg),sg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(qp),lg=ng(sg),cg=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(qp),ug=ng(cg),dg=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(qp),hg=ng(dg),fg=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(qp),pg=ng(fg),gg=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(qp),mg=ng(gg),vg=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(qp),yg=ng(vg),bg=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(qp),_g=ng(bg),Eg=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(qp),wg=ng(Eg),Tg=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(qp),Cg=ng(Tg),xg=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(qp),Dg=ng(xg),Og=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(qp),Ig=ng(Og),kg=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(qp),Sg=ng(kg),Rg=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(qp),Ag=ng(Rg),Mg=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(qp),Ng=ng(Mg),Kg=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(qp),Pg=ng(Kg),Lg=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(qp),Fg=ng(Lg),Bg=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(qp),$g=ng(Bg),Hg=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(qp),zg=ng(Hg),jg=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(qp),Vg=ng(jg),Wg=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(qp),qg=ng(Wg),Gg=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(qp),Ug=ng(Gg),Yg=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(qp),Xg=ng(Yg),Zg=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(qp),Qg=ng(Zg),Jg=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(qp),tm=ng(Jg),em=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(qp),nm=ng(em),im=An($e(300,.5,0),$e(-240,.5,1)),om=An($e(-100,.75,.35),$e(80,1.5,.8)),rm=An($e(260,.75,.35),$e(80,1.5,.8)),am=$e(),sm=ce(),lm=Math.PI/3,cm=2*Math.PI/3;function um(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}var dm=um(qp("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),hm=um(qp("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),fm=um(qp("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),pm=um(qp("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function gm(t){return function(){return t}}var mm=Math.abs,vm=Math.atan2,ym=Math.cos,bm=Math.max,_m=Math.min,Em=Math.sin,wm=Math.sqrt,Tm=1e-12,Cm=Math.PI,xm=Cm/2,Dm=2*Cm;function Om(t){return 1<=t?xm:t<=-1?-xm:Math.asin(t)}function Im(t){return t.innerRadius}function km(t){return t.outerRadius}function Sm(t){return t.startAngle}function Rm(t){return t.endAngle}function Am(t){return t&&t.padAngle}function Mm(t,e,n,i,o,r,a){var s=t-n,l=e-i,c=(a?r:-r)/wm(s*s+l*l),u=c*l,d=-c*s,h=t+u,f=e+d,p=n+u,g=i+d,m=(h+p)/2,v=(f+g)/2,y=p-h,b=g-f,_=y*y+b*b,E=o-r,w=h*g-p*f,T=(b<0?-1:1)*wm(bm(0,E*E*_-w*w)),C=(w*b-y*T)/_,x=(-w*y-b*T)/_,D=(w*b+y*T)/_,O=(-w*y+b*T)/_,I=C-m,k=x-v,S=D-m,R=O-v;return S*S+R*R<I*I+k*k&&(C=D,x=O),{cx:C,cy:x,x01:-u,y01:-d,x11:C*(o/E-1),y11:x*(o/E-1)}}function Nm(t){this._context=t}function Km(t){return new Nm(t)}function Pm(t){return t[0]}function Lm(t){return t[1]}function Fm(){var a=Pm,s=Lm,l=gm(!0),c=null,u=Km,d=null;function e(t){var e,n,i,o=t.length,r=!1;for(null==c&&(d=u(i=To())),e=0;e<=o;++e)!(e<o&&l(n=t[e],e,t))===r&&((r=!r)?d.lineStart():d.lineEnd()),r&&d.point(+a(n,e,t),+s(n,e,t));if(i)return d=null,i+""||null}return e.x=function(t){return arguments.length?(a="function"==typeof t?t:gm(+t),e):a},e.y=function(t){return arguments.length?(s="function"==typeof t?t:gm(+t),e):s},e.defined=function(t){return arguments.length?(l="function"==typeof t?t:gm(!!t),e):l},e.curve=function(t){return arguments.length?(u=t,null!=c&&(d=u(c)),e):u},e.context=function(t){return arguments.length?(null==t?c=d=null:d=u(c=t),e):c},e}function Bm(){var u=Pm,d=null,h=gm(0),f=Lm,p=gm(!0),g=null,m=Km,v=null;function e(t){var e,n,i,o,r,a=t.length,s=!1,l=new Array(a),c=new Array(a);for(null==g&&(v=m(r=To())),e=0;e<=a;++e){if(!(e<a&&p(o=t[e],e,t))===s)if(s=!s)n=e,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),i=e-1;n<=i;--i)v.point(l[i],c[i]);v.lineEnd(),v.areaEnd()}s&&(l[e]=+u(o,e,t),c[e]=+h(o,e,t),v.point(d?+d(o,e,t):l[e],f?+f(o,e,t):c[e]))}if(r)return v=null,r+""||null}function t(){return Fm().defined(p).curve(m).context(g)}return e.x=function(t){return arguments.length?(u="function"==typeof t?t:gm(+t),d=null,e):u},e.x0=function(t){return arguments.length?(u="function"==typeof t?t:gm(+t),e):u},e.x1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:gm(+t),e):d},e.y=function(t){return arguments.length?(h="function"==typeof t?t:gm(+t),f=null,e):h},e.y0=function(t){return arguments.length?(h="function"==typeof t?t:gm(+t),e):h},e.y1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:gm(+t),e):f},e.lineX0=e.lineY0=function(){return t().x(u).y(h)},e.lineY1=function(){return t().x(u).y(f)},e.lineX1=function(){return t().x(d).y(h)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:gm(!!t),e):p},e.curve=function(t){return arguments.length?(m=t,null!=g&&(v=m(g)),e):m},e.context=function(t){return arguments.length?(null==t?g=v=null:v=m(g=t),e):g},e}function $m(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}function Hm(t){return t}Nm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var zm=Vm(Km);function jm(t){this._curve=t}function Vm(e){function t(t){return new jm(e(t))}return t._curve=e,t}function Wm(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Vm(t)):e()._curve},t}function qm(){return Wm(Fm().curve(zm))}function Gm(){var t=Bm().curve(zm),e=t.curve,n=t.lineX0,i=t.lineX1,o=t.lineY0,r=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Wm(n())},delete t.lineX0,t.lineEndAngle=function(){return Wm(i())},delete t.lineX1,t.lineInnerRadius=function(){return Wm(o())},delete t.lineY0,t.lineOuterRadius=function(){return Wm(r())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Vm(t)):e()._curve},t}function Um(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}jm.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Ym=Array.prototype.slice;function Xm(t){return t.source}function Zm(t){return t.target}function Qm(o){var r=Xm,a=Zm,s=Pm,l=Lm,c=null;function e(){var t,e=Ym.call(arguments),n=r.apply(this,e),i=a.apply(this,e);if(c=c||(t=To()),o(c,+s.apply(this,(e[0]=n,e)),+l.apply(this,e),+s.apply(this,(e[0]=i,e)),+l.apply(this,e)),t)return c=null,t+""||null}return e.source=function(t){return arguments.length?(r=t,e):r},e.target=function(t){return arguments.length?(a=t,e):a},e.x=function(t){return arguments.length?(s="function"==typeof t?t:gm(+t),e):s},e.y=function(t){return arguments.length?(l="function"==typeof t?t:gm(+t),e):l},e.context=function(t){return arguments.length?(c=null==t?null:t,e):c},e}function Jm(t,e,n,i,o){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,o,i,o)}function tv(t,e,n,i,o){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+o)/2,i,n,i,o)}function ev(t,e,n,i,o){var r=Um(e,n),a=Um(e,n=(n+o)/2),s=Um(i,n),l=Um(i,o);t.moveTo(r[0],r[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],l[0],l[1])}var nv={draw:function(t,e){var n=Math.sqrt(e/Cm);t.moveTo(n,0),t.arc(0,0,n,0,Dm)}},iv={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ov=Math.sqrt(1/3),rv=2*ov,av={draw:function(t,e){var n=Math.sqrt(e/rv),i=n*ov;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},sv=Math.sin(Cm/10)/Math.sin(7*Cm/10),lv=Math.sin(Dm/10)*sv,cv=-Math.cos(Dm/10)*sv,uv={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=lv*n,o=cv*n;t.moveTo(0,-n),t.lineTo(i,o);for(var r=1;r<5;++r){var a=Dm*r/5,s=Math.cos(a),l=Math.sin(a);t.lineTo(l*n,-s*n),t.lineTo(s*i-l*o,l*i+s*o)}t.closePath()}},dv={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},hv=Math.sqrt(3),fv={draw:function(t,e){var n=-Math.sqrt(e/(3*hv));t.moveTo(0,2*n),t.lineTo(-hv*n,-n),t.lineTo(hv*n,-n),t.closePath()}},pv=Math.sqrt(3)/2,gv=1/Math.sqrt(12),mv=3*(gv/2+1),vv={draw:function(t,e){var n=Math.sqrt(e/mv),i=n/2,o=n*gv,r=i,a=n*gv+n,s=-r,l=a;t.moveTo(i,o),t.lineTo(r,a),t.lineTo(s,l),t.lineTo(-.5*i-pv*o,pv*i+-.5*o),t.lineTo(-.5*r-pv*a,pv*r+-.5*a),t.lineTo(-.5*s-pv*l,pv*s+-.5*l),t.lineTo(-.5*i+pv*o,-.5*o-pv*i),t.lineTo(-.5*r+pv*a,-.5*a-pv*r),t.lineTo(-.5*s+pv*l,-.5*l-pv*s),t.closePath()}},yv=[nv,iv,av,dv,uv,fv,vv];function bv(){}function _v(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ev(t){this._context=t}function wv(t){this._context=t}function Tv(t){this._context=t}function Cv(t,e){this._basis=new Ev(t),this._beta=e}Ev.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_v(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_v(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},wv.prototype={areaStart:bv,areaEnd:bv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_v(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Tv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:_v(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Cv.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var i,o=t[0],r=e[0],a=t[n]-o,s=e[n]-r,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(o+i*a),this._beta*e[l]+(1-this._beta)*(r+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var xv=function e(n){function t(t){return 1===n?new Ev(t):new Cv(t,n)}return t.beta=function(t){return e(+t)},t}(.85);function Dv(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Ov(t,e){this._context=t,this._k=(1-e)/6}Ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Dv(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Dv(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Iv=function e(n){function t(t){return new Ov(t,n)}return t.tension=function(t){return e(+t)},t}(0);function kv(t,e){this._context=t,this._k=(1-e)/6}kv.prototype={areaStart:bv,areaEnd:bv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Dv(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Sv=function e(n){function t(t){return new kv(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Rv(t,e){this._context=t,this._k=(1-e)/6}Rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Dv(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Av=function e(n){function t(t){return new Rv(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Mv(t,e,n){var i=t._x1,o=t._y1,r=t._x2,a=t._y2;if(t._l01_a>Tm){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,o=(o*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Tm){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);r=(r*c+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(i,o,r,a,t._x2,t._y2)}function Nv(t,e){this._context=t,this._alpha=e}Nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Mv(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Kv=function e(n){function t(t){return n?new Nv(t,n):new Ov(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Pv(t,e){this._context=t,this._alpha=e}Pv.prototype={areaStart:bv,areaEnd:bv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Mv(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Lv=function e(n){function t(t){return n?new Pv(t,n):new kv(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Fv(t,e){this._context=t,this._alpha=e}Fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Mv(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Bv=function e(n){function t(t){return n?new Fv(t,n):new Rv(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function $v(t){this._context=t}function Hv(t){return t<0?-1:1}function zv(t,e,n){var i=t._x1-t._x0,o=e-t._x1,r=(t._y1-t._y0)/(i||o<0&&-0),a=(n-t._y1)/(o||i<0&&-0),s=(r*o+a*i)/(i+o);return(Hv(r)+Hv(a))*Math.min(Math.abs(r),Math.abs(a),.5*Math.abs(s))||0}function jv(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Vv(t,e,n){var i=t._x0,o=t._y0,r=t._x1,a=t._y1,s=(r-i)/3;t._context.bezierCurveTo(i+s,o+s*e,r-s,a-s*n,r,a)}function Wv(t){this._context=t}function qv(t){this._context=new Gv(t)}function Gv(t){this._context=t}function Uv(t){this._context=t}function Yv(t){var e,n,i=t.length-1,o=new Array(i),r=new Array(i),a=new Array(i);for(r[o[0]=0]=2,a[0]=t[0]+2*t[1],e=1;e<i-1;++e)o[e]=1,r[e]=4,a[e]=4*t[e]+2*t[e+1];for(o[i-1]=2,r[i-1]=7,a[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=o[e]/r[e-1],r[e]-=n,a[e]-=n*a[e-1];for(o[i-1]=a[i-1]/r[i-1],e=i-2;0<=e;--e)o[e]=(a[e]-o[e+1])/r[e];for(r[i-1]=(t[i]+o[i-1])/2,e=0;e<i-1;++e)r[e]=2*t[e+1]-o[e+1];return[o,r]}function Xv(t,e){this._context=t,this._t=e}function Zv(t,e){if(1<(o=t.length))for(var n,i,o,r=1,a=t[e[0]],s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Qv(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n}function Jv(t,e){return t[e]}function ty(t){var n=t.map(ey);return Qv(t).sort(function(t,e){return n[t]-n[e]})}function ey(t){for(var e,n=-1,i=0,o=t.length,r=-1/0;++n<o;)(e=+t[n][1])>r&&(r=e,i=n);return i}function ny(t){var n=t.map(iy);return Qv(t).sort(function(t,e){return n[t]-n[e]})}function iy(t){for(var e,n=0,i=-1,o=t.length;++i<o;)(e=+t[i][1])&&(n+=e);return n}function oy(t){return function(){return t}}function ry(t){return t[0]}function ay(t){return t[1]}function sy(){this._=null}function ly(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function cy(t,e){var n=e,i=e.R,o=n.U;o?o.L===n?o.L=i:o.R=i:t._=i,i.U=o,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function uy(t,e){var n=e,i=e.L,o=n.U;o?o.L===n?o.L=i:o.R=i:t._=i,i.U=o,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function dy(t){for(;t.L;)t=t.L;return t}function hy(t,e,n,i){var o=[null,null],r=Ny.push(o)-1;return o.left=t,o.right=e,n&&py(o,t,e,n),i&&py(o,e,t,i),Ay[t.index].halfedges.push(r),Ay[e.index].halfedges.push(r),o}function fy(t,e,n){var i=[e,n];return i.left=t,i}function py(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function gy(t,e,n,i,o){var r,a=t[0],s=t[1],l=a[0],c=a[1],u=0,d=1,h=s[0]-l,f=s[1]-c;if(r=e-l,h||!(0<r)){if(r/=h,h<0){if(r<u)return;r<d&&(d=r)}else if(0<h){if(d<r)return;u<r&&(u=r)}if(r=i-l,h||!(r<0)){if(r/=h,h<0){if(d<r)return;u<r&&(u=r)}else if(0<h){if(r<u)return;r<d&&(d=r)}if(r=n-c,f||!(0<r)){if(r/=f,f<0){if(r<u)return;r<d&&(d=r)}else if(0<f){if(d<r)return;u<r&&(u=r)}if(r=o-c,f||!(r<0)){if(r/=f,f<0){if(d<r)return;u<r&&(u=r)}else if(0<f){if(r<u)return;r<d&&(d=r)}return!(0<u||d<1)||(0<u&&(t[0]=[l+u*h,c+u*f]),d<1&&(t[1]=[l+d*h,c+d*f]),!0)}}}}}function my(t,e,n,i,o){var r=t[1];if(r)return!0;var a,s,l=t[0],c=t.left,u=t.right,d=c[0],h=c[1],f=u[0],p=u[1],g=(d+f)/2,m=(h+p)/2;if(p===h){if(g<e||i<=g)return;if(f<d){if(l){if(l[1]>=o)return}else l=[g,n];r=[g,o]}else{if(l){if(l[1]<n)return}else l=[g,o];r=[g,n]}}else if(s=m-(a=(d-f)/(p-h))*g,a<-1||1<a)if(f<d){if(l){if(l[1]>=o)return}else l=[(n-s)/a,n];r=[(o-s)/a,o]}else{if(l){if(l[1]<n)return}else l=[(o-s)/a,o];r=[(n-s)/a,n]}else if(h<p){if(l){if(l[0]>=i)return}else l=[e,a*e+s];r=[i,a*i+s]}else{if(l){if(l[0]<e)return}else l=[i,a*i+s];r=[e,a*e+s]}return t[0]=l,t[1]=r,!0}function vy(t,e){return e[+(e.left!==t.site)]}$v.prototype={areaStart:bv,areaEnd:bv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Wv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vv(this,this._t0,jv(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Vv(this,jv(this,n=zv(this,t,e)),n);break;default:Vv(this,this._t0,n=zv(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(qv.prototype=Object.create(Wv.prototype)).point=function(t,e){Wv.prototype.point.call(this,e,t)},Gv.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,o,r){this._context.bezierCurveTo(e,t,i,n,r,o)}},Uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Yv(t),o=Yv(e),r=0,a=1;a<n;++r,++a)this._context.bezierCurveTo(i[0][r],o[0][r],i[1][r],o[1][r],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Xv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},sy.prototype={constructor:sy,insert:function(t,e){var n,i,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else n=this._?(t=dy(this._),e.P=null,(e.N=t).P=t.L=e,t):(e.P=e.N=null,this._=e,null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(o=i.R)&&o.C?(n.C=o.C=!1,i.C=!0,t=i):(t===n.R&&(cy(this,n),n=(t=n).U),n.C=!1,i.C=!0,uy(this,i)):(o=i.L)&&o.C?(n.C=o.C=!1,i.C=!0,t=i):(t===n.L&&(uy(this,n),n=(t=n).U),n.C=!1,i.C=!0,cy(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,o=t.U,r=t.L,a=t.R;if(n=r?a?dy(a):r:a,o?o.L===t?o.L=n:o.R=n:this._=n,r&&a?(i=n.C,n.C=t.C,((n.L=r).U=n)!==a?(o=n.U,n.U=t.U,t=n.R,o.L=t,(n.R=a).U=n):(n.U=o,t=(o=n).R)):(i=t.C,t=n),t&&(t.U=o),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,cy(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,uy(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,cy(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,uy(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,cy(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,uy(this,o),t=this._;break}e.C=!0,o=(t=o).U}while(!t.C);t&&(t.C=!1)}}};var yy,by=[];function _y(){ly(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ey(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,o=t.site,r=n.site;if(i!==r){var a=o[0],s=o[1],l=i[0]-a,c=i[1]-s,u=r[0]-a,d=r[1]-s,h=2*(l*d-c*u);if(!(-Py<=h)){var f=l*l+c*c,p=u*u+d*d,g=(d*f-c*p)/h,m=(l*p-u*f)/h,v=by.pop()||new _y;v.arc=t,v.site=o,v.x=g+a,v.y=(v.cy=m+s)+Math.sqrt(g*g+m*m),t.circle=v;for(var y=null,b=My._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}My.insert(y,v),y||(yy=v)}}}}function wy(t){var e=t.circle;e&&(e.P||(yy=e.N),My.remove(e),by.push(e),ly(e),t.circle=null)}var Ty=[];function Cy(){ly(this),this.edge=this.site=this.circle=null}function xy(t){var e=Ty.pop()||new Cy;return e.site=t,e}function Dy(t){wy(t),Ry.remove(t),Ty.push(t),ly(t)}function Oy(t){var e=t.circle,n=e.x,i=e.cy,o=[n,i],r=t.P,a=t.N,s=[t];Dy(t);for(var l=r;l.circle&&Math.abs(n-l.circle.x)<Ky&&Math.abs(i-l.circle.cy)<Ky;)r=l.P,s.unshift(l),Dy(l),l=r;s.unshift(l),wy(l);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<Ky&&Math.abs(i-c.circle.cy)<Ky;)a=c.N,s.push(c),Dy(c),c=a;s.push(c),wy(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],py(c.edge,l.site,c.site,o);l=s[0],(c=s[d-1]).edge=hy(l.site,c.site,null,o),Ey(l),Ey(c)}function Iy(t){for(var e,n,i,o,r=t[0],a=t[1],s=Ry._;s;)if((i=ky(s,a)-r)>Ky)s=s.L;else{if(!((o=r-Sy(s,a))>Ky)){-Ky<i?(e=s.P,n=s):-Ky<o?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var l;Ay[(l=t).index]={site:l,halfedges:[]};var c=xy(t);if(Ry.insert(e,c),e||n){if(e===n)return wy(e),n=xy(e.site),Ry.insert(c,n),c.edge=n.edge=hy(e.site,c.site),Ey(e),void Ey(n);if(n){wy(e),wy(n);var u=e.site,d=u[0],h=u[1],f=t[0]-d,p=t[1]-h,g=n.site,m=g[0]-d,v=g[1]-h,y=2*(f*v-p*m),b=f*f+p*p,_=m*m+v*v,E=[(v*b-p*_)/y+d,(f*_-m*b)/y+h];py(n.edge,u,g,E),c.edge=hy(u,t,null,E),n.edge=hy(t,g,null,E),Ey(e),Ey(n)}else c.edge=hy(e.site,c.site)}}function ky(t,e){var n=t.site,i=n[0],o=n[1],r=o-e;if(!r)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],c=l-e;if(!c)return s;var u=s-i,d=1/r-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+o-r/2)))/d+i:(i+s)/2}function Sy(t,e){var n=t.N;if(n)return ky(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var Ry,Ay,My,Ny,Ky=1e-6,Py=1e-12;function Ly(t,e){return e[1]-t[1]||e[0]-t[0]}function Fy(t,e){var n,i,o,r=t.sort(Ly).pop();for(Ny=[],Ay=new Array(t.length),Ry=new sy,My=new sy;;)if(o=yy,r&&(!o||r[1]<o.y||r[1]===o.y&&r[0]<o.x))r[0]===n&&r[1]===i||(Iy(r),n=r[0],i=r[1]),r=t.pop();else{if(!o)break;Oy(o.arc)}if(function(){for(var t,e,n,i,o=0,r=Ay.length;o<r;++o)if((t=Ay[o])&&(i=(e=t.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=(l=t,c=Ny[e[n]],h=d=void 0,u=l.site,d=c.left,h=c.right,u===h&&(h=d,d=u),h?Math.atan2(h[1]-d[1],h[0]-d[0]):(h=u===d?(d=c[1],c[0]):(d=c[0],c[1]),Math.atan2(d[0]-h[0],h[1]-d[1])));for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<i;++n)s[n]=e[a[n]];for(n=0;n<i;++n)e[n]=s[n]}var l,c,u,d,h}(),e){var a=+e[0][0],s=+e[0][1],l=+e[1][0],c=+e[1][1];!function(t,e,n,i){for(var o,r=Ny.length;r--;)my(o=Ny[r],t,e,n,i)&&gy(o,t,e,n,i)&&(Math.abs(o[0][0]-o[1][0])>Ky||Math.abs(o[0][1]-o[1][1])>Ky)||delete Ny[r]}(a,s,l,c),function(t,e,n,i){var o,r,a,s,l,c,u,d,h,f,p,g,m,v,y=Ay.length,b=!0;for(o=0;o<y;++o)if(r=Ay[o]){for(a=r.site,s=(l=r.halfedges).length;s--;)Ny[l[s]]||l.splice(s,1);for(s=0,c=l.length;s<c;)p=(m=r,f=(v=Ny[l[s]])[+(v.left===m.site)])[0],g=f[1],d=(u=vy(r,Ny[l[++s%c]]))[0],h=u[1],(Math.abs(p-d)>Ky||Math.abs(g-h)>Ky)&&(l.splice(s,0,Ny.push(fy(a,f,Math.abs(p-t)<Ky&&Ky<i-g?[t,Math.abs(d-t)<Ky?h:i]:Math.abs(g-i)<Ky&&Ky<n-p?[Math.abs(h-i)<Ky?d:n,i]:Math.abs(p-n)<Ky&&Ky<g-e?[n,Math.abs(d-n)<Ky?h:e]:Math.abs(g-e)<Ky&&Ky<p-t?[Math.abs(h-e)<Ky?d:t,e]:null))-1),++c);c&&(b=!1)}if(b){var _,E,w,T=1/0;for(o=0,b=null;o<y;++o)(r=Ay[o])&&(w=(_=(a=r.site)[0]-t)*_+(E=a[1]-e)*E)<T&&(T=w,b=r);if(b){var C=[t,e],x=[t,i],D=[n,i],O=[n,e];b.halfedges.push(Ny.push(fy(a=b.site,C,x))-1,Ny.push(fy(a,x,D))-1,Ny.push(fy(a,D,O))-1,Ny.push(fy(a,O,C))-1)}}for(o=0;o<y;++o)(r=Ay[o])&&(r.halfedges.length||delete Ay[o])}(a,s,l,c)}this.edges=Ny,this.cells=Ay,Ry=My=Ny=Ay=null}function By(t){return function(){return t}}function $y(t,e,n){this.target=t,this.type=e,this.transform=n}function Hy(t,e,n){this.k=t,this.x=e,this.y=n}Fy.prototype={constructor:Fy,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(t){return vy(e,n[t])});return t.data=e.site.data,t})},triangles:function(){var h=[],f=this.edges;return this.cells.forEach(function(t,e){if(i=(n=t.halfedges).length)for(var n,i,o,r,a,s,l=t.site,c=-1,u=f[n[i-1]],d=u.left===l?u.right:u.left;++c<i;)o=d,d=(u=f[n[c]]).left===l?u.right:u.left,o&&d&&e<o.index&&e<d.index&&(a=o,s=d,((r=l)[0]-s[0])*(a[1]-r[1])-(r[0]-a[0])*(s[1]-r[1])<0)&&h.push([l.data,o.data,d.data])}),h},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(a,s,t){for(var e,l,c=this,u=c._found||0,n=c.cells.length;!(l=c.cells[u]);)if(++u>=n)return null;for(var i=a-l.site[0],o=s-l.site[1],d=i*i+o*o;l=c.cells[e=u],u=null,l.halfedges.forEach(function(t){var e=c.edges[t],n=e.left;if(n!==l.site&&n||(n=e.right)){var i=a-n[0],o=s-n[1],r=i*i+o*o;r<d&&(d=r,u=n.index)}}),null!==u;);return c._found=e,null==t||d<=t*t?l.site:null}},Hy.prototype={constructor:Hy,scale:function(t){return 1===t?this:new Hy(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Hy(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zy=new Hy(1,0,0);function jy(t){return t.__zoom||zy}function Vy(){$.event.stopImmediatePropagation()}function Wy(){$.event.preventDefault(),$.event.stopImmediatePropagation()}function qy(){return!$.event.button}function Gy(){var t,e,n=this;return e=n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,n.height.baseVal.value):(t=n.clientWidth,n.clientHeight),[[0,0],[t,e]]}function Uy(){return this.__zoom||zy}function Yy(){return-$.event.deltaY*($.event.deltaMode?120:1)/500}function Xy(){return"ontouchstart"in this}function Zy(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],r=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i<o?(i+o)/2:Math.min(0,i)||Math.max(0,o),r<a?(r+a)/2:Math.min(0,r)||Math.max(0,a))}jy.prototype=Hy.prototype,$.version="5.8.2",$.bisect=g,$.bisectRight=g,$.bisectLeft=e,$.ascending=s,$.bisector=C,$.cross=function(t,e,n){var i,o,r,a,s=t.length,l=e.length,c=new Array(s*l);for(null==n&&(n=u),i=r=0;i<s;++i)for(a=t[i],o=0;o<l;++o,++r)c[r]=n(a,e[o]);return c},$.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},$.deviation=o,$.extent=l,$.histogram=function(){var h=m,f=l,p=b;function e(t){var e,n,i=t.length,o=new Array(i);for(e=0;e<i;++e)o[e]=h(t[e],e,t);var r=f(o),a=r[0],s=r[1],l=p(o,a,s);Array.isArray(l)||(l=D(a,s,l),l=x(Math.ceil(a/l)*l,s,l));for(var c=l.length;l[0]<=a;)l.shift(),--c;for(;l[c-1]>s;)l.pop(),--c;var u,d=new Array(c+1);for(e=0;e<=c;++e)(u=d[e]=[]).x0=0<e?l[e-1]:a,u.x1=e<c?l[e]:s;for(e=0;e<i;++e)a<=(n=o[e])&&n<=s&&d[g(l,n,0,c)].push(t[e]);return d}return e.value=function(t){return arguments.length?(h="function"==typeof t?t:d(t),e):h},e.domain=function(t){return arguments.length?(f="function"==typeof t?t:d([t[0],t[1]]),e):f},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?d(r.call(t)):d(t),e):p},e},$.thresholdFreedmanDiaconis=function(t,e,n){return t=a.call(t,c).sort(s),Math.ceil((n-e)/(2*(_(t,.75)-_(t,.25))*Math.pow(t.length,-1/3)))},$.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*o(t)*Math.pow(t.length,-1/3)))},$.thresholdSturges=b,$.max=E,$.mean=function(t,e){var n,i=t.length,o=i,r=-1,a=0;if(null==e)for(;++r<i;)isNaN(n=c(t[r]))?--o:a+=n;else for(;++r<i;)isNaN(n=c(e(t[r],r,t)))?--o:a+=n;if(o)return a/o},$.median=function(t,e){var n,i=t.length,o=-1,r=[];if(null==e)for(;++o<i;)isNaN(n=c(t[o]))||r.push(n);else for(;++o<i;)isNaN(n=c(e(t[o],o,t)))||r.push(n);return _(r.sort(s),.5)},$.merge=O,$.min=w,$.pairs=function(t,e){null==e&&(e=u);for(var n=0,i=t.length-1,o=t[0],r=new Array(i<0?0:i);n<i;)r[n]=e(o,o=t[++n]);return r},$.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},$.quantile=_,$.range=x,$.scan=function(t,e){if(n=t.length){var n,i,o=0,r=0,a=t[r];for(null==e&&(e=s);++o<n;)(e(i=t[o],a)<0||0!==e(a,a))&&(a=i,r=o);return 0===e(a,a)?r:void 0}},$.shuffle=function(t,e,n){for(var i,o,r=(null==n?t.length:n)-(e=null==e?0:+e);r;)o=Math.random()*r--|0,i=t[r+e],t[r+e]=t[o+e],t[o+e]=i;return t},$.sum=function(t,e){var n,i=t.length,o=-1,r=0;if(null==e)for(;++o<i;)(n=+t[o])&&(r+=n);else for(;++o<i;)(n=+e(t[o],o,t))&&(r+=n);return r},$.ticks=v,$.tickIncrement=y,$.tickStep=D,$.transpose=T,$.variance=i,$.zip=function(){return T(arguments)},$.axisTop=function(t){return N(1,t)},$.axisRight=function(t){return N(2,t)},$.axisBottom=function(t){return N(3,t)},$.axisLeft=function(t){return N(4,t)},$.brush=function(){return co(Qi)},$.brushX=function(){return co(Xi)},$.brushY=function(){return co(Zi)},$.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},$.chord=function(){var E=0,w=null,T=null,C=null;function e(i){var t,e,n,o,r,a,s=i.length,l=[],c=x(s),u=[],d=[],h=d.groups=new Array(s),f=new Array(s*s);for(t=0,r=-1;++r<s;){for(e=0,a=-1;++a<s;)e+=i[r][a];l.push(e),u.push(x(s)),t+=e}for(w&&c.sort(function(t,e){return w(l[t],l[e])}),T&&u.forEach(function(t,n){t.sort(function(t,e){return T(i[n][t],i[n][e])})}),o=(t=mo(0,go-E*s)/t)?E:go/s,e=0,r=-1;++r<s;){for(n=e,a=-1;++a<s;){var p=c[r],g=u[p][a],m=i[p][g],v=e,y=e+=m*t;f[g*s+p]={index:p,subindex:g,startAngle:v,endAngle:y,value:m}}h[p]={index:p,startAngle:n,endAngle:e,value:l[p]},e+=o}for(r=-1;++r<s;)for(a=r-1;++a<s;){var b=f[a*s+r],_=f[r*s+a];(b.value||_.value)&&d.push(b.value<_.value?{source:_,target:b}:{source:b,target:_})}return C?d.sort(C):d}return e.padAngle=function(t){return arguments.length?(E=mo(0,t),e):E},e.sortGroups=function(t){return arguments.length?(w=t,e):w},e.sortSubgroups=function(t){return arguments.length?(T=t,e):T},e.sortChords=function(t){return arguments.length?(null==t?C=null:(n=t,C=function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)})._=t,e):C&&C._;var n},e},$.ribbon=function(){var h=Co,f=xo,p=Do,g=Oo,m=Io,v=null;function e(){var t,e=vo.call(arguments),n=h.apply(this,e),i=f.apply(this,e),o=+p.apply(this,(e[0]=n,e)),r=g.apply(this,e)-po,a=m.apply(this,e)-po,s=o*uo(r),l=o*ho(r),c=+p.apply(this,(e[0]=i,e)),u=g.apply(this,e)-po,d=m.apply(this,e)-po;if((v=v||(t=To())).moveTo(s,l),v.arc(0,0,o,r,a),r==u&&a==d||(v.quadraticCurveTo(0,0,c*uo(u),c*ho(u)),v.arc(0,0,c,u,d)),v.quadraticCurveTo(0,0,s,l),v.closePath(),t)return v=null,t+""||null}return e.radius=function(t){return arguments.length?(p="function"==typeof t?t:yo(+t),e):p},e.startAngle=function(t){return arguments.length?(g="function"==typeof t?t:yo(+t),e):g},e.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:yo(+t),e):m},e.source=function(t){return arguments.length?(h=t,e):h},e.target=function(t){return arguments.length?(f=t,e):f},e.context=function(t){return arguments.length?(v=null==t?null:t,e):v},e},$.nest=function(){var h,f,e,p=[],a=[];function g(t,n,i,o){if(n>=p.length)return null!=h&&t.sort(h),null!=f?f(t):t;for(var e,r,a,s=-1,l=t.length,c=p[n++],u=So(),d=i();++s<l;)(a=u.get(e=c(r=t[s])+""))?a.push(r):u.set(e,[r]);return u.each(function(t,e){o(d,e,g(t,n,i,o))}),d}return e={object:function(t){return g(t,0,Ro,Ao)},map:function(t){return g(t,0,Mo,No)},entries:function(t){return function n(t,i){if(++i>p.length)return t;var o,r=a[i-1];return null!=f&&i>=p.length?o=t.entries():(o=[],t.each(function(t,e){o.push({key:e,values:n(t,i)})})),null!=r?o.sort(function(t,e){return r(t.key,e.key)}):o}(g(t,0,Mo,No),0)},key:function(t){return p.push(t),e},sortKeys:function(t){return a[p.length-1]=t,e},sortValues:function(t){return h=t,e},rollup:function(t){return f=t,e}}},$.set=Lo,$.map=So,$.keys=function(t){var e=[];for(var n in t)e.push(n);return e},$.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},$.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},$.color=re,$.rgb=ce,$.hsl=fe,$.lab=xe,$.hcl=Ae,$.lch=function(t,e,n,i){return 1===arguments.length?Re(t):new Me(n,e,t,null==i?1:i)},$.gray=function(t,e){return new De(t,0,0,null==e?1:e)},$.cubehelix=$e,$.contours=Wo,$.contourDensity=function(){var s=Uo,l=Yo,c=Xo,i=960,o=500,r=20,u=2,d=3*r,h=i+2*d>>u,f=o+2*d>>u,p=$o(20);function e(t){var a=new Float32Array(h*f),e=new Float32Array(h*f);t.forEach(function(t,e,n){var i=+s(t,e,n)+d>>u,o=+l(t,e,n)+d>>u,r=+c(t,e,n);0<=i&&i<h&&0<=o&&o<f&&(a[i+o*h]+=r)}),qo({width:h,height:f,data:a},{width:h,height:f,data:e},r>>u),Go({width:h,height:f,data:e},{width:h,height:f,data:a},r>>u),qo({width:h,height:f,data:a},{width:h,height:f,data:e},r>>u),Go({width:h,height:f,data:e},{width:h,height:f,data:a},r>>u),qo({width:h,height:f,data:a},{width:h,height:f,data:e},r>>u),Go({width:h,height:f,data:e},{width:h,height:f,data:a},r>>u);var n=p(a);if(!Array.isArray(n)){var i=E(a);n=D(0,i,n),(n=x(0,Math.floor(i/n)*n,n)).shift()}return Wo().thresholds(n).size([h,f])(a).map(g)}function g(t){return t.value*=Math.pow(2,-2*u),t.coordinates.forEach(n),t}function n(t){t.forEach(a)}function a(t){t.forEach(m)}function m(t){t[0]=t[0]*Math.pow(2,u)-d,t[1]=t[1]*Math.pow(2,u)-d}function v(){return h=i+2*(d=3*r)>>u,f=o+2*d>>u,e}return e.x=function(t){return arguments.length?(s="function"==typeof t?t:$o(+t),e):s},e.y=function(t){return arguments.length?(l="function"==typeof t?t:$o(+t),e):l},e.weight=function(t){return arguments.length?(c="function"==typeof t?t:$o(+t),e):c},e.size=function(t){if(!arguments.length)return[i,o];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(0<=e||0<=e))throw new Error("invalid size");return i=e,o=n,v()},e.cellSize=function(t){if(!arguments.length)return 1<<u;if(!(1<=(t=+t)))throw new Error("invalid cell size");return u=Math.floor(Math.log(t)/Math.LN2),v()},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?$o(Fo.call(t)):$o(t),e):p},e.bandwidth=function(t){if(!arguments.length)return Math.sqrt(r*(r+1));if(!(0<=(t=+t)))throw new Error("invalid bandwidth");return r=Math.round((Math.sqrt(4*t*t+1)-1)/2),v()},e},$.dispatch=H,$.drag=function(){var n,i,o,r,a=$t,s=Ht,e=zt,l=jt,p={},g=H("start","drag","end"),m=0,c=0;function v(t){t.on("mousedown.drag",u).filter(l).on("touchstart.drag",f).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(){if(!r&&a.apply(this,arguments)){var t=_("mouse",s.apply(this,arguments),At,this,arguments);t&&(Dt($.event.view).on("mousemove.drag",d,!0).on("mouseup.drag",h,!0),Pt($.event.view),Nt(),o=!1,n=$.event.clientX,i=$.event.clientY,t("start"))}}function d(){if(Kt(),!o){var t=$.event.clientX-n,e=$.event.clientY-i;o=c<t*t+e*e}p.mouse("drag")}function h(){Dt($.event.view).on("mousemove.drag mouseup.drag",null),Lt($.event.view,o),Kt(),p.mouse("end")}function f(){if(a.apply(this,arguments)){var t,e,n=$.event.changedTouches,i=s.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=_(n[t].identifier,i,Mt,this,arguments))&&(Nt(),e("start"))}}function y(){var t,e,n=$.event.changedTouches,i=n.length;for(t=0;t<i;++t)(e=p[n[t].identifier])&&(Kt(),e("drag"))}function b(){var t,e,n=$.event.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<i;++t)(e=p[n[t].identifier])&&(Nt(),e("end"))}function _(o,r,a,s,l){var c,u,d,h=a(r,o),f=g.copy();if(Et(new Bt(v,"beforestart",c,o,m,h[0],h[1],0,0,f),function(){return null!=($.event.subject=c=e.apply(s,l))&&(u=c.x-h[0]||0,d=c.y-h[1]||0,!0)}))return function t(e){var n,i=h;switch(e){case"start":p[o]=t,n=m++;break;case"end":delete p[o],--m;case"drag":h=a(r,o),n=m}Et(new Bt(v,e,c,o,n,h[0]+u,h[1]+d,h[0]-i[0],h[1]-i[1],f),f.apply,f,[e,s,l])}}return v.filter=function(t){return arguments.length?(a="function"==typeof t?t:Ft(!!t),v):a},v.container=function(t){return arguments.length?(s="function"==typeof t?t:Ft(t),v):s},v.subject=function(t){return arguments.length?(e="function"==typeof t?t:Ft(t),v):e},v.touchable=function(t){return arguments.length?(l="function"==typeof t?t:Ft(!!t),v):l},v.on=function(){var t=g.on.apply(g,arguments);return t===g?v:t},v.clickDistance=function(t){return arguments.length?(c=(t=+t)*t,v):Math.sqrt(c)},v},$.dragDisable=Pt,$.dragEnable=Lt,$.dsvFormat=tr,$.csvParse=nr,$.csvParseRows=ir,$.csvFormat=or,$.csvFormatRows=rr,$.tsvParse=sr,$.tsvParseRows=lr,$.tsvFormat=cr,$.tsvFormatRows=ur,$.easeLinear=function(t){return+t},$.easeQuad=_i,$.easeQuadIn=function(t){return t*t},$.easeQuadOut=function(t){return t*(2-t)},$.easeQuadInOut=_i,$.easeCubic=Ei,$.easeCubicIn=function(t){return t*t*t},$.easeCubicOut=function(t){return--t*t*t+1},$.easeCubicInOut=Ei,$.easePoly=Ci,$.easePolyIn=wi,$.easePolyOut=Ti,$.easePolyInOut=Ci,$.easeSin=Oi,$.easeSinIn=function(t){return 1-Math.cos(t*Di)},$.easeSinOut=function(t){return Math.sin(t*Di)},$.easeSinInOut=Oi,$.easeExp=Ii,$.easeExpIn=function(t){return Math.pow(2,10*t-10)},$.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},$.easeExpInOut=Ii,$.easeCircle=ki,$.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},$.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},$.easeCircleInOut=ki,$.easeBounce=Ri,$.easeBounceIn=function(t){return 1-Ri(1-t)},$.easeBounceOut=Ri,$.easeBounceInOut=function(t){return((t*=2)<=1?1-Ri(1-t):Ri(t-1)+1)/2},$.easeBack=Ni,$.easeBackIn=Ai,$.easeBackOut=Mi,$.easeBackInOut=Ni,$.easeElastic=Li,$.easeElasticIn=Pi,$.easeElasticOut=Li,$.easeElasticInOut=Fi,$.blob=function(t,e){return fetch(t,e).then(dr)},$.buffer=function(t,e){return fetch(t,e).then(hr)},$.dsv=function(t,e,n,i){3===arguments.length&&"function"==typeof n&&(i=n,n=void 0);var o=tr(t);return pr(e,n).then(function(t){return o.parse(t,i)})},$.csv=mr,$.tsv=vr,$.image=function(o,r){return new Promise(function(t,e){var n=new Image;for(var i in r)n[i]=r[i];n.onerror=e,n.onload=function(){t(n)},n.src=o})},$.json=function(t,e){return fetch(t,e).then(yr)},$.text=pr,$.xml=_r,$.html=Er,$.svg=wr,$.forceCenter=function(r,a){var s;function e(){var t,e,n=s.length,i=0,o=0;for(t=0;t<n;++t)i+=(e=s[t]).x,o+=e.y;for(i=i/n-r,o=o/n-a,t=0;t<n;++t)(e=s[t]).x-=i,e.y-=o}return null==r&&(r=0),null==a&&(a=0),e.initialize=function(t){s=t},e.x=function(t){return arguments.length?(r=+t,e):r},e.y=function(t){return arguments.length?(a=+t,e):a},e},$.forceCollide=function(i){var r,a,m=1,s=1;function e(){for(var t,e,d,h,f,p,g,n=r.length,i=0;i<s;++i)for(e=kr(r,Mr,Nr).visitAfter(l),t=0;t<n;++t)d=r[t],p=a[d.index],g=p*p,h=d.x+d.vx,f=d.y+d.vy,e.visit(o);function o(t,e,n,i,o){var r=t.data,a=t.r,s=p+a;if(!r)return h+s<e||i<h-s||f+s<n||o<f-s;if(r.index>d.index){var l=h-r.x-r.vx,c=f-r.y-r.vy,u=l*l+c*c;u<s*s&&(0===l&&(u+=(l=Cr())*l),0===c&&(u+=(c=Cr())*c),u=(s-(u=Math.sqrt(u)))/u*m,d.vx+=(l*=u)*(s=(a*=a)/(g+a)),d.vy+=(c*=u)*s,r.vx-=l*(s=1-s),r.vy-=c*s)}}}function l(t){if(t.data)return t.r=a[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function n(){if(r){var t,e,n=r.length;for(a=new Array(n),t=0;t<n;++t)e=r[t],a[e.index]=+i(e,t,r)}}return"function"!=typeof i&&(i=Tr(null==i?1:+i)),e.initialize=function(t){r=t,n()},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(m=+t,e):m},e.radius=function(t){return arguments.length?(i="function"==typeof t?t:Tr(+t),n(),e):i},e},$.forceLink=function(d){var h,f,r,a,p,s=Kr,n=function(t){return 1/Math.min(a[t.source.index],a[t.target.index])},i=Tr(30),g=1;function e(t){for(var e=0,n=d.length;e<g;++e)for(var i,o,r,a,s,l,c,u=0;u<n;++u)o=(i=d[u]).source,a=(r=i.target).x+r.vx-o.x-o.vx||Cr(),s=r.y+r.vy-o.y-o.vy||Cr(),a*=l=((l=Math.sqrt(a*a+s*s))-f[u])/l*t*h[u],s*=l,r.vx-=a*(c=p[u]),r.vy-=s*c,o.vx+=a*(c=1-c),o.vy+=s*c}function o(){if(r){var t,e,n=r.length,i=d.length,o=So(r,s);for(t=0,a=new Array(n);t<i;++t)(e=d[t]).index=t,"object"!=typeof e.source&&(e.source=Pr(o,e.source)),"object"!=typeof e.target&&(e.target=Pr(o,e.target)),a[e.source.index]=(a[e.source.index]||0)+1,a[e.target.index]=(a[e.target.index]||0)+1;for(t=0,p=new Array(i);t<i;++t)e=d[t],p[t]=a[e.source.index]/(a[e.source.index]+a[e.target.index]);h=new Array(i),l(),f=new Array(i),c()}}function l(){if(r)for(var t=0,e=d.length;t<e;++t)h[t]=+n(d[t],t,d)}function c(){if(r)for(var t=0,e=d.length;t<e;++t)f[t]=+i(d[t],t,d)}return null==d&&(d=[]),e.initialize=function(t){r=t,o()},e.links=function(t){return arguments.length?(d=t,o(),e):d},e.id=function(t){return arguments.length?(s=t,e):s},e.iterations=function(t){return arguments.length?(g=+t,e):g},e.strength=function(t){return arguments.length?(n="function"==typeof t?t:Tr(+t),l(),e):n},e.distance=function(t){return arguments.length?(i="function"==typeof t?t:Tr(+t),c(),e):i},e},$.forceManyBody=function(){var o,l,c,u,i=Tr(-30),d=1,h=1/0,f=.81;function e(t){var e,n=o.length,i=kr(o,Lr,Fr).visitAfter(r);for(c=t,e=0;e<n;++e)l=o[e],i.visit(a)}function n(){if(o){var t,e,n=o.length;for(u=new Array(n),t=0;t<n;++t)e=o[t],u[e.index]=+i(e,t,o)}}function r(t){var e,n,i,o,r,a=0,s=0;if(t.length){for(i=o=r=0;r<4;++r)(e=t[r])&&(n=Math.abs(e.value))&&(a+=e.value,s+=n,i+=n*e.x,o+=n*e.y);t.x=i/s,t.y=o/s}else for((e=t).x=e.data.x,e.y=e.data.y;a+=u[e.data.index],e=e.next;);t.value=a}function a(t,e,n,i){if(!t.value)return!0;var o=t.x-l.x,r=t.y-l.y,a=i-e,s=o*o+r*r;if(a*a/f<s)return s<h&&(0===o&&(s+=(o=Cr())*o),0===r&&(s+=(r=Cr())*r),s<d&&(s=Math.sqrt(d*s)),l.vx+=o*t.value*c/s,l.vy+=r*t.value*c/s),!0;if(!(t.length||h<=s))for(t.data===l&&!t.next||(0===o&&(s+=(o=Cr())*o),0===r&&(s+=(r=Cr())*r),s<d&&(s=Math.sqrt(d*s)));t.data!==l&&(a=u[t.data.index]*c/s,l.vx+=o*a,l.vy+=r*a),t=t.next;);}return e.initialize=function(t){o=t,n()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:Tr(+t),n(),e):i},e.distanceMin=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)},e.distanceMax=function(t){return arguments.length?(h=t*t,e):Math.sqrt(h)},e.theta=function(t){return arguments.length?(f=t*t,e):Math.sqrt(f)},e},$.forceRadial=function(n,l,c){var u,d,h,i=Tr(.1);function e(t){for(var e=0,n=u.length;e<n;++e){var i=u[e],o=i.x-l||1e-6,r=i.y-c||1e-6,a=Math.sqrt(o*o+r*r),s=(h[e]-a)*d[e]*t/a;i.vx+=o*s,i.vy+=r*s}}function o(){if(u){var t,e=u.length;for(d=new Array(e),h=new Array(e),t=0;t<e;++t)h[t]=+n(u[t],t,u),d[t]=isNaN(h[t])?0:+i(u[t],t,u)}}return"function"!=typeof n&&(n=Tr(+n)),null==l&&(l=0),null==c&&(c=0),e.initialize=function(t){u=t,o()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:Tr(+t),o(),e):i},e.radius=function(t){return arguments.length?(n="function"==typeof t?t:Tr(+t),o(),e):n},e.x=function(t){return arguments.length?(l=+t,e):l},e.y=function(t){return arguments.length?(c=+t,e):c},e},$.forceSimulation=function(u){var r,a=1,e=.001,s=1-Math.pow(e,1/300),l=0,c=.6,d=So(),t=Wn(i),n=H("tick","end");function i(){o(),n.call("tick",r),a<e&&(t.stop(),n.call("end",r))}function o(t){var e,n,i=u.length;void 0===t&&(t=1);for(var o=0;o<t;++o)for(a+=(l-a)*s,d.each(function(t){t(a)}),e=0;e<i;++e)null==(n=u[e]).fx?n.x+=n.vx*=c:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=c:(n.y=n.fy,n.vy=0);return r}function h(){for(var t,e=0,n=u.length;e<n;++e){if((t=u[e]).index=e,isNaN(t.fx)||(t.x=t.fx),isNaN(t.fy)||(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(e),o=e*Br;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function f(t){return t.initialize&&t.initialize(u),t}return null==u&&(u=[]),h(),r={tick:o,restart:function(){return t.restart(i),r},stop:function(){return t.stop(),r},nodes:function(t){return arguments.length?(u=t,h(),d.each(f),r):u},alpha:function(t){return arguments.length?(a=+t,r):a},alphaMin:function(t){return arguments.length?(e=+t,r):e},alphaDecay:function(t){return arguments.length?(s=+t,r):+s},alphaTarget:function(t){return arguments.length?(l=+t,r):l},velocityDecay:function(t){return arguments.length?(c=1-t,r):1-c},force:function(t,e){return 1<arguments.length?(null==e?d.remove(t):d.set(t,f(e)),r):d.get(t)},find:function(t,e,n){var i,o,r,a,s,l=0,c=u.length;for(null==n?n=1/0:n*=n,l=0;l<c;++l)(r=(i=t-(a=u[l]).x)*i+(o=e-a.y)*o)<n&&(s=a,n=r);return s},on:function(t,e){return 1<arguments.length?(n.on(t,e),r):n.on(t)}}},$.forceX=function(n){var o,r,a,i=Tr(.1);function e(t){for(var e,n=0,i=o.length;n<i;++n)(e=o[n]).vx+=(a[n]-e.x)*r[n]*t}function s(){if(o){var t,e=o.length;for(r=new Array(e),a=new Array(e),t=0;t<e;++t)r[t]=isNaN(a[t]=+n(o[t],t,o))?0:+i(o[t],t,o)}}return"function"!=typeof n&&(n=Tr(null==n?0:+n)),e.initialize=function(t){o=t,s()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:Tr(+t),s(),e):i},e.x=function(t){return arguments.length?(n="function"==typeof t?t:Tr(+t),s(),e):n},e},$.forceY=function(n){var o,r,a,i=Tr(.1);function e(t){for(var e,n=0,i=o.length;n<i;++n)(e=o[n]).vy+=(a[n]-e.y)*r[n]*t}function s(){if(o){var t,e=o.length;for(r=new Array(e),a=new Array(e),t=0;t<e;++t)r[t]=isNaN(a[t]=+n(o[t],t,o))?0:+i(o[t],t,o)}}return"function"!=typeof n&&(n=Tr(null==n?0:+n)),e.initialize=function(t){o=t,s()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:Tr(+t),s(),e):i},e.y=function(t){return arguments.length?(n="function"==typeof t?t:Tr(+t),s(),e):n},e},$.formatDefaultLocale=Qr,$.formatLocale=Zr,$.formatSpecifier=Vr,$.precisionFixed=Jr,$.precisionPrefix=ta,$.precisionRound=ea,$.geoArea=function(t){return Ha.reset(),Na(t,za),2*Ha},$.geoBounds=function(t){var e,n,i,o,r,a,s;if(is=ns=-(ts=es=1/0),ls=[],Na(t,Os),n=ls.length){for(ls.sort(Ps),e=1,r=[i=ls[0]];e<n;++e)Ls(i,(o=ls[e])[0])||Ls(i,o[1])?(Ks(i[0],o[1])>Ks(i[0],i[1])&&(i[1]=o[1]),Ks(o[0],i[1])>Ks(i[0],i[1])&&(i[0]=o[0])):r.push(i=o);for(a=-1/0,e=0,i=r[n=r.length-1];e<=n;i=o,++e)o=r[e],(s=Ks(i[1],o[0]))>a&&(a=s,ts=o[0],ns=i[1])}return ls=cs=null,ts===1/0||es===1/0?[[NaN,NaN],[NaN,NaN]]:[[ts,es],[ns,is]]},$.geoCentroid=function(t){us=ds=hs=fs=ps=gs=ms=vs=ys=bs=_s=0,Na(t,Fs);var e=ys,n=bs,i=_s,o=e*e+n*n+i*i;return o<1e-12&&(e=gs,n=ms,i=vs,ds<aa&&(e=hs,n=fs,i=ps),(o=e*e+n*n+i*i)<1e-12)?[NaN,NaN]:[ga(n,e)*da,Da(i/Ta(o))*da]},$.geoCircle=function(){var i,o,r=Ys([0,0]),a=Ys(90),s=Ys(6),l={point:function(t,e){i.push(t=o(t,e)),t[0]*=da,t[1]*=da}};function e(){var t=r.apply(this,arguments),e=a.apply(this,arguments)*ha,n=s.apply(this,arguments)*ha;return i=[],o=Qs(-t[0]*ha,-t[1]*ha,0).invert,il(l,e,n,1),t={type:"Polygon",coordinates:[i]},i=o=null,t}return e.center=function(t){return arguments.length?(r="function"==typeof t?t:Ys([+t[0],+t[1]]),e):r},e.radius=function(t){return arguments.length?(a="function"==typeof t?t:Ys(+t),e):a},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:Ys(+t),e):s},e},$.geoClipAntimeridian=gl,$.geoClipCircle=ml,$.geoClipExtent=function(){var e,n,i,o=0,r=0,a=960,s=500;return i={stream:function(t){return e&&n===t?e:e=bl(o,r,a,s)(n=t)},extent:function(t){return arguments.length?(o=+t[0][0],r=+t[0][1],a=+t[1][0],s=+t[1][1],e=n=null,i):[[o,r],[a,s]]}}},$.geoClipRectangle=bl,$.geoContains=function(t,e){return(t&&Al.hasOwnProperty(t.type)?Al[t.type]:Nl)(t,e)},$.geoDistance=Rl,$.geoGraticule=zl,$.geoGraticule10=function(){return zl()()},$.geoInterpolate=function(t,e){var n=t[0]*ha,i=t[1]*ha,o=e[0]*ha,r=e[1]*ha,a=ma(i),s=Ea(i),l=ma(r),c=Ea(r),u=a*ma(n),d=a*Ea(n),h=l*ma(o),f=l*Ea(o),p=2*Da(Ta(Oa(r-i)+a*l*Oa(o-n))),g=Ea(p),m=p?function(t){var e=Ea(t*=p)/g,n=Ea(p-t)/g,i=n*u+e*h,o=n*d+e*f,r=n*s+e*c;return[ga(o,i)*da,ga(r,Ta(i*i+o*o))*da]}:function(){return[n*da,i*da]};return m.distance=p,m},$.geoLength=Il,$.geoPath=function(e,n){var i,o,r=4.5;function a(t){return t&&("function"==typeof r&&o.pointRadius(+r.apply(this,arguments)),Na(t,i(o))),o.result()}return a.area=function(t){return Na(t,i(Xl)),Xl.result()},a.measure=function(t){return Na(t,i(Pc)),Pc.result()},a.bounds=function(t){return Na(t,i(cc)),cc.result()},a.centroid=function(t){return Na(t,i(bc)),bc.result()},a.projection=function(t){return arguments.length?(i=null==t?(e=null,jl):(e=t).stream,a):e},a.context=function(t){return arguments.length?(o=null==t?(n=null,new Bc):new kc(n=t),"function"!=typeof r&&o.pointRadius(r),a):n},a.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(o.pointRadius(+t),+t),a):r},a.projection(e).context(n)},$.geoAlbers=ou,$.geoAlbersUsa=function(){var e,n,o,r,a,i,s=ou(),l=iu().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=iu().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,e){i=[t,e]}};function d(t){var e=t[0],n=t[1];return i=null,o.point(e,n),i||(r.point(e,n),i)||(a.point(e,n),i)}function h(){return e=n=null,d}return d.invert=function(t){var e=s.scale(),n=s.translate(),i=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(.12<=o&&o<.234&&-.425<=i&&i<-.214?l:.166<=o&&o<.234&&-.214<=i&&i<-.115?c:s).invert(t)},d.stream=function(t){return e&&n===t?e:(i=[s.stream(n=t),l.stream(t),c.stream(t)],o=i.length,e={point:function(t,e){for(var n=-1;++n<o;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<o;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<o;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<o;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<o;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<o;)i[t].polygonEnd()}});var i,o},d.precision=function(t){return arguments.length?(s.precision(t),l.precision(t),c.precision(t),h()):s.precision()},d.scale=function(t){return arguments.length?(s.scale(t),l.scale(.35*t),c.scale(t),d.translate(s.translate())):s.scale()},d.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],i=+t[1];return o=s.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(u),r=l.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+aa,i+.12*e+aa],[n-.214*e-aa,i+.234*e-aa]]).stream(u),a=c.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+aa,i+.166*e+aa],[n-.115*e-aa,i+.234*e-aa]]).stream(u),h()},d.fitExtent=function(t,e){return Vc(d,t,e)},d.fitSize=function(t,e){return Wc(d,t,e)},d.fitWidth=function(t,e){return qc(d,t,e)},d.fitHeight=function(t,e){return Gc(d,t,e)},d.scale(1070)},$.geoAzimuthalEqualArea=function(){return Jc(su).scale(124.75).clipAngle(179.999)},$.geoAzimuthalEqualAreaRaw=su,$.geoAzimuthalEquidistant=function(){return Jc(lu).scale(79.4188).clipAngle(179.999)},$.geoAzimuthalEquidistantRaw=lu,$.geoConicConformal=function(){return eu(hu).scale(109.5).parallels([30,30])},$.geoConicConformalRaw=hu,$.geoConicEqualArea=iu,$.geoConicEqualAreaRaw=nu,$.geoConicEquidistant=function(){return eu(pu).scale(131.154).center([0,13.9389])},$.geoConicEquidistantRaw=pu,$.geoEqualEarth=function(){return Jc(_u).scale(177.158)},$.geoEqualEarthRaw=_u,$.geoEquirectangular=function(){return Jc(fu).scale(152.63)},$.geoEquirectangularRaw=fu,$.geoGnomonic=function(){return Jc(Eu).scale(144.049).clipAngle(60)},$.geoGnomonicRaw=Eu,$.geoIdentity=function(){var e,n,i,o,r,a,s=1,l=0,c=0,u=1,d=1,h=jl,f=null,p=jl;function g(){return o=r=null,a}return a={stream:function(t){return o&&r===t?o:o=h(p(r=t))},postclip:function(t){return arguments.length?(p=t,f=e=n=i=null,g()):p},clipExtent:function(t){return arguments.length?(p=null==t?(f=e=n=i=null,jl):bl(f=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),g()):null==f?null:[[f,e],[n,i]]},scale:function(t){return arguments.length?(h=wu((s=+t)*u,s*d,l,c),g()):s},translate:function(t){return arguments.length?(h=wu(s*u,s*d,l=+t[0],c=+t[1]),g()):[l,c]},reflectX:function(t){return arguments.length?(h=wu(s*(u=t?-1:1),s*d,l,c),g()):u<0},reflectY:function(t){return arguments.length?(h=wu(s*u,s*(d=t?-1:1),l,c),g()):d<0},fitExtent:function(t,e){return Vc(a,t,e)},fitSize:function(t,e){return Wc(a,t,e)},fitWidth:function(t,e){return qc(a,t,e)},fitHeight:function(t,e){return Gc(a,t,e)}}},$.geoProjection=Jc,$.geoProjectionMutator=tu,$.geoMercator=function(){return uu(cu).scale(961/ua)},$.geoMercatorRaw=cu,$.geoNaturalEarth1=function(){return Jc(Tu).scale(175.295)},$.geoNaturalEarth1Raw=Tu,$.geoOrthographic=function(){return Jc(Cu).scale(249.5).clipAngle(90+aa)},$.geoOrthographicRaw=Cu,$.geoStereographic=function(){return Jc(xu).scale(250).clipAngle(142)},$.geoStereographicRaw=xu,$.geoTransverseMercator=function(){var t=uu(Du),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},$.geoTransverseMercatorRaw=Du,$.geoRotation=nl,$.geoStream=Na,$.geoTransform=function(t){return{stream:Hc(t)}},$.cluster=function(){var s=Ou,l=1,c=1,u=!1;function e(e){var i,o=0;e.eachAfter(function(t){var e,n=t.children;n?(t.x=(e=n).reduce(Iu,0)/e.length,t.y=1+n.reduce(ku,0)):(t.x=i?o+=s(t,i):0,t.y=0,i=t)});var t=function(t){for(var e;e=t.children;)t=e[0];return t}(e),n=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),r=t.x-s(t,n)/2,a=n.x+s(n,t)/2;return e.eachAfter(u?function(t){t.x=(t.x-e.x)*l,t.y=(e.y-t.y)*c}:function(t){t.x=(t.x-r)/(a-r)*l,t.y=(1-(e.y?t.y/e.y:1))*c})}return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(u=!1,l=+t[0],c=+t[1],e):u?null:[l,c]},e.nodeSize=function(t){return arguments.length?(u=!0,l=+t[0],c=+t[1],e):u?[l,c]:null},e},$.hierarchy=Ru,$.pack=function(){var n=null,e=1,i=1,o=Zu;function r(t){return t.x=e/2,t.y=i/2,n?t.eachBefore(td(n)).eachAfter(ed(o,.5)).eachBefore(nd(1)):t.eachBefore(td(Ju)).eachAfter(ed(Zu,1)).eachAfter(ed(o,t.r/Math.min(e,i))).eachBefore(nd(Math.min(e,i)/(2*t.r))),t}return r.radius=function(t){return arguments.length?(n=null==(e=t)?null:Xu(e),r):n;var e},r.size=function(t){return arguments.length?(e=+t[0],i=+t[1],r):[e,i]},r.padding=function(t){return arguments.length?(o="function"==typeof t?t:Qu(+t),r):o},r},$.packSiblings=function(t){return Yu(t),t},$.packEnclose=Lu,$.partition=function(){var n=1,i=1,s=0,o=!1;function e(t){var r,a,e=t.height+1;return t.x0=t.y0=s,t.x1=n,t.y1=i/e,t.eachBefore((r=i,a=e,function(t){t.children&&od(t,t.x0,r*(t.depth+1)/a,t.x1,r*(t.depth+2)/a);var e=t.x0,n=t.y0,i=t.x1-s,o=t.y1-s;i<e&&(e=i=(e+i)/2),o<n&&(n=o=(n+o)/2),t.x0=e,t.y0=n,t.x1=i,t.y1=o})),o&&t.eachBefore(id),t}return e.round=function(t){return arguments.length?(o=!!t,e):o},e.size=function(t){return arguments.length?(n=+t[0],i=+t[1],e):[n,i]},e.padding=function(t){return arguments.length?(s=+t,e):s},e},$.stratify=function(){var d=sd,h=ld;function e(t){var e,n,i,o,r,a,s,l=t.length,c=new Array(l),u={};for(n=0;n<l;++n)e=t[n],r=c[n]=new Ku(e),null!=(a=d(e,n,t))&&(a+="")&&(u[s="$"+(r.id=a)]=s in u?ad:r);for(n=0;n<l;++n)if(r=c[n],null!=(a=h(t[n],n,t))&&(a+="")){if(!(o=u["$"+a]))throw new Error("missing: "+a);if(o===ad)throw new Error("ambiguous: "+a);o.children?o.children.push(r):o.children=[r],r.parent=o}else{if(i)throw new Error("multiple roots");i=r}if(!i)throw new Error("no root");if(i.parent=rd,i.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(Nu),i.parent=null,0<l)throw new Error("cycle");return i}return e.id=function(t){return arguments.length?(d=Xu(t),e):d},e.parentId=function(t){return arguments.length?(h=Xu(t),e):h},e},$.tree=function(){var b=cd,c=1,u=1,d=null;function e(s){var t=function(){for(var t,e,n,i,o,r=new hd(s,0),a=[r];t=a.pop();)if(n=t._.children)for(t.children=new Array(o=n.length),i=o-1;0<=i;--i)a.push(e=t.children[i]=new hd(n[i],i)),e.parent=t;return(r.parent=new hd(null,0)).children=[r],r}();if(t.eachAfter(h),t.parent.m=-t.z,t.eachBefore(f),d)s.eachBefore(p);else{var e=s,n=s,i=s;s.eachBefore(function(t){t.x<e.x&&(e=t),t.x>n.x&&(n=t),t.depth>i.depth&&(i=t)});var o=e===n?1:b(e,n)/2,r=o-e.x,a=c/(n.x+o+r),l=u/(i.depth||1);s.eachBefore(function(t){t.x=(t.x+r)*a,t.y=t.depth*l})}return s}function h(r){var t=r.children,e=r.parent.children,n=r.i?e[r.i-1]:null;if(t){!function(){for(var t,e=0,n=0,i=r.children,o=i.length;0<=--o;)(t=i[o]).z+=e,t.m+=e,e+=t.s+(n+=t.c)}();var i=(t[0].z+t[t.length-1].z)/2;n?(r.z=n.z+b(r._,n._),r.m=r.z-i):r.z=i}else n&&(r.z=n.z+b(r._,n._));r.parent.A=function(t,e,n){if(e){for(var i,o=t,r=t,a=e,s=o.parent.children[0],l=o.m,c=r.m,u=a.m,d=s.m;a=dd(a),o=ud(o),a&&o;)s=ud(s),(r=dd(r)).a=t,0<(i=a.z+u-o.z-l+b(a._,o._))&&(v=t,y=n,h=(m=a).a.parent===v.parent?m.a:y,void 0,g=(p=i)/((f=t).i-h.i),f.c-=g,f.s+=p,h.c+=g,f.z+=p,f.m+=p,l+=i,c+=i),u+=a.m,l+=o.m,d+=s.m,c+=r.m;a&&!dd(r)&&(r.t=a,r.m+=u-c),o&&!ud(s)&&(s.t=o,s.m+=l-d,n=t)}var h,f,p,g,m,v,y;return n}(r,n,r.parent.A||e[0])}function f(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function p(t){t.x*=c,t.y=t.depth*u}return e.separation=function(t){return arguments.length?(b=t,e):b},e.size=function(t){return arguments.length?(d=!1,c=+t[0],u=+t[1],e):d?null:[c,u]},e.nodeSize=function(t){return arguments.length?(d=!0,c=+t[0],u=+t[1],e):d?[c,u]:null},e},$.treemap=function(){var a=md,e=!1,n=1,i=1,s=[0],l=Zu,c=Zu,u=Zu,d=Zu,h=Zu;function o(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(r),s=[0],e&&t.eachBefore(id),t}function r(t){var e=s[t.depth],n=t.x0+e,i=t.y0+e,o=t.x1-e,r=t.y1-e;o<n&&(n=o=(n+o)/2),r<i&&(i=r=(i+r)/2),t.x0=n,t.y0=i,t.x1=o,t.y1=r,t.children&&(e=s[t.depth+1]=l(t)/2,n+=h(t)-e,i+=c(t)-e,(o-=u(t)-e)<n&&(n=o=(n+o)/2),(r-=d(t)-e)<i&&(i=r=(i+r)/2),a(t,n,i,o,r))}return o.round=function(t){return arguments.length?(e=!!t,o):e},o.size=function(t){return arguments.length?(n=+t[0],i=+t[1],o):[n,i]},o.tile=function(t){return arguments.length?(a=Xu(t),o):a},o.padding=function(t){return arguments.length?o.paddingInner(t).paddingOuter(t):o.paddingInner()},o.paddingInner=function(t){return arguments.length?(l="function"==typeof t?t:Qu(+t),o):l},o.paddingOuter=function(t){return arguments.length?o.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):o.paddingTop()},o.paddingTop=function(t){return arguments.length?(c="function"==typeof t?t:Qu(+t),o):c},o.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:Qu(+t),o):u},o.paddingBottom=function(t){return arguments.length?(d="function"==typeof t?t:Qu(+t),o):d},o.paddingLeft=function(t){return arguments.length?(h="function"==typeof t?t:Qu(+t),o):h},o},$.treemapBinary=function(t,e,n,i,o){var r,a,y=t.children,s=y.length,b=new Array(s+1);for(b[0]=a=r=0;r<s;++r)b[r+1]=a+=y[r].value;!function t(e,n,i,o,r,a,s){if(n-1<=e){var l=y[e];return l.x0=o,l.y0=r,l.x1=a,void(l.y1=s)}for(var c=b[e],u=i/2+c,d=e+1,h=n-1;d<h;){var f=d+h>>>1;b[f]<u?d=1+f:h=f}u-b[d-1]<b[d]-u&&e+1<d&&--d;var p=b[d]-c,g=i-p;if(s-r<a-o){var m=(o*g+a*p)/i;t(e,d,p,o,r,m,s),t(d,n,g,m,r,a,s)}else{var v=(r*g+s*p)/i;t(e,d,p,o,r,a,v),t(d,n,g,o,v,a,s)}}(0,s,t.value,e,n,i,o)},$.treemapDice=od,$.treemapSlice=fd,$.treemapSliceDice=function(t,e,n,i,o){(1&t.depth?fd:od)(t,e,n,i,o)},$.treemapSquarify=md,$.treemapResquarify=vd,$.interpolate=sn,$.interpolateArray=Je,$.interpolateBasis=je,$.interpolateBasisClosed=Ve,$.interpolateDate=tn,$.interpolateDiscrete=function(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}},$.interpolateHue=function(t,e){var n=Ge(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},$.interpolateNumber=en,$.interpolateObject=nn,$.interpolateRound=ln,$.interpolateString=an,$.interpolateTransformCss=vn,$.interpolateTransformSvg=yn,$.interpolateZoom=En,$.interpolateRgb=Ye,$.interpolateRgbBasis=Ze,$.interpolateRgbBasisClosed=Qe,$.interpolateHsl=Tn,$.interpolateHslLong=Cn,$.interpolateLab=function(e,t){var n=Ue((e=xe(e)).l,(t=xe(t)).l),i=Ue(e.a,t.a),o=Ue(e.b,t.b),r=Ue(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=o(t),e.opacity=r(t),e+""}},$.interpolateHcl=Dn,$.interpolateHclLong=On,$.interpolateCubehelix=Rn,$.interpolateCubehelixLong=An,$.piecewise=function(t,e){for(var n=0,i=e.length-1,o=e[0],r=new Array(i<0?0:i);n<i;)r[n]=t(o,o=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return r[e](t-e)}},$.quantize=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},$.path=To,$.polygonArea=function(t){for(var e,n=-1,i=t.length,o=t[i-1],r=0;++n<i;)e=o,o=t[n],r+=e[1]*o[0]-e[0]*o[1];return r/2},$.polygonCentroid=function(t){for(var e,n,i=-1,o=t.length,r=0,a=0,s=t[o-1],l=0;++i<o;)e=s,s=t[i],l+=n=e[0]*s[1]-s[0]*e[1],r+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[r/(l*=3),a/l]},$.polygonHull=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),o=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(yd),e=0;e<n;++e)o[e]=[i[e][0],-i[e][1]];var r=bd(i),a=bd(o),s=a[0]===r[0],l=a[a.length-1]===r[r.length-1],c=[];for(e=r.length-1;0<=e;--e)c.push(t[i[r[e]][2]]);for(e=+s;e<a.length-l;++e)c.push(t[i[a[e]][2]]);return c},$.polygonContains=function(t,e){for(var n,i,o=t.length,r=t[o-1],a=e[0],s=e[1],l=r[0],c=r[1],u=!1,d=0;d<o;++d)n=(r=t[d])[0],(i=r[1])>s!=s<c&&a<(l-n)*(s-i)/(c-i)+n&&(u=!u),l=n,c=i;return u},$.polygonLength=function(t){for(var e,n,i=-1,o=t.length,r=t[o-1],a=r[0],s=r[1],l=0;++i<o;)e=a,n=s,e-=a=(r=t[i])[0],n-=s=r[1],l+=Math.sqrt(e*e+n*n);return l},$.quadtree=kr,$.randomUniform=Ed,$.randomNormal=wd,$.randomLogNormal=Td,$.randomBates=xd,$.randomIrwinHall=Cd,$.randomExponential=Dd,$.scaleBand=Nd,$.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(Nd.apply(null,arguments).paddingInner(1))},$.scaleIdentity=function t(e){var n;function i(t){return isNaN(t=+t)?n:t}return(i.invert=i).domain=i.range=function(t){return arguments.length?(e=Sd.call(t,Kd),i):e.slice()},i.unknown=function(t){return arguments.length?(n=t,i):n},i.copy=function(){return t(e).unknown(n)},e=arguments.length?Sd.call(e,Kd):[0,1],qd(i)},$.scaleLinear=function t(){var e=Vd(Ld,Ld);return e.copy=function(){return zd(e,t())},Od.apply(e,arguments),qd(e)},$.scaleLog=function t(){var e=th(jd()).domain([1,10]);return e.copy=function(){return zd(e,t()).base(e.base())},Od.apply(e,arguments),e},$.scaleSymlog=function t(){var e=ih(jd());return e.copy=function(){return zd(e,t()).constant(e.constant())},Od.apply(e,arguments)},$.scaleOrdinal=Md,$.scaleImplicit=Ad,$.scalePow=lh,$.scaleSqrt=function(){return lh.apply(null,arguments).exponent(.5)},$.scaleQuantile=function t(){var e,o=[],n=[],i=[];function r(){var t=0,e=Math.max(1,n.length);for(i=new Array(e-1);++t<e;)i[t-1]=_(o,t/e);return a}function a(t){return isNaN(t=+t)?e:n[g(i,t)]}return a.invertExtent=function(t){var e=n.indexOf(t);return e<0?[NaN,NaN]:[0<e?i[e-1]:o[0],e<i.length?i[e]:o[o.length-1]]},a.domain=function(t){if(!arguments.length)return o.slice();o=[];for(var e,n=0,i=t.length;n<i;++n)null==(e=t[n])||isNaN(e=+e)||o.push(e);return o.sort(s),r()},a.range=function(t){return arguments.length?(n=Rd.call(t),r()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return i.slice()},a.copy=function(){return t().domain(o).range(n).unknown(e)},Od.apply(a,arguments)},$.scaleQuantize=function t(){var e,n=0,i=1,o=1,r=[.5],a=[0,1];function s(t){return t<=t?a[g(r,t,0,o)]:e}function l(){var t=-1;for(r=new Array(o);++t<o;)r[t]=((t+1)*i-(t-o)*n)/(o+1);return s}return s.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],l()):[n,i]},s.range=function(t){return arguments.length?(o=(a=Rd.call(t)).length-1,l()):a.slice()},s.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,r[0]]:o<=e?[r[o-1],i]:[r[e-1],r[e]]},s.unknown=function(t){return arguments.length&&(e=t),s},s.thresholds=function(){return r.slice()},s.copy=function(){return t().domain([n,i]).range(a).unknown(e)},Od.apply(qd(s),arguments)},$.scaleThreshold=function t(){var e,n=[.5],i=[0,1],o=1;function r(t){return t<=t?i[g(n,t,0,o)]:e}return r.domain=function(t){return arguments.length?(n=Rd.call(t),o=Math.min(n.length,i.length-1),r):n.slice()},r.range=function(t){return arguments.length?(i=Rd.call(t),o=Math.min(n.length,i.length-1),r):i.slice()},r.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},r.unknown=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return t().domain(n).range(i).unknown(e)},Od.apply(r,arguments)},$.scaleTime=function(){return Od.apply($p(Bh,Lh,Th,_h,yh,mh,ph,hh,$.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},$.scaleUtc=function(){return Od.apply($p(df,cf,Uh,Wh,jh,Hh,ph,hh,$.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},$.scaleSequential=function t(){var e=qd(Hp()(Ld));return e.copy=function(){return zp(e,t())},Id.apply(e,arguments)},$.scaleSequentialLog=function t(){var e=th(Hp()).domain([1,10]);return e.copy=function(){return zp(e,t()).base(e.base())},Id.apply(e,arguments)},$.scaleSequentialPow=jp,$.scaleSequentialSqrt=function(){return jp.apply(null,arguments).exponent(.5)},$.scaleSequentialSymlog=function t(){var e=ih(Hp());return e.copy=function(){return zp(e,t()).constant(e.constant())},Id.apply(e,arguments)},$.scaleSequentialQuantile=function t(){var o=[],e=Ld;function r(t){if(!isNaN(t=+t))return e((g(o,t)-1)/(o.length-1))}return r.domain=function(t){if(!arguments.length)return o.slice();o=[];for(var e,n=0,i=t.length;n<i;++n)null==(e=t[n])||isNaN(e=+e)||o.push(e);return o.sort(s),r},r.interpolator=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return t(e).domain(o)},Id.apply(r,arguments)},$.scaleDiverging=function t(){var e=qd(Vp()(Ld));return e.copy=function(){return zp(e,t())},Id.apply(e,arguments)},$.scaleDivergingLog=function t(){var e=th(Vp()).domain([.1,1,10]);return e.copy=function(){return zp(e,t()).base(e.base())},Id.apply(e,arguments)},$.scaleDivergingPow=Wp,$.scaleDivergingSqrt=function(){return Wp.apply(null,arguments).exponent(.5)},$.scaleDivergingSymlog=function t(){var e=ih(Vp());return e.copy=function(){return zp(e,t()).constant(e.constant())},Id.apply(e,arguments)},$.tickFormat=Wd,$.schemeCategory10=Gp,$.schemeAccent=Up,$.schemeDark2=Yp,$.schemePaired=Xp,$.schemePastel1=Zp,$.schemePastel2=Qp,$.schemeSet1=Jp,$.schemeSet2=tg,$.schemeSet3=eg,$.interpolateBrBG=og,$.schemeBrBG=ig,$.interpolatePRGn=ag,$.schemePRGn=rg,$.interpolatePiYG=lg,$.schemePiYG=sg,$.interpolatePuOr=ug,$.schemePuOr=cg,$.interpolateRdBu=hg,$.schemeRdBu=dg,$.interpolateRdGy=pg,$.schemeRdGy=fg,$.interpolateRdYlBu=mg,$.schemeRdYlBu=gg,$.interpolateRdYlGn=yg,$.schemeRdYlGn=vg,$.interpolateSpectral=_g,$.schemeSpectral=bg,$.interpolateBuGn=wg,$.schemeBuGn=Eg,$.interpolateBuPu=Cg,$.schemeBuPu=Tg,$.interpolateGnBu=Dg,$.schemeGnBu=xg,$.interpolateOrRd=Ig,$.schemeOrRd=Og,$.interpolatePuBuGn=Sg,$.schemePuBuGn=kg,$.interpolatePuBu=Ag,$.schemePuBu=Rg,$.interpolatePuRd=Ng,$.schemePuRd=Mg,$.interpolateRdPu=Pg,$.schemeRdPu=Kg,$.interpolateYlGnBu=Fg,$.schemeYlGnBu=Lg,$.interpolateYlGn=$g,$.schemeYlGn=Bg,$.interpolateYlOrBr=zg,$.schemeYlOrBr=Hg,$.interpolateYlOrRd=Vg,$.schemeYlOrRd=jg,$.interpolateBlues=qg,$.schemeBlues=Wg,$.interpolateGreens=Ug,$.schemeGreens=Gg,$.interpolateGreys=Xg,$.schemeGreys=Yg,$.interpolatePurples=Qg,$.schemePurples=Zg,$.interpolateReds=tm,$.schemeReds=Jg,$.interpolateOranges=nm,$.schemeOranges=em,$.interpolateCubehelixDefault=im,$.interpolateRainbow=function(t){(t<0||1<t)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return am.h=360*t-100,am.s=1.5-1.5*e,am.l=.8-.9*e,am+""},$.interpolateWarm=om,$.interpolateCool=rm,$.interpolateSinebow=function(t){var e;return t=(.5-t)*Math.PI,sm.r=255*(e=Math.sin(t))*e,sm.g=255*(e=Math.sin(t+lm))*e,sm.b=255*(e=Math.sin(t+cm))*e,sm+""},$.interpolateViridis=dm,$.interpolateMagma=hm,$.interpolateInferno=fm,$.interpolatePlasma=pm,$.create=function(t){return Dt(V(t).call(document.documentElement))},$.creator=V,$.local=It,$.matcher=Y,$.mouse=At,$.namespace=j,$.namespaces=z,$.clientPoint=Rt,$.select=Dt,$.selectAll=function(t){return"string"==typeof t?new Ct([document.querySelectorAll(t)],[document.documentElement]):new Ct([null==t?[]:t],Tt)},$.selection=xt,$.selector=q,$.selectorAll=U,$.style=nt,$.touch=Mt,$.touches=function(t,e){null==e&&(e=St().touches);for(var n=0,i=e?e.length:0,o=new Array(i);n<i;++n)o[n]=Rt(t,e[n]);return o},$.window=et,$.customEvent=Et,$.arc=function(){var B=Im,$=km,H=gm(0),z=null,j=Sm,V=Rm,W=Am,q=null;function e(){var t,e,n,i=+B.apply(this,arguments),o=+$.apply(this,arguments),r=j.apply(this,arguments)-xm,a=V.apply(this,arguments)-xm,s=mm(a-r),l=r<a;if(q=q||(t=To()),o<i&&(e=o,o=i,i=e),Tm<o)if(Dm-Tm<s)q.moveTo(o*ym(r),o*Em(r)),q.arc(0,0,o,r,a,!l),Tm<i&&(q.moveTo(i*ym(a),i*Em(a)),q.arc(0,0,i,a,r,l));else{var c,u,d=r,h=a,f=r,p=a,g=s,m=s,v=W.apply(this,arguments)/2,y=Tm<v&&(z?+z.apply(this,arguments):wm(i*i+o*o)),b=_m(mm(o-i)/2,+H.apply(this,arguments)),_=b,E=b;if(Tm<y){var w=Om(y/i*Em(v)),T=Om(y/o*Em(v));(g-=2*w)>Tm?(f+=w*=l?1:-1,p-=w):(g=0,f=p=(r+a)/2),(m-=2*T)>Tm?(d+=T*=l?1:-1,h-=T):(m=0,d=h=(r+a)/2)}var C=o*ym(d),x=o*Em(d),D=i*ym(p),O=i*Em(p);if(Tm<b){var I,k=o*ym(h),S=o*Em(h),R=i*ym(f),A=i*Em(f);if(s<Cm&&(I=function(){var t=R-C,e=A-x,n=D-k,i=O-S,o=i*t-n*e;if(!(o*o<Tm))return[C+(o=(n*(x-S)-i*(C-k))/o)*t,x+o*e]}())){var M=C-I[0],N=x-I[1],K=k-I[0],P=S-I[1],L=1/Em((1<(n=(M*K+N*P)/(wm(M*M+N*N)*wm(K*K+P*P)))?0:n<-1?Cm:Math.acos(n))/2),F=wm(I[0]*I[0]+I[1]*I[1]);_=_m(b,(i-F)/(L-1)),E=_m(b,(o-F)/(1+L))}}Tm<m?Tm<E?(c=Mm(R,A,C,x,o,E,l),u=Mm(k,S,D,O,o,E,l),q.moveTo(c.cx+c.x01,c.cy+c.y01),E<b?q.arc(c.cx,c.cy,E,vm(c.y01,c.x01),vm(u.y01,u.x01),!l):(q.arc(c.cx,c.cy,E,vm(c.y01,c.x01),vm(c.y11,c.x11),!l),q.arc(0,0,o,vm(c.cy+c.y11,c.cx+c.x11),vm(u.cy+u.y11,u.cx+u.x11),!l),q.arc(u.cx,u.cy,E,vm(u.y11,u.x11),vm(u.y01,u.x01),!l))):(q.moveTo(C,x),q.arc(0,0,o,d,h,!l)):q.moveTo(C,x),Tm<i&&Tm<g?Tm<_?(c=Mm(D,O,k,S,i,-_,l),u=Mm(C,x,R,A,i,-_,l),q.lineTo(c.cx+c.x01,c.cy+c.y01),_<b?q.arc(c.cx,c.cy,_,vm(c.y01,c.x01),vm(u.y01,u.x01),!l):(q.arc(c.cx,c.cy,_,vm(c.y01,c.x01),vm(c.y11,c.x11),!l),q.arc(0,0,i,vm(c.cy+c.y11,c.cx+c.x11),vm(u.cy+u.y11,u.cx+u.x11),l),q.arc(u.cx,u.cy,_,vm(u.y11,u.x11),vm(u.y01,u.x01),!l))):q.arc(0,0,i,p,f,l):q.lineTo(D,O)}else q.moveTo(0,0);if(q.closePath(),t)return q=null,t+""||null}return e.centroid=function(){var t=(+B.apply(this,arguments)+ +$.apply(this,arguments))/2,e=(+j.apply(this,arguments)+ +V.apply(this,arguments))/2-Cm/2;return[ym(e)*t,Em(e)*t]},e.innerRadius=function(t){return arguments.length?(B="function"==typeof t?t:gm(+t),e):B},e.outerRadius=function(t){return arguments.length?($="function"==typeof t?t:gm(+t),e):$},e.cornerRadius=function(t){return arguments.length?(H="function"==typeof t?t:gm(+t),e):H},e.padRadius=function(t){return arguments.length?(z=null==t?null:"function"==typeof t?t:gm(+t),e):z},e.startAngle=function(t){return arguments.length?(j="function"==typeof t?t:gm(+t),e):j},e.endAngle=function(t){return arguments.length?(V="function"==typeof t?t:gm(+t),e):V},e.padAngle=function(t){return arguments.length?(W="function"==typeof t?t:gm(+t),e):W},e.context=function(t){return arguments.length?(q=null==t?null:t,e):q},e},$.area=Bm,$.line=Fm,$.pie=function(){var p=Hm,g=$m,m=null,v=gm(0),y=gm(Dm),b=gm(0);function e(n){var t,e,i,o,r,a=n.length,s=0,l=new Array(a),c=new Array(a),u=+v.apply(this,arguments),d=Math.min(Dm,Math.max(-Dm,y.apply(this,arguments)-u)),h=Math.min(Math.abs(d)/a,b.apply(this,arguments)),f=h*(d<0?-1:1);for(t=0;t<a;++t)0<(r=c[l[t]=t]=+p(n[t],t,n))&&(s+=r);for(null!=g?l.sort(function(t,e){return g(c[t],c[e])}):null!=m&&l.sort(function(t,e){return m(n[t],n[e])}),t=0,i=s?(d-a*f)/s:0;t<a;++t,u=o)e=l[t],o=u+(0<(r=c[e])?r*i:0)+f,c[e]={data:n[e],index:t,value:r,startAngle:u,endAngle:o,padAngle:h};return c}return e.value=function(t){return arguments.length?(p="function"==typeof t?t:gm(+t),e):p},e.sortValues=function(t){return arguments.length?(g=t,m=null,e):g},e.sort=function(t){return arguments.length?(m=t,g=null,e):m},e.startAngle=function(t){return arguments.length?(v="function"==typeof t?t:gm(+t),e):v},e.endAngle=function(t){return arguments.length?(y="function"==typeof t?t:gm(+t),e):y},e.padAngle=function(t){return arguments.length?(b="function"==typeof t?t:gm(+t),e):b},e},$.areaRadial=Gm,$.radialArea=Gm,$.lineRadial=qm,$.radialLine=qm,$.pointRadial=Um,$.linkHorizontal=function(){return Qm(Jm)},$.linkVertical=function(){return Qm(tv)},$.linkRadial=function(){var t=Qm(ev);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},$.symbol=function(){var e=gm(nv),n=gm(64),i=null;function o(){var t;if(i=i||(t=To()),e.apply(this,arguments).draw(i,+n.apply(this,arguments)),t)return i=null,t+""||null}return o.type=function(t){return arguments.length?(e="function"==typeof t?t:gm(t),o):e},o.size=function(t){return arguments.length?(n="function"==typeof t?t:gm(+t),o):n},o.context=function(t){return arguments.length?(i=null==t?null:t,o):i},o},$.symbols=yv,$.symbolCircle=nv,$.symbolCross=iv,$.symbolDiamond=av,$.symbolSquare=dv,$.symbolStar=uv,$.symbolTriangle=fv,$.symbolWye=vv,$.curveBasisClosed=function(t){return new wv(t)},$.curveBasisOpen=function(t){return new Tv(t)},$.curveBasis=function(t){return new Ev(t)},$.curveBundle=xv,$.curveCardinalClosed=Sv,$.curveCardinalOpen=Av,$.curveCardinal=Iv,$.curveCatmullRomClosed=Lv,$.curveCatmullRomOpen=Bv,$.curveCatmullRom=Kv,$.curveLinearClosed=function(t){return new $v(t)},$.curveLinear=Km,$.curveMonotoneX=function(t){return new Wv(t)},$.curveMonotoneY=function(t){return new qv(t)},$.curveNatural=function(t){return new Uv(t)},$.curveStep=function(t){return new Xv(t,.5)},$.curveStepAfter=function(t){return new Xv(t,1)},$.curveStepBefore=function(t){return new Xv(t,0)},$.stack=function(){var d=gm([]),h=Qv,f=Zv,p=Jv;function e(t){var e,n,i=d.apply(this,arguments),o=t.length,r=i.length,a=new Array(r);for(e=0;e<r;++e){for(var s,l=i[e],c=a[e]=new Array(o),u=0;u<o;++u)c[u]=s=[0,+p(t[u],l,u,t)],s.data=t[u];c.key=l}for(e=0,n=h(a);e<r;++e)a[n[e]].index=e;return f(a,n),a}return e.keys=function(t){return arguments.length?(d="function"==typeof t?t:gm(Ym.call(t)),e):d},e.value=function(t){return arguments.length?(p="function"==typeof t?t:gm(+t),e):p},e.order=function(t){return arguments.length?(h=null==t?Qv:"function"==typeof t?t:gm(Ym.call(t)),e):h},e.offset=function(t){return arguments.length?(f=null==t?Zv:t,e):f},e},$.stackOffsetExpand=function(t,e){if(0<(i=t.length)){for(var n,i,o,r=0,a=t[0].length;r<a;++r){for(o=n=0;n<i;++n)o+=t[n][r][1]||0;if(o)for(n=0;n<i;++n)t[n][r][1]/=o}Zv(t,e)}},$.stackOffsetDiverging=function(t,e){if(1<(s=t.length))for(var n,i,o,r,a,s,l=0,c=t[e[0]].length;l<c;++l)for(r=a=0,n=0;n<s;++n)0<=(o=(i=t[e[n]][l])[1]-i[0])?(i[0]=r,i[1]=r+=o):o<0?(i[1]=a,i[0]=a+=o):i[0]=r},$.stackOffsetNone=Zv,$.stackOffsetSilhouette=function(t,e){if(0<(n=t.length)){for(var n,i=0,o=t[e[0]],r=o.length;i<r;++i){for(var a=0,s=0;a<n;++a)s+=t[a][i][1]||0;o[i][1]+=o[i][0]=-s/2}Zv(t,e)}},$.stackOffsetWiggle=function(t,e){if(0<(o=t.length)&&0<(i=(n=t[e[0]]).length)){for(var n,i,o,r=0,a=1;a<i;++a){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=t[e[f]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=h*d}n[a-1][1]+=n[a-1][0]=r,l&&(r-=c/l)}n[a-1][1]+=n[a-1][0]=r,Zv(t,e)}},$.stackOrderAppearance=ty,$.stackOrderAscending=ny,$.stackOrderDescending=function(t){return ny(t).reverse()},$.stackOrderInsideOut=function(t){var e,n,i=t.length,o=t.map(iy),r=ty(t),a=0,s=0,l=[],c=[];for(e=0;e<i;++e)n=r[e],a<s?(a+=o[n],l.push(n)):(s+=o[n],c.push(n));return c.reverse().concat(l)},$.stackOrderNone=Qv,$.stackOrderReverse=function(t){return Qv(t).reverse()},$.timeInterval=dh,$.timeMillisecond=hh,$.timeMilliseconds=fh,$.utcMillisecond=hh,$.utcMilliseconds=fh,$.timeSecond=ph,$.timeSeconds=gh,$.utcSecond=ph,$.utcSeconds=gh,$.timeMinute=mh,$.timeMinutes=vh,$.timeHour=yh,$.timeHours=bh,$.timeDay=_h,$.timeDays=Eh,$.timeWeek=Th,$.timeWeeks=Sh,$.timeSunday=Th,$.timeSundays=Sh,$.timeMonday=Ch,$.timeMondays=Rh,$.timeTuesday=xh,$.timeTuesdays=Ah,$.timeWednesday=Dh,$.timeWednesdays=Mh,$.timeThursday=Oh,$.timeThursdays=Nh,$.timeFriday=Ih,$.timeFridays=Kh,$.timeSaturday=kh,$.timeSaturdays=Ph,$.timeMonth=Lh,$.timeMonths=Fh,$.timeYear=Bh,$.timeYears=$h,$.utcMinute=Hh,$.utcMinutes=zh,$.utcHour=jh,$.utcHours=Vh,$.utcDay=Wh,$.utcDays=qh,$.utcWeek=Uh,$.utcWeeks=ef,$.utcSunday=Uh,$.utcSundays=ef,$.utcMonday=Yh,$.utcMondays=nf,$.utcTuesday=Xh,$.utcTuesdays=of,$.utcWednesday=Zh,$.utcWednesdays=rf,$.utcThursday=Qh,$.utcThursdays=af,$.utcFriday=Jh,$.utcFridays=sf,$.utcSaturday=tf,$.utcSaturdays=lf,$.utcMonth=cf,$.utcMonths=uf,$.utcYear=df,$.utcYears=hf,$.timeFormatDefaultLocale=Ip,$.timeFormatLocale=mf,$.isoFormat=kp,$.isoParse=Sp,$.now=zn,$.timer=Wn,$.timerFlush=qn,$.timeout=Xn,$.interval=function(n,i,o){var r=new Vn,a=i;return null==i?r.restart(n,i,o):(i=+i,o=null==o?zn():+o,r.restart(function t(e){e+=a,r.restart(t,a+=i,o),n(e)},i,o)),r},$.transition=vi,$.active=function(t,e){var n,i,o=t.__transition;if(o)for(i in e=null==e?null:e+"",o)if((n=o[i]).state>ti&&n.name===e)return new mi([[t]],Hi,e,+i);return null},$.interrupt=ui,$.voronoi=function(){var o=ry,r=ay,e=null;function n(i){return new Fy(i.map(function(t,e){var n=[Math.round(o(t,e,i)/Ky)*Ky,Math.round(r(t,e,i)/Ky)*Ky];return n.index=e,n.data=t,n}),e)}return n.polygons=function(t){return n(t).polygons()},n.links=function(t){return n(t).links()},n.triangles=function(t){return n(t).triangles()},n.x=function(t){return arguments.length?(o="function"==typeof t?t:oy(+t),n):o},n.y=function(t){return arguments.length?(r="function"==typeof t?t:oy(+t),n):r},n.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],n):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},n.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],n):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},n},$.zoom=function(){var f,r,s=qy,u=Gy,p=Zy,o=Yy,e=Xy,a=[0,1/0],g=[[-1/0,-1/0],[1/0,1/0]],l=250,d=En,c=[],n=H("start","zoom","end"),h=500,m=150,v=0;function y(t){t.property("__zoom",Uy).on("wheel.zoom",i).on("mousedown.zoom",x).on("dblclick.zoom",D).filter(e).on("touchstart.zoom",O).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(t,e){return(e=Math.max(a[0],Math.min(a[1],e)))===t.k?t:new Hy(e,t.x,t.y)}function _(t,e,n){var i=e[0]-n[0]*t.k,o=e[1]-n[1]*t.k;return i===t.x&&o===t.y?t:new Hy(t.k,i,o)}function E(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,l,c){t.on("start.zoom",function(){T(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).end()}).tween("zoom",function(){var t=arguments,i=T(this,t),e=u.apply(this,t),o=c||E(e),r=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),n=this.__zoom,a="function"==typeof l?l.apply(this,t):l,s=d(n.invert(o).concat(r/n.k),a.invert(o).concat(r/a.k));return function(t){if(1===t)t=a;else{var e=s(t),n=r/e[2];t=new Hy(n,o[0]-e[0]*n,o[1]-e[1]*n)}i.zoom(null,t)}})}function T(t,e){for(var n,i=0,o=c.length;i<o;++i)if((n=c[i]).that===t)return n;return new C(t,e)}function C(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=u.apply(t,e)}function i(){if(s.apply(this,arguments)){var t=T(this,arguments),e=this.__zoom,n=Math.max(a[0],Math.min(a[1],e.k*Math.pow(2,o.apply(this,arguments)))),i=At(this);if(t.wheel)t.mouse[0][0]===i[0]&&t.mouse[0][1]===i[1]||(t.mouse[1]=e.invert(t.mouse[0]=i)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[i,e.invert(i)],ui(this),t.start()}Wy(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},m),t.zoom("mouse",p(_(b(e,n),t.mouse[0],t.mouse[1]),t.extent,g))}}function x(){if(!r&&s.apply(this,arguments)){var n=T(this,arguments),t=Dt($.event.view).on("mousemove.zoom",function(){if(Wy(),!n.moved){var t=$.event.clientX-i,e=$.event.clientY-o;n.moved=v<t*t+e*e}n.zoom("mouse",p(_(n.that.__zoom,n.mouse[0]=At(n.that),n.mouse[1]),n.extent,g))},!0).on("mouseup.zoom",function(){t.on("mousemove.zoom mouseup.zoom",null),Lt($.event.view,n.moved),Wy(),n.end()},!0),e=At(this),i=$.event.clientX,o=$.event.clientY;Pt($.event.view),Vy(),n.mouse=[e,this.__zoom.invert(e)],ui(this),n.start()}}function D(){if(s.apply(this,arguments)){var t=this.__zoom,e=At(this),n=t.invert(e),i=t.k*($.event.shiftKey?.5:2),o=p(_(b(t,i),e,n),u.apply(this,arguments),g);Wy(),0<l?Dt(this).transition().duration(l).call(w,o,e):Dt(this).call(y.transform,o)}}function O(){if(s.apply(this,arguments)){var t,e,n,i,o=T(this,arguments),r=$.event.changedTouches,a=r.length;for(Vy(),e=0;e<a;++e)i=[i=Mt(this,r,(n=r[e]).identifier),this.__zoom.invert(i),n.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,t=!0);if(f&&(f=clearTimeout(f),!o.touch1))return o.end(),void((i=Dt(this).on("dblclick.zoom"))&&i.apply(this,arguments));t&&(f=setTimeout(function(){f=null},h),ui(this),o.start())}}function I(){var t,e,n,i,o=T(this,arguments),r=$.event.changedTouches,a=r.length;for(Wy(),f=f&&clearTimeout(f),t=0;t<a;++t)n=Mt(this,r,(e=r[t]).identifier),o.touch0&&o.touch0[2]===e.identifier?o.touch0[0]=n:o.touch1&&o.touch1[2]===e.identifier&&(o.touch1[0]=n);if(e=o.that.__zoom,o.touch1){var s=o.touch0[0],l=o.touch0[1],c=o.touch1[0],u=o.touch1[1],d=(d=c[0]-s[0])*d+(d=c[1]-s[1])*d,h=(h=u[0]-l[0])*h+(h=u[1]-l[1])*h;e=b(e,Math.sqrt(d/h)),n=[(s[0]+c[0])/2,(s[1]+c[1])/2],i=[(l[0]+u[0])/2,(l[1]+u[1])/2]}else{if(!o.touch0)return;n=o.touch0[0],i=o.touch0[1]}o.zoom("touch",p(_(e,n,i),o.extent,g))}function k(){var t,e,n=T(this,arguments),i=$.event.changedTouches,o=i.length;for(Vy(),r&&clearTimeout(r),r=setTimeout(function(){r=null},h),t=0;t<o;++t)e=i[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}return y.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Uy),t!==n?w(t,e):n.interrupt().each(function(){T(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},y.scaleBy=function(t,e){y.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},y.scaleTo=function(t,r){y.transform(t,function(){var t=u.apply(this,arguments),e=this.__zoom,n=E(t),i=e.invert(n),o="function"==typeof r?r.apply(this,arguments):r;return p(_(b(e,o),n,i),t,g)})},y.translateBy=function(t,e,n){y.transform(t,function(){return p(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),u.apply(this,arguments),g)})},y.translateTo=function(t,i,o){y.transform(t,function(){var t=u.apply(this,arguments),e=this.__zoom,n=E(t);return p(zy.translate(n[0],n[1]).scale(e.k).translate("function"==typeof i?-i.apply(this,arguments):-i,"function"==typeof o?-o.apply(this,arguments):-o),t,g)})},C.prototype={start:function(){return 1==++this.active&&(this.index=c.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(c.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Et(new $y(y,t,this.that.__zoom),n.apply,n,[t,this.that,this.args])}},y.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:By(+t),y):o},y.filter=function(t){return arguments.length?(s="function"==typeof t?t:By(!!t),y):s},y.touchable=function(t){return arguments.length?(e="function"==typeof t?t:By(!!t),y):e},y.extent=function(t){return arguments.length?(u="function"==typeof t?t:By([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):u},y.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],y):[a[0],a[1]]},y.translateExtent=function(t){return arguments.length?(g[0][0]=+t[0][0],g[1][0]=+t[1][0],g[0][1]=+t[0][1],g[1][1]=+t[1][1],y):[[g[0][0],g[0][1]],[g[1][0],g[1][1]]]},y.constrain=function(t){return arguments.length?(p=t,y):p},y.duration=function(t){return arguments.length?(l=+t,y):l},y.interpolate=function(t){return arguments.length?(d=t,y):d},y.on=function(){var t=n.on.apply(n,arguments);return t===n?y:t},y.clickDistance=function(t){return arguments.length?(v=(t=+t)*t,y):Math.sqrt(v)},y},$.zoomTransform=jy,$.zoomIdentity=zy,Object.defineProperty($,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).c3=e()}(this,function(){"use strict";function u(t){this.d3=window.d3?window.d3:"undefined"!=typeof require?require("d3"):void 0,this.api=t,this.config=this.getDefaultConfig(),this.data={},this.cache={},this.axes={}}function i(t){this.internal=new u(this),this.internal.loadConfig(t),this.internal.beforeInit(t),this.internal.init(),this.internal.afterInit(t),function e(n,i,o){Object.keys(n).forEach(function(t){i[t]=n[t].bind(o),0<Object.keys(n[t]).length&&e(n[t],i[t],o)})}(i.prototype,this,this)}function r(t){return Math.ceil(t)+.5}function o(t){return 10*Math.ceil(t/10)}function N(t){return t[1]-t[0]}function j(t,e,n){return K(t[e])?t[e]:n}function b(t){var e=c(t),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:n[0].x,y:Math.min(n[0].y,n[1].y),width:e.width,height:e.height}}function a(t){return Array.isArray(t)}function d(t){return null==t||f(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length}function h(t){return"function"==typeof t}function s(t){return"number"==typeof t}function E(t){return void 0===t}function O(t){return t||0===t}function I(t){return!d(t)}function m(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function l(t){var e=function(t){void 0===t&&(t=window.navigator.userAgent);var e=t.indexOf("MSIE ");return 0<e?parseInt(t.substring(e+5,t.indexOf(".",e)),10):0<(e=t.indexOf("Trident/"))&&(e=t.indexOf("rv:"),parseInt(t.substring(e+3,t.indexOf(".",e)),10))}();return void 0===t?!!e:t===e}function c(t){try{return t.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}}function K(t){return void 0!==t}var f=function(t){return"string"==typeof t};function e(t,e){var n=this;n.component=t,n.params=e||{},n.d3=t.d3,n.scale=n.d3.scaleLinear(),n.range,n.orient="bottom",n.innerTickSize=6,n.outerTickSize=this.params.withOuterTick?6:0,n.tickPadding=3,n.tickValues=null,n.tickFormat,n.tickArguments,n.tickOffset=0,n.tickCulling=!0,n.tickCentered,n.tickTextCharSize,n.tickTextRotate=n.params.tickTextRotate,n.tickLength,n.axis=n.generateAxis()}e.prototype.axisX=function(t,e,n){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+n)+", 0)"})},e.prototype.axisY=function(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})},e.prototype.scaleExtent=function(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]},e.prototype.generateTicks=function(t){var e,n,i=[];if(t.ticks)return t.ticks.apply(t,this.tickArguments);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)i.push(e);return 0<i.length&&0<i[0]&&i.unshift(i[0]-(i[1]-i[0])),i},e.prototype.copyScale=function(){var t,e=this.scale.copy();return this.params.isCategory&&(t=this.scale.domain(),e.domain([t[0],t[1]-1])),e},e.prototype.textFormatted=function(t){var e=this.tickFormat?this.tickFormat(t):t;return void 0!==e?e:""},e.prototype.updateRange=function(){return this.range=this.scale.rangeExtent?this.scale.rangeExtent():this.scaleExtent(this.scale.range()),this.range},e.prototype.updateTickTextCharSize=function(t){var r=this;if(r.tickTextCharSize)return r.tickTextCharSize;var a={h:11.5,w:5.5};return t.select("text").text(function(t){return r.textFormatted(t)}).each(function(t){var e=c(this),n=r.textFormatted(t),i=e.height,o=n?e.width/n.length:void 0;i&&o&&(a.h=i,a.w=o)}).text(""),r.tickTextCharSize=a},e.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient},e.prototype.tspanData=function(t,e,n){var i=this.params.tickMultiline?this.splitTickText(t,n):[].concat(this.textFormatted(t));return this.params.tickMultiline&&0<this.params.tickMultilineMax&&(i=this.ellipsify(i,this.params.tickMultilineMax)),i.map(function(t){return{index:e,splitted:t,length:i.length}})},e.prototype.splitTickText=function(t,e){var o,r,a,s=this,n=s.textFormatted(t),l=s.params.tickWidth;return"[object Array]"===Object.prototype.toString.call(n)?n:((!l||l<=0)&&(l=s.isVertical()?95:s.params.isCategory?Math.ceil(e(1)-e(0))-12:110),function t(e,n){r=void 0;for(var i=1;i<n.length;i++)if(" "===n.charAt(i)&&(r=i),o=n.substr(0,i+1),a=s.tickTextCharSize.w*o.length,l<a)return t(e.concat(n.substr(0,r||i)),n.slice(r?r+1:i));return e.concat(n)}([],n+""))},e.prototype.ellipsify=function(t,e){if(t.length<=e)return t;for(var n=t.slice(0,e),i=3,o=e-1;0<=o;o--){var r=n[o].length;if(n[o]=n[o].substr(0,r-i).padEnd(r,"."),(i-=r)<=0)break}return n},e.prototype.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},e.prototype.lineY2=function(t){var e=this.scale(t)+(this.tickCentered?0:this.tickOffset);return this.range[0]<e&&e<this.range[1]?this.innerTickSize:0},e.prototype.textY=function(){var t=this.tickTextRotate;return t?11.5-t/15*2.5*(0<t?1:-1):this.tickLength},e.prototype.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},e.prototype.textTextAnchor=function(){var t=this.tickTextRotate;return t?0<t?"start":"end":"middle"},e.prototype.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},e.prototype.tspanDy=function(t,e){var n=this.tickTextCharSize.h;return 0===e&&(n=this.isVertical()?-((t.length-1)*(this.tickTextCharSize.h/2)-3):".71em"),n},e.prototype.generateAxis=function(){var E=this,w=E.d3,T=E.params;function C(t,b){var _;return t.each(function(){var t,e,n,i=C.g=w.select(this),o=this.__chart__||E.scale,r=this.__chart__=E.copyScale(),a=E.tickValues?E.tickValues:E.generateTicks(r),s=i.selectAll(".tick").data(a,r),l=s.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),c=s.exit().remove(),u=s.merge(l);T.isCategory?(E.tickOffset=Math.ceil((r(1)-r(0))/2),e=E.tickCentered?0:E.tickOffset,n=E.tickCentered?E.tickOffset:0):E.tickOffset=e=0,E.updateRange(),E.updateTickLength(),E.updateTickTextCharSize(i.select(".tick"));var d=u.select("line").merge(l.append("line")),h=u.select("text").merge(l.append("text")),f=u.selectAll("text").selectAll("tspan").data(function(t,e){return E.tspanData(t,e,r)}),p=f.enter().append("tspan").merge(f).text(function(t){return t.splitted});f.exit().remove();var g,m,v=i.selectAll(".domain").data([0]),y=v.enter().append("path").merge(v).attr("class","domain");switch(E.orient){case"bottom":t=E.axisX,d.attr("x1",e).attr("x2",e).attr("y2",function(t,e){return E.lineY2(t,e)}),h.attr("x",0).attr("y",function(t,e){return E.textY(t,e)}).attr("transform",function(t,e){return E.textTransform(t,e)}).style("text-anchor",function(t,e){return E.textTextAnchor(t,e)}),p.attr("x",0).attr("dy",function(t,e){return E.tspanDy(t,e)}).attr("dx",function(t,e){return E.tspanDx(t,e)}),y.attr("d","M"+E.range[0]+","+E.outerTickSize+"V0H"+E.range[1]+"V"+E.outerTickSize);break;case"top":t=E.axisX,d.attr("x1",e).attr("x2",e).attr("y2",function(t,e){return-1*E.lineY2(t,e)}),h.attr("x",0).attr("y",function(t,e){return-1*E.textY(t,e)-(T.isCategory?2:E.tickLength-2)}).attr("transform",function(t,e){return E.textTransform(t,e)}).style("text-anchor",function(t,e){return E.textTextAnchor(t,e)}),p.attr("x",0).attr("dy",function(t,e){return E.tspanDy(t,e)}).attr("dx",function(t,e){return E.tspanDx(t,e)}),y.attr("d","M"+E.range[0]+","+-E.outerTickSize+"V0H"+E.range[1]+"V"+-E.outerTickSize);break;case"left":t=E.axisY,d.attr("x2",-E.innerTickSize).attr("y1",n).attr("y2",n),h.attr("x",-E.tickLength).attr("y",E.tickOffset).style("text-anchor","end"),p.attr("x",-E.tickLength).attr("dy",function(t,e){return E.tspanDy(t,e)}),y.attr("d","M"+-E.outerTickSize+","+E.range[0]+"H0V"+E.range[1]+"H"+-E.outerTickSize);break;case"right":t=E.axisY,d.attr("x2",E.innerTickSize).attr("y1",n).attr("y2",n),h.attr("x",E.tickLength).attr("y",E.tickOffset).style("text-anchor","start"),p.attr("x",E.tickLength).attr("dy",function(t,e){return E.tspanDy(t,e)}),y.attr("d","M"+E.outerTickSize+","+E.range[0]+"H0V"+E.range[1]+"H"+E.outerTickSize)}r.rangeBand?(m=(g=r).rangeBand()/2,o=r=function(t){return g(t)+m}):o.rangeBand?o=r:c.call(t,r,E.tickOffset),l.call(t,o,E.tickOffset),_=(b?u.transition(b):u).style("opacity",1).call(t,r,E.tickOffset)}),_}return C.scale=function(t){return arguments.length?(E.scale=t,C):E.scale},C.orient=function(t){return arguments.length?(E.orient=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",C):E.orient},C.tickFormat=function(t){return arguments.length?(E.tickFormat=t,C):E.tickFormat},C.tickCentered=function(t){return arguments.length?(E.tickCentered=t,C):E.tickCentered},C.tickOffset=function(){return E.tickOffset},C.tickInterval=function(){var t=T.isCategory?2*E.tickOffset:(C.g.select("path.domain").node().getTotalLength()-2*E.outerTickSize)/C.g.selectAll("line").size();return t==1/0?0:t},C.ticks=function(){return arguments.length?(E.tickArguments=arguments,C):E.tickArguments},C.tickCulling=function(t){return arguments.length?(E.tickCulling=t,C):E.tickCulling},C.tickValues=function(t){if("function"==typeof t)E.tickValues=function(){return t(E.scale.domain())};else{if(!arguments.length)return E.tickValues;E.tickValues=t}return C},C};function p(t){this.owner=t,this.d3=t.d3,this.internal=e}var V={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},t=p;t.prototype.init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",V.axis+" "+V.axisX).attr("clip-path",e.axis_x_inner?"":t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",V.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",V.axis+" "+V.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",V.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",V.axis+" "+V.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",V.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},t.prototype.getXAxis=function(t,e,n,i,o,r,a){var s=this.owner,l=s.config,c={isCategory:s.isCategorized(),withOuterTick:o,tickMultiline:l.axis_x_tick_multiline,tickMultilineMax:l.axis_x_tick_multiline?Number(l.axis_x_tick_multilineMax):0,tickWidth:l.axis_x_tick_width,tickTextRotate:a?0:l.axis_x_tick_rotate,withoutTransition:r},u=new this.internal(this,c).axis.scale(t).orient(e);return s.isTimeSeries()&&i&&"function"!=typeof i&&(i=i.map(function(t){return s.parseDate(t)})),u.tickFormat(n).tickValues(i),s.isCategorized()&&(u.tickCentered(l.axis_x_tick_centered),d(l.axis_x_tick_culling)&&(l.axis_x_tick_culling=!1)),u},t.prototype.updateXAxisTickValues=function(t,e){var n,i=this.owner,o=i.config;return(o.axis_x_tick_fit||o.axis_x_tick_count)&&(n=this.generateTickValues(i.mapTargetsToUniqueXs(t),o.axis_x_tick_count,i.isTimeSeries())),e?e.tickValues(n):(i.xAxis.tickValues(n),i.subXAxis.tickValues(n)),n},t.prototype.getYAxis=function(t,e,n,i,o,r,a){var s=this.owner,l=s.config,c=l["axis_"+t+"_tick_format"];!c&&s.isAxisNormalized(t)&&(c=function(t){return t+"%"});var u=new this.internal(this,{withOuterTick:o,withoutTransition:r,tickTextRotate:a?0:l.axis_y_tick_rotate}).axis.scale(e).orient(n);return c&&u.tickFormat(c),s.isTimeSeriesY()?u.ticks(l.axis_y_tick_time_type,l.axis_y_tick_time_interval):u.tickValues(i),u},t.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},t.prototype.getXAxisTickFormat=function(){var e=this.owner,n=e.config,i=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(t){return t};return n.axis_x_tick_format&&(h(n.axis_x_tick_format)?i=n.axis_x_tick_format:e.isTimeSeries()&&(i=function(t){return t?e.axisTimeFormat(n.axis_x_tick_format)(t):""})),h(i)?function(t){return i.call(e,t)}:i},t.prototype.getTickValues=function(t,e){return t||(e?e.tickValues():void 0)},t.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},t.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},t.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},t.prototype.getLabelOptionByAxisId=function(t){var e,n=this.owner.config;return"y"===t?e=n.axis_y_label:"y2"===t?e=n.axis_y2_label:"x"===t&&(e=n.axis_x_label),e},t.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return f(e)?e:e?e.text:null},t.prototype.setLabelText=function(t,e){var n=this.owner.config,i=this.getLabelOptionByAxisId(t);f(i)?"y"===t?n.axis_y_label=e:"y2"===t?n.axis_y2_label=e:"x"===t&&(n.axis_x_label=e):i&&(i.text=e)},t.prototype.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),i=n&&"object"==typeof n&&n.position?n.position:e;return{isInner:0<=i.indexOf("inner"),isOuter:0<=i.indexOf("outer"),isLeft:0<=i.indexOf("left"),isCenter:0<=i.indexOf("center"),isRight:0<=i.indexOf("right"),isTop:0<=i.indexOf("top"),isMiddle:0<=i.indexOf("middle"),isBottom:0<=i.indexOf("bottom")}},t.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},t.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},t.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},t.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},t.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},t.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},t.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},t.prototype.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},t.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},t.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},t.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},t.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},t.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},t.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},t.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},t.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},t.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-(t.config.axis_x_inner?0:this.getMaxTickWidth("x")):n.isInner?"-0.5em":t.getHorizontalAxisHeight("x")-10},t.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},t.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},t.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},t.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},t.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},t.prototype.getMaxTickWidth=function(t,e){var n,i,o,r,a=this.owner,s=0;return e&&a.currentMaxTickWidths[t]||(a.svg&&(n=a.filterTargetsToShow(a.data.targets),"y"===t?(i=a.y.copy().domain(a.getYDomain(n,"y")),o=this.getYAxis(t,i,a.yOrient,a.yAxisTickValues,!1,!0,!0)):"y2"===t?(i=a.y2.copy().domain(a.getYDomain(n,"y2")),o=this.getYAxis(t,i,a.y2Orient,a.y2AxisTickValues,!1,!0,!0)):(i=a.x.copy().domain(a.getXDomain(n)),o=this.getXAxis(i,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,o)),(r=a.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(o).each(function(){a.d3.select(this).selectAll("text").each(function(){var t=c(this);s<t.width&&(s=t.width)}),r.remove()})),a.currentMaxTickWidths[t]=s<=0?a.currentMaxTickWidths[t]:s),a.currentMaxTickWidths[t]},t.prototype.updateLabels=function(t){var e=this.owner,n=e.main.select("."+V.axisX+" ."+V.axisXLabel),i=e.main.select("."+V.axisY+" ."+V.axisYLabel),o=e.main.select("."+V.axisY2+" ."+V.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?o.transition():o).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},t.prototype.getPadding=function(t,e,n,i){var o="number"==typeof t?t:t[e];return O(o)?"ratio"===t.unit?t[e]*i:this.convertPixelsToAxisPadding(o,i):n},t.prototype.convertPixelsToAxisPadding=function(t,e){var n=this.owner;return e*(t/(n.config.axis_rotated?n.width:n.height))},t.prototype.generateTickValues=function(t,e,n){var i,o,r,a,s,l,c,u=t;if(e)if(1===(i=h(e)?e():e))u=[t[0]];else if(2===i)u=[t[0],t[t.length-1]];else if(2<i){for(a=i-2,o=t[0],s=((r=t[t.length-1])-o)/(1+a),u=[o],l=0;l<a;l++)c=+o+s*(l+1),u.push(n?new Date(c):c);u.push(r)}return n||(u=u.sort(function(t,e){return t-e})),u},t.prototype.generateTransitions=function(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},t.prototype.redraw=function(t,e){var n=this.owner,i=t?n.d3.transition().duration(t):null;n.axes.x.style("opacity",e?0:1).call(n.xAxis,i),n.axes.y.style("opacity",e?0:1).call(n.yAxis,i),n.axes.y2.style("opacity",e?0:1).call(n.y2Axis,i),n.axes.subx.style("opacity",e?0:1).call(n.subXAxis,i)};var n={version:"0.7.20",chart:{fn:i.prototype,internal:{fn:u.prototype,axis:{fn:p.prototype,internal:{fn:e.prototype}}}},generate:function(t){return new i(t)}};function g(t){return t/Math.pow(10,Math.ceil(Math.log(t)/Math.LN10-1e-12))==1}u.prototype.beforeInit=function(){},u.prototype.afterInit=function(){},u.prototype.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},u.prototype.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+(new Date).valueOf()+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=void 0,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeParse=(n.data_xLocaltime?e.timeParse:e.utcParse)(t.config.data_xFormat),t.axisTimeFormat=n.axis_x_localtime?e.timeFormat:e.utcFormat,t.defaultAxisTimeFormat=function(t){return(t.getMilliseconds()?e.timeFormat(".%L"):t.getSeconds()?e.timeFormat(":%S"):t.getMinutes()?e.timeFormat("%I:%M"):t.getHours()?e.timeFormat("%I %p"):t.getDay()&&1!==t.getDate()||1!==t.getDate()||t.getMonth()?e.timeFormat("%-m/%-d"):e.timeFormat("%Y/%-m/%-d"))(t)},t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?n.axis_x_inner?"right":"left":n.axis_x_inner?"top":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},u.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},u.prototype.initWithData=function(t){var e,n,i=this,o=i.d3,r=i.config,a=!0;i.axis=new p(i),r.bindto?"function"==typeof r.bindto.node?i.selectChart=r.bindto:i.selectChart=o.select(r.bindto):i.selectChart=o.selectAll([]),i.selectChart.empty()&&(i.selectChart=o.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),a=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(t),r.data_filter&&(i.data.targets=i.data.targets.filter(r.data_filter)),r.data_hide&&i.addHiddenTargetIds(!0===r.data_hide?i.mapToIds(i.data.targets):r.data_hide),r.legend_hide&&i.addHiddenLegendIds(!0===r.legend_hide?i.mapToIds(i.data.targets):r.legend_hide),i.isStanfordGraphType()&&i.initStanfordData(),i.updateSizes(),i.updateScales(),i.x.domain(o.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return r.onmouseover.call(i)}).on("mouseleave",function(){return r.onmouseout.call(i)}),i.config.svg_classname&&i.svg.attr("class",i.config.svg_classname),e=i.svg.append("defs"),i.clipChart=i.appendClip(e,i.clipId),i.clipXAxis=i.appendClip(e,i.clipIdForXAxis),i.clipYAxis=i.appendClip(e,i.clipIdForYAxis),i.clipGrid=i.appendClip(e,i.clipIdForGrid),i.clipSubchart=i.appendClip(e,i.clipIdForSubchart),i.updateSvgSize(),n=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initPie&&i.initPie(),i.initDragZoom&&i.initDragZoom(),r.subchart_show&&i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),i.initTitle&&i.initTitle(),i.initZoom&&i.initZoom(),i.isStanfordGraphType()&&i.drawColorScale(),r.subchart_show&&i.initSubchartBrush&&i.initSubchartBrush(),n.append("text").attr("class",V.text+" "+V.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),n.append("g").attr("clip-path",i.clipPath).attr("class",V.chart),r.grid_lines_front&&i.initGridLines(),i.initStanfordElements(),i.initEventRect(),i.initChartElements(),i.axis.init(),i.updateTargets(i.data.targets),r.axis_x_selection&&i.brush.selectionAsValue(i.getDefaultSelection()),a&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),i.bindResize(),i.bindWindowFocus(),i.api.element=i.selectChart.node()},u.prototype.smoothLines=function(t,e){var r=this;"grid"===e&&t.each(function(){var t=r.d3.select(this),e=t.attr("x1"),n=t.attr("x2"),i=t.attr("y1"),o=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(n),y1:Math.ceil(i),y2:Math.ceil(o)})})},u.prototype.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,i=t.legend?t.getLegendWidth():0,o=t.isLegendRight||t.isLegendInset?0:n,r=t.hasArcType(),a=e.axis_rotated||r?0:t.getHorizontalAxisHeight("x"),s=e.axis_rotated||r?0:t.getHorizontalAxisHeight("x",!0),l=e.subchart_show&&!r?e.subchart_size_height+s:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:r?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+o+t.getCurrentPaddingBottom(),left:l+(r?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:r?0:t.getCurrentPaddingRight(),bottom:a+l+o+t.getCurrentPaddingBottom(),left:r?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+o,left:t.rotated_padding_left}:{top:t.currentHeight-l-o,right:NaN,bottom:s+o,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,i),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?i+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&r&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},u.prototype.updateTargets=function(t){var e=this,n=e.config;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),n.subchart_show&&e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},u.prototype.showTargets=function(){var e=this;e.svg.selectAll("."+V.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style("opacity",1)},u.prototype.redraw=function(t,e){var n,i,o,r,a,s,l,c,u,d,h,f,p,g,m,v=this,y=v.main,b=v.d3,_=v.config,E=v.getShapeIndices(v.isAreaType),w=v.getShapeIndices(v.isBarType),T=v.getShapeIndices(v.isLineType),C=v.hasArcType(),x=v.filterTargetsToShow(v.data.targets),D=v.xv.bind(v),O=j(t=t||{},"withY",!0),I=j(t,"withSubchart",!0),k=j(t,"withTransition",!0),S=j(t,"withTransform",!1),R=j(t,"withUpdateXDomain",!1),A=j(t,"withUpdateOrgXDomain",!1),M=j(t,"withTrimXDomain",!0),N=j(t,"withUpdateXAxis",R),K=j(t,"withLegend",!1),P=j(t,"withEventRect",!0),L=j(t,"withDimension",!0),F=j(t,"withTransitionForExit",k),B=j(t,"withTransitionForAxis",k),$=k?_.transition_duration:0,H=F?$:0,z=B?$:0;if(e=e||v.axis.generateTransitions(z),K&&_.legend_show?v.updateLegend(v.mapToIds(v.data.targets),t,e):L&&v.updateDimension(!0),v.isCategorized()&&0===x.length&&v.x.domain([0,v.axes.x.selectAll(".tick").size()]),x.length?(v.updateXDomain(x,R,A,M),_.axis_x_tick_values||(d=v.axis.updateXAxisTickValues(x))):(v.xAxis.tickValues([]),v.subXAxis.tickValues([])),_.zoom_rescale&&!t.flow&&(p=v.x.orgDomain()),v.y.domain(v.getYDomain(x,"y",p)),v.y2.domain(v.getYDomain(x,"y2",p)),!_.axis_y_tick_values&&_.axis_y_tick_count&&v.yAxis.tickValues(v.axis.generateTickValues(v.y.domain(),_.axis_y_tick_count)),!_.axis_y2_tick_values&&_.axis_y2_tick_count&&v.y2Axis.tickValues(v.axis.generateTickValues(v.y2.domain(),_.axis_y2_tick_count)),v.axis.redraw(z,C),v.axis.updateLabels(k),(R||N)&&x.length)if(_.axis_x_tick_culling&&d){for(h=1;h<d.length;h++)if(d.length/h<_.axis_x_tick_culling_max){f=h;break}v.svg.selectAll("."+V.axisX+" .tick text").each(function(t){var e=d.indexOf(t);0<=e&&b.select(this).style("display",e%f?"none":"block")})}else v.svg.selectAll("."+V.axisX+" .tick text").style("display","block");n=v.generateDrawArea?v.generateDrawArea(E,!1):void 0,i=v.generateDrawBar?v.generateDrawBar(w):void 0,o=v.generateDrawLine?v.generateDrawLine(T,!1):void 0,r=v.generateXYForText(E,w,T,!0),a=v.generateXYForText(E,w,T,!1),v.updateCircleY(),g=(v.config.axis_rotated?v.circleY:v.circleX).bind(v),m=(v.config.axis_rotated?v.circleX:v.circleY).bind(v),O&&(v.subY.domain(v.getYDomain(x,"y")),v.subY2.domain(v.getYDomain(x,"y2"))),v.updateXgridFocus(),y.select("text."+V.text+"."+V.empty).attr("x",v.width/2).attr("y",v.height/2).text(_.data_empty_label_text).transition().style("opacity",x.length?0:1),P&&v.redrawEventRect(),v.updateGrid($),v.updateStanfordElements($),v.updateRegion($),v.updateBar(H),v.updateLine(H),v.updateArea(H),v.updateCircle(g,m),v.hasDataLabel()&&v.updateText(r,a,H),v.redrawTitle&&v.redrawTitle(),v.redrawArc&&v.redrawArc($,H,S),_.subchart_show&&v.redrawSubchart&&v.redrawSubchart(I,e,$,H,E,w,T),v.isStanfordGraphType()&&v.drawColorScale(),y.selectAll("."+V.selectedCircles).filter(v.isBarType.bind(v)).selectAll("circle").remove(),t.flow&&(c=v.generateFlow({targets:x,flow:t.flow,duration:t.flow.duration,drawBar:i,drawLine:o,drawArea:n,cx:g,cy:m,xv:D,xForText:r,yForText:a})),$&&v.isTabVisible()?(u=b.transition().duration($),s=[],[v.redrawBar(i,!0,u),v.redrawLine(o,!0,u),v.redrawArea(n,!0,u),v.redrawCircle(g,m,!0,u),v.redrawText(r,a,t.flow,!0,u),v.redrawRegion(!0,u),v.redrawGrid(!0,u)].forEach(function(t){t.forEach(function(t){s.push(t)})}),l=v.generateWait(),s.forEach(function(t){l.add(t)}),l(function(){c&&c(),_.onrendered&&_.onrendered.call(v)})):(v.redrawBar(i),v.redrawLine(o),v.redrawArea(n),v.redrawCircle(g,m),v.redrawText(r,a,t.flow),v.redrawRegion(),v.redrawGrid(),c&&c(),_.onrendered&&_.onrendered.call(v)),v.mapToIds(v.data.targets).forEach(function(t){v.withoutFadeIn[t]=!0})},u.prototype.updateAndRedraw=function(t){var e,n=this.config;(t=t||{}).withTransition=j(t,"withTransition",!0),t.withTransform=j(t,"withTransform",!1),t.withLegend=j(t,"withLegend",!1),t.withUpdateXDomain=j(t,"withUpdateXDomain",!0),t.withUpdateOrgXDomain=j(t,"withUpdateOrgXDomain",!0),t.withTransitionForExit=!1,t.withTransitionForTransform=j(t,"withTransitionForTransform",t.withTransition),this.updateSizes(),t.withLegend&&n.legend_show||(e=this.axis.generateTransitions(t.withTransitionForAxis?n.transition_duration:0),this.updateScales(),this.updateSvgSize(),this.transformAll(t.withTransitionForTransform,e)),this.redraw(t,e)},u.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},u.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},u.prototype.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")},u.prototype.isCustomX=function(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||I(t.data_xs))},u.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},u.prototype.getTranslate=function(t){var e,n,i=this,o=i.config;return"main"===t?(e=r(i.margin.left),n=r(i.margin.top)):"context"===t?(e=r(i.margin2.left),n=r(i.margin2.top)):"legend"===t?(e=i.margin3.left,n=i.margin3.top):"x"===t?(e=0,n=o.axis_rotated?0:i.height):"y"===t?(e=0,n=o.axis_rotated?i.height:0):"y2"===t?(e=o.axis_rotated?0:i.width,n=o.axis_rotated?1:0):"subx"===t?(e=0,n=o.axis_rotated?0:i.height2):"arc"===t&&(e=i.arcWidth/2,n=i.arcHeight/2-(i.hasType("gauge")?6:0)),"translate("+e+","+n+")"},u.prototype.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},u.prototype.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},u.prototype.opacityForCircle=function(t){var e=(h(this.config.point_show)?this.config.point_show(t):this.config.point_show)||this.isStanfordType(t)?1:0;return O(t.value)?this.isScatterType(t)?.5:e:0},u.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},u.prototype.xx=function(t){return t?this.x(t.x):null},u.prototype.xvCustom=function(t,e){var n=e?t[e]:t.value;return this.isTimeSeries()?n=this.parseDate(t.value):this.isCategorized()&&"string"==typeof t.value&&(n=this.config.axis_x_categories.indexOf(t.value)),Math.ceil(this.x(n))},u.prototype.yvCustom=function(t,e){var n=t.axis&&"y2"===t.axis?this.y2:this.y,i=e?t[e]:t.value;return Math.ceil(n(i))},u.prototype.xv=function(t){var e=t.value;return this.isTimeSeries()?e=this.parseDate(t.value):this.isCategorized()&&"string"==typeof t.value&&(e=this.config.axis_x_categories.indexOf(t.value)),Math.ceil(this.x(e))},u.prototype.yv=function(t){var e=t.axis&&"y2"===t.axis?this.y2:this.y;return Math.ceil(e(t.value))},u.prototype.subxx=function(t){return t?this.subX(t.x):null},u.prototype.transformMain=function(t,e){var n,i,o,r=this;e&&e.axisX?n=e.axisX:(n=r.main.select("."+V.axisX),t&&(n=n.transition())),e&&e.axisY?i=e.axisY:(i=r.main.select("."+V.axisY),t&&(i=i.transition())),e&&e.axisY2?o=e.axisY2:(o=r.main.select("."+V.axisY2),t&&(o=o.transition())),(t?r.main.transition():r.main).attr("transform",r.getTranslate("main")),n.attr("transform",r.getTranslate("x")),i.attr("transform",r.getTranslate("y")),o.attr("transform",r.getTranslate("y2")),r.main.select("."+V.chartArcs).attr("transform",r.getTranslate("arc"))},u.prototype.transformAll=function(t,e){this.transformMain(t,e),this.config.subchart_show&&this.transformContext(t,e),this.legend&&this.transformLegend(t)},u.prototype.updateSvgSize=function(){var t=this,e=t.svg.select("."+V.brush+" .overlay");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()&&e.attr("height")||0),t.selectChart.style("max-height",t.currentHeight+"px")},u.prototype.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},u.prototype.observeInserted=function(e){var n,i=this;"undefined"!=typeof MutationObserver?(n=new MutationObserver(function(t){t.forEach(function(t){"childList"===t.type&&t.previousSibling&&(n.disconnect(),i.intervalForObserveInserted=window.setInterval(function(){e.node().parentNode&&(window.clearInterval(i.intervalForObserveInserted),i.updateDimension(),i.brush&&i.brush.update(),i.config.oninit.call(i),i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})})).observe(e.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},u.prototype.bindResize=function(){var t=this,e=t.config;t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout(function(){delete t.resizeTimeout,t.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.brush&&t.brush.update()},100)}),t.resizeFunction.add(function(){e.onresized.call(t)}),t.resizeIfElementDisplayed=function(){null!=t.api&&t.api.element.offsetParent&&t.resizeFunction()},window.addEventListener("resize",t.resizeIfElementDisplayed,!1)},u.prototype.bindWindowFocus=function(){var t=this;this.windowFocusHandler||(this.windowFocusHandler=function(){t.redraw()},window.addEventListener("focus",this.windowFocusHandler))},u.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},u.prototype.generateResize=function(){var n=[];function t(){n.forEach(function(t){t()})}return t.add=function(t){n.push(t)},t.remove=function(t){for(var e=0;e<n.length;e++)if(n[e]===t){n.splice(e,1);break}},t},u.prototype.endall=function(t,e){var n=0;t.each(function(){++n}).on("end",function(){--n||e.apply(this,arguments)})},u.prototype.generateWait=function(){function t(t){var n=setInterval(function(){var e;i.isTabVisible()&&(e=0,o.forEach(function(t){if(t.empty())e+=1;else try{t.transition()}catch(t){e+=1}}),e===o.length&&(clearInterval(n),t&&t()))},50)}var i=this,o=[];return t.add=function(t){o.push(t)},t},u.prototype.parseDate=function(t){var e;return t instanceof Date?e=t:"string"==typeof t?e=this.dataTimeParse(t):"object"!=typeof t&&("number"!=typeof t||isNaN(t))||(e=new Date(+t)),e&&!isNaN(+e)||window.console.error("Failed to parse x '"+t+"' to Date object"),e},u.prototype.isTabVisible=function(){return!document.hidden},u.prototype.getPathBox=b,u.prototype.CLASS=V,"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,i,o,r,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=i,this._y1=o,this._x2=r,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,i,o,r,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=i,this._y1=o,this._x2=r,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,i,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=i,this._y1=o},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,i,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=i,this._y1=o},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,i,o,r,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=i,this._r2=o,this._angle=r,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,i,o,r,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=i,this._r2=o,this._angle=r,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=i,this._y2=o},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=i,this._y2=o},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,i,o,r){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,n,i,o,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,i,o,r){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,n,i,o,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,i,o,r,a){return new window.SVGPathSegArcAbs(void 0,t,e,n,i,o,r,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,i,o,r,a){return new window.SVGPathSegArcRel(void 0,t,e,n,i,o,r,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(0<n);return n})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){var e;this._pathElement&&(e=!1,t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d"))))},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),((this._list[e]=t)._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach(function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];function e(){this.pathSegList=[]}var i=this;function n(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()}e.prototype.appendSegment=function(t){this.pathSegList.push(t)},n.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},n.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},n.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},n.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},n.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},n.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},n.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||"0"<=t&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},n.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},n.prototype._parseNumber=function(){var t=0,e=0,n=1,i=0,o=1,r=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var l=this._currentIndex-1,c=1;s<=l;)e+=c*(this._string.charAt(l--)-"0"),c*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)n*=10,i+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var u=e+i;if(u*=o,t&&(u*=Math.pow(10,r*t)),a!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),u}},n.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},n.prototype.parseSegment=function(){var t=this._string[this._currentIndex],e=this._pathSegTypeFromChar(t);if(e==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((e=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=e){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(i);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(i,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(i,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(i,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(i,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(i,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(i,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(i,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(i,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);default:throw"Unknown path seg type."}};var o=new e,r=new n(t);if(!r.initialCommandIsMoveTo())return[];for(;r.hasMoreData();){var a=r.parseSegment();if(!a)return[];o.appendSegment(a)}return o.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(t,e){return t>>=0,e=String(void 0!==e?e:" "),this.length>t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),String(this)+e.slice(0,t))}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n},writable:!0,configurable:!0}),(i.prototype.axis=function(){}).labels=function(e){var n=this.internal;arguments.length&&(Object.keys(e).forEach(function(t){n.axis.setLabelText(t,e[t])}),n.axis.updateLabels())},i.prototype.axis.max=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max};"object"==typeof t?(O(t.x)&&(n.axis_x_max=t.x),O(t.y)&&(n.axis_y_max=t.y),O(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},i.prototype.axis.min=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min};"object"==typeof t?(O(t.x)&&(n.axis_x_min=t.x),O(t.y)&&(n.axis_y_min=t.y),O(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},i.prototype.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};K(t.max)&&this.axis.max(t.max),K(t.min)&&this.axis.min(t.min)},i.prototype.axis.types=function(t){var e=this.internal;if(void 0===t)return{y:e.config.axis_y_type,y2:e.config.axis_y2_type};K(t.y)&&(e.config.axis_y_type=t.y),K(t.y2)&&(e.config.axis_y2_type=t.y2),e.updateScales(),e.redraw()},i.prototype.category=function(t,e){var n=this.internal,i=n.config;return 1<arguments.length&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},i.prototype.categories=function(t){var e=this.internal,n=e.config;return arguments.length&&(n.axis_x_categories=t,e.redraw()),n.axis_x_categories},i.prototype.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},i.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},i.prototype.destroy=function(){var e=this.internal;return window.clearInterval(e.intervalForObserveInserted),void 0!==e.resizeTimeout&&window.clearTimeout(e.resizeTimeout),window.removeEventListener("resize",e.resizeIfElementDisplayed),e.resizeFunction.remove(),e.unbindWindowFocus(),e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},i.prototype.color=function(t){return this.internal.color(t)},(i.prototype.data=function(e){var t=this.internal.data.targets;return void 0===e?t:t.filter(function(t){return 0<=[].concat(e).indexOf(t.id)})}).shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},i.prototype.data.values=function(t,i){void 0===i&&(i=!0);var e,n=null;return!t||(e=this.data(t))&&a(e)&&(n=e.reduce(function(t,e){var n=e.values.map(function(t){return t.value});return i?t=t.concat(n):t.push(n),t},[])),n},i.prototype.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},i.prototype.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},i.prototype.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},i.prototype.data.stackNormalized=function(t){if(void 0===t)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!t,this.internal.redraw()},(i.prototype.donut=function(){}).padAngle=function(t){if(void 0===t)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=t,this.flush()},i.prototype.flow=function(t){var o,e,n,i,r,a,s,l=this.internal,c=[],u=l.getMaxDataCount(),d=0,h=0;if(t.json)e=l.convertJsonToData(t.json,t.keys);else if(t.rows)e=l.convertRowsToData(t.rows);else{if(!t.columns)return;e=l.convertColumnsToData(t.columns)}o=l.convertDataToTargets(e,!0),l.data.targets.forEach(function(t){for(var e,n=!1,i=0;i<o.length;i++)if(t.id===o[i].id){for(n=!0,t.values[t.values.length-1]&&(h=t.values[t.values.length-1].index+1),d=o[i].values.length,e=0;e<d;e++)o[i].values[e].index=h+e,l.isTimeSeries()||(o[i].values[e].x=h+e);t.values=t.values.concat(o[i].values),o.splice(i,1);break}n||c.push(t.id)}),l.data.targets.forEach(function(t){for(var e,n=0;n<c.length;n++)if(t.id===c[n])for(h=t.values[t.values.length-1].index+1,e=0;e<d;e++)t.values.push({id:t.id,index:h+e,x:l.isTimeSeries()?l.getOtherTargetX(h+e):h+e,value:null})}),l.data.targets.length&&o.forEach(function(t){for(var e=[],n=l.data.targets[0].values[0].index;n<h;n++)e.push({id:t.id,index:n,x:l.isTimeSeries()?l.getOtherTargetX(n):n,value:null});t.values.forEach(function(t){t.index+=h,l.isTimeSeries()||(t.x+=h)}),t.values=e.concat(t.values)}),l.data.targets=l.data.targets.concat(o),l.getMaxDataCount(),r=(i=l.data.targets[0]).values[0],K(t.to)?(d=0,s=l.isTimeSeries()?l.parseDate(t.to):t.to,i.values.forEach(function(t){t.x<s&&d++})):K(t.length)&&(d=t.length),u?1===u&&l.isTimeSeries()&&(a=(i.values[i.values.length-1].x-r.x)/2,n=[new Date(r.x-a),new Date(+r.x+a)],l.updateXDomain(null,!0,!0,!1,n)):(a=l.isTimeSeries()?1<i.values.length?i.values[i.values.length-1].x-r.x:r.x-l.getXDomain(l.data.targets)[0]:1,n=[r.x-a,r.x],l.updateXDomain(null,!0,!0,!1,n)),l.updateTargets(l.data.targets),l.redraw({flow:{index:r.index,length:d,duration:O(t.duration)?t.duration:l.config.transition_duration,done:t.done,orgDataCount:u},withLegend:!0,withTransition:1<u,withTrimXDomain:!1,withUpdateXAxis:!0})},u.prototype.generateFlow=function(S){var R=this,A=R.config,M=R.d3;return function(){var t,e,i,o,r,a,s,l,c,u,n=S.targets,d=S.flow,h=S.drawBar,f=S.drawLine,p=S.drawArea,g=S.cx,m=S.cy,v=S.xv,y=S.xForText,b=S.yForText,_=S.duration,E=d.index,w=d.length,T=R.getValueOnIndex(R.data.targets[0].values,E),C=R.getValueOnIndex(R.data.targets[0].values,E+w),x=R.x.domain(),D=d.duration||_,O=d.done||function(){},I=R.generateWait();R.flowing=!0,R.data.targets.forEach(function(t){t.values.splice(0,w)}),e=R.updateXDomain(n,!0,!0),R.updateXGrid&&R.updateXGrid(!0),i=R.xgrid||M.selectAll([]),o=R.xgridLines||M.selectAll([]),r=R.mainRegion||M.selectAll([]),a=R.mainText||M.selectAll([]),s=R.mainBar||M.selectAll([]),l=R.mainLine||M.selectAll([]),c=R.mainArea||M.selectAll([]),u=R.mainCircle||M.selectAll([]),t="translate("+(d.orgDataCount?1===d.orgDataCount||(T&&T.x)===(C&&C.x)||R.isTimeSeries()?R.x(x[0])-R.x(e[0]):R.x(T.x)-R.x(C.x):1!==R.data.targets[0].values.length?R.x(x[0])-R.x(e[0]):R.isTimeSeries()?(T=R.getValueOnIndex(R.data.targets[0].values,0),C=R.getValueOnIndex(R.data.targets[0].values,R.data.targets[0].values.length-1),R.x(T.x)-R.x(C.x)):N(e)/2)+",0) scale("+N(x)/N(e)+",1)",R.hideXGridFocus();var k=M.transition().ease(M.easeLinear).duration(D);I.add(R.xAxis(R.axes.x,k)),I.add(s.transition(k).attr("transform",t)),I.add(l.transition(k).attr("transform",t)),I.add(c.transition(k).attr("transform",t)),I.add(u.transition(k).attr("transform",t)),I.add(a.transition(k).attr("transform",t)),I.add(r.filter(R.isRegionOnX).transition(k).attr("transform",t)),I.add(i.transition(k).attr("transform",t)),I.add(o.transition(k).attr("transform",t)),I(function(){var t,e=[],n=[];if(w){for(t=0;t<w;t++)e.push("."+V.shape+"-"+(E+t)),n.push("."+V.text+"-"+(E+t));R.svg.selectAll("."+V.shapes).selectAll(e).remove(),R.svg.selectAll("."+V.texts).selectAll(n).remove(),R.svg.select("."+V.xgrid).remove()}i.attr("transform",null).attr("x1",R.xgridAttr.x1).attr("x2",R.xgridAttr.x2).attr("y1",R.xgridAttr.y1).attr("y2",R.xgridAttr.y2).style("opacity",R.xgridAttr.opacity),o.attr("transform",null),o.select("line").attr("x1",A.axis_rotated?0:v).attr("x2",A.axis_rotated?R.width:v),o.select("text").attr("x",A.axis_rotated?R.width:0).attr("y",v),s.attr("transform",null).attr("d",h),l.attr("transform",null).attr("d",f),c.attr("transform",null).attr("d",p),u.attr("transform",null).attr("cx",g).attr("cy",m),a.attr("transform",null).attr("x",y).attr("y",b).style("fill-opacity",R.opacityForText.bind(R)),r.attr("transform",null),r.filter(R.isRegionOnX).attr("x",R.regionX.bind(R)).attr("width",R.regionWidth.bind(R)),O(),R.flowing=!1})}},i.prototype.focus=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),t.classed(V.focused,!0).classed(V.defocused,!1),n.hasArcType()&&n.expandArc(e),n.toggleFocusLegend(e,!0),n.focusedTargetIds=e,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(t){return e.indexOf(t)<0})},i.prototype.defocus=function(e){var t=this.internal;e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e.filter(t.isTargetToShow,t))).classed(V.focused,!1).classed(V.defocused,!0),t.hasArcType()&&t.unexpandArc(e),t.toggleFocusLegend(e,!1),t.focusedTargetIds=t.focusedTargetIds.filter(function(t){return e.indexOf(t)<0}),t.defocusedTargetIds=e},i.prototype.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(V.focused,!1).classed(V.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter(function(){return e.d3.select(this).classed(V.legendItemFocused)}).classed(V.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},(i.prototype.xgrids=function(t){var e=this.internal,n=e.config;return t&&(n.grid_x_lines=t,e.redrawWithoutRescale()),n.grid_x_lines}).add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},i.prototype.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},(i.prototype.ygrids=function(t){var e=this.internal,n=e.config;return t&&(n.grid_y_lines=t,e.redrawWithoutRescale()),n.grid_y_lines}).add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},i.prototype.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},i.prototype.groups=function(t){var e=this.internal,n=e.config;return E(t)||(n.data_groups=t,e.redraw()),n.data_groups},(i.prototype.legend=function(){}).show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},i.prototype.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!1})},i.prototype.load=function(e){var t=this.internal,n=t.config;e.xs&&t.addXs(e.xs),"names"in e&&i.prototype.data.names.bind(this)(e.names),"classes"in e&&Object.keys(e.classes).forEach(function(t){n.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(n.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){n.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){n.data_colors[t]=e.colors[t]}),"cacheIds"in e&&t.hasCaches(e.cacheIds)?t.load(t.getCaches(e.cacheIds),e.done):e.unload?t.unload(t.mapToTargetIds(!0===e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e)},i.prototype.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},(i.prototype.pie=function(){}).padAngle=function(t){if(void 0===t)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=t,this.flush()},(i.prototype.regions=function(t){var e=this.internal,n=e.config;return t&&(n.regions=t,e.redrawWithoutRescale()),n.regions}).add=function(t){var e=this.internal,n=e.config;return t&&(n.regions=n.regions.concat(t),e.redrawWithoutRescale()),n.regions},i.prototype.regions.remove=function(t){var e=this.internal,n=e.config,i=j(t=t||{},"duration",n.transition_duration),o=j(t,"classes",[V.region]),r=e.main.select("."+V.regions).selectAll(o.map(function(t){return"."+t}));return(i?r.transition().duration(i):r).style("opacity",0).remove(),n.regions=n.regions.filter(function(t){var e=!1;return!t.class||(t.class.split(" ").forEach(function(t){0<=o.indexOf(t)&&(e=!0)}),!e)}),n.regions},i.prototype.selected=function(t){var e=this.internal,n=e.d3;return e.main.selectAll("."+V.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+V.shape).filter(function(){return n.select(this).classed(V.SELECTED)}).nodes().map(function(t){var e=t.__data__;return e.data?e.data:e})},i.prototype.select=function(l,c,u){var d=this.internal,h=d.d3,f=d.config;f.data_selection_enabled&&d.main.selectAll("."+V.shapes).selectAll("."+V.shape).each(function(t,e){var n=h.select(this),i=t.data?t.data.id:t.id,o=d.getToggle(this,t).bind(d),r=f.data_selection_grouped||!l||0<=l.indexOf(i),a=!c||0<=c.indexOf(e),s=n.classed(V.SELECTED);n.classed(V.line)||n.classed(V.area)||(r&&a?f.data_selection_isselectable(t)&&!s&&o(!0,n.classed(V.SELECTED,!0),t,e):K(u)&&u&&s&&o(!1,n.classed(V.SELECTED,!1),t,e))})},i.prototype.unselect=function(l,c){var u=this.internal,d=u.d3,h=u.config;h.data_selection_enabled&&u.main.selectAll("."+V.shapes).selectAll("."+V.shape).each(function(t,e){var n=d.select(this),i=t.data?t.data.id:t.id,o=u.getToggle(this,t).bind(u),r=h.data_selection_grouped||!l||0<=l.indexOf(i),a=!c||0<=c.indexOf(e),s=n.classed(V.SELECTED);n.classed(V.line)||n.classed(V.area)||r&&a&&h.data_selection_isselectable(t)&&s&&o(!1,n.classed(V.SELECTED,!1),t,e)})},i.prototype.show=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.removeHiddenTargetIds(t),(n=i.svg.selectAll(i.selectorTargets(t))).transition().style("display",l()?"block":"initial","important").style("opacity",1,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&i.showLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},i.prototype.hide=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.addHiddenTargetIds(t),(n=i.svg.selectAll(i.selectorTargets(t))).transition().style("opacity",0,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",0),n.style("display","none")}),e.withLegend&&i.hideLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},i.prototype.toggle=function(t,e){var n=this,i=this.internal;i.mapToTargetIds(t).forEach(function(t){i.isTargetToShow(t)?n.hide(t,e):n.show(t,e)})},(i.prototype.subchart=function(){}).isShown=function(){return this.internal.config.subchart_show},i.prototype.subchart.show=function(){var e=this.internal;e.config.subchart_show||(e.config.subchart_show=!0,e.initSubchart(),e.updateDimension(),e.initSubchartBrush(),e.updateTargetsForSubchart(e.getTargets()),e.mapToIds(e.data.targets).forEach(function(t){e.withoutFadeIn[t]=!1}),e.updateAndRedraw(),e.showTargets())},i.prototype.subchart.hide=function(){var t=this.internal;t.config.subchart_show&&(t.config.subchart_show=!1,t.removeSubchart(),t.redraw())},(i.prototype.tooltip=function(){}).show=function(e){var t,n,i=this.internal,o=e.mouse?e.mouse:(e.data?n=e.data:void 0!==e.x&&(t=e.id?i.data.targets.filter(function(t){return t.id===e.id}):i.data.targets,n=i.filterByX(t,e.x).slice(0,1)[0]),n?i.getMousePosition(n):null);i.dispatchEvent("mousemove",o),i.config.tooltip_onshow.call(i,n)},i.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},i.prototype.transform=function(t,e){var n=this.internal,i=0<=["pie","donut"].indexOf(t)?{withTransform:!0}:null;n.transformTo(e,t,i)},u.prototype.transformTo=function(t,e,n){var i=!this.hasArcType(),o=n||{withTransitionForAxis:i};o.withTransitionForTransform=!1,this.transiting=!1,this.setTargetType(t,e),this.updateTargets(this.data.targets),this.updateAndRedraw(o)},i.prototype.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},i.prototype.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},(i.prototype.zoom=function(t){var e=this.internal;return t?(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.config.subchart_show?e.brush.selectionAsValue(t,!0):(e.updateXDomain(null,!0,!1,!1,t),e.redraw({withY:e.config.zoom_rescale,withSubchart:!1})),e.config.zoom_onzoom.call(this,e.x.orgDomain()),t):e.x.domain()}).enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},i.prototype.unzoom=function(){var t=this.internal;t.config.subchart_show?t.brush.clear():(t.updateXDomain(null,!0,!1,!1,t.subX.domain()),t.redraw({withY:t.config.zoom_rescale,withSubchart:!1}))},i.prototype.zoom.max=function(t){var e=this.internal,n=e.config,i=e.d3;if(0!==t&&!t)return n.zoom_x_max;n.zoom_x_max=i.max([e.orgXDomain[1],t])},i.prototype.zoom.min=function(t){var e=this.internal,n=e.config,i=e.d3;if(0!==t&&!t)return n.zoom_x_min;n.zoom_x_min=i.min([e.orgXDomain[0],t])},i.prototype.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};K(t.max)&&this.domain.max(t.max),K(t.min)&&this.domain.min(t.min)},u.prototype.initPie=function(){var t=this.d3;this.pie=t.pie().padAngle(this.getPadAngle.bind(this)).value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)});var n,e=this.getOrderFunction();e&&(this.isOrderAsc()||this.isOrderDesc())&&(n=e,e=function(t,e){return-1*n(t,e)}),this.pie.sort(e||null)},u.prototype.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width,i=t.filterTargetsToShow(t.data.targets).length*t.config.gauge_arcs_minWidth;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2*(t.hasType("gauge")?.85:1),t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0,t.gaugeArcWidth=n||(i<=t.radius-t.innerRadius?t.radius-t.innerRadius:i<=t.radius?i:t.radius)},u.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},u.prototype.updateArc=function(){this.svgArc=this.getSvgArc(),this.svgArcExpanded=this.getSvgArcExpanded(),this.svgArcExpandedSub=this.getSvgArcExpanded(.98)},u.prototype.updateAngle=function(e){var t,n,i,o,r=this.config,a=!1,s=0;return r?(this.pie(this.filterTargetsToShow(this.data.targets)).forEach(function(t){a||t.data.id!==e.data.id||(a=!0,(e=t).index=s),s++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),this.isGaugeType(e.data)&&(t=r.gauge_min,n=r.gauge_max,i=Math.PI*(r.gauge_fullCircle?2:1)/(n-t),o=e.value<t?0:e.value<n?e.value-t:n-t,e.startAngle=r.gauge_startingAngle,e.endAngle=e.startAngle+i*o),a?e:null):null},u.prototype.getSvgArc=function(){function t(t,e){var n;return e?o(t):(n=i.updateAngle(t))?o(n):"M 0 0"}var i=this,e=i.hasType("gauge"),n=i.gaugeArcWidth/i.filterTargetsToShow(i.data.targets).length,o=i.d3.arc().outerRadius(function(t){return e?i.radius-n*t.index:i.radius}).innerRadius(function(t){return e?i.radius-n*(t.index+1):i.innerRadius});return t.centroid=o.centroid,t},u.prototype.getSvgArcExpanded=function(e){e=e||1;var n=this,i=n.hasType("gauge"),o=n.gaugeArcWidth/n.filterTargetsToShow(n.data.targets).length,r=Math.min(n.radiusExpanded*e-n.radius,.8*o-100*(1-e)),a=n.d3.arc().outerRadius(function(t){return i?n.radius-o*t.index+r:n.radiusExpanded*e}).innerRadius(function(t){return i?n.radius-o*(t.index+1):n.innerRadius});return function(t){var e=n.updateAngle(t);return e?a(e):"M 0 0"}},u.prototype.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},u.prototype.transformForArcLabel=function(t){var e,n,i,o,r,a,s=this,l=s.config,c=s.updateAngle(t),u="",d=s.hasType("gauge");return c&&!d?(e=this.svgArc.centroid(c),r=isNaN(e[0])?0:e[0],a=isNaN(e[1])?0:e[1],n=Math.sqrt(r*r+a*a),u="translate("+r*(i=s.hasType("donut")&&l.donut_label_ratio?h(l.donut_label_ratio)?l.donut_label_ratio(t,s.radius,n):l.donut_label_ratio:s.hasType("pie")&&l.pie_label_ratio?h(l.pie_label_ratio)?l.pie_label_ratio(t,s.radius,n):l.pie_label_ratio:s.radius&&n?(.375<36/s.radius?1.175-36/s.radius:.8)*s.radius/n:0)+","+a*i+")"):c&&d&&1<s.filterTargetsToShow(s.data.targets).length&&(o=Math.sin(c.endAngle-Math.PI/2),u="translate("+(r=Math.cos(c.endAngle-Math.PI/2)*(s.radiusExpanded+25))+","+(a=o*(s.radiusExpanded+15-Math.abs(10*o))+3)+")"),u},u.prototype.getArcRatio=function(t){return this.getRatio("arc",t)},u.prototype.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getRatio("arc",t),index:t.index})},u.prototype.textForArcLabel=function(t){var e,n,i,o,r;return this.shouldShowArcLabel()?(n=(e=this.updateAngle(t))?e.value:null,i=this.getRatio("arc",e),o=t.data.id,this.hasType("gauge")||this.meetsArcLabelThreshold(i)?(r=this.getArcLabelFormat())?r(n,i,o):this.defaultArcValueFormat(n,i):""):""},u.prototype.textForGaugeMinMax=function(t,e){var n=this.getGaugeLabelExtents();return n?n(t,e):t},u.prototype.expandArc=function(t){var e,n=this;n.transiting?e=window.setInterval(function(){n.transiting||(window.clearInterval(e),0<n.legend.selectAll(".c3-legend-item-focused").size()&&n.expandArc(t))},10):(t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+V.chartArc)).each(function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub).each(function(t){n.isDonutType(t.data)})}))},u.prototype.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+V.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+V.arc))},u.prototype.expandDuration=function(t){var e=this.config;return this.isDonutType(t)?e.donut_expand_duration:this.isGaugeType(t)?e.gauge_expand_duration:this.isPieType(t)?e.pie_expand_duration:50},u.prototype.shouldExpand=function(t){var e=this.config;return this.isDonutType(t)&&e.donut_expand||this.isGaugeType(t)&&e.gauge_expand||this.isPieType(t)&&e.pie_expand},u.prototype.shouldShowArcLabel=function(){var t=this.config,e=!0;return this.hasType("donut")?e=t.donut_label_show:this.hasType("pie")&&(e=t.pie_label_show),e},u.prototype.meetsArcLabelThreshold=function(t){var e=this.config;return(this.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold)<=t},u.prototype.getArcLabelFormat=function(){var t=this.config,e=t.pie_label_format;return this.hasType("gauge")?e=t.gauge_label_format:this.hasType("donut")&&(e=t.donut_label_format),e},u.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},u.prototype.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},u.prototype.updateTargetsForArc=function(t){var e=this.main,n=this.classChartArc.bind(this),i=this.classArcs.bind(this),o=this.classFocus.bind(this),r=e.select("."+V.chartArcs).selectAll("."+V.chartArc).data(this.pie(t)).attr("class",function(t){return n(t)+o(t.data)}).enter().append("g").attr("class",n);r.append("g").attr("class",i),r.append("text").attr("dy",this.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},u.prototype.initArc=function(){this.arcs=this.main.select("."+V.chart).append("g").attr("class",V.chartArcs).attr("transform",this.getTranslate("arc")),this.arcs.append("text").attr("class",V.chartArcsTitle).style("text-anchor","middle").text(this.getArcTitle())},u.prototype.redrawArc=function(t,e,n){var i,o,r,a,u=this,d=u.d3,s=u.config,l=u.main,c=u.hasType("gauge"),h=l.selectAll("."+V.arcs).selectAll("."+V.arc).data(u.arcData.bind(u)),f=h.enter().append("path").attr("class",u.classArc.bind(u)).style("fill",function(t){return u.color(t.data)}).style("cursor",function(t){return s.interaction_enabled&&s.data_selection_isselectable(t)?"pointer":null}).each(function(t){u.isGaugeType(t.data)&&(t.startAngle=t.endAngle=s.gauge_startingAngle),this._current=t}).merge(h);c&&(o=(i=l.selectAll("."+V.arcs).selectAll("."+V.arcLabelLine).data(u.arcData.bind(u))).enter().append("rect").attr("class",function(t){return V.arcLabelLine+" "+V.target+" "+V.target+"-"+t.data.id}).merge(i),1===u.filterTargetsToShow(u.data.targets).length?o.style("display","none"):o.style("fill",function(t){return u.levelColor?u.levelColor(t.data.values.reduce(function(t,e){return t+e.value},0)):u.color(t.data)}).style("display",s.gauge_labelLine_show?"":"none").each(function(t){var e,n,i,o,r,a=0,s=0,l=0,c="";u.hiddenTargetIds.indexOf(t.data.id)<0&&(e=u.updateAngle(t),n=u.gaugeArcWidth/u.filterTargetsToShow(u.data.targets).length*(e.index+1),r=(i=e.endAngle-Math.PI/2)-(0==(o=u.radius-n)?0:1/o),a=u.radiusExpanded-u.radius+n,s=Math.cos(r)*o,l=Math.sin(r)*o,c="rotate("+180*i/Math.PI+", "+s+", "+l+")"),d.select(this).attr("x",s).attr("y",l).attr("width",a).attr("height",2).attr("transform",c).style("stroke-dasharray","0, "+(a+2)+", 0")})),f.attr("transform",function(t){return!u.isGaugeType(t.data)&&n?"scale(0)":""}).on("mouseover",s.interaction_enabled?function(t){var e,n;u.transiting||(e=u.updateAngle(t))&&(n=u.convertToArcData(e),u.expandArc(e.data.id),u.api.focus(e.data.id),u.toggleFocusLegend(e.data.id,!0),u.config.data_onmouseover(n,this))}:null).on("mousemove",s.interaction_enabled?function(t){var e,n=u.updateAngle(t);n&&(e=[u.convertToArcData(n)],u.showTooltip(e,this))}:null).on("mouseout",s.interaction_enabled?function(t){var e,n;u.transiting||(e=u.updateAngle(t))&&(n=u.convertToArcData(e),u.unexpandArc(e.data.id),u.api.revert(),u.revertLegend(),u.hideTooltip(),u.config.data_onmouseout(n,this))}:null).on("click",s.interaction_enabled?function(t,e){var n,i=u.updateAngle(t);i&&(n=u.convertToArcData(i),u.toggleShape&&u.toggleShape(this,n,e),u.config.data_onclick.call(u.api,n,this))}:null).each(function(){u.transiting=!0}).transition().duration(t).attrTween("d",function(n){var i,t=u.updateAngle(n);return t?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),i=d.interpolate(this._current,t),this._current=i(0),function(t){if(null===u.config)return"M 0 0";var e=i(t);return e.data=n.data,u.getArc(e,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return u.levelColor?u.levelColor(t.data.values.reduce(function(t,e){return t+e.value},0)):u.color(t.data.id)}).call(u.endall,function(){u.transiting=!1}),h.exit().transition().duration(e).style("opacity",0).remove(),l.selectAll("."+V.chartArc).select("text").style("opacity",0).attr("class",function(t){return u.isGaugeType(t.data)?V.gaugeValue:""}).text(u.textForArcLabel.bind(u)).attr("transform",u.transformForArcLabel.bind(u)).style("font-size",function(t){return u.isGaugeType(t.data)&&1===u.filterTargetsToShow(u.data.targets).length?Math.round(u.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return u.isTargetToShow(t.data.id)&&u.isArcType(t.data)?1:0}),l.select("."+V.chartArcsTitle).style("opacity",u.hasType("donut")||c?1:0),c&&(r=0,(a=u.arcs.select("g."+V.chartArcsBackground).selectAll("path."+V.chartArcsBackground).data(u.data.targets)).enter().append("path").attr("class",function(t,e){return V.chartArcsBackground+" "+V.chartArcsBackground+"-"+e}).merge(a).attr("d",function(t){if(0<=u.hiddenTargetIds.indexOf(t.id))return"M 0 0";var e={data:[{value:s.gauge_max}],startAngle:s.gauge_startingAngle,endAngle:-1*s.gauge_startingAngle*(s.gauge_fullCircle?Math.PI:1),index:r++};return u.getArc(e,!0,!0)}),a.exit().remove(),u.arcs.select("."+V.chartArcsGaugeUnit).attr("dy",".75em").text(s.gauge_label_show?s.gauge_units:""),u.arcs.select("."+V.chartArcsGaugeMin).attr("dx",-1*(u.innerRadius+(u.radius-u.innerRadius)/(s.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(s.gauge_label_show?u.textForGaugeMinMax(s.gauge_min,!1):""),u.arcs.select("."+V.chartArcsGaugeMax).attr("dx",u.innerRadius+(u.radius-u.innerRadius)/(s.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(s.gauge_label_show?u.textForGaugeMinMax(s.gauge_max,!0):""))},u.prototype.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("g").attr("class",V.chartArcsBackground),t.append("text").attr("class",V.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",V.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",V.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},u.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},u.prototype.addToCache=function(t,e){this.cache["$"+t]=e},u.prototype.getFromCache=function(t){return this.cache["$"+t]},u.prototype.resetCache=function(){var e=this;Object.keys(this.cache).filter(function(t){return/^\$/.test(t)}).forEach(function(t){delete e.cache[t]})},u.prototype.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},u.prototype.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},u.prototype.getCaches=function(t){for(var e=[],n=0;n<t.length;n++)t[n]in this.cache&&e.push(this.cloneTarget(this.cache[t[n]]));return e},u.prototype.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},u.prototype.generateTargetClass=function(t){return t||0===t?("-"+t).replace(/\s/g,"-"):""},u.prototype.generateClass=function(t,e){return" "+t+" "+t+this.generateTargetClass(e)},u.prototype.classText=function(t){return this.generateClass(V.text,t.index)},u.prototype.classTexts=function(t){return this.generateClass(V.texts,t.id)},u.prototype.classShape=function(t){return this.generateClass(V.shape,t.index)},u.prototype.classShapes=function(t){return this.generateClass(V.shapes,t.id)},u.prototype.classLine=function(t){return this.classShape(t)+this.generateClass(V.line,t.id)},u.prototype.classLines=function(t){return this.classShapes(t)+this.generateClass(V.lines,t.id)},u.prototype.classCircle=function(t){return this.classShape(t)+this.generateClass(V.circle,t.index)},u.prototype.classCircles=function(t){return this.classShapes(t)+this.generateClass(V.circles,t.id)},u.prototype.classBar=function(t){return this.classShape(t)+this.generateClass(V.bar,t.index)},u.prototype.classBars=function(t){return this.classShapes(t)+this.generateClass(V.bars,t.id)},u.prototype.classArc=function(t){return this.classShape(t.data)+this.generateClass(V.arc,t.data.id)},u.prototype.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(V.arcs,t.data.id)},u.prototype.classArea=function(t){return this.classShape(t)+this.generateClass(V.area,t.id)},u.prototype.classAreas=function(t){return this.classShapes(t)+this.generateClass(V.areas,t.id)},u.prototype.classRegion=function(t,e){return this.generateClass(V.region,e)+" "+("class"in t?t.class:"")},u.prototype.classEvent=function(t){return this.generateClass(V.eventRect,t.index)},u.prototype.classTarget=function(t){var e=this.config.data_classes[t],n=e?" "+V.target+"-"+e:"";return this.generateClass(V.target,t)+n},u.prototype.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},u.prototype.classFocused=function(t){return" "+(0<=this.focusedTargetIds.indexOf(t.id)?V.focused:"")},u.prototype.classDefocused=function(t){return" "+(0<=this.defocusedTargetIds.indexOf(t.id)?V.defocused:"")},u.prototype.classChartText=function(t){return V.chartText+this.classTarget(t.id)},u.prototype.classChartLine=function(t){return V.chartLine+this.classTarget(t.id)},u.prototype.classChartBar=function(t){return V.chartBar+this.classTarget(t.id)},u.prototype.classChartArc=function(t){return V.chartArc+this.classTarget(t.data.id)},u.prototype.getTargetSelectorSuffix=function(t){var e=this.generateTargetClass(t);return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},u.prototype.selectorTarget=function(t,e){return(e||"")+"."+V.target+this.getTargetSelectorSuffix(t)},u.prototype.selectorTargets=function(t,e){var n=this;return(t=t||[]).length?t.map(function(t){return n.selectorTarget(t,e)}):null},u.prototype.selectorLegend=function(t){return"."+V.legendItem+this.getTargetSelectorSuffix(t)},u.prototype.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null},u.prototype.getClipPath=function(t){return"url("+(l(9)?"":document.URL.split("#")[0])+"#"+t+")"},u.prototype.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},u.prototype.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},u.prototype.getAxisClipY=function(t){return t?-20:-this.margin.top},u.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},u.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},u.prototype.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},u.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},u.prototype.getAxisClipWidth=function(t){var e=Math.max(30,this.margin.left),n=Math.max(30,this.margin.right);return t?this.width+2+e+n:this.margin.left+20},u.prototype.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},u.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},u.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},u.prototype.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},u.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},u.prototype.generateColor=function(){var t=this.config,e=this.d3,i=t.data_colors,o=I(t.color_pattern)?t.color_pattern:e.schemeCategory10,r=t.data_color,a=[];return function(t){var e,n=t.id||t.data&&t.data.id||t;return i[n]instanceof Function?e=i[n](t):i[n]?e=i[n]:(a.indexOf(n)<0&&a.push(n),e=o[a.indexOf(n)%o.length],i[n]=e),r instanceof Function?r(e,t):e}},u.prototype.generateLevelColor=function(){var t=this.config,i=t.color_pattern,e=t.color_threshold,o="value"===e.unit,r=e.values&&e.values.length?e.values:[],a=e.max||100;return I(e)&&I(i)?function(t){for(var e=i[i.length-1],n=0;n<r.length;n++)if((o?t:100*t/a)<r[n]){e=i[n];break}return e}:null},u.prototype.getDefaultConfig=function(){var e={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,i){return this.getTooltipContent?this.getTooltipContent(t,e,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},u.prototype.additionalConfig={},u.prototype.loadConfig=function(e){var n,i,o,r=this.config;Object.keys(r).forEach(function(t){n=e,i=t.split("_"),o=function t(){var e=i.shift();return e&&n&&"object"==typeof n&&e in n?(n=n[e],t()):e?void 0:n}(),K(o)&&(r[t]=o)})},u.prototype.convertUrlToData=function(t,e,n,i,o){var r,a=this,s=e||"csv",l="json"===s?(r=a.d3.json,a.convertJsonToData):(r="tsv"===s?a.d3.tsv:a.d3.csv,a.convertXsvToData);r(t,n).then(function(t){o.call(a,l.call(a,t,i))}).catch(function(t){throw t})},u.prototype.convertXsvToData=function(t){var e=t.columns;return 0===t.length?{keys:e,rows:[e.reduce(function(t,e){var n;return Object.assign(t,((n={})[e]=null,n))},{})]}:{keys:e,rows:[].concat(t)}},u.prototype.convertJsonToData=function(e,t){var o,r=this,a=[];return t?(t.x?(o=t.value.concat(t.x),r.config.data_x=t.x):o=t.value,a.push(o),e.forEach(function(n){var i=[];o.forEach(function(t){var e=r.findValueInJson(n,t);E(e)&&(e=null),i.push(e)}),a.push(i)}),r.convertRowsToData(a)):(Object.keys(e).forEach(function(t){a.push([t].concat(e[t]))}),r.convertColumnsToData(a))},u.prototype.findValueInJson=function(t,e){if(e in t)return t[e];for(var n=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0;i<n.length;++i){var o=n[i];if(!(o in t))return;t=t[o]}return t},u.prototype.convertRowsToData=function(t){for(var e=[],n=t[0],i=1;i<t.length;i++){for(var o={},r=0;r<t[i].length;r++){if(E(t[i][r]))throw new Error("Source data is missing a component at ("+i+","+r+")!");o[n[r]]=t[i][r]}e.push(o)}return{keys:n,rows:e}},u.prototype.convertColumnsToData=function(t){for(var e=[],n=[],i=0;i<t.length;i++){for(var o=t[i][0],r=1;r<t[i].length;r++){if(E(e[r-1])&&(e[r-1]={}),E(t[i][r]))throw new Error("Source data is missing a component at ("+i+","+r+")!");e[r-1][o]=t[i][r]}n.push(o)}return{keys:n,rows:e}},u.prototype.convertDataToTargets=function(t,i){var e,n,o,r,c,u=this,d=u.config;if(a(t)?r=Object.keys(t[0]):(r=t.keys,t=t.rows),o=r.filter(u.isX,u),u.isStanfordGraphType()){if(c=r.filter(u.isEpochs,u),n=r.filter(u.isNotXAndNotEpochs,u),1!==o.length||1!==c.length||1!==n.length)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams")}else n=r.filter(u.isNotX,u);return n.forEach(function(n){var e=u.getXKey(n);u.isCustomX()||u.isTimeSeries()?0<=o.indexOf(e)?u.data.xs[n]=(i&&u.data.xs[n]?u.data.xs[n]:[]).concat(t.map(function(t){return t[e]}).filter(O).map(function(t,e){return u.generateTargetX(t,n,e)})):d.data_x?u.data.xs[n]=u.getOtherTargetXs():I(d.data_xs)&&(u.data.xs[n]=u.getXValuesOfXKey(e,u.data.targets)):u.data.xs[n]=t.map(function(t,e){return e})}),n.forEach(function(t){if(!u.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),(e=n.map(function(a,s){var l=d.data_idConverter(a);return{id:l,id_org:a,values:t.map(function(t,e){var n,i,o=t[u.getXKey(a)],r=null===t[a]||isNaN(t[a])?null:+t[a];return u.isCustomX()&&u.isCategorized()&&!E(o)?(0===s&&0===e&&(d.axis_x_categories=[]),-1===(n=d.axis_x_categories.indexOf(o))&&(n=d.axis_x_categories.length,d.axis_x_categories.push(o))):n=u.generateTargetX(o,a,e),(E(t[a])||u.data.xs[a].length<=e)&&(n=void 0),i={x:n,value:r,id:l},u.isStanfordGraphType()&&(i.epochs=t[c]),i}).filter(function(t){return K(t.x)})}})).forEach(function(t){var e;d.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)})),e=0,t.values.forEach(function(t){t.index=e++}),u.data.xs[t.id].sort(function(t,e){return t-e})}),u.hasNegativeValue=u.hasNegativeValueInTargets(e),u.hasPositiveValue=u.hasPositiveValueInTargets(e),d.data_type&&u.setTargetType(u.mapToIds(e).filter(function(t){return!(t in d.data_types)}),d.data_type),e.forEach(function(t){u.addCache(t.id_org,t)}),e},u.prototype.isEpochs=function(t){var e=this.config;return e.data_epochs&&t===e.data_epochs},u.prototype.isX=function(t){var e,n,i,o=this.config;return o.data_x&&t===o.data_x||I(o.data_xs)&&(e=o.data_xs,n=t,i=!1,Object.keys(e).forEach(function(t){e[t]===n&&(i=!0)}),i)},u.prototype.isNotX=function(t){return!this.isX(t)},u.prototype.isNotXAndNotEpochs=function(t){return!this.isX(t)&&!this.isEpochs(t)},u.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&0<this.config.data_groups.length},u.prototype.isAxisNormalized=function(e){var n=this;return!!n.isStackNormalized()&&n.data.targets.filter(function(t){return n.axis.getId(t.id)===e}).some(function(t){return n.isTargetNormalized(t.id)})},u.prototype.isTargetNormalized=function(e){return this.isStackNormalized()&&this.config.data_groups.some(function(t){return t.includes(e)})},u.prototype.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:I(e.data_xs)?e.data_xs[t]:null},u.prototype.getTotalPerIndex=function(t){var e=this;if(!e.isStackNormalized())return null;var n=e.getFromCache("getTotalPerIndex");if(void 0!==n)return n[t];var i={y:[],y2:[]};return e.data.targets.filter(function(t){return e.isTargetNormalized(t.id)}).filter(function(t){return e.isTargetToShow(t.id)}).forEach(function(t){var n=i[e.axis.getId(t.id)];t.values.forEach(function(t,e){n[e]||(n[e]=0),n[e]+=s(t.value)?t.value:0})}),e.addToCache("getTotalPerIndex",i),i[t]},u.prototype.getTotalDataSum=function(){var e=this,t=e.getFromCache("getTotalDataSum");if(void 0!==t)return t;var n,i=(n=e.data.targets.filter(function(t){return e.isTargetToShow(t.id)}).map(function(t){return t.values}),(Array.isArray(n)?[].concat.apply([],n):[]).map(function(t){return t.value}).reduce(function(t,e){return t+e},0));return e.addToCache("getTotalDataSum",i),i},u.prototype.getXValuesOfXKey=function(e,t){var n,i=this;return(t&&I(t)?i.mapToIds(t):[]).forEach(function(t){i.getXKey(t)===e&&(n=i.data.xs[t])}),n},u.prototype.getXValue=function(t,e){return t in this.data.xs&&this.data.xs[t]&&O(this.data.xs[t][e])?this.data.xs[t][e]:e},u.prototype.getOtherTargetXs=function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},u.prototype.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},u.prototype.addXs=function(e){var n=this;Object.keys(e).forEach(function(t){n.config.data_xs[t]=e[t]})},u.prototype.addName=function(t){var e;return t&&(e=this.config.data_names[t.id],t.name=void 0!==e?e:t.id),t},u.prototype.getValueOnIndex=function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},u.prototype.updateTargetX=function(t,i){var o=this;t.forEach(function(n){n.values.forEach(function(t,e){t.x=o.generateTargetX(i[e],n.id,e)}),o.data.xs[n.id]=i})},u.prototype.updateTargetXs=function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},u.prototype.generateTargetX=function(t,e,n){return this.isTimeSeries()?t?this.parseDate(t):this.parseDate(this.getXValue(e,n)):this.isCustomX()&&!this.isCategorized()?O(t)?+t:this.getXValue(e,n):n},u.prototype.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},u.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(t){return t.values.length})},u.prototype.mapToIds=function(t){return t.map(function(t){return t.id})},u.prototype.mapToTargetIds=function(t){return t?[].concat(t):this.mapToIds(this.data.targets)},u.prototype.hasTarget=function(t,e){for(var n=this.mapToIds(t),i=0;i<n.length;i++)if(n[i]===e)return!0;return!1},u.prototype.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},u.prototype.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},u.prototype.getTargetsToShow=function(){return this.filterTargetsToShow(this.data.targets)},u.prototype.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},u.prototype.getTargets=function(){return this.data.targets},u.prototype.mapTargetsToUniqueXs=function(t){var e=this.d3.set(this.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(e=this.isTimeSeries()?e.map(function(t){return new Date(+t)}):e.map(function(t){return+t})).sort(function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN})},u.prototype.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]));this.resetCache()},u.prototype.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0}),this.resetCache()},u.prototype.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},u.prototype.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},u.prototype.getValuesAsIdKeyed=function(t){var n={};return t.forEach(function(e){n[e.id]=[],e.values.forEach(function(t){n[e.id].push(t.value)})}),n},u.prototype.checkValueInTargets=function(t,e){for(var n,i,o=Object.keys(t),r=0;r<o.length;r++)for(i=t[o[r]].values,n=0;n<i.length;n++)if(e(i[n].value))return!0;return!1},u.prototype.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},u.prototype.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return 0<t})},u.prototype.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},u.prototype.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},u.prototype.getOrderFunction=function(){var t=this.config,o=this.isOrderAsc(),e=this.isOrderDesc();if(o||e){var r=function(t,e){return t+Math.abs(e.value)};return function(t,e){var n=t.values.reduce(r,0),i=e.values.reduce(r,0);return o?i-n:n-i}}if(h(t.data_order))return t.data_order;if(a(t.data_order)){var n=t.data_order;return function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}}},u.prototype.orderTargets=function(t){var e=this.getOrderFunction();return e&&t.sort(e),t},u.prototype.filterByIndex=function(t,e){return this.d3.merge(t.map(function(t){return t.values.filter(function(t){return t.index===e})}))},u.prototype.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},u.prototype.filterRemoveNull=function(t){return t.filter(function(t){return O(t.value)})},u.prototype.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},u.prototype.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!=typeof t.data_labels||!I(t.data_labels))},u.prototype.getDataLabelLength=function(t,e,n){var i=this,o=[0,0];return i.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return i.dataLabelFormat(t.id)(t)}).each(function(t,e){o[e]=1.3*c(this)[n]}).remove(),o},u.prototype.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},u.prototype.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},u.prototype.findClosestFromTargets=function(t,e){var n=this,i=t.map(function(t){return n.findClosest(t.values,e,n.config.tooltip_horizontal?n.horizontalDistance.bind(n):n.dist.bind(n),n.config.point_sensitivity)}).filter(function(t){return t});return 0===i.length?void 0:1===i.length?i[0]:n.findClosest(i,e,n.dist.bind(n))},u.prototype.findClosestFromTargetsByX=function(t,n){var i,o;return t.forEach(function(t){t.values.forEach(function(t){var e=Math.abs(n-t.x);(void 0===o||e<o)&&(i=t,o=e)})}),i},u.prototype.findClosest=function(t,n,i,o){void 0===o&&(o=1/0);var r,a=this;return t.filter(function(t){return t&&a.isBarType(t.id)}).forEach(function(t){var e;r||(e=a.main.select("."+V.bars+a.getTargetSelectorSuffix(t.id)+" ."+V.bar+"-"+t.index).node(),a.isWithinBar(n,e)&&(r=t))}),t.filter(function(t){return t&&!a.isBarType(t.id)}).forEach(function(t){var e=i(t,n);e<o&&(o=e,r=t)}),r},u.prototype.dist=function(t,e){var n=this.config,i=n.axis_rotated?1:0,o=n.axis_rotated?0:1,r=this.circleY(t,t.index),a=this.x(t.x);return Math.sqrt(Math.pow(a-e[i],2)+Math.pow(r-e[o],2))},u.prototype.horizontalDistance=function(t,e){var n=this.config.axis_rotated?1:0,i=this.x(t.x);return Math.abs(i-e[n])},u.prototype.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},u.prototype.getRatio=function(t,e,n){void 0===n&&(n=!1);var i,o=this.api,r=0;return e&&o.data.shown.call(o).length&&(r=e.ratio||e.value,"arc"===t?r=this.hasType("gauge")?(e.endAngle-e.startAngle)/(Math.PI*(this.config.gauge_fullCircle?2:1)):(i=this.getTotalDataSum(),e.value/i):"index"===t&&(i=this.getTotalPerIndex(this.axis.getId(e.id)),e.ratio=s(e.value)&&i&&0<i[e.index]?e.value/i[e.index]:0,r=e.ratio)),n&&r?100*r:r},u.prototype.updateDataAttributes=function(t,e){var n=this.config["data_"+t];return void 0===e||(Object.keys(e).forEach(function(t){n[t]=e[t]}),this.redraw({withLegend:!0})),n},u.prototype.load=function(n,i){var o=this;n&&(i.filter&&(n=n.filter(i.filter)),(i.type||i.types)&&n.forEach(function(t){var e=i.types&&i.types[t.id]?i.types[t.id]:i.type;o.setTargetType(t.id,e)}),o.data.targets.forEach(function(t){for(var e=0;e<n.length;e++)if(t.id===n[e].id){t.values=n[e].values,n.splice(e,1);break}}),o.data.targets=o.data.targets.concat(n)),o.updateTargets(o.data.targets),o.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),i.done&&i.done()},u.prototype.loadFromArgs=function(e){var n=this;n.resetCache(),e.data?n.load(n.convertDataToTargets(e.data),e):e.url?n.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(t){n.load(n.convertDataToTargets(t),e)}):e.json?n.load(n.convertDataToTargets(n.convertJsonToData(e.json,e.keys)),e):e.rows?n.load(n.convertDataToTargets(n.convertRowsToData(e.rows)),e):e.columns?n.load(n.convertDataToTargets(n.convertColumnsToData(e.columns)),e):n.load(null,e)},u.prototype.unload=function(t,e){var n=this;n.resetCache(),e=e||function(){},(t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}))&&0!==t.length?(n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),t.forEach(function(e){n.withoutFadeIn[e]=!1,n.legend&&n.legend.selectAll("."+V.legendItem+n.getTargetSelectorSuffix(e)).remove(),n.data.targets=n.data.targets.filter(function(t){return t.id!==e})})):e()},u.prototype.getYDomainMin=function(t){var e,n,i,o,r,a,s=this,l=s.config,c=s.mapToIds(t),u=s.getValuesAsIdKeyed(t);if(0<l.data_groups.length)for(a=s.hasNegativeValueInTargets(t),e=0;e<l.data_groups.length;e++)if(0!==(o=l.data_groups[e].filter(function(t){return 0<=c.indexOf(t)})).length)for(i=o[0],a&&u[i]&&u[i].forEach(function(t,e){u[i][e]=t<0?t:0}),n=1;n<o.length;n++)r=o[n],u[r]&&u[r].forEach(function(t,e){s.axis.getId(r)!==s.axis.getId(i)||!u[i]||a&&0<+t||(u[i][e]+=+t)});return s.d3.min(Object.keys(u).map(function(t){return s.d3.min(u[t])}))},u.prototype.getYDomainMax=function(t){var e,n,i,o,r,a,s=this,l=s.config,c=s.mapToIds(t),u=s.getValuesAsIdKeyed(t);if(0<l.data_groups.length)for(a=s.hasPositiveValueInTargets(t),e=0;e<l.data_groups.length;e++)if(0!==(o=l.data_groups[e].filter(function(t){return 0<=c.indexOf(t)})).length)for(i=o[0],a&&u[i]&&u[i].forEach(function(t,e){u[i][e]=0<t?t:0}),n=1;n<o.length;n++)r=o[n],u[r]&&u[r].forEach(function(t,e){s.axis.getId(r)!==s.axis.getId(i)||!u[i]||a&&+t<0||(u[i][e]+=+t)});return s.d3.max(Object.keys(u).map(function(t){return s.d3.max(u[t])}))},u.prototype.getYDomain=function(t,e,n){var i=this,o=i.config;if(i.isAxisNormalized(e))return[0,100];var r,a,s,l,c,u,d,h,f,p,g,m=t.filter(function(t){return i.axis.getId(t.id)===e}),v=n?i.filterByXDomain(m,n):m,y="y2"===e?o.axis_y2_min:o.axis_y_min,b="y2"===e?o.axis_y2_max:o.axis_y_max,_=i.getYDomainMin(v),E=i.getYDomainMax(v),w="y2"===e?o.axis_y2_center:o.axis_y_center,T=i.hasType("bar",v)&&o.bar_zerobased||i.hasType("area",v)&&o.area_zerobased,C="y2"===e?o.axis_y2_inverted:o.axis_y_inverted,x=i.hasDataLabel()&&o.axis_rotated,D=i.hasDataLabel()&&!o.axis_rotated;_=O(y)?y:!O(b)||_<b?_:b-10,E=O(b)?b:!O(y)||y<E?E:y+10;return 0===v.length?"y2"===e?i.y2.domain():i.y.domain():(isNaN(_)&&(_=0),isNaN(E)&&(E=_),_===E&&(_<0?E=0:_=0),f=0<=_&&0<=E,p=_<=0&&E<=0,(O(y)&&f||O(b)&&p)&&(T=!1),T&&(f&&(_=0),p&&(E=0)),s=l=.1*(a=Math.abs(E-_)),void 0!==w&&(E=w+(c=Math.max(Math.abs(_),Math.abs(E))),_=w-c),x?(u=i.getDataLabelLength(_,E,"width"),d=N(i.y.range()),s+=a*((h=[u[0]/d,u[1]/d])[1]/(1-h[0]-h[1])),l+=a*(h[0]/(1-h[0]-h[1]))):D&&(u=i.getDataLabelLength(_,E,"height"),s+=(g=i.getY(o["axis_"+e+"_type"],[0,o.axis_rotated?i.width:i.height],[0,a]))(u[1]),l+=g(u[0])),"y"===e&&I(o.axis_y_padding)&&(s=i.axis.getPadding(o.axis_y_padding,"top",s,a),l=i.axis.getPadding(o.axis_y_padding,"bottom",l,a)),"y2"===e&&I(o.axis_y2_padding)&&(s=i.axis.getPadding(o.axis_y2_padding,"top",s,a),l=i.axis.getPadding(o.axis_y2_padding,"bottom",l,a)),T&&(f&&(l=_),p&&(s=-E)),r=[_-l,E+s],C?r.reverse():r)},u.prototype.getXDomainMin=function(t){var e=this,n=e.config;return K(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},u.prototype.getXDomainMax=function(t){var e=this,n=e.config;return K(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},u.prototype.getXDomainPadding=function(t){var e,n,i,o=this.config,r=t[1]-t[0],a=this.isCategorized()?0:this.hasType("bar")?1<(e=this.getMaxDataCount())?r/(e-1)/2:.5:.01*r;return"object"==typeof o.axis_x_padding&&I(o.axis_x_padding)?(n=O(o.axis_x_padding.left)?o.axis_x_padding.left:a,i=O(o.axis_x_padding.right)?o.axis_x_padding.right:a):n=i="number"==typeof o.axis_x_padding?o.axis_x_padding:a,{left:n,right:i}},u.prototype.getXDomain=function(t){var e=[this.getXDomainMin(t),this.getXDomainMax(t)],n=e[0],i=e[1],o=this.getXDomainPadding(e),r=0,a=0;return n-i!=0||this.isCategorized()||(i=this.isTimeSeries()?(n=new Date(.5*n.getTime()),new Date(1.5*i.getTime())):(n=0===n?1:.5*n,0===i?-1:1.5*i)),!n&&0!==n||(r=this.isTimeSeries()?new Date(n.getTime()-o.left):n-o.left),!i&&0!==i||(a=this.isTimeSeries()?new Date(i.getTime()+o.right):i+o.right),[r,a]},u.prototype.updateXDomain=function(t,e,n,i,o){var r=this,a=r.config;return n&&(r.x.domain(o||r.d3.extent(r.getXDomain(t))),r.orgXDomain=r.x.domain(),a.zoom_enabled&&r.zoom.update(),r.subX.domain(r.x.domain()),r.brush&&r.brush.updateScale(r.subX)),e&&r.x.domain(o||(!r.brush||r.brush.empty()?r.orgXDomain:r.brush.selectionAsValue())),i&&r.x.domain(r.trimXDomain(r.x.orgDomain())),r.x.domain()},u.prototype.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],i=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),i<=t[1]&&(t[0]=t[0]-(t[1]-i),t[1]=i),t},u.prototype.drag=function(t){var e,n,i,o,h,f,p,g,m=this,v=m.config,r=m.main,y=m.d3;m.hasArcType()||v.data_selection_enabled&&v.data_selection_multiple&&(e=m.dragStart[0],n=m.dragStart[1],i=t[0],o=t[1],h=Math.min(e,i),f=Math.max(e,i),p=v.data_selection_grouped?m.margin.top:Math.min(n,o),g=v.data_selection_grouped?m.height:Math.max(n,o),r.select("."+V.dragarea).attr("x",h).attr("y",p).attr("width",f-h).attr("height",g-p),r.selectAll("."+V.shapes).selectAll("."+V.shape).each(function(t,e){if(v.data_selection_isselectable(t)){var n,i,o,r,a,s,l=y.select(this),c=l.classed(V.SELECTED),u=l.classed(V.INCLUDED),d=!1;if(l.classed(V.circle))n=+l.attr("cx"),i=+l.attr("cy"),a=m.togglePoint,d=h<n&&n<f&&p<i&&i<g;else{if(!l.classed(V.bar))return;n=(s=b(this)).x,i=s.y,o=s.width,r=s.height,a=m.togglePath,d=!(f<n||n+o<h||g<i||i+r<p)}d^u&&(l.classed(V.INCLUDED,!u),l.classed(V.SELECTED,!c),a.call(m,!c,l,t,e))}}))},u.prototype.dragstart=function(t){var e=this.config;this.hasArcType()||e.data_selection_enabled&&(this.dragStart=t,this.main.select("."+V.chart).append("rect").attr("class",V.dragarea).style("opacity",.1),this.dragging=!0)},u.prototype.dragend=function(){var t=this.config;this.hasArcType()||t.data_selection_enabled&&(this.main.select("."+V.dragarea).transition().duration(100).style("opacity",0).remove(),this.main.selectAll("."+V.shape).classed(V.INCLUDED,!1),this.dragging=!1)},u.prototype.getYFormat=function(t){var i=this,o=t&&!i.hasType("gauge")?i.defaultArcValueFormat:i.yFormat,r=t&&!i.hasType("gauge")?i.defaultArcValueFormat:i.y2Format;return function(t,e,n){return("y2"===i.axis.getId(n)?r:o).call(i,t,e)}},u.prototype.yFormat=function(t){var e=this.config;return(e.axis_y_tick_format?e.axis_y_tick_format:this.defaultValueFormat)(t)},u.prototype.y2Format=function(t){var e=this.config;return(e.axis_y2_tick_format?e.axis_y2_tick_format:this.defaultValueFormat)(t)},u.prototype.defaultValueFormat=function(t){return O(t)?+t:""},u.prototype.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},u.prototype.dataLabelFormat=function(t){function e(t){return O(t)?+t:""}var n=this.config.data_labels;return"function"==typeof n.format?n.format:"object"==typeof n.format?n.format[t]?!0===n.format[t]?e:n.format[t]:function(){return""}:e},u.prototype.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",V.grid),e.grid_x_show&&t.grid.append("g").attr("class",V.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",V.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",V.xgridFocus).append("line").attr("class",V.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},u.prototype.initGridLines=function(){var t=this.d3;this.gridLines=this.main.append("g").attr("clip-path",this.clipPathForGrid).attr("class",V.grid+" "+V.gridLines),this.gridLines.append("g").attr("class",V.xgridLines),this.gridLines.append("g").attr("class",V.ygridLines),this.xgridLines=t.selectAll([])},u.prototype.updateXGrid=function(t){var e=this,n=e.config,i=e.d3,o=e.generateGridData(n.grid_x_type,e.x),r=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-r},y2:function(t){return e.x(t)-r}}:{x1:function(t){return e.x(t)+r},x2:function(t){return e.x(t)+r},y1:0,y2:e.height},e.xgridAttr.opacity=function(){return+i.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1};var a=e.main.select("."+V.xgrids).selectAll("."+V.xgrid).data(o),s=a.enter().append("line").attr("class",V.xgrid).attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",0);e.xgrid=s.merge(a),t||e.xgrid.attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",e.xgridAttr.opacity),a.exit().remove()},u.prototype.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks),i=t.main.select("."+V.ygrids).selectAll("."+V.ygrid).data(n),o=i.enter().append("line").attr("class",V.ygrid);t.ygrid=o.merge(i),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),i.exit().remove(),t.smoothLines(t.ygrid,"grid")},u.prototype.gridTextAnchor=function(t){return t.position?t.position:"end"},u.prototype.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},u.prototype.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},u.prototype.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},u.prototype.updateGrid=function(t){var e,n,i,o,r=this,a=r.main,s=r.config,l=r.xv.bind(r),c=r.yv.bind(r),u=r.xGridTextX.bind(r),d=r.yGridTextX.bind(r);r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),a.select("line."+V.xgridFocus).style("visibility","hidden"),s.grid_x_show&&r.updateXGrid(),(n=(e=a.select("."+V.xgridLines).selectAll("."+V.xgridLine).data(s.grid_x_lines)).enter().append("g").attr("class",function(t){return V.xgridLine+(t.class?" "+t.class:"")})).append("line").attr("x1",s.axis_rotated?0:l).attr("x2",s.axis_rotated?r.width:l).attr("y1",s.axis_rotated?l:0).attr("y2",s.axis_rotated?l:r.height).style("opacity",0),n.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",s.axis_rotated?"":"rotate(-90)").attr("x",s.axis_rotated?d:u).attr("y",l).attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines=n.merge(e),e.exit().transition().duration(t).style("opacity",0).remove(),s.grid_y_show&&r.updateYGrid(),(o=(i=a.select("."+V.ygridLines).selectAll("."+V.ygridLine).data(s.grid_y_lines)).enter().append("g").attr("class",function(t){return V.ygridLine+(t.class?" "+t.class:"")})).append("line").attr("x1",s.axis_rotated?c:0).attr("x2",s.axis_rotated?c:r.width).attr("y1",s.axis_rotated?0:c).attr("y2",s.axis_rotated?r.height:c).style("opacity",0),o.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",s.axis_rotated?"rotate(-90)":"").attr("x",s.axis_rotated?u:d).attr("y",c).attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.ygridLines=o.merge(i),r.ygridLines.select("line").transition().duration(t).attr("x1",s.axis_rotated?c:0).attr("x2",s.axis_rotated?c:r.width).attr("y1",s.axis_rotated?0:c).attr("y2",s.axis_rotated?r.height:c).style("opacity",1),r.ygridLines.select("text").transition().duration(t).attr("x",s.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",c).text(function(t){return t.text}).style("opacity",1),i.exit().transition().duration(t).style("opacity",0).remove()},u.prototype.redrawGrid=function(t,e){var n=this,i=n.config,o=n.xv.bind(n),r=n.xgridLines.select("line"),a=n.xgridLines.select("text");return[(t?r.transition(e):r).attr("x1",i.axis_rotated?0:o).attr("x2",i.axis_rotated?n.width:o).attr("y1",i.axis_rotated?o:0).attr("y2",i.axis_rotated?o:n.height).style("opacity",1),(t?a.transition(e):a).attr("x",i.axis_rotated?n.yGridTextX.bind(n):n.xGridTextX.bind(n)).attr("y",o).text(function(t){return t.text}).style("opacity",1)]},u.prototype.showXGridFocus=function(t){var e=this.config,n=t.filter(function(t){return t&&O(t.value)}),i=this.main.selectAll("line."+V.xgridFocus),o=this.xx.bind(this);e.tooltip_show&&(this.hasType("stanford")||this.hasArcType()||(i.style("visibility","visible").data([n[0]]).attr(e.axis_rotated?"y1":"x1",o).attr(e.axis_rotated?"y2":"x2",o),this.smoothLines(i,"grid")))},u.prototype.hideXGridFocus=function(){this.main.select("line."+V.xgridFocus).style("visibility","hidden")},u.prototype.updateXgridFocus=function(){var t=this.config;this.main.select("line."+V.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?this.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:this.height)},u.prototype.generateGridData=function(t,e){var n,i,o,r,a=[],s=this.main.select("."+V.axisX).selectAll(".tick").size();if("year"===t)for(i=(n=this.getXDomain())[0].getFullYear(),o=n[1].getFullYear(),r=i;r<=o;r++)a.push(new Date(r+"-01-01 00:00:00"));else(a=e.ticks(10)).length>s&&(a=a.filter(function(t){return(""+t).indexOf(".")<0}));return a},u.prototype.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(n=!0)}),n}:function(){return!0}},u.prototype.removeGridLines=function(t,e){function n(t){return!o(t)}var i=this.config,o=this.getGridFilterToRemove(t),r=e?V.xgridLines:V.ygridLines,a=e?V.xgridLine:V.ygridLine;this.main.select("."+r).selectAll("."+a).filter(o).transition().duration(i.transition_duration).style("opacity",0).remove(),e?i.grid_x_lines=i.grid_x_lines.filter(n):i.grid_y_lines=i.grid_y_lines.filter(n)},u.prototype.initEventRect=function(){var t=this,e=t.config;t.main.select("."+V.chart).append("g").attr("class",V.eventRects).style("fill-opacity",0),t.eventRect=t.main.select("."+V.eventRects).append("rect").attr("class",V.eventRect),e.zoom_enabled&&t.zoom&&(t.eventRect.call(t.zoom).on("dblclick.zoom",null),e.zoom_initialRange&&t.eventRect.transition().duration(0).call(t.zoom.transform,t.zoomTransform(e.zoom_initialRange)))},u.prototype.redrawEventRect=function(){var s=this,l=s.d3,c=s.config;function u(){s.svg.select("."+V.eventRect).style("cursor",null),s.hideXGridFocus(),s.hideTooltip(),s.unexpandCircles(),s.unexpandBars()}function d(t,e){return e&&(s.isBarType(e.id)||s.dist(e,t)<c.point_sensitivity)}function h(t){return t?s.addName(Object.assign({},t)):null}s.main.select("."+V.eventRects).style("cursor",c.zoom_enabled?c.axis_rotated?"ns-resize":"ew-resize":null),s.eventRect.attr("x",0).attr("y",0).attr("width",s.width).attr("height",s.height).on("mouseout",c.interaction_enabled?function(){c&&(s.hasArcType()||(s.mouseover&&(c.data_onmouseout.call(s.api,s.mouseover),s.mouseover=void 0),u()))}:null).on("mousemove",c.interaction_enabled?function(){if(!s.dragging){var t=s.getTargetsToShow();if(!s.hasArcType(t)){var e,n,i,o=l.mouse(this),r=h(s.findClosestFromTargets(t,o)),a=d(o,r);if(!s.mouseover||r&&r.id===s.mouseover.id&&r.index===s.mouseover.index||(c.data_onmouseout.call(s.api,s.mouseover),s.mouseover=void 0),r&&!s.mouseover&&(c.data_onmouseover.call(s.api,r),s.mouseover=r),s.svg.select("."+V.eventRect).style("cursor",a?"pointer":null),!c.tooltip_grouped||s.hasType("stanford",t)?r&&(e=[r]):(void 0,(i=r||(n=c.axis_rotated?o[1]:o[0],s.findClosestFromTargetsByX(t,s.x.invert(n))))&&(e=s.filterByX(t,i.x))),!e||0===e.length)return u();e=e.map(h),s.showTooltip(e,this),c.point_focus_expand_enabled&&(s.unexpandCircles(),e.forEach(function(t){s.expandCircles(t.index,t.id,!1)})),s.unexpandBars(),e.forEach(function(t){s.expandBars(t.index,t.id,!1)}),s.showXGridFocus(e)}}}:null).on("click",c.interaction_enabled?function(){var t,e,n,i=s.getTargetsToShow();s.hasArcType(i)||d(t=l.mouse(this),e=h(s.findClosestFromTargets(i,t)))&&((!c.data_selection_grouped||s.isStanfordType(e)?[e]:s.filterByX(i,e.x)).forEach(function(t){s.main.selectAll("."+V.shapes+s.getTargetSelectorSuffix(t.id)).selectAll("."+V.shape+"-"+t.index).each(function(){(c.data_selection_grouped||s.isWithinShape(this,t))&&s.toggleShape(this,t,t.index)})}),e&&(n=s.main.selectAll("."+V.shapes+s.getTargetSelectorSuffix(e.id)).select("."+V.shape+"-"+e.index),c.data_onclick.call(s.api,e,n.node())))}:null).call(c.interaction_enabled&&c.data_selection_draggable&&s.drag?l.drag().on("drag",function(){s.drag(l.mouse(this))}).on("start",function(){s.dragstart(l.mouse(this))}).on("end",function(){s.dragend()}):function(){})},u.prototype.getMousePosition=function(t){return[this.x(t.x),this.getYScale(t.id)(t.value)]},u.prototype.dispatchEvent=function(t,e){var n="."+V.eventRect,i=this.main.select(n).node(),o=i.getBoundingClientRect(),r=o.left+(e?e[0]:0),a=o.top+(e?e[1]:0),s=document.createEvent("MouseEvents");s.initMouseEvent(t,!0,!0,window,0,r,a,r,a,!1,!1,!1,!1,0,null),i.dispatchEvent(s)},u.prototype.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},u.prototype.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},u.prototype.updateSizeForLegend=function(t,e){var n=this,i=n.config,o={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?o.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?o.left:0}},u.prototype.transformLegend=function(t){(t?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},u.prototype.updateLegendStep=function(t){this.legendStep=t},u.prototype.updateLegendItemWidth=function(t){this.legendItemWidth=t},u.prototype.updateLegendItemHeight=function(t){this.legendItemHeight=t},u.prototype.getLegendWidth=function(){return this.config.legend_show?this.isLegendRight||this.isLegendInset?this.legendItemWidth*(this.legendStep+1):this.currentWidth:0},u.prototype.getLegendHeight=function(){var t=0;return this.config.legend_show&&(t=this.isLegendRight?this.currentHeight:Math.max(20,this.legendItemHeight)*(this.legendStep+1)),t},u.prototype.opacityForLegend=function(t){return t.classed(V.legendItemHidden)?null:1},u.prototype.opacityForUnfocusedLegend=function(t){return t.classed(V.legendItemHidden)?null:.3},u.prototype.toggleFocusLegend=function(e,t){var n=this;e=n.mapToTargetIds(e),n.legend.selectAll("."+V.legendItem).filter(function(t){return 0<=e.indexOf(t)}).classed(V.legendItemFocused,t).transition().duration(100).style("opacity",function(){return(t?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))})},u.prototype.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+V.legendItem).classed(V.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},u.prototype.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},u.prototype.hideLegend=function(t){var e=this.config;e.legend_show&&d(t)&&(e.legend_show=!1,this.legend.style("visibility","hidden")),this.addHiddenLegendIds(t),this.legend.selectAll(this.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},u.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},u.prototype.updateLegend=function(g,t,e){var n,i,o,r,a,s,l,c,u,d,h,f,p,m,v,y,b=this,_=b.config,E=4,w=10,T=0,C=0,x=10,D=_.legend_item_tile_width+5,O=0,I={},k={},S={},R=[0],A={},M=0;function N(t,e,n){var i,o,r,a,s=0===n,l=n===g.length-1,c=(r=t,a=e,b.legendItemTextBox[a]||(b.legendItemTextBox[a]=b.getTextRect(r.textContent,V.legendItem,r)),b.legendItemTextBox[a]),u=c.width+D+(!l||b.isLegendRight||b.isLegendInset?w:0)+_.legend_padding,d=c.height+E,h=b.isLegendRight||b.isLegendInset?d:u,f=b.isLegendRight||b.isLegendInset?b.getLegendHeight():b.getLegendWidth();function p(t,e){e||(i=(f-O-h)/2)<x&&(i=(f-h)/2,O=0,M++),A[t]=M,R[M]=b.isLegendInset?10:i,I[t]=O,O+=h}s&&(C=T=M=O=0),!_.legend_show||b.isLegendToShow(e)?(k[e]=u,S[e]=d,(!T||T<=u)&&(T=u),(!C||C<=d)&&(C=d),o=b.isLegendRight||b.isLegendInset?C:T,_.legend_equally?(Object.keys(k).forEach(function(t){k[t]=T}),Object.keys(S).forEach(function(t){S[t]=C}),(i=(f-o*g.length)/2)<x?(M=O=0,g.forEach(function(t){p(t)})):p(e,!0)):p(e)):k[e]=S[e]=A[e]=I[e]=0}g=g.filter(function(t){return!K(_.data_names[t])||null!==_.data_names[t]}),h=j(t=t||{},"withTransition",!0),f=j(t,"withTransitionForTransform",!0),b.isLegendInset&&(M=_.legend_inset_step?_.legend_inset_step:g.length,b.updateLegendStep(M)),r=b.isLegendRight?(n=function(t){return T*A[t]},function(t){return R[A[t]]+I[t]}):b.isLegendInset?(n=function(t){return T*A[t]+10},function(t){return R[A[t]]+I[t]}):(n=function(t){return R[A[t]]+I[t]},function(t){return C*A[t]}),i=function(t,e){return n(t,e)+4+_.legend_item_tile_width},a=function(t,e){return r(t,e)+9},o=function(t,e){return n(t,e)},s=function(t,e){return r(t,e)-5},l=function(t,e){return n(t,e)-2},c=function(t,e){return n(t,e)-2+_.legend_item_tile_width},u=function(t,e){return r(t,e)+4},(d=b.legend.selectAll("."+V.legendItem).data(g).enter().append("g").attr("class",function(t){return b.generateClass(V.legendItem,t)}).style("visibility",function(t){return b.isLegendToShow(t)?"visible":"hidden"}).style("cursor",function(){return _.interaction_enabled?"pointer":"auto"}).on("click",_.interaction_enabled?function(t){_.legend_item_onclick?_.legend_item_onclick.call(b,t):b.d3.event.altKey?(b.api.hide(),b.api.show(t)):(b.api.toggle(t),b.isTargetToShow(t)?b.api.focus(t):b.api.revert())}:null).on("mouseover",_.interaction_enabled?function(t){_.legend_item_onmouseover?_.legend_item_onmouseover.call(b,t):(b.d3.select(this).classed(V.legendItemFocused,!0),!b.transiting&&b.isTargetToShow(t)&&b.api.focus(t))}:null).on("mouseout",_.interaction_enabled?function(t){_.legend_item_onmouseout?_.legend_item_onmouseout.call(b,t):(b.d3.select(this).classed(V.legendItemFocused,!1),b.api.revert())}:null)).append("text").text(function(t){return K(_.data_names[t])?_.data_names[t]:t}).each(function(t,e){N(this,t,e)}).style("pointer-events","none").attr("x",b.isLegendRight||b.isLegendInset?i:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:a),d.append("rect").attr("class",V.legendItemEvent).style("fill-opacity",0).attr("x",b.isLegendRight||b.isLegendInset?o:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:s),d.append("line").attr("class",V.legendItemTile).style("stroke",b.color).style("pointer-events","none").attr("x1",b.isLegendRight||b.isLegendInset?l:-200).attr("y1",b.isLegendRight||b.isLegendInset?-200:u).attr("x2",b.isLegendRight||b.isLegendInset?c:-200).attr("y2",b.isLegendRight||b.isLegendInset?-200:u).attr("stroke-width",_.legend_item_tile_height),y=b.legend.select("."+V.legendBackground+" rect"),b.isLegendInset&&0<T&&0===y.size()&&(y=b.legend.insert("g","."+V.legendItem).attr("class",V.legendBackground).append("rect")),p=b.legend.selectAll("text").data(g).text(function(t){return K(_.data_names[t])?_.data_names[t]:t}).each(function(t,e){N(this,t,e)}),(h?p.transition():p).attr("x",i).attr("y",a),m=b.legend.selectAll("rect."+V.legendItemEvent).data(g),(h?m.transition():m).attr("width",function(t){return k[t]}).attr("height",function(t){return S[t]}).attr("x",o).attr("y",s),v=b.legend.selectAll("line."+V.legendItemTile).data(g),(h?v.transition():v).style("stroke",b.levelColor?function(t){return b.levelColor(b.cache[t].values.reduce(function(t,e){return t+e.value},0))}:b.color).attr("x1",l).attr("y1",u).attr("x2",c).attr("y2",u),y&&(h?y.transition():y).attr("height",b.getLegendHeight()-12).attr("width",T*(M+1)+10),b.legend.selectAll("."+V.legendItem).classed(V.legendItemHidden,function(t){return!b.isTargetToShow(t)}),b.updateLegendItemWidth(T),b.updateLegendItemHeight(C),b.updateLegendStep(M),b.updateSizes(),b.updateScales(),b.updateSvgSize(),b.transformAll(f,e),b.legendHasRendered=!0},u.prototype.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",V.regions)},u.prototype.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible");var i=e.main.select("."+V.regions).selectAll("."+V.region).data(n.regions),o=i.enter().append("g");o.append("rect").attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e)).style("fill-opacity",function(t){return O(t.opacity)?t.opacity:.1}),o.append("text").text(e.labelRegion.bind(e)),e.mainRegion=o.merge(i).attr("class",e.classRegion.bind(e)),i.exit().transition().duration(t).style("opacity",0).remove()},u.prototype.redrawRegion=function(t,e){var n=this,i=n.mainRegion,o=n.mainRegion.selectAll("text");return[(t?i.transition(e):i).attr("x",n.regionX.bind(n)).attr("y",n.regionY.bind(n)).attr("width",n.regionWidth.bind(n)).attr("height",n.regionHeight.bind(n)).style("fill-opacity",function(t){return O(t.opacity)?t.opacity:.1}),(t?o.transition(e):o).attr("x",n.labelOffsetX.bind(n)).attr("y",n.labelOffsetY.bind(n)).attr("transform",n.labelTransform.bind(n)).attr("style","text-anchor: left;")]},u.prototype.regionX=function(t){var e=this.config,n="y"===t.axis?this.y:this.y2;return"y"===t.axis||"y2"===t.axis?e.axis_rotated&&"start"in t?n(t.start):0:!e.axis_rotated&&"start"in t?this.x(this.isTimeSeries()?this.parseDate(t.start):t.start):0},u.prototype.regionY=function(t){var e=this.config,n="y"===t.axis?this.y:this.y2;return"y"===t.axis||"y2"===t.axis?!e.axis_rotated&&"end"in t?n(t.end):0:e.axis_rotated&&"start"in t?this.x(this.isTimeSeries()?this.parseDate(t.start):t.start):0},u.prototype.regionWidth=function(t){var e=this.config,n=this.regionX(t),i="y"===t.axis?this.y:this.y2,o="y"===t.axis||"y2"===t.axis?e.axis_rotated&&"end"in t?i(t.end):this.width:!e.axis_rotated&&"end"in t?this.x(this.isTimeSeries()?this.parseDate(t.end):t.end):this.width;return o<n?0:o-n},u.prototype.regionHeight=function(t){var e=this.config,n=this.regionY(t),i="y"===t.axis?this.y:this.y2,o="y"===t.axis||"y2"===t.axis?!e.axis_rotated&&"start"in t?i(t.start):this.height:e.axis_rotated&&"end"in t?this.x(this.isTimeSeries()?this.parseDate(t.end):t.end):this.height;return o<n?0:o-n},u.prototype.isRegionOnX=function(t){return!t.axis||"x"===t.axis},u.prototype.labelRegion=function(t){return"label"in t?t.label:""},u.prototype.labelTransform=function(t){return"vertical"in t&&t.vertical?"rotate(90)":""},u.prototype.labelOffsetX=function(t){var e="paddingX"in t?t.paddingX:3,n="paddingY"in t?t.paddingY:3;return"vertical"in t&&t.vertical?this.regionY(t)+n:this.regionX(t)+e},u.prototype.labelOffsetY=function(t){var e="paddingX"in t?t.paddingX:3,n="paddingY"in t?t.paddingY:3;return"vertical"in t&&t.vertical?-(this.regionX(t)+e):this.regionY(t)+10+n},u.prototype.getScale=function(t,e,n){return(n?this.d3.scaleTime():this.d3.scaleLinear()).range([t,e])},u.prototype.getX=function(t,e,n,i){var o,r=this.getScale(t,e,this.isTimeSeries()),a=n?r.domain(n):r;r=this.isCategorized()?(i=i||function(){return 0},function(t,e){var n=a(t)+i(t);return e?n:Math.ceil(n)}):function(t,e){var n=a(t);return e?n:Math.ceil(n)};for(o in a)r[o]=a[o];return r.orgDomain=function(){return a.domain()},this.isCategorized()&&(r.domain=function(t){return arguments.length?(a.domain(t),r):[(t=this.orgDomain())[0],t[1]+1]}),r},u.prototype.getY=function(t,e,n){var i;if("timeseries"===t||"time"===t)i=this.d3.scaleTime();else if("log"===t)i=function t(e,n,i){var o=[.01,10];function r(t){return i(n(t))}return n||(n=e.scaleLinear()).range(o),i||((i=e.scaleLog()).domain(o),i.nice()),r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain()},r.range=function(t){return arguments.length?(i.range(t),r):i.range()},r.ticks=function(t){return function(t,e,n){var i,o,r,a;if(arguments.length<3)n=10;else if(0===n)return[];a=3/(o=n-1),r=-2,(i=new Array(n))[0]=Math.pow(10,r);for(var s=1;s<o;s++)r+=a,i[s]=Math.pow(10,r);return i[o]=Math.pow(10,1),i}(-2,1,t||10).map(function(t){return n.invert(t)})},r.copy=function(){return t(e,n.copy(),i.copy())},r}(this.d3);else{if("linear"!==t&&void 0!==t)throw new Error('Invalid Y axis type: "'+t+'"');i=this.d3.scaleLinear()}return e&&i.domain(e),n&&i.range(n),i},u.prototype.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},u.prototype.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},u.prototype.updateScales=function(){var e=this,t=e.config,n=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,n?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(t.axis_y_type,n?t.axis_y_default:e.y.domain(),[e.yMin,e.yMax]),e.y2=e.getY(t.axis_y2_type,n?t.axis_y2_default:e.y2.domain(),[e.yMin,e.yMax]),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(t.axis_y_type,n?t.axis_y_default:e.subY.domain(),[e.subYMin,e.subYMax]),e.subY2=e.getY(t.axis_y2_type,n?t.axis_y2_default:e.subY2.domain(),[e.subYMin,e.subYMax]),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis("y",e.y,e.yOrient,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis("y2",e.y2,e.y2Orient,e.y2AxisTickValues,t.axis_y2_tick_outer),n||e.brush&&e.brush.updateScale(e.subX),e.updateArc&&e.updateArc()},u.prototype.selectPoint=function(t,e,n){var i=this,o=i.config,r=(o.axis_rotated?i.circleY:i.circleX).bind(i),a=(o.axis_rotated?i.circleX:i.circleY).bind(i),s=i.pointSelectR.bind(i);o.data_onselected.call(i.api,e,t.node()),i.main.select("."+V.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+V.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return i.generateClass(V.selectedCircle,n)}).attr("cx",r).attr("cy",a).attr("stroke",function(){return i.color(e)}).attr("r",function(t){return 1.4*i.pointSelectR(t)}).transition().duration(100).attr("r",s)},u.prototype.unselectPoint=function(t,e,n){this.config.data_onunselected.call(this.api,e,t.node()),this.main.select("."+V.selectedCircles+this.getTargetSelectorSuffix(e.id)).selectAll("."+V.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},u.prototype.togglePoint=function(t,e,n,i){t?this.selectPoint(e,n,i):this.unselectPoint(e,n,i)},u.prototype.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(e)).brighter(.75)})},u.prototype.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.color(e)})},u.prototype.togglePath=function(t,e,n,i){t?this.selectPath(e,n,i):this.unselectPath(e,n,i)},u.prototype.getToggle=function(t,e){var n;return"circle"===t.nodeName?n=this.isStepType(e)?function(){}:this.togglePoint:"path"===t.nodeName&&(n=this.togglePath),n},u.prototype.toggleShape=function(t,e,n){var i=this.d3,o=this.config,r=i.select(t),a=r.classed(V.SELECTED),s=this.getToggle(t,e).bind(this);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||this.main.selectAll("."+V.shapes+(o.data_selection_grouped?this.getTargetSelectorSuffix(e.id):"")).selectAll("."+V.shape).each(function(t,e){var n=i.select(this);n.classed(V.SELECTED)&&s(!1,n.classed(V.SELECTED,!1),t,e)}),r.classed(V.SELECTED,!a),s(!a,r,e,n))},u.prototype.initBar=function(){this.main.select("."+V.chart).append("g").attr("class",V.chartBars)},u.prototype.updateTargetsForBar=function(t){var e=this.config,n=this.classChartBar.bind(this),i=this.classBars.bind(this),o=this.classFocus.bind(this);this.main.select("."+V.chartBars).selectAll("."+V.chartBar).data(t).attr("class",function(t){return n(t)+o(t)}).enter().append("g").attr("class",n).style("pointer-events","none").append("g").attr("class",i).style("cursor",function(t){return e.data_selection_isselectable(t)?"pointer":null})},u.prototype.updateBar=function(t){function e(t){return n.color(t.id)}var n=this,i=n.barData.bind(n),o=n.classBar.bind(n),r=n.initialOpacity.bind(n),a=n.main.selectAll("."+V.bars).selectAll("."+V.bar).data(i),s=a.enter().append("path").attr("class",o).style("stroke",e).style("fill",e);n.mainBar=s.merge(a).style("opacity",r),a.exit().transition().duration(t).style("opacity",0)},u.prototype.redrawBar=function(t,e,n){var i=this;return[(e?this.mainBar.transition(n):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",function(t){return i.isTargetToShow(t.id)?1:0})]},u.prototype.getBarW=function(t,e){var n=this.config,i="number"==typeof n.bar_width?n.bar_width:e?t.tickInterval()*n.bar_width_ratio/e:0;return n.bar_width_max&&i>n.bar_width_max?n.bar_width_max:i},u.prototype.getBars=function(t,e){return(e?this.main.selectAll("."+V.bars+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+V.bar+(O(t)?"-"+t:""))},u.prototype.expandBars=function(t,e,n){n&&this.unexpandBars(),this.getBars(t,e).classed(V.EXPANDED,!0)},u.prototype.unexpandBars=function(t){this.getBars(t).classed(V.EXPANDED,!1)},u.prototype.generateDrawBar=function(t,e){var r=this.config,a=this.generateGetBarPoints(t,e);return function(t,e){var n=a(t,e),i=r.axis_rotated?1:0,o=r.axis_rotated?0:1;return"M "+n[0][i]+","+n[0][o]+" L"+n[1][i]+","+n[1][o]+" L"+n[2][i]+","+n[2][o]+" L"+n[3][i]+","+n[3][o]+" z"}},u.prototype.generateGetBarPoints=function(t,e){var a=this,n=e?a.subXAxis:a.xAxis,i=t.__max__+1,s=a.getBarW(n,i),l=a.getShapeX(s,i,t,!!e),c=a.getShapeY(!!e),u=a.getShapeOffset(a.isBarType,t,!!e),d=s*(a.config.bar_space/2),h=e?a.getSubYScale:a.getYScale;return function(t,e){var n=h.call(a,t.id)(0),i=u(t,e)||n,o=l(t),r=c(t);return a.config.axis_rotated&&(0<t.value&&r<n||t.value<0&&n<r)&&(r=n),[[o+d,i],[o+d,r-=n-i],[o+s-d,r],[o+s-d,i]]}},u.prototype.isWithinBar=function(t,e){return function(t,e,n){void 0===n&&(n=0);var i=e.x-n,o=e.x+e.width+n,r=e.y+e.height+n,a=e.y-n;return i<t[0]&&t[0]<o&&a<t[1]&&t[1]<r}(t,c(e),2)},u.prototype.getShapeIndices=function(t){var e,n,i=this.config,o={},r=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach(function(t){for(e=0;e<i.data_groups.length;e++)if(!(i.data_groups[e].indexOf(t.id)<0))for(n=0;n<i.data_groups[e].length;n++)if(i.data_groups[e][n]in o){o[t.id]=o[i.data_groups[e][n]];break}E(o[t.id])&&(o[t.id]=r++)}),o.__max__=r-1,o},u.prototype.getShapeX=function(n,i,o,t){var r=t?this.subX:this.x;return function(t){var e=t.id in o?o[t.id]:0;return t.x||0===t.x?r(t.x)-n*(i/2-e):0}},u.prototype.getShapeY=function(e){var n=this;return function(t){return(e?n.getSubYScale(t.id):n.getYScale(t.id))(n.isTargetNormalized(t.id)?n.getRatio("index",t,!0):t.value)}},u.prototype.getShapeOffset=function(t,c,e){var u=this,n=u.orderTargets(u.filterTargetsToShow(u.data.targets.filter(t,u))),d=n.map(function(t){return t.id});return function(o,r){var a=e?u.getSubYScale(o.id):u.getYScale(o.id),s=a(0),l=s;return n.forEach(function(t){var e=u.isStepType(o)?u.convertValuesToStep(t.values):t.values,n=u.isTargetNormalized(o.id),i=e.map(function(t){return n?u.getRatio("index",t,!0):t.value});t.id!==o.id&&c[t.id]===c[o.id]&&d.indexOf(t.id)<d.indexOf(o.id)&&(!E(e[r])&&+e[r].x==+o.x||(r=-1,e.forEach(function(t,e){(t.x.constructor===Date?+t.x:t.x)===(o.x.constructor===Date?+o.x:o.x)&&(r=e)})),r in e&&0<=e[r].value*o.value&&(l+=a(i[r])-s))}),l}},u.prototype.isWithinShape=function(t,e){var n,i=this.d3.select(t);return this.isTargetToShow(e.id)?"circle"===t.nodeName?n=this.isStepType(e)?this.isWithinStep(t,this.getYScale(e.id)(e.value)):this.isWithinCircle(t,1.5*this.pointSelectR(e)):"path"===t.nodeName&&(n=!i.classed(V.bar)||this.isWithinBar(this.d3.mouse(t),t)):n=!1,n},u.prototype.getInterpolate=function(t){var e=this.d3,n={linear:e.curveLinear,"linear-closed":e.curveLinearClosed,basis:e.curveBasis,"basis-open":e.curveBasisOpen,"basis-closed":e.curveBasisClosed,bundle:e.curveBundle,cardinal:e.curveCardinal,"cardinal-open":e.curveCardinalOpen,"cardinal-closed":e.curveCardinalClosed,monotone:e.curveMonotoneX,step:e.curveStep,"step-before":e.curveStepBefore,"step-after":e.curveStepAfter};return this.isSplineType(t)?n[this.config.spline_interpolation_type]||n.cardinal:this.isStepType(t)?n[this.config.line_step_type]:n.linear},u.prototype.initLine=function(){this.main.select("."+V.chart).append("g").attr("class",V.chartLines)},u.prototype.updateTargetsForLine=function(t){var n=this,e=n.config,i=n.classChartLine.bind(n),o=n.classLines.bind(n),r=n.classAreas.bind(n),a=n.classCircles.bind(n),s=n.classFocus.bind(n),l=n.main.select("."+V.chartLines).selectAll("."+V.chartLine).data(t).attr("class",function(t){return i(t)+s(t)}).enter().append("g").attr("class",i).style("opacity",0).style("pointer-events","none");l.append("g").attr("class",o),l.append("g").attr("class",r),l.append("g").attr("class",function(t){return n.generateClass(V.selectedCircles,t.id)}),l.append("g").attr("class",a).style("cursor",function(t){return e.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(e){n.main.selectAll("."+V.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+V.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},u.prototype.updateLine=function(t){var e=this,n=e.main.selectAll("."+V.lines).selectAll("."+V.line).data(e.lineData.bind(e)),i=n.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color);e.mainLine=i.merge(n).style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),n.exit().transition().duration(t).style("opacity",0)},u.prototype.redrawLine=function(t,e,n){return[(e?this.mainLine.transition(n):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},u.prototype.generateDrawLine=function(t,a){function e(t){return(a?s.subxx:s.xx).call(s,t)}function n(t,e){return 0<l.data_groups.length?i(t,e)[0][1]:u.call(s,t.id)(t.value)}var s=this,l=s.config,c=s.d3.line(),i=s.generateGetLinePoints(t,a),u=a?s.getSubYScale:s.getYScale;c=l.axis_rotated?c.x(n).y(e):c.x(e).y(n);return l.line_connectNull||(c=c.defined(function(t){return null!=t.value})),function(t){var e=l.line_connectNull?s.filterRemoveNull(t.values):t.values,n=a?s.subX:s.x,i=u.call(s,t.id),o=0,r=0;return(s.isLineType(t)?l.data_regions[t.id]?s.lineWithRegions(e,n,i,l.data_regions[t.id]):(s.isStepType(t)&&(e=s.convertValuesToStep(e)),c.curve(s.getInterpolate(t))(e)):(e[0]&&(o=n(e[0].x),r=i(e[0].value)),l.axis_rotated?"M "+r+" "+o:"M "+o+" "+r))||"M 0 0"}},u.prototype.generateGetLinePoints=function(t,e){var a=this,s=a.config,n=t.__max__+1,l=a.getShapeX(0,n,t,!!e),c=a.getShapeY(!!e),u=a.getShapeOffset(a.isLineType,t,!!e),d=e?a.getSubYScale:a.getYScale;return function(t,e){var n=d.call(a,t.id)(0),i=u(t,e)||n,o=l(t),r=c(t);return s.axis_rotated&&(0<t.value&&r<n||t.value<0&&n<r)&&(r=n),[[o,r-(n-i)],[o,r-(n-i)],[o,r-(n-i)],[o,r-(n-i)]]}},u.prototype.lineWithRegions=function(t,l,c,e){var n,i,o,r,u,a,s,d,h,f,p,g=this,m=g.config,v="M",y=g.isCategorized()?.5:0,b=[];if(K(e))for(n=0;n<e.length;n++)b[n]={},E(e[n].start)?b[n].start=t[0].x:b[n].start=g.isTimeSeries()?g.parseDate(e[n].start):e[n].start,E(e[n].end)?b[n].end=t[t.length-1].x:b[n].end=g.isTimeSeries()?g.parseDate(e[n].end):e[n].end;function _(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}for(f=m.axis_rotated?function(t){return c(t.value)}:function(t){return l(t.x)},p=m.axis_rotated?function(t){return l(t.x)}:function(t){return c(t.value)},o=g.isTimeSeries()?function(t,e,n,i){var o=t.x.getTime(),r=e.x-t.x,a=new Date(o+r*n),s=new Date(o+r*(n+i));return _(m.axis_rotated?[[c(u(n)),l(a)],[c(u(n+i)),l(s)]]:[[l(a),c(u(n))],[l(s),c(u(n+i))]])}:function(t,e,n,i){return _(m.axis_rotated?[[c(u(n),!0),l(r(n))],[c(u(n+i),!0),l(r(n+i))]]:[[l(r(n),!0),c(u(n))],[l(r(n+i),!0),c(u(n+i))]])},n=0;n<t.length;n++){if(E(b)||!function(t,e){for(var n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return 1}(t[n].x,b))v+=" "+f(t[n])+" "+p(t[n]);else for(r=g.getScale(t[n-1].x+y,t[n].x+y,g.isTimeSeries()),u=g.getScale(t[n-1].value,t[n].value),a=l(t[n].x)-l(t[n-1].x),s=c(t[n].value)-c(t[n-1].value),h=2*(d=2/Math.sqrt(Math.pow(a,2)+Math.pow(s,2))),i=d;i<=1;i+=h)v+=o(t[n-1],t[n],i,d);t[n].x}return v},u.prototype.updateArea=function(t){var e=this,n=e.d3,i=e.main.selectAll("."+V.areas).selectAll("."+V.area).data(e.lineData.bind(e)),o=i.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0});e.mainArea=o.merge(i).style("opacity",e.orgAreaOpacity),i.exit().transition().duration(t).style("opacity",0)},u.prototype.redrawArea=function(t,e,n){return[(e?this.mainArea.transition(n):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},u.prototype.generateDrawArea=function(t,e){function n(t){return(e?r.subxx:r.xx).call(r,t)}function i(t,e){return 0<a.data_groups.length?l(t,e)[0][1]:c.call(r,t.id)(r.getAreaBaseValue(t.id))}function o(t,e){return 0<a.data_groups.length?l(t,e)[1][1]:c.call(r,t.id)(t.value)}var r=this,a=r.config,s=r.d3.area(),l=r.generateGetAreaPoints(t,e),c=e?r.getSubYScale:r.getYScale;s=a.axis_rotated?s.x0(i).x1(o).y(n):s.x(n).y0(a.area_above?0:i).y1(o);return a.line_connectNull||(s=s.defined(function(t){return null!==t.value})),function(t){var e=a.line_connectNull?r.filterRemoveNull(t.values):t.values,n=0,i=0;return(r.isAreaType(t)?(r.isStepType(t)&&(e=r.convertValuesToStep(e)),s.curve(r.getInterpolate(t))(e)):(e[0]&&(n=r.x(e[0].x),i=r.getYScale(t.id)(e[0].value)),a.axis_rotated?"M "+i+" "+n:"M "+n+" "+i))||"M 0 0"}},u.prototype.getAreaBaseValue=function(){return 0},u.prototype.generateGetAreaPoints=function(t,e){var a=this,s=a.config,n=t.__max__+1,l=a.getShapeX(0,n,t,!!e),c=a.getShapeY(!!e),u=a.getShapeOffset(a.isAreaType,t,!!e),d=e?a.getSubYScale:a.getYScale;return function(t,e){var n=d.call(a,t.id)(0),i=u(t,e)||n,o=l(t),r=c(t);return s.axis_rotated&&(0<t.value&&r<n||t.value<0&&n<r)&&(r=n),[[o,i],[o,r-(n-i)],[o,r-(n-i)],[o,i]]}},u.prototype.updateCircle=function(t,e){var n=this,i=n.main.selectAll("."+V.circles).selectAll("."+V.circle).data(n.lineOrScatterOrStanfordData.bind(n)),o=i.enter().append("circle").attr("shape-rendering",n.isStanfordGraphType()?"crispEdges":"").attr("class",n.classCircle.bind(n)).attr("cx",t).attr("cy",e).attr("r",n.pointR.bind(n)).style("color",n.isStanfordGraphType()?n.getStanfordPointColor.bind(n):n.color);n.mainCircle=o.merge(i).style("opacity",n.isStanfordGraphType()?1:n.initialOpacityForCircle.bind(n)),i.exit().style("opacity",0)},u.prototype.redrawCircle=function(t,e,n,i){var o=this.main.selectAll("."+V.selectedCircle);return[(n?this.mainCircle.transition(i):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("color",this.isStanfordGraphType()?this.getStanfordPointColor.bind(this):this.color).attr("cx",t).attr("cy",e),(n?o.transition(i):o).attr("cx",t).attr("cy",e)]},u.prototype.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},u.prototype.updateCircleY=function(){var t,n,e=this;0<e.config.data_groups.length?(t=e.getShapeIndices(e.isLineType),n=e.generateGetLinePoints(t),e.circleY=function(t,e){return n(t,e)[0][1]}):e.circleY=function(t){return e.getYScale(t.id)(t.value)}},u.prototype.getCircles=function(t,e){return(e?this.main.selectAll("."+V.circles+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+V.circle+(O(t)?"-"+t:""))},u.prototype.expandCircles=function(t,e,n){var i=this.pointExpandedR.bind(this);n&&this.unexpandCircles(),this.getCircles(t,e).classed(V.EXPANDED,!0).attr("r",i)},u.prototype.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(V.EXPANDED)}).classed(V.EXPANDED,!1).attr("r",n)},u.prototype.pointR=function(t){var e=this.config;return this.isStepType(t)?0:h(e.point_r)?e.point_r(t):e.point_r},u.prototype.pointExpandedR=function(t){var e=this.config;return e.point_focus_expand_enabled?h(e.point_focus_expand_r)?e.point_focus_expand_r(t):e.point_focus_expand_r?e.point_focus_expand_r:1.75*this.pointR(t):this.pointR(t)},u.prototype.pointSelectR=function(t){var e=this.config;return h(e.point_select_r)?e.point_select_r(t):e.point_select_r?e.point_select_r:4*this.pointR(t)},u.prototype.isWithinCircle=function(t,e){var n=this.d3,i=n.mouse(t),o=n.select(t),r=+o.attr("cx"),a=+o.attr("cy");return Math.sqrt(Math.pow(r-i[0],2)+Math.pow(a-i[1],2))<e},u.prototype.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},u.prototype.getCurrentWidth=function(){var t=this.config;return t.size_width?t.size_width:this.getParentWidth()},u.prototype.getCurrentHeight=function(){var t=this.config,e=t.size_height?t.size_height:this.getParentHeight();return 0<e?e:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},u.prototype.getCurrentPaddingTop=function(){var t=this.config,e=O(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(e+=this.getTitlePadding()),e},u.prototype.getCurrentPaddingBottom=function(){var t=this.config;return O(t.padding_bottom)?t.padding_bottom:0},u.prototype.getCurrentPaddingLeft=function(t){var e=this.config;return O(e.padding_left)?e.padding_left:e.axis_rotated?!e.axis_x_show||e.axis_x_inner?1:Math.max(o(this.getAxisWidthByAxisId("x",t)),40):!e.axis_y_show||e.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:o(this.getAxisWidthByAxisId("y",t))},u.prototype.getCurrentPaddingRight=function(){var t=this.config,e=0,n=this.isLegendRight?this.getLegendWidth()+20:0;e=O(t.padding_right)?t.padding_right+1:t.axis_rotated?10+n:!t.axis_y2_show||t.axis_y2_inner?2+n+(this.axis.getY2AxisLabelPosition().isOuter?20:0):o(this.getAxisWidthByAxisId("y2"))+n;return this.colorScale&&this.colorScale.node()&&(e+=this.getColorScalePadding()),e},u.prototype.getParentRectValue=function(e){for(var n,i=this.selectChart.node();i&&"BODY"!==i.tagName;){try{n=i.getBoundingClientRect()[e]}catch(t){"width"===e&&(n=i.offsetWidth)}if(n)break;i=i.parentNode}return n},u.prototype.getParentWidth=function(){return this.getParentRectValue("width")},u.prototype.getParentHeight=function(){var t=this.selectChart.style("height");return 0<t.indexOf("px")?+t.replace("px",""):0},u.prototype.getSvgLeft=function(t){var e=this.config,n=e.axis_rotated||!e.axis_rotated&&!e.axis_y_inner,i=e.axis_rotated?V.axisX:V.axisY,o=this.main.select("."+i).node(),r=o&&n?o.getBoundingClientRect():{right:0},a=this.selectChart.node().getBoundingClientRect(),s=this.hasArcType(),l=r.right-a.left-(s?0:this.getCurrentPaddingLeft(t));return 0<l?l:0},u.prototype.getAxisWidthByAxisId=function(t,e){var n=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(n.isInner?20:40)},u.prototype.getHorizontalAxisHeight=function(t,e){var n=this.config,i=30;return"x"!==t||(K(e)&&e?n.subchart_axis_x_show:n.axis_x_show)?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(i=30+this.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(n.axis_x_tick_rotate))/180)),"y"===t&&n.axis_rotated&&n.axis_y_tick_rotate&&(i=30+this.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(n.axis_y_tick_rotate))/180)),i+(this.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):this.rotated_padding_top:!n.legend_show||this.isLegendRight||this.isLegendInset?1:10:8},u.prototype.initBrush=function(t){var o=this,e=o.d3;return o.brush=(o.config.axis_rotated?e.brushY():e.brushX()).on("brush",function(){var t=e.event.sourceEvent;t&&"zoom"===t.type||o.redrawForBrush()}).on("end",function(){var t=e.event.sourceEvent;t&&"zoom"===t.type||o.brush.empty()&&t&&"end"!==t.type&&o.brush.clear()}),o.brush.updateExtent=function(){var t=this.scale.range(),e=o.config.axis_rotated?[[0,t[0]],[o.width2,t[1]]]:[[t[0],0],[t[1],o.height2]];return this.extent(e),this},o.brush.updateScale=function(t){return this.scale=t,this},o.brush.update=function(t){this.updateScale(t||o.subX).updateExtent(),o.context.select("."+V.brush).call(this)},o.brush.clear=function(){o.context.select("."+V.brush).call(o.brush.move,null)},o.brush.selection=function(){return e.brushSelection(o.context.select("."+V.brush).node())},o.brush.selectionAsValue=function(t,e){var n,i;return t?(o.context&&(n=[this.scale(t[0]),this.scale(t[1])],i=o.context.select("."+V.brush),e&&(i=i.transition()),o.brush.move(i,n)),[]):(n=o.brush.selection()||[0,0],[this.scale.invert(n[0]),this.scale.invert(n[1])])},o.brush.empty=function(){var t=o.brush.selection();return!t||t[0]===t[1]},o.brush.updateScale(t)},u.prototype.initSubchart=function(){var t=this.config,e=this.context=this.svg.append("g").attr("transform",this.getTranslate("context"));e.style("visibility","visible"),e.append("g").attr("clip-path",this.clipPathForSubchart).attr("class",V.chart),e.select("."+V.chart).append("g").attr("class",V.chartBars),e.select("."+V.chart).append("g").attr("class",V.chartLines),e.append("g").attr("clip-path",this.clipPath).attr("class",V.brush),this.axes.subx=e.append("g").attr("class",V.axisX).attr("transform",this.getTranslate("subx")).attr("clip-path",t.axis_rotated?"":this.clipPathForXAxis).style("visibility",t.subchart_axis_x_show?"visible":"hidden")},u.prototype.initSubchartBrush=function(){this.initBrush(this.subX).updateExtent(),this.context.select("."+V.brush).call(this.brush)},u.prototype.updateTargetsForSubchart=function(t){var e,n,i=this,o=i.context,r=i.config,a=i.classChartBar.bind(i),s=i.classBars.bind(i),l=i.classChartLine.bind(i),c=i.classLines.bind(i),u=i.classAreas.bind(i),d=o.select("."+V.chartBars).selectAll("."+V.chartBar).data(t),h=d.enter().append("g").style("opacity",0);h.merge(d).attr("class",a),h.append("g").attr("class",s),(e=(n=o.select("."+V.chartLines).selectAll("."+V.chartLine).data(t)).enter().append("g").style("opacity",0)).merge(n).attr("class",l),e.append("g").attr("class",c),e.append("g").attr("class",u),o.selectAll("."+V.brush+" rect").attr(r.axis_rotated?"width":"height",r.axis_rotated?i.width2:i.height2)},u.prototype.updateBarForSubchart=function(t){var e=this.context.selectAll("."+V.bars).selectAll("."+V.bar).data(this.barData.bind(this)),n=e.enter().append("path").attr("class",this.classBar.bind(this)).style("stroke","none").style("fill",this.color);e.exit().transition().duration(t).style("opacity",0).remove(),this.contextBar=n.merge(e).style("opacity",this.initialOpacity.bind(this))},u.prototype.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity",1)},u.prototype.updateLineForSubchart=function(t){var e=this.context.selectAll("."+V.lines).selectAll("."+V.line).data(this.lineData.bind(this)),n=e.enter().append("path").attr("class",this.classLine.bind(this)).style("stroke",this.color);e.exit().transition().duration(t).style("opacity",0).remove(),this.contextLine=n.merge(e).style("opacity",this.initialOpacity.bind(this))},u.prototype.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity",1)},u.prototype.updateAreaForSubchart=function(t){var e=this,n=e.d3,i=e.context.selectAll("."+V.areas).selectAll("."+V.area).data(e.lineData.bind(e)),o=i.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0});i.exit().transition().duration(t).style("opacity",0).remove(),e.contextArea=o.merge(i).style("opacity",0)},u.prototype.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},u.prototype.redrawSubchart=function(t,e,n,i,o,r,a){var s,l,c,u=this,d=u.d3;d.event&&"zoom"===d.event.type&&u.brush.selectionAsValue(u.x.orgDomain()),t&&(u.brush.empty()||u.brush.selectionAsValue(u.x.orgDomain()),s=u.generateDrawArea(o,!0),l=u.generateDrawBar(r,!0),c=u.generateDrawLine(a,!0),u.updateBarForSubchart(n),u.updateLineForSubchart(n),u.updateAreaForSubchart(n),u.redrawBarForSubchart(l,n,n),u.redrawLineForSubchart(c,n,n),u.redrawAreaForSubchart(s,n,n))},u.prototype.redrawForBrush=function(){var t,e=this,n=e.x,i=e.d3;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),t=i.event.selection||e.brush.scale.range(),e.main.select("."+V.eventRect).call(e.zoom.transform,i.zoomIdentity.scale(e.width/(t[1]-t[0])).translate(-t[0],0)),e.config.subchart_onbrush.call(e.api,n.orgDomain())},u.prototype.transformContext=function(t,e){var n;e&&e.axisSubX?n=e.axisSubX:(n=this.context.select("."+V.axisX),t&&(n=n.transition())),this.context.attr("transform",this.getTranslate("context")),n.attr("transform",this.getTranslate("subx"))},u.prototype.getDefaultSelection=function(){var t=this.config,e=h(t.axis_x_selection)?t.axis_x_selection(this.getXDomain(this.data.targets)):t.axis_x_selection;return this.isTimeSeries()&&(e=[this.parseDate(e[0]),this.parseDate(e[1])]),e},u.prototype.removeSubchart=function(){this.brush=null,this.context.remove(),this.context=null},u.prototype.initText=function(){this.main.select("."+V.chart).append("g").attr("class",V.chartTexts),this.mainText=this.d3.selectAll([])},u.prototype.updateTargetsForText=function(t){var e=this.classChartText.bind(this),n=this.classTexts.bind(this),i=this.classFocus.bind(this),o=this.main.select("."+V.chartTexts).selectAll("."+V.chartText).data(t),r=o.enter().append("g").attr("class",e).style("opacity",0).style("pointer-events","none");r.append("g").attr("class",n),r.merge(o).attr("class",function(t){return e(t)+i(t)})},u.prototype.updateText=function(t,e,n){var i=this,o=i.config,r=i.barOrLineData.bind(i),a=i.classText.bind(i),s=i.main.selectAll("."+V.texts).selectAll("."+V.text).data(r),l=s.enter().append("text").attr("class",a).attr("text-anchor",function(t){return o.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",t).attr("y",e).style("fill",function(t){return i.color(t)}).style("fill-opacity",0);i.mainText=l.merge(s).text(function(t,e,n){return i.dataLabelFormat(t.id)(t.value,t.id,e,n)}),s.exit().transition().duration(n).style("fill-opacity",0).remove()},u.prototype.redrawText=function(t,e,n,i,o){return[(i?this.mainText.transition(o):this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},u.prototype.getTextRect=function(t,e,n){var i,o=this.d3.select("body").append("div").classed("c3",!0),r=o.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(n).style("font");return r.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",a).text(t).each(function(){i=c(this)}),o.remove(),i},u.prototype.generateXYForText=function(t,e,n,i){var o=this,r=o.generateGetAreaPoints(t,!1),a=o.generateGetBarPoints(e,!1),s=o.generateGetLinePoints(n,!1),l=i?o.getXForText:o.getYForText;return function(t,e){var n=o.isAreaType(t)?r:o.isBarType(t)?a:s;return l.call(o,n(t,e),t,this)}},u.prototype.getXForText=function(t,e,n){var i,o=c(n),r=this.config.axis_rotated?(i=this.isBarType(e)?4:6,t[2][1]+i*(e.value<0?-1:1)):this.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0];return null===e.value&&(r>this.width?r=this.width-o.width:r<0&&(r=4)),r},u.prototype.getYForText=function(t,e,n){var i,o=c(n);return this.config.axis_rotated?i=(t[0][0]+t[2][0]+.6*o.height)/2:(i=t[2][1],e.value<0||0===e.value&&!this.hasPositiveValue?(i+=o.height,this.isBarType(e)&&this.isSafari()?i-=3:!this.isBarType(e)&&this.isChrome()&&(i+=3)):i+=this.isBarType(e)?-3:-6),null!==e.value||this.config.axis_rotated||(i<o.height?i=o.height:i>this.height&&(i=this.height-4)),i},u.prototype.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},u.prototype.redrawTitle=function(){this.title.attr("x",this.xForTitle.bind(this)).attr("y",this.yForTitle.bind(this))},u.prototype.xForTitle=function(){var t=this,e=t.config,n=e.title_position||"left";return 0<=n.indexOf("right")?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:0<=n.indexOf("center")?Math.max((t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2,0):e.title_padding.left},u.prototype.yForTitle=function(){return this.config.title_padding.top+this.getTextRect(this.title.node().textContent,this.CLASS.title,this.title.node()).height},u.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},u.prototype.drawColorScale=function(){var t,e,n,i,o,r,a=this,s=a.d3,l=a.config,c=a.data.targets[0],u=isNaN(l.stanford_scaleWidth)?20:l.stanford_scaleWidth;if(u<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");r=a.height-l.stanford_padding.bottom-l.stanford_padding.top,e=s.range(l.stanford_padding.bottom,r,5),o=s.scaleSequential(c.colors).domain([e[e.length-1],e[0]]),a.colorScale&&a.colorScale.remove(),a.colorScale=a.svg.append("g").attr("width",50).attr("height",r).attr("class",V.colorScale),a.colorScale.append("g").attr("transform","translate(0, "+l.stanford_padding.top+")").selectAll("bars").data(e).enter().append("rect").attr("y",function(t,e){return 5*e}).attr("x",0).attr("width",u).attr("height",5).attr("fill",function(t){return o(t)}),i=s.scaleLog().domain([c.minEpochs,c.maxEpochs]).range([e[0]+l.stanford_padding.top+e[e.length-1]+5-1,e[0]+l.stanford_padding.top]),n=s.axisRight(i),"pow10"===l.stanford_scaleFormat?n.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):h(l.stanford_scaleFormat)?n.tickFormat(l.stanford_scaleFormat):n.tickFormat(s.format("d")),h(l.stanford_scaleValues)&&n.tickValues(l.stanford_scaleValues(c.minEpochs,c.maxEpochs)),t=a.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+u+",0)").call(n),"pow10"===l.stanford_scaleFormat&&t.selectAll(".tick text").text(null).filter(g).text(10).append("tspan").attr("dy","-.7em").text(function(t){return Math.round(Math.log(t)/Math.LN10)}),a.colorScale.attr("transform","translate("+(a.currentWidth-a.xForColorScale())+", 0)")},u.prototype.xForColorScale=function(){return this.config.stanford_padding.right+c(this.colorScale.node()).width},u.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+20},u.prototype.isStanfordGraphType=function(){return"stanford"===this.config.data_type},u.prototype.initStanfordData=function(){var t,e,n,i=this.d3,o=this.config,r=this.data.targets[0];if(r.values.sort(_),t=r.values.map(function(t){return t.epochs}),n=isNaN(o.stanford_scaleMin)?i.min(t):o.stanford_scaleMin,(e=isNaN(o.stanford_scaleMax)?i.max(t):o.stanford_scaleMax)<n)throw Error("Number of minEpochs has to be smaller than maxEpochs");r.colors=h(o.stanford_colors)?o.stanford_colors:i.interpolateHslLong(i.hsl(250,1,.5),i.hsl(0,1,.5)),r.colorscale=i.scaleSequentialLog(r.colors).domain([n,e]),r.minEpochs=n,r.maxEpochs=e},u.prototype.getStanfordPointColor=function(t){return this.data.targets[0].colorscale(t.epochs)},u.prototype.getCentroid=function(t){for(var e,n,i,o=v(t),r=0,a=0,s=0,l=t.length-1;s<t.length;l=s,s+=1)n=t[s],i=t[l],e=n.x*i.y-i.x*n.y,r+=(n.x+i.x)*e,a+=(n.y+i.y)*e;return{x:r/(e=6*o),y:a/e}},u.prototype.getStanfordTooltipTitle=function(t){var e=this.axis.getLabelText("x"),n=this.axis.getLabelText("y");return"\n      <tr><th>"+(e?m(e):"x")+"</th><th class='value'>"+t.x+"</th></tr>\n      <tr><th>"+(n?m(n):"y")+"</th><th class='value'>"+t.value+"</th></tr>\n    "},u.prototype.countEpochsInRegion=function(n){var t=this.data.targets[0],e=t.values.reduce(function(t,e){return t+Number(e.epochs)},0),i=t.values.reduce(function(t,e){return y(e,n)?t+Number(e.epochs):t},0);return{value:i,percentage:0!==i?(i/e*100).toFixed(1):0}};var v=function(t){for(var e,n,i=0,o=0,r=t.length-1;o<t.length;r=o,o+=1)e=t[o],n=t[r],i+=e.x*n.y,i-=e.y*n.x;return i/2},y=function(t,e){for(var n,i,o,r,a=t.x,s=t.value,l=!1,c=0,u=e.length-1;c<e.length;u=c++)n=e[c].x,i=e[c].y,r=e[u].x,s<i!=s<(o=e[u].y)&&a<(r-n)*(s-i)/(o-i)+n&&(l=!l);return l},_=function(t,e){return t.epochs<e.epochs?-1:t.epochs>e.epochs?1:0};return u.prototype.initStanfordElements=function(){this.stanfordElements=this.main.select("."+V.chart).append("g").attr("class",V.stanfordElements),this.stanfordElements.append("g").attr("class",V.stanfordLines),this.stanfordElements.append("g").attr("class",V.stanfordTexts),this.stanfordElements.append("g").attr("class",V.stanfordRegions)},u.prototype.updateStanfordElements=function(t){var e,n,i,o,r=this,a=r.main,s=r.config,l=r.xvCustom.bind(r),c=r.yvCustom.bind(r),u=r.countEpochsInRegion.bind(r),d=a.select("."+V.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+V.stanfordLine).data(s.stanford_lines),h=d.enter().append("g").attr("class",function(t){return V.stanfordLine+(t.class?" "+t.class:"")});h.append("line").attr("x1",function(t){return s.axis_rotated?c(t,"value_y1"):l(t,"value_x1")}).attr("x2",function(t){return s.axis_rotated?c(t,"value_y2"):l(t,"value_x2")}).attr("y1",function(t){return s.axis_rotated?l(t,"value_x1"):c(t,"value_y1")}).attr("y2",function(t){return s.axis_rotated?l(t,"value_x2"):c(t,"value_y2")}).style("opacity",0),r.stanfordLines=h.merge(d),r.stanfordLines.select("line").transition().duration(t).attr("x1",function(t){return s.axis_rotated?c(t,"value_y1"):l(t,"value_x1")}).attr("x2",function(t){return s.axis_rotated?c(t,"value_y2"):l(t,"value_x2")}).attr("y1",function(t){return s.axis_rotated?l(t,"value_x1"):c(t,"value_y1")}).attr("y2",function(t){return s.axis_rotated?l(t,"value_x2"):c(t,"value_y2")}).style("opacity",1),d.exit().transition().duration(t).style("opacity",0).remove(),(o=(i=a.select("."+V.stanfordTexts).selectAll("."+V.stanfordText).data(s.stanford_texts)).enter().append("g").attr("class",function(t){return V.stanfordText+(t.class?" "+t.class:"")})).append("text").attr("x",function(t){return s.axis_rotated?c(t,"y"):l(t,"x")}).attr("y",function(t){return s.axis_rotated?l(t,"x"):c(t,"y")}).style("opacity",0),r.stanfordTexts=o.merge(i),r.stanfordTexts.select("text").transition().duration(t).attr("x",function(t){return s.axis_rotated?c(t,"y"):l(t,"x")}).attr("y",function(t){return s.axis_rotated?l(t,"x"):c(t,"y")}).text(function(t){return t.content}).style("opacity",1),i.exit().transition().duration(t).style("opacity",0).remove(),(n=(e=a.select("."+V.stanfordRegions).selectAll("."+V.stanfordRegion).data(s.stanford_regions)).enter().append("g").attr("class",function(t){return V.stanfordRegion+(t.class?" "+t.class:"")})).append("polygon").attr("points",function(t){return t.points.map(function(t){return[s.axis_rotated?c(t,"y"):l(t,"x"),s.axis_rotated?l(t,"x"):c(t,"y")].join(",")}).join(" ")}).style("opacity",0),n.append("text").attr("x",function(t){return r.getCentroid(t.points).x}).attr("y",function(t){return r.getCentroid(t.points).y}).style("opacity",0),r.stanfordRegions=n.merge(e),r.stanfordRegions.select("polygon").transition().duration(t).attr("points",function(t){return t.points.map(function(t){return[s.axis_rotated?c(t,"y"):l(t,"x"),s.axis_rotated?l(t,"x"):c(t,"y")].join(",")}).join(" ")}).style("opacity",function(t){return t.opacity?t.opacity:.2}),r.stanfordRegions.select("text").transition().duration(t).attr("x",function(t){return s.axis_rotated?c(r.getCentroid(t.points),"y"):l(r.getCentroid(t.points),"x")}).attr("y",function(t){return s.axis_rotated?l(r.getCentroid(t.points),"x"):c(r.getCentroid(t.points),"y")}).text(function(t){var e,n,i;return t.text?(r.isStanfordGraphType()&&(e=(i=u(t.points)).value,n=i.percentage),t.text(e,n)):""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),e.exit().transition().duration(t).style("opacity",0).remove()},u.prototype.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",V.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&f(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!=0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},u.prototype.getTooltipSortFunction=function(){var t=this.config;if(0!==t.data_groups.length&&void 0===t.tooltip_order){var n=this.orderTargets(this.data.targets).map(function(t){return t.id});return(this.isOrderAsc()||this.isOrderDesc())&&(n=n.reverse()),function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}}var i=t.tooltip_order;function o(t){return t?t.value:null}if(void 0===i&&(i=t.data_order),f(i)&&"asc"===i.toLowerCase())return function(t,e){return o(t)-o(e)};if(f(i)&&"desc"===i.toLowerCase())return function(t,e){return o(e)-o(t)};if(h(i)){var e=i;return void 0===t.tooltip_order&&(e=function(t,e){return i(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),e}return a(i)?function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}:void 0},u.prototype.getTooltipContent=function(t,e,n,i){var o,r,a,s,l,c,u=this,d=u.config,h=d.tooltip_format_title||e,f=d.tooltip_format_name||function(t){return t},p=(p=d.tooltip_format_value)||(u.isTargetNormalized(t.id)?function(t,e){return(100*e).toFixed(2)+"%"}:n),g=this.getTooltipSortFunction();for(g&&t.sort(g),r=0;r<t.length;r++)if(t[r]&&(t[r].value||0===t[r].value)){if(u.isStanfordGraphType())o||(a=u.getStanfordTooltipTitle(t[r]),o="<table class='"+u.CLASS.tooltip+"'>"+a),c=u.getStanfordPointColor(t[r]),l=m(d.data_epochs),s=t[r].epochs;else if(o||(a=m(h?h(t[r].x,t[r].index):t[r].x),o="<table class='"+u.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),void 0!==(s=m(p(t[r].value,t[r].ratio,t[r].id,t[r].index,t)))){if(null===t[r].name)continue;l=m(f(t[r].name,t[r].ratio,t[r].id,t[r].index)),c=u.levelColor?u.levelColor(t[r].value):i(t[r].id)}void 0!==s&&(o+="<tr class='"+u.CLASS.tooltipName+"-"+u.getTargetSelectorSuffix(t[r].id)+"'>",o+="<td class='name'><span style='background-color:"+c+"'></span>"+l+"</td>",o+="<td class='value'>"+s+"</td>",o+="</tr>")}return o+"</table>"},u.prototype.tooltipPosition=function(t,e,n,i){var o,r,a,s,l,c=this,u=c.config,d=c.d3,h=c.hasArcType(),f=d.mouse(i);return h?(r=(c.width-(c.isLegendRight?c.getLegendWidth():0))/2+f[0],s=(c.hasType("gauge")?c.height:c.height/2)+f[1]+20):(o=c.getSvgLeft(!0),s=u.axis_rotated?(a=(r=o+f[0]+100)+e,l=c.currentWidth-c.getCurrentPaddingRight(),c.x(t[0].x)+20):(a=(r=o+c.getCurrentPaddingLeft(!0)+c.x(t[0].x)+20)+e,l=o+c.currentWidth-c.getCurrentPaddingRight(),f[1]+15),l<a&&(r-=a-l+20),s+n>c.currentHeight&&(s-=n+30)),s<0&&(s=0),{top:s,left:r}},u.prototype.showTooltip=function(t,e){var n,i,o,r=this,a=r.config,s=r.hasArcType(),l=t.filter(function(t){return t&&O(t.value)}),c=a.tooltip_position||u.prototype.tooltipPosition;0!==l.length&&a.tooltip_show?(r.tooltip.html(a.tooltip_contents.call(r,t,r.axis.getXAxisTickFormat(),r.getYFormat(s),r.color)).style("display","block"),n=r.tooltip.property("offsetWidth"),i=r.tooltip.property("offsetHeight"),o=c.call(this,l,n,i,e),r.tooltip.style("top",o.top+"px").style("left",o.left+"px")):r.hideTooltip()},u.prototype.hideTooltip=function(){this.tooltip.style("display","none")},u.prototype.setTargetType=function(t,e){var n=this,i=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===i.data_types[t],i.data_types[t]=e}),t||(i.data_type=e)},u.prototype.hasType=function(n,t){var i=this.config.data_types,o=!1;return(t=t||this.data.targets)&&t.length?t.forEach(function(t){var e=i[t.id];(e&&0<=e.indexOf(n)||!e&&"line"===n)&&(o=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(t){i[t]===n&&(o=!0)}):o=this.config.data_type===n,o},u.prototype.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},u.prototype.isLineType=function(t){var e=this.config,n=f(t)?t:t.id;return!e.data_types[n]||0<=["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])},u.prototype.isStepType=function(t){var e=f(t)?t:t.id;return 0<=["step","area-step"].indexOf(this.config.data_types[e])},u.prototype.isSplineType=function(t){var e=f(t)?t:t.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[e])},u.prototype.isAreaType=function(t){var e=f(t)?t:t.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[e])},u.prototype.isBarType=function(t){var e=f(t)?t:t.id;return"bar"===this.config.data_types[e]},u.prototype.isScatterType=function(t){var e=f(t)?t:t.id;return"scatter"===this.config.data_types[e]},u.prototype.isStanfordType=function(t){var e=f(t)?t:t.id;return"stanford"===this.config.data_types[e]},u.prototype.isPieType=function(t){var e=f(t)?t:t.id;return"pie"===this.config.data_types[e]},u.prototype.isGaugeType=function(t){var e=f(t)?t:t.id;return"gauge"===this.config.data_types[e]},u.prototype.isDonutType=function(t){var e=f(t)?t:t.id;return"donut"===this.config.data_types[e]},u.prototype.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},u.prototype.lineData=function(t){return this.isLineType(t)?[t]:[]},u.prototype.arcData=function(t){return this.isArcType(t.data)?[t]:[]},u.prototype.barData=function(t){return this.isBarType(t)?t.values:[]},u.prototype.lineOrScatterOrStanfordData=function(t){return this.isLineType(t)||this.isScatterType(t)||this.isStanfordType(t)?t.values:[]},u.prototype.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},u.prototype.isSafari=function(){var t=window.navigator.userAgent;return 0<=t.indexOf("Safari")&&t.indexOf("Chrome")<0},u.prototype.isChrome=function(){return 0<=window.navigator.userAgent.indexOf("Chrome")},u.prototype.initZoom=function(){var e,n=this,i=n.d3,o=n.config;return n.zoom=i.zoom().on("start",function(){var t;"scroll"===o.zoom_type&&((t=i.event.sourceEvent)&&"brush"===t.type||(e=t,o.zoom_onzoomstart.call(n.api,t)))}).on("zoom",function(){var t;"scroll"===o.zoom_type&&((t=i.event.sourceEvent)&&"brush"===t.type||(n.redrawForZoom(),o.zoom_onzoom.call(n.api,n.x.orgDomain())))}).on("end",function(){var t;"scroll"===o.zoom_type&&((t=i.event.sourceEvent)&&"brush"===t.type||t&&e.clientX===t.clientX&&e.clientY===t.clientY||o.zoom_onzoomend.call(n.api,n.x.orgDomain()))}),n.zoom.updateDomain=function(){return i.event&&i.event.transform&&(o.axis_rotated&&"scroll"===o.zoom_type&&"mousemove"===i.event.sourceEvent.type?n.x.domain(i.event.transform.rescaleY(n.subX).domain()):n.x.domain(i.event.transform.rescaleX(n.subX).domain())),this},n.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[n.width,n.height]]).extent([[0,0],[n.width,n.height]]),this},n.zoom.update=function(){return this.updateExtent().updateDomain()},n.zoom.updateExtent()},u.prototype.zoomTransform=function(t){var e=[this.x(t[0]),this.x(t[1])];return this.d3.zoomIdentity.scale(this.width/(e[1]-e[0])).translate(-e[0],0)},u.prototype.initDragZoom=function(){var e,t,n=this,i=n.d3,o=n.config,r=n.context=n.svg,a=n.margin.left+20.5,s=n.margin.top+.5;"drag"===o.zoom_type&&o.zoom_enabled&&(e=function(t){return t&&t.map(function(t){return n.x.invert(t)})},t=n.dragZoomBrush=i.brushX().on("start",function(){n.api.unzoom(),n.svg.select("."+V.dragZoom).classed("disabled",!1),o.zoom_onzoomstart.call(n.api,i.event.sourceEvent)}).on("brush",function(){o.zoom_onzoom.call(n.api,e(i.event.selection))}).on("end",function(){var t;null!=i.event.selection&&(t=e(i.event.selection),o.zoom_disableDefaultBehavior||n.api.zoom(t),n.svg.select("."+V.dragZoom).classed("disabled",!0),o.zoom_onzoomend.call(n.api,t))}),r.append("g").classed(V.dragZoom,!0).attr("clip-path",n.clipPath).attr("transform","translate("+a+","+s+")").call(t))},u.prototype.getZoomDomain=function(){var t=this.config,e=this.d3;return[e.min([this.orgXDomain[0],t.zoom_x_min]),e.max([this.orgXDomain[1],t.zoom_x_max])]},u.prototype.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,i=t.zoom,o=t.x;n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length&&(i.update(),n.zoom_disableDefaultBehavior||(t.isCategorized()&&o.orgDomain()[0]===t.orgXDomain[0]&&o.domain([t.orgXDomain[0]-1e-10,o.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),e.event.sourceEvent&&"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0)))},n}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(u){u.extend(u.fn,{validate:function(t){if(this.length){var i=u.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new u.validator(t,this[0]),u.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.submitButton=t.currentTarget,u(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==u(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(n){function t(){var t,e;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(t=u("<input type='hidden'/>").attr("name",i.submitButton.name).val(u(i.submitButton).val()).appendTo(i.currentForm)),!i.settings.submitHandler||(e=i.settings.submitHandler.call(i,i.currentForm,n),t&&t.remove(),void 0!==e&&e)}return i.settings.debug&&n.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,t()):i.form()?i.pendingRequest?!(i.formSubmitted=!0):t():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,e,n;return u(this[0]).is("form")?t=this.validate().form():(n=[],t=!0,e=u(this[0].form).validate(),this.each(function(){(t=e.element(this)&&t)||(n=n.concat(e.errorList))}),e.errorList=n),t},rules:function(t,e){var n,i,o,r,a,s,l=this[0];if(null!=l&&(!l.form&&l.hasAttribute("contenteditable")&&(l.form=this.closest("form")[0],l.name=this.attr("name")),null!=l.form)){if(t)switch(i=(n=u.data(l.form,"validator").settings).rules,o=u.validator.staticRules(l),t){case"add":u.extend(o,u.validator.normalizeRule(e)),delete o.messages,i[l.name]=o,e.messages&&(n.messages[l.name]=u.extend(n.messages[l.name],e.messages));break;case"remove":return e?(s={},u.each(e.split(/\s/),function(t,e){s[e]=o[e],delete o[e]}),s):(delete i[l.name],o)}return(r=u.validator.normalizeRules(u.extend({},u.validator.classRules(l),u.validator.attributeRules(l),u.validator.dataRules(l),u.validator.staticRules(l)),l)).required&&(a=r.required,delete r.required,r=u.extend({required:a},r)),r.remote&&(a=r.remote,delete r.remote,r=u.extend(r,{remote:a})),r}}}),u.extend(u.expr.pseudos||u.expr[":"],{blank:function(t){return!u.trim(""+u(t).val())},filled:function(t){var e=u(t).val();return null!==e&&!!u.trim(""+e)},unchecked:function(t){return!u(t).prop("checked")}}),u.validator=function(t,e){this.settings=u.extend(!0,{},u.validator.defaults,t),this.currentForm=e,this.init()},u.validator.format=function(n,t){return 1===arguments.length?function(){var t=u.makeArray(arguments);return t.unshift(n),u.validator.format.apply(this,t)}:(void 0===t||(2<arguments.length&&t.constructor!==Array&&(t=u.makeArray(arguments).slice(1)),t.constructor!==Array&&(t=[t]),u.each(t,function(t,e){n=n.replace(new RegExp("\\{"+t+"\\}","g"),function(){return e})})),n)},u.extend(u.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:u([]),errorLabelContainer:u([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){9===e.which&&""===this.elementValue(t)||-1!==u.inArray(e.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,e,n){"radio"===t.type?this.findByName(t.name).addClass(e).removeClass(n):u(t).addClass(e).removeClass(n)},unhighlight:function(t,e,n){"radio"===t.type?this.findByName(t.name).removeClass(e).addClass(n):u(t).removeClass(e).addClass(n)}},setDefaults:function(t){u.extend(u.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:u.validator.format("Please enter no more than {0} characters."),minlength:u.validator.format("Please enter at least {0} characters."),rangelength:u.validator.format("Please enter a value between {0} and {1} characters long."),range:u.validator.format("Please enter a value between {0} and {1}."),max:u.validator.format("Please enter a value less than or equal to {0}."),min:u.validator.format("Please enter a value greater than or equal to {0}."),step:u.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=u(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||u(this.currentForm),this.containers=u(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};function t(t){!this.form&&this.hasAttribute("contenteditable")&&(this.form=u(this).closest("form")[0],this.name=u(this).attr("name"));var e=u.data(this.form,"validator"),n="on"+t.type.replace(/^validate/,""),i=e.settings;i[n]&&!u(this).is(i.ignore)&&i[n].call(e,this,t)}u.each(this.settings.groups,function(n,t){"string"==typeof t&&(t=t.split(/\s/)),u.each(t,function(t,e){i[e]=n})}),n=this.settings.rules,u.each(n,function(t,e){n[t]=u.validator.normalizeRule(e)}),u(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&u(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),u.extend(this.submitted,this.errorMap),this.invalid=u.extend({},this.errorMap),this.valid()||u(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(t){var e,n,i=this.clean(t),o=this.validationTargetFor(i),r=this,a=!0;return void 0===o?delete this.invalid[i.name]:(this.prepareElement(o),this.currentElements=u(o),(n=this.groups[o.name])&&u.each(this.groups,function(t,e){e===n&&t!==o.name&&(i=r.validationTargetFor(r.clean(r.findByName(t))))&&i.name in r.invalid&&(r.currentElements.push(i),a=r.check(i)&&a)}),e=!1!==this.check(o),a=a&&e,this.invalid[o.name]=!e,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),u(t).attr("aria-invalid",!e)),a},showErrors:function(e){if(e){var n=this;u.extend(this.errorMap,e),this.errorList=u.map(this.errorMap,function(t,e){return{message:t,element:n.findByName(e)[0]}}),this.successList=u.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){u.fn.resetForm&&u(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{u(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===u.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return u(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var t=this.name||u(this).attr("name");return!t&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=u(this).closest("form")[0],this.name=t),!(t in n||!e.objectLength(u(this).rules()))&&(n[t]=!0)})},clean:function(t){return u(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return u(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=u([]),this.toHide=u([])},reset:function(){this.resetInternals(),this.currentElements=u([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var e,n,i=u(t),o=t.type;return"radio"===o||"checkbox"===o?this.findByName(t.name).filter(":checked").val():"number"===o&&void 0!==t.validity?t.validity.badInput?"NaN":i.val():(e=t.hasAttribute("contenteditable")?i.text():i.val(),"file"===o?"C:\\fakepath\\"===e.substr(0,12)?e.substr(12):0<=(n=e.lastIndexOf("/"))?e.substr(n+1):0<=(n=e.lastIndexOf("\\"))?e.substr(n+1):e:"string"==typeof e?e.replace(/\r/g,""):e)},check:function(e){e=this.validationTargetFor(this.clean(e));var t,n,i,o,r=u(e).rules(),a=u.map(r,function(t,e){return e}).length,s=!1,l=this.elementValue(e);if("function"==typeof r.normalizer?o=r.normalizer:"function"==typeof this.settings.normalizer&&(o=this.settings.normalizer),o){if("string"!=typeof(l=o.call(e,l)))throw new TypeError("The normalizer should return a string value.");delete r.normalizer}for(n in r){i={method:n,parameters:r[n]};try{if("dependency-mismatch"===(t=u.validator.methods[n].call(this,l,e,i.parameters))&&1===a){s=!0;continue}if(s=!1,"pending"===t)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!t)return this.formatAndAdd(e,i),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+i.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+i.method+"' method."),t}}if(!s)return this.objectLength(r)&&this.successList.push(e),!0},customDataMessage:function(t,e){return u(t).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||u(t).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(t,e){"string"==typeof e&&(e={method:e});var n=this.findDefined(this.customMessage(t.name,e.method),this.customDataMessage(t,e.method),!this.settings.ignoreTitle&&t.title||void 0,u.validator.messages[e.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),i=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,e.parameters,t):i.test(n)&&(n=u.validator.format(n.replace(i,"{$1}"),e.parameters)),n},formatAndAdd:function(t,e){var n=this.defaultMessage(t,e);this.errorList.push({message:n,element:t,method:e.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return u(this.errorList).map(function(){return this.element})},showLabel:function(t,e){var n,i,o,r,a=this.errorsFor(t),s=this.idOrName(t),l=u(t).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(e)):(n=a=u("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(e||""),this.settings.wrapper&&(n=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement.call(this,n,u(t)):n.insertAfter(t),a.is("label")?a.attr("for",s):0===a.parents("label[for='"+this.escapeCssMeta(s)+"']").length&&(o=a.attr("id"),l?l.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(l+=" "+o):l=o,u(t).attr("aria-describedby",l),(i=this.groups[t.name])&&(r=this,u.each(r.groups,function(t,e){e===i&&u("[name='"+r.escapeCssMeta(t)+"']",r.currentForm).attr("aria-describedby",a.attr("id"))})))),!e&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,t)),this.toShow=this.toShow.add(a)},errorsFor:function(t){var e=this.escapeCssMeta(this.idOrName(t)),n=u(t).attr("aria-describedby"),i="label[for='"+e+"'], label[for='"+e+"'] *";return n&&(i=i+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(i)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),u(t).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return u(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,e){switch(e.nodeName.toLowerCase()){case"select":return u("option:selected",e).length;case"input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return t.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(t,e){return!!u(t,e.form).length},function:function(t,e){return t(e)}},optional:function(t){var e=this.elementValue(t);return!u.validator.methods.required.call(this,e,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,u(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],u(t).removeClass(this.settings.pendingClass),e&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(u(this.currentForm).submit(),this.submitButton&&u("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&(u(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,e){return e="string"==typeof e&&e||"remote",u.data(t,"previousValue")||u.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:e})})},destroy:function(){this.resetForm(),u(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,e){t.constructor===String?this.classRuleSettings[t]=e:u.extend(this.classRuleSettings,t)},classRules:function(t){var e={},n=u(t).attr("class");return n&&u.each(n.split(" "),function(){this in u.validator.classRuleSettings&&u.extend(e,u.validator.classRuleSettings[this])}),e},normalizeAttributeRule:function(t,e,n,i){/min|max|step/.test(n)&&(null===e||/number|range|text/.test(e))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?t[n]=i:e===n&&"range"!==e&&(t[n]=!0)},attributeRules:function(t){var e,n,i={},o=u(t),r=t.getAttribute("type");for(e in u.validator.methods)n="required"===e?(""===(n=t.getAttribute(e))&&(n=!0),!!n):o.attr(e),this.normalizeAttributeRule(i,r,e,n);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var e,n,i={},o=u(t),r=t.getAttribute("type");for(e in u.validator.methods)n=o.data("rule"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()),this.normalizeAttributeRule(i,r,e,n);return i},staticRules:function(t){var e={},n=u.data(t.form,"validator");return n.settings.rules&&(e=u.validator.normalizeRule(n.settings.rules[t.name])||{}),e},normalizeRules:function(i,o){return u.each(i,function(t,e){if(!1!==e){if(e.param||e.depends){var n=!0;switch(typeof e.depends){case"string":n=!!u(e.depends,o.form).length;break;case"function":n=e.depends.call(o,o)}n?i[t]=void 0===e.param||e.param:(u.data(o.form,"validator").resetElements(u(o)),delete i[t])}}else delete i[t]}),u.each(i,function(t,e){i[t]=u.isFunction(e)&&"normalizer"!==t?e(o):e}),u.each(["minlength","maxlength"],function(){i[this]&&(i[this]=Number(i[this]))}),u.each(["rangelength","range"],function(){var t;i[this]&&(u.isArray(i[this])?i[this]=[Number(i[this][0]),Number(i[this][1])]:"string"==typeof i[this]&&(t=i[this].replace(/[\[\]]/g,"").split(/[\s,]+/),i[this]=[Number(t[0]),Number(t[1])]))}),u.validator.autoCreateRanges&&(null!=i.min&&null!=i.max&&(i.range=[i.min,i.max],delete i.min,delete i.max),null!=i.minlength&&null!=i.maxlength&&(i.rangelength=[i.minlength,i.maxlength],delete i.minlength,delete i.maxlength)),i},normalizeRule:function(t){if("string"==typeof t){var e={};u.each(t.split(/\s/),function(){e[this]=!0}),t=e}return t},addMethod:function(t,e,n){u.validator.methods[t]=e,u.validator.messages[t]=void 0!==n?n:u.validator.messages[t],e.length<3&&u.validator.addClassRules(t,u.validator.normalizeRule(t))},methods:{required:function(t,e,n){if(!this.depend(n,e))return"dependency-mismatch";if("select"!==e.nodeName.toLowerCase())return this.checkable(e)?0<this.getLength(t,e):0<t.length;var i=u(e).val();return i&&0<i.length},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,n){var i=u.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||n<=i},maxlength:function(t,e,n){var i=u.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||i<=n},rangelength:function(t,e,n){var i=u.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||i>=n[0]&&i<=n[1]},min:function(t,e,n){return this.optional(e)||n<=t},max:function(t,e,n){return this.optional(e)||t<=n},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},step:function(t,e,n){function i(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0}function o(t){return Math.round(t*Math.pow(10,r))}var r,a=u(e).attr("type"),s="Step attribute on input type "+a+" is not supported.",l=new RegExp("\\b"+a+"\\b"),c=!0;if(a&&!l.test(["text","number","range"].join()))throw new Error(s);return r=i(n),(i(t)>r||o(t)%o(n)!=0)&&(c=!1),this.optional(e)||c},equalTo:function(t,e,n){var i=u(n);return this.settings.onfocusout&&i.not(".validate-equalTo-blur").length&&i.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){u(e).valid()}),t===i.val()},remote:function(r,a,t,s){if(this.optional(a))return"dependency-mismatch";s="string"==typeof s&&s||"remote";var l,e,n,c=this.previousValue(a,s);return this.settings.messages[a.name]||(this.settings.messages[a.name]={}),c.originalMessage=c.originalMessage||this.settings.messages[a.name][s],this.settings.messages[a.name][s]=c.message,t="string"==typeof t&&{url:t}||t,n=u.param(u.extend({data:r},t.data)),c.old===n?c.valid:(c.old=n,(l=this).startRequest(a),(e={})[a.name]=r,u.ajax(u.extend(!0,{mode:"abort",port:"validate"+a.name,dataType:"json",data:e,context:l.currentForm,success:function(t){var e,n,i,o=!0===t||"true"===t;l.settings.messages[a.name][s]=c.originalMessage,o?(i=l.formSubmitted,l.resetInternals(),l.toHide=l.errorsFor(a),l.formSubmitted=i,l.successList.push(a),l.invalid[a.name]=!1,l.showErrors()):(e={},n=t||l.defaultMessage(a,{method:s,parameters:r}),e[a.name]=c.message=n,l.invalid[a.name]=!0,l.showErrors(e)),c.valid=o,l.stopRequest(a,o)}},t)),"pending")}}});var i,o={};return u.ajaxPrefilter?u.ajaxPrefilter(function(t,e,n){var i=t.port;"abort"===t.mode&&(o[i]&&o[i].abort(),o[i]=n)}):(i=u.ajax,u.ajax=function(t){var e=("mode"in t?t:u.ajaxSettings).mode,n=("port"in t?t:u.ajaxSettings).port;return"abort"===e?(o[n]&&o[n].abort(),o[n]=i.apply(this,arguments),o[n]):i.apply(this,arguments)}),u}),function(t,e){"function"==typeof define&&define.amd?define(["tether"],e):"object"==typeof exports?module.exports=e(require("tether")):t.Shepherd=e(t.Tether)}(this,function(i){"use strict";var t=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){for(var i=!0;i;){var o=t,r=e,a=n;i=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;t=c,e=r,n=a,i=!0,s=c=void 0}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var n=i.Utils,s=n.Evented,l=n.addClass,c=n.extend,u=n.hasClass,d=n.removeClass,h=n.uniqueId,f=new s;function p(t){return void 0===t}function g(t){return"object"==typeof t}var m={"top right":"bottom left","top left":"bottom right","top center":"bottom center","middle right":"middle left","middle left":"middle right","middle center":"middle center","bottom left":"top right","bottom right":"top left","bottom center":"top center",top:"bottom center",left:"middle right",right:"middle left",bottom:"top center",center:"middle center",middle:"middle center"};function v(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]}var y=/^(.+) (top|left|right|bottom|center|\[[a-z ]+\])$/;var b=(e(_,s),t(_,[{key:"bindMethods",value:function(){var e=this;["_show","show","hide","isOpen","cancel","complete","scrollTo","destroy","render"].map(function(t){e[t]=e[t].bind(e)})}},{key:"setOptions",value:function(t){var e=arguments.length<=0||void 0===t?{}:t;this.options=e,this.destroy(),this.id=this.options.id||this.id||"step-"+h();var n=this.options.when;if(n)for(var i in n)if({}.hasOwnProperty.call(n,i)){var o=n[i];this.on(i,o,this)}var r=JSON.stringify(this.options.buttons),a=p(r)||"true"===r,s="{}"===r||"[]"===r||"null"===r||"false"===r,l=!a&&function(t){return t&&t.constructor===Array}(this.options.buttons),c=!a&&function(t){return t&&t.constructor===Object}(this.options.buttons);a?this.options.buttons=[{text:"Next",action:this.tour.next,classes:"btn"}]:!s&&c?this.options.buttons=[this.options.buttons]:!s&&l||(this.options.buttons=!1)}},{key:"getTour",value:function(){return this.tour}},{key:"bindAdvance",value:function(){function t(t){e.isOpen()&&(p(o)?e.el&&t.target===e.el&&e.tour.next():function(t,e){var n=void 0;return p(t.matches)?p(t.matchesSelector)?p(t.msMatchesSelector)?p(t.webkitMatchesSelector)?p(t.mozMatchesSelector)?p(t.oMatchesSelector)||(n=t.oMatchesSelector):n=t.mozMatchesSelector:n=t.webkitMatchesSelector:n=t.msMatchesSelector:n=t.matchesSelector:n=t.matches,n.call(t,e)}(t.target,o)&&e.tour.next())}var e=this,n=function(t,e){if(null===t||p(t))return t;if(g(t))return t;for(var n=t.split(" "),i={},o=e.length-1,r=n.length-1;0<=r;r--){if(0===o){i[e[o]]=n.slice(0,r+1).join(" ");break}i[e[o]]=n[r],o--}return i}(this.options.advanceOn,["selector","event"]),i=n.event,o=n.selector;document.body.addEventListener(i,t),this.on("destroy",function(){return document.body.removeEventListener(i,t)})}},{key:"getAttachTo",value:function(){var t=function(t){if(g(t))return t.hasOwnProperty("element")&&t.hasOwnProperty("on")?t:null;var e=y.exec(t);if(!e)return null;var n=e[2];return"["===n[0]&&(n=n.substring(1,n.length-1)),{element:e[1],on:n}}(this.options.attachTo)||{},e=c({},t);return"string"==typeof t.element&&(e.element=document.querySelector(t.element),e.element||console.error("The element for this Shepherd step was not found "+t.element)),e}},{key:"setupTether",value:function(){if(p(i))throw new Error("Using the attachment feature of Shepherd requires the Tether library");var t=this.getAttachTo(),e=m[t.on]||m.right;p(t.element)&&(t.element="viewport",e="middle center");var n={classPrefix:"shepherd",element:this.el,constraints:[{to:"window",pin:!0,attachment:"together"}],target:t.element,offset:t.offset||"0 0",attachment:e};this.tether&&this.tether.destroy(),this.tether=new i(c(n,this.options.tetherOptions))}},{key:"show",value:function(){var t=this;if(!p(this.options.beforeShowPromise)){var e=this.options.beforeShowPromise();if(!p(e))return e.then(function(){return t._show()})}this._show()}},{key:"_show",value:function(){var t=this;this.trigger("before-show"),this.el||this.render(),l(this.el,"shepherd-open"),document.body.setAttribute("data-shepherd-step",this.id),this.setupTether(),this.options.scrollTo&&setTimeout(function(){t.scrollTo()}),this.trigger("show")}},{key:"hide",value:function(){this.trigger("before-hide"),d(this.el,"shepherd-open"),document.body.removeAttribute("data-shepherd-step"),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("hide")}},{key:"isOpen",value:function(){return this.el&&u(this.el,"shepherd-open")}},{key:"cancel",value:function(){this.tour.cancel(),this.trigger("cancel")}},{key:"complete",value:function(){this.tour.complete(),this.trigger("complete")}},{key:"scrollTo",value:function(){var t=this.getAttachTo().element;p(this.options.scrollToHandler)?p(t)||t.scrollIntoView():this.options.scrollToHandler(t)}},{key:"destroy",value:function(){!p(this.el)&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),delete this.el),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("destroy")}},{key:"render",value:function(){var i=this;p(this.el)||this.destroy(),this.el=v("<div class='shepherd-step "+(this.options.classes||"")+"' data-id='"+this.id+"' "+(this.options.idAttribute?'id="'+this.options.idAttribute+'"':"")+"></div>");var e=document.createElement("div");e.className="shepherd-content",this.el.appendChild(e);var n,t,o=document.createElement("div");if(o.className="shepherd-header",e.appendChild(o),this.options.title&&(o.innerHTML+="<h3 class='shepherd-title'>"+this.options.title+"</h3>",this.el.className+=" shepherd-has-title"),this.options.showCancelLink){var r=v("<a href class='shepherd-cancel-link'></a>");o.appendChild(r),this.el.className+=" shepherd-has-cancel-link",this.bindCancelLink(r)}p(this.options.text)||(n=v("<div class='shepherd-text'></div>"),"function"==typeof(t=i.options.text)&&(t=t.call(i,n)),t instanceof HTMLElement?n.appendChild(t):("string"==typeof t&&(t=[t]),t.map(function(t){n.innerHTML+="<p>"+t+"</p>"})),e.appendChild(n)),this.options.buttons&&function(){var t=document.createElement("div");t.className="shepherd-footer";var n=v("<ul class='shepherd-buttons'></ul>");i.options.buttons.map(function(t){var e=v("<li><button class='btn btn-sm "+(t.classes||"")+"'>"+t.text+"</button>");n.appendChild(e),i.bindButtonEvents(t,e.querySelector("button"))}),t.appendChild(n),e.appendChild(t)}(),document.body.appendChild(this.el),this.setupTether(),this.options.advanceOn&&this.bindAdvance()}},{key:"bindCancelLink",value:function(t){var e=this;t.addEventListener("click",function(t){t.preventDefault(),e.cancel()})}},{key:"bindButtonEvents",value:function(n,i){var e=this;for(var t in n.events=n.events||{},p(n.action)||(n.events.click=n.action),n.events)if({}.hasOwnProperty.call(n.events,t)){var o=n.events[t];"string"==typeof o&&function(){var t=o;o=function(){return e.tour.show(t)}}(),i.addEventListener(t,o)}this.on("destroy",function(){for(var t in n.events)if({}.hasOwnProperty.call(n.events,t)){var e=n.events[t];i.removeEventListener(t,e)}})}}]),_);function _(t,e){return a(this,_),r(Object.getPrototypeOf(_.prototype),"constructor",this).call(this,t,e),this.tour=t,this.bindMethods(),this.setOptions(e),this}var E=(e(w,s),t(w,[{key:"bindMethods",value:function(){var e=this;["next","back","cancel","complete","hide"].map(function(t){e[t]=e[t].bind(e)})}},{key:"addStep",value:function(t,e){return p(e)&&(e=t),e instanceof b?e.tour=this:("string"!=typeof t&&"number"!=typeof t||(e.id=t.toString()),e=c({},this.options.defaults,e),e=new b(this,e)),this.steps.push(e),this}},{key:"removeStep",value:function(t){for(var e=this.getCurrentStep(),n=0;n<this.steps.length;++n){var i=this.steps[n];if(i.id===t){i.hide(),i.destroy(),this.steps.splice(n,1);break}}e&&e.id===t&&(this.currentStep=void 0,this.steps.length?this.show(0):this.hide())}},{key:"getById",value:function(t){for(var e=0;e<this.steps.length;++e){var n=this.steps[e];if(n.id===t)return n}}},{key:"getCurrentStep",value:function(){return this.currentStep}},{key:"next",value:function(){var t=this.steps.indexOf(this.currentStep);t===this.steps.length-1?(this.hide(t),this.trigger("complete"),this.done()):this.show(t+1,!0)}},{key:"back",value:function(){var t=this.steps.indexOf(this.currentStep);this.show(t-1,!1)}},{key:"cancel",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("cancel"),this.done()}},{key:"complete",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("complete"),this.done()}},{key:"hide",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("hide"),this.done()}},{key:"done",value:function(){f.activeTour=null,d(document.body,"shepherd-active"),this.trigger("inactive",{tour:this})}},{key:"show",value:function(t,e){var n=arguments.length<=0||void 0===t?0:t,i=arguments.length<=1||void 0===e||e;this.currentStep?this.currentStep.hide():(l(document.body,"shepherd-active"),this.trigger("active",{tour:this})),f.activeTour=this;var o=void 0;if(o="string"==typeof n?this.getById(n):this.steps[n])if(p(o.options.showOn)||o.options.showOn())this.trigger("show",{step:o,previous:this.currentStep}),this.currentStep&&this.currentStep.hide(),(this.currentStep=o).show();else{var r=this.steps.indexOf(o),a=i?r+1:r-1;this.show(a,i)}}},{key:"start",value:function(){this.trigger("start"),this.currentStep=null,this.next()}}]),w);function w(){var n=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a(this,w),r(Object.getPrototypeOf(w.prototype),"constructor",this).call(this,t),this.bindMethods(),this.options=t,this.steps=this.options.steps||[];return["complete","cancel","hide","start","show","active","inactive"].map(function(t){var e;e=t,n.on(e,function(t){(t=t||{}).tour=n,f.trigger(e,t)})}),this}return c(f,{Tour:E,Step:b,Evented:s}),f}),function(){var a,t,e,n,d,h,i,o,L,F,s=[].slice,r={}.hasOwnProperty;function l(){}function B(t,e){var n,i,o;if(this.element=t,this.version=B.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(B.instances.push(this),this.element.dropzone=this,n=null!=(o=B.optionsForElement(this.element))?o:{},this.options=L({},this.defaultOptions,n,null!=e?e:{}),this.options.forceFallback||!B.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(i=this.getExistingFallback())&&i.parentNode&&i.parentNode.removeChild(i),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=B.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=B.getElements(this.options.clickable,"clickable")),this.init()}i=function(){},l.prototype.addEventListener=l.prototype.on,l.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},l.prototype.emit=function(){var t,e,n,i,o;if(n=arguments[0],t=2<=arguments.length?s.call(arguments,1):[],this._callbacks=this._callbacks||{},e=this._callbacks[n])for(i=0,o=e.length;i<o;i++)e[i].apply(this,t);return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=l.prototype.off,l.prototype.removeEventListener=l.prototype.off,l.prototype.off=function(t,e){var n,i,o,r;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(n=this._callbacks[t]))return this;if(1===arguments.length)return delete this._callbacks[t],this;for(i=o=0,r=n.length;o<r;i=++o)if(n[i]===e){n.splice(i,1);break}return this},function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(B,t=l),B.prototype.Emitter=t,B.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],B.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return i},forceFallback:!1,fallback:function(){var t,e,n,i,o,r;for(this.element.className=this.element.className+" dz-browser-not-supported",i=0,o=(r=this.element.getElementsByTagName("div")).length;i<o;i++)t=r[i],/(^| )dz-message($| )/.test(t.className)&&((e=t).className="dz-message");return e||(e=B.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),(n=e.getElementsByTagName("span")[0])&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,n,i;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},n=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=n*e.optHeight:null==e.optHeight&&(e.optHeight=1/n*e.optWidth),i=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):i<n?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*i):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/i),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:i,dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:i,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,n,i,o,r,a,s,l,c,u,d,h,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=B.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),i=0,a=(c=e.previewElement.querySelectorAll("[data-dz-name]")).length;i<a;i++)c[i].textContent=e.name;for(o=0,s=(u=e.previewElement.querySelectorAll("[data-dz-size]")).length;o<s;o++)u[o].innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=B.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),f=this,t=function(t){return t.preventDefault(),t.stopPropagation(),e.status===B.UPLOADING?B.confirm(f.options.dictCancelUploadConfirmation,function(){return f.removeFile(e)}):f.options.dictRemoveFileConfirmation?B.confirm(f.options.dictRemoveFileConfirmation,function(){return f.removeFile(e)}):f.removeFile(e)},h=[],r=0,l=(d=e.previewElement.querySelectorAll("[data-dz-remove]")).length;r<l;r++)n=d[r],h.push(n.addEventListener("click",t));return h}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var n,i,o,r;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),i=0,o=(r=t.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;i<o;i++)(n=r[i]).alt=t.name,n.src=e;return setTimeout(function(){return t.previewElement.classList.add("dz-image-preview")},1)}},error:function(t,e){var n,i,o,r,a;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),a=[],i=0,o=(r=t.previewElement.querySelectorAll("[data-dz-errormessage]")).length;i<o;i++)n=r[i],a.push(n.textContent=e);return a}},errormultiple:i,processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:i,uploadprogress:function(t,e,n){var i,o,r,a,s;if(t.previewElement){for(s=[],o=0,r=(a=t.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;o<r;o++)"PROGRESS"===(i=a[o]).nodeName?s.push(i.value=e):s.push(i.style.width=e+"%");return s}},totaluploadprogress:i,sending:i,sendingmultiple:i,success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:i,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:i,complete:function(t){if(t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:i,maxfilesexceeded:i,maxfilesreached:i,queuecomplete:i,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},L=function(){var t,e,n,i,o,r,a;for(i=arguments[0],r=0,a=(n=2<=arguments.length?s.call(arguments,1):[]).length;r<a;r++)for(t in e=n[r])o=e[t],i[t]=o;return i},B.prototype.getAcceptedFiles=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.files).length;e<n;e++)(t=i[e]).accepted&&o.push(t);return o},B.prototype.getRejectedFiles=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.files).length;e<n;e++)(t=i[e]).accepted||o.push(t);return o},B.prototype.getFilesWithStatus=function(t){var e,n,i,o,r;for(r=[],n=0,i=(o=this.files).length;n<i;n++)(e=o[n]).status===t&&r.push(e);return r},B.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(B.QUEUED)},B.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(B.UPLOADING)},B.prototype.getActiveFiles=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.files).length;e<n;e++)(t=i[e]).status!==B.UPLOADING&&t.status!==B.QUEUED||o.push(t);return o},B.prototype.init=function(){var t,n,o,e,i,r,a,s,l,c,u,d,h,f,p,g,m,v,y;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(B.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(s=this,(o=function(){return s.hiddenFileInput&&document.body.removeChild(s.hiddenFileInput),s.hiddenFileInput=document.createElement("input"),s.hiddenFileInput.setAttribute("type","file"),(null==s.options.maxFiles||1<s.options.maxFiles)&&s.hiddenFileInput.setAttribute("multiple","multiple"),s.hiddenFileInput.className="dz-hidden-input",null!=s.options.acceptedFiles&&s.hiddenFileInput.setAttribute("accept",s.options.acceptedFiles),null!=s.options.capture&&s.hiddenFileInput.setAttribute("capture",s.options.capture),s.hiddenFileInput.style.visibility="hidden",s.hiddenFileInput.style.position="absolute",s.hiddenFileInput.style.top="0",s.hiddenFileInput.style.left="0",s.hiddenFileInput.style.height="0",s.hiddenFileInput.style.width="0",document.body.appendChild(s.hiddenFileInput),s.hiddenFileInput.addEventListener("change",function(){var t,e,n,i;if((e=s.hiddenFileInput.files).length)for(n=0,i=e.length;n<i;n++)t=e[n],s.addFile(t);return o()})})()),this.URL=null!=(r=window.URL)?r:window.webkitURL,e=0,i=(a=this.events).length;e<i;e++)t=a[e],this.on(t,this.options[t]);return this.on("uploadprogress",(l=this,function(){return l.updateTotalUploadProgress()})),this.on("removedfile",(c=this,function(){return c.updateTotalUploadProgress()})),this.on("canceled",(u=this,function(t){return u.emit("complete",t)})),this.on("complete",(d=this,function(t){if(0===d.getUploadingFiles().length&&0===d.getQueuedFiles().length)return setTimeout(function(){return d.emit("queuecomplete")},0)})),n=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:(v=this,function(t){return v.emit("dragstart",t)}),dragenter:(m=this,function(t){return n(t),m.emit("dragenter",t)}),dragover:(g=this,function(t){var e;try{e=t.dataTransfer.effectAllowed}catch(t){}return t.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy",n(t),g.emit("dragover",t)}),dragleave:(p=this,function(t){return p.emit("dragleave",t)}),drop:(f=this,function(t){return n(t),f.drop(t)}),dragend:(h=this,function(t){return h.emit("dragend",t)})}}],this.clickableElements.forEach((y=this,function(e){return y.listeners.push({element:e,events:{click:function(t){if(e!==y.element||t.target===y.element||B.elementInside(t.target,y.element.querySelector(".dz-message")))return y.hiddenFileInput.click()}}})})),this.enable(),this.options.init.call(this)},B.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,B.instances.splice(B.instances.indexOf(this),1)},B.prototype.updateTotalUploadProgress=function(){var t,e,n,i,o,r,a;if(e=n=0,this.getActiveFiles().length){for(o=0,r=(a=this.getActiveFiles()).length;o<r;o++)n+=(t=a[o]).upload.bytesSent,e+=t.upload.total;i=100*n/e}else i=100;return this.emit("totaluploadprogress",i,e,n)},B.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},B.prototype.getFallbackForm=function(){var t,e,n,i;return(t=this.getExistingFallback())?t:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=B.createElement(n),"FORM"!==this.element.tagName?(i=B.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(e):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=i?i:e)},B.prototype.getExistingFallback=function(){var t,e,n,i,o,r;for(e=function(t){var e,n,i;for(n=0,i=t.length;n<i;n++)if(e=t[n],/(^| )fallback($| )/.test(e.className))return e},i=0,o=(r=["div","form"]).length;i<o;i++)if(n=r[i],t=e(this.element.getElementsByTagName(n)))return t},B.prototype.setupEventListeners=function(){var n,i,o,t,e,r,a;for(a=[],t=0,e=(r=this.listeners).length;t<e;t++)n=r[t],a.push(function(){var t,e;for(i in e=[],t=n.events)o=t[i],e.push(n.element.addEventListener(i,o,!1));return e}());return a},B.prototype.removeEventListeners=function(){var n,i,o,t,e,r,a;for(a=[],t=0,e=(r=this.listeners).length;t<e;t++)n=r[t],a.push(function(){var t,e;for(i in e=[],t=n.events)o=t[i],e.push(n.element.removeEventListener(i,o,!1));return e}());return a},B.prototype.disable=function(){var t,e,n,i,o;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),o=[],e=0,n=(i=this.files).length;e<n;e++)t=i[e],o.push(this.cancelUpload(t));return o},B.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},B.prototype.filesize=function(t){var e,n,i,o,r,a,s;for(n=i=null,e=a=0,s=(r=["TB","GB","MB","KB","b"]).length;a<s;e=++a)if(o=r[e],Math.pow(this.options.filesizeBase,4-e)/10<=t){n=t/Math.pow(this.options.filesizeBase,4-e),i=o;break}return"<strong>"+(n=Math.round(10*n)/10)+"</strong> "+i},B.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},B.prototype.drop=function(t){var e,n;t.dataTransfer&&(this.emit("drop",t),(e=t.dataTransfer.files).length&&((n=t.dataTransfer.items)&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(e)))},B.prototype.paste=function(t){var e,n;if(null!=(null!=t&&null!=(n=t.clipboardData)?n.items:void 0))return this.emit("paste",t),(e=t.clipboardData.items).length?this._addFilesFromItems(e):void 0},B.prototype.handleFiles=function(t){var e,n,i,o;for(o=[],n=0,i=t.length;n<i;n++)e=t[n],o.push(this.addFile(e));return o},B.prototype._addFilesFromItems=function(t){var e,n,i,o,r;for(r=[],i=0,o=t.length;i<o;i++)null!=(n=t[i]).webkitGetAsEntry&&(e=n.webkitGetAsEntry())?e.isFile?r.push(this.addFile(n.getAsFile())):e.isDirectory?r.push(this._addFilesFromDirectory(e,e.name)):r.push(void 0):null==n.getAsFile||null!=n.kind&&"file"!==n.kind?r.push(void 0):r.push(this.addFile(n.getAsFile()));return r},B.prototype._addFilesFromDirectory=function(t,o){var e,n,r;return e=t.createReader(),r=this,n=function(t){var e,n,i;for(n=0,i=t.length;n<i;n++)(e=t[n]).isFile?e.file(function(t){if(!r.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath=o+"/"+t.name,r.addFile(t)}):e.isDirectory&&r._addFilesFromDirectory(e,o+"/"+e.name)},e.readEntries(n,function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0})},B.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):B.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},B.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=B.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(n=this,function(t){return t?(e.accepted=!1,n._errorProcessing([e],t)):(e.accepted=!0,n.options.autoQueue&&n.enqueueFile(e)),n._updateMaxFilesReachedClass()}));var n},B.prototype.enqueueFiles=function(t){var e,n,i;for(n=0,i=t.length;n<i;n++)e=t[n],this.enqueueFile(e);return null},B.prototype.enqueueFile=function(t){if(t.status!==B.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=B.QUEUED,this.options.autoProcessQueue)return setTimeout((e=this,function(){return e.processQueue()}),0);var e},B.prototype._thumbnailQueue=[],B.prototype._processingThumbnail=!1,B.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout((e=this,function(){return e._processThumbnailQueue()}),0);var e},B.prototype._processThumbnailQueue=function(){var t;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(t=this,function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}))},B.prototype.removeFile=function(t){if(t.status===B.UPLOADING&&this.cancelUpload(t),this.files=o(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")},B.prototype.removeAllFiles=function(t){var e,n,i,o;for(null==t&&(t=!1),n=0,i=(o=this.files.slice()).length;n<i;n++)(e=o[n]).status===B.UPLOADING&&!t||this.removeFile(e);return null},B.prototype.createThumbnail=function(t,e){var n,i;return(n=new FileReader).onload=(i=this,function(){return"image/svg+xml"===t.type?(i.emit("thumbnail",t,n.result),void(null!=e&&e())):i.createThumbnailFromUrl(t,n.result,e)}),n.readAsDataURL(t)},B.prototype.createThumbnailFromUrl=function(l,t,c){var u,d;return(u=document.createElement("img")).onload=(d=this,function(){var t,e,n,i,o,r,a,s;if(l.width=u.width,l.height=u.height,null==(n=d.options.resize.call(d,l)).trgWidth&&(n.trgWidth=n.optWidth),null==n.trgHeight&&(n.trgHeight=n.optHeight),e=(t=document.createElement("canvas")).getContext("2d"),t.width=n.trgWidth,t.height=n.trgHeight,h(e,u,null!=(o=n.srcX)?o:0,null!=(r=n.srcY)?r:0,n.srcWidth,n.srcHeight,null!=(a=n.trgX)?a:0,null!=(s=n.trgY)?s:0,n.trgWidth,n.trgHeight),i=t.toDataURL("image/png"),d.emit("thumbnail",l,i),null!=c)return c()}),null!=c&&(u.onerror=c),u.src=t},B.prototype.processQueue=function(){var t,e,n,i;if(!((e=this.options.parallelUploads)<=(t=n=this.getUploadingFiles().length))&&0<(i=this.getQueuedFiles()).length){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-n));for(;t<e;){if(!i.length)return;this.processFile(i.shift()),t++}}},B.prototype.processFile=function(t){return this.processFiles([t])},B.prototype.processFiles=function(t){var e,n,i;for(n=0,i=t.length;n<i;n++)(e=t[n]).processing=!0,e.status=B.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},B.prototype._getFilesWithXhr=function(o){var r;return function(){var t,e,n,i;for(i=[],t=0,e=(n=this.files).length;t<e;t++)(r=n[t]).xhr===o&&i.push(r);return i}.call(this)},B.prototype.cancelUpload=function(t){var e,n,i,o,r,a,s;if(t.status===B.UPLOADING){for(i=0,r=(n=this._getFilesWithXhr(t.xhr)).length;i<r;i++)(e=n[i]).status=B.CANCELED;for(t.xhr.abort(),o=0,a=n.length;o<a;o++)e=n[o],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else(s=t.status)!==B.ADDED&&s!==B.QUEUED||(t.status=B.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()},F=function(){var t,e;return e=arguments[0],t=2<=arguments.length?s.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},B.prototype.uploadFile=function(t){return this.uploadFiles([t])},B.prototype.uploadFiles=function(u){var d,t,n,e,i,o,r,a,s,l,c,h,f,p,g,m,v,y,b,_,E,w,T,C,x,D,O,I,k,S,R,A,M,N,K,P;for(y=new XMLHttpRequest,b=0,T=u.length;b<T;b++)(d=u[b]).xhr=y;for(e in h=F(this.options.method,u),m=F(this.options.url,u),y.open(h,m,!0),y.withCredentials=!!this.options.withCredentials,p=null,n=function(){var t,e,n;for(n=[],t=0,e=u.length;t<e;t++)d=u[t],n.push(N._errorProcessing(u,p||N.options.dictResponseError.replace("{{statusCode}}",y.status),y));return n},K=N=this,g=function(t){var e,n,i,o,r,a,s,l,c;if(null!=t)for(n=100*t.loaded/t.total,i=0,a=u.length;i<a;i++)(d=u[i]).upload={progress:n,total:t.total,bytesSent:t.loaded};else{for(e=!0,n=100,o=0,s=u.length;o<s;o++)100===(d=u[o]).upload.progress&&d.upload.bytesSent===d.upload.total||(e=!1),d.upload.progress=n,d.upload.bytesSent=d.upload.total;if(e)return}for(c=[],r=0,l=u.length;r<l;r++)d=u[r],c.push(K.emit("uploadprogress",d,n,d.upload.bytesSent));return c},y.onload=(P=this,function(e){var t;if(u[0].status!==B.CANCELED&&4===y.readyState){if(p=y.responseText,y.getResponseHeader("content-type")&&~y.getResponseHeader("content-type").indexOf("application/json"))try{p=JSON.parse(p)}catch(t){e=t,p="Invalid JSON response from server."}return g(),200<=(t=y.status)&&t<300?P._finished(u,p,e):n()}}),y.onerror=function(){if(u[0].status!==B.CANCELED)return n()},(null!=(I=y.upload)?I:y).onprogress=g,o={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&L(o,this.options.headers),o)i=o[e],y.setRequestHeader(e,i);if(t=new FormData,this.options.params)for(c in k=this.options.params)v=k[c],t.append(c,v);for(_=0,C=u.length;_<C;_++)d=u[_],this.emit("sending",d,y,t);if(this.options.uploadMultiple&&this.emit("sendingmultiple",u,y,t),"FORM"===this.element.tagName)for(E=0,x=(S=this.element.querySelectorAll("input, textarea, select, button")).length;E<x;E++)if(s=(a=S[E]).getAttribute("name"),l=a.getAttribute("type"),"SELECT"===a.tagName&&a.hasAttribute("multiple"))for(w=0,D=(R=a.options).length;w<D;w++)(f=R[w]).selected&&t.append(s,f.value);else(!l||"checkbox"!==(A=l.toLowerCase())&&"radio"!==A||a.checked)&&t.append(s,a.value);for(r=O=0,M=u.length-1;0<=M?O<=M:M<=O;r=0<=M?++O:--O)t.append(this._getParamName(r),u[r],u[r].name);return y.send(t)},B.prototype._finished=function(t,e,n){var i,o,r;for(o=0,r=t.length;o<r;o++)(i=t[o]).status=B.SUCCESS,this.emit("success",i,e,n),this.emit("complete",i);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},B.prototype._errorProcessing=function(t,e,n){var i,o,r;for(o=0,r=t.length;o<r;o++)(i=t[o]).status=B.ERROR,this.emit("error",i,e,n),this.emit("complete",i);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},(a=B).version="4.0.1",a.options={},a.optionsForElement=function(t){return t.getAttribute("id")?a.options[e(t.getAttribute("id"))]:void 0},a.instances=[],a.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},a.autoDiscover=!0,a.discover=function(){var t,e,r,n,i,o;for(document.querySelectorAll?r=document.querySelectorAll(".dropzone"):(r=[],(t=function(t){var e,n,i,o;for(o=[],n=0,i=t.length;n<i;n++)e=t[n],/(^| )dropzone($| )/.test(e.className)?o.push(r.push(e)):o.push(void 0);return o})(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),o=[],n=0,i=r.length;n<i;n++)e=r[n],!1!==a.optionsForElement(e)?o.push(new a(e)):o.push(void 0);return o},a.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],a.isBrowserSupported=function(){var t,e,n,i;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(e=0,n=(i=a.blacklistedBrowsers).length;e<n;e++)i[e].test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},o=function(t,e){var n,i,o,r;for(r=[],i=0,o=t.length;i<o;i++)(n=t[i])!==e&&r.push(n);return r},e=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},a.createElement=function(t){var e;return(e=document.createElement("div")).innerHTML=t,e.childNodes[0]},a.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},a.getElement=function(t,e){var n;if("string"==typeof t?n=document.querySelector(t):null!=t.nodeType&&(n=t),null==n)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},a.getElements=function(t,e){var n,i,o,r,a,s,l;if(t instanceof Array){i=[];try{for(o=0,a=t.length;o<a;o++)n=t[o],i.push(this.getElement(n,e))}catch(t){t,i=null}}else if("string"==typeof t)for(i=[],r=0,s=(l=document.querySelectorAll(t)).length;r<s;r++)n=l[r],i.push(n);else null!=t.nodeType&&(i=[t]);if(null==i||!i.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},a.confirm=function(t,e,n){return window.confirm(t)?e():null!=n?n():void 0},a.isValidFile=function(t,e){var n,i,o,r,a;if(!e)return!0;for(e=e.split(","),n=(i=t.type).replace(/\/.*$/,""),r=0,a=e.length;r<a;r++)if("."===(o=(o=e[r]).trim()).charAt(0)){if(-1!==t.name.toLowerCase().indexOf(o.toLowerCase(),t.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(n===o.replace(/\/.*$/,""))return!0}else if(i===o)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new a(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=a:window.Dropzone=a,a.ADDED="added",a.QUEUED="queued",a.ACCEPTED=a.QUEUED,a.UPLOADING="uploading",a.PROCESSING=a.UPLOADING,a.CANCELED="canceled",a.ERROR="error",a.SUCCESS="success",d=function(t){var e,n,i,o,r,a,s,l;for(t.naturalWidth,r=t.naturalHeight,(e=document.createElement("canvas")).width=1,e.height=r,(n=e.getContext("2d")).drawImage(t,0,0),i=n.getImageData(0,0,1,r).data,l=0,a=o=r;l<a;)0===i[4*(a-1)+3]?o=a:l=a,a=o+l>>1;return 0==(s=a/r)?1:s},h=function(t,e,n,i,o,r,a,s,l,c){var u;return u=d(e),t.drawImage(e,n,i,o,r,a,s,l,c/u)},n=function(e,n){var t,i,o,r,a,s,l,c,u;if(u=!(o=!1),i=e.document,c=i.documentElement,t=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",s=i.addEventListener?"":"on",r=function(t){if("readystatechange"!==t.type||"complete"===i.readyState)return("load"===t.type?e:i)[l](s+t.type,r,!1),!o&&(o=!0)?n.call(e,t.type||t):void 0},a=function(){try{c.doScroll("left")}catch(t){return t,void setTimeout(a,50)}return r("poll")},"complete"!==i.readyState){if(i.createEventObject&&c.doScroll){try{u=!e.frameElement}catch(t){}u&&a()}return i[t](s+"DOMContentLoaded",r,!1),i[t](s+"readystatechange",r,!1),e[t](s+"load",r,!1)}},a._autoDiscoverFunction=function(){if(a.autoDiscover)return a.discover()},n(window,a._autoDiscoverFunction)}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?t(require("jquery")):t(jQuery)}(function(r){var t,e,n="[object OperaMini]"===Object.prototype.toString.call(window.operamini),i="placeholder"in document.createElement("input")&&!n,o="placeholder"in document.createElement("textarea")&&!n,a=r.valHooks,s=r.propHooks,l={};function c(t,e){var n=r(this);if(this.value===n.attr("placeholder")&&n.hasClass(l.customClass))if(this.value="",n.removeClass(l.customClass),n.data("placeholder-password")){if(n=n.hide().nextAll('input[type="password"]:first').show().attr("id",n.removeAttr("id").data("placeholder-id")),!0===t)return n[0].value=e;n.focus()}else this==d()&&this.select()}function u(t){var e,n=r(this),i=this.id;if(t&&"blur"===t.type){if(n.hasClass(l.customClass))return;if("password"===this.type&&0<(e=n.prevAll('input[type="text"]:first')).length&&e.is(":visible"))return}if(""===this.value){if("password"===this.type){if(!n.data("placeholder-textinput")){try{e=n.clone().prop({type:"text"})}catch(t){e=r("<input>").attr(r.extend(function(t){var n={},i=/^jQuery\d+$/;return r.each(t.attributes,function(t,e){e.specified&&!i.test(e.name)&&(n[e.name]=e.value)}),n}(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":n,"placeholder-id":i}).bind("focus.placeholder",c),n.data({"placeholder-textinput":e,"placeholder-id":i}).before(e)}this.value="",n=n.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",n.data("placeholder-id")).show()}else{var o=n.data("placeholder-password");o&&(o[0].value="",n.attr("id",n.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}n.addClass(l.customClass),n[0].value=n.attr("placeholder")}else n.removeClass(l.customClass)}function d(){try{return document.activeElement}catch(t){}}i&&o?((e=r.fn.placeholder=function(){return this}).input=!0,e.textarea=!0):((e=r.fn.placeholder=function(t){return l=r.extend({},{customClass:"placeholder"},t),this.filter((i?"textarea":":input")+"[placeholder]").not("."+l.customClass).bind({"focus.placeholder":c,"blur.placeholder":u}).data("placeholder-enabled",!0).trigger("blur.placeholder")}).input=i,e.textarea=o,t={get:function(t){var e=r(t),n=e.data("placeholder-password");return n?n[0].value:e.data("placeholder-enabled")&&e.hasClass(l.customClass)?"":t.value},set:function(t,e){var n,i,o=r(t);return""!==e&&(n=o.data("placeholder-textinput"),i=o.data("placeholder-password"),n?(c.call(n[0],!0,e)||(t.value=e),n[0].value=e):i&&(c.call(t,!0,e)||(i[0].value=e),t.value=e)),o.data("placeholder-enabled")?""===e?(t.value=e,t!=d()&&u.call(t)):(o.hasClass(l.customClass)&&c.call(t),t.value=e):t.value=e,o}},i||(a.input=t,s.value=t),o||(a.textarea=t,s.value=t),r(function(){r(document).delegate("form","submit.placeholder",function(){var t=r("."+l.customClass,this).each(function(){c.call(this,!0,"")});setTimeout(function(){t.each(u)},10)})}),r(window).bind("beforeunload.placeholder",function(){r("."+l.customClass).each(function(){this.value=""})}))}),function(t){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],t);else if("object"==typeof exports)t(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";t(jQuery,moment)}}(function(X,Z){"use strict";if(!Z)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");function n(r,c){function a(t){if("string"!=typeof t||1<t.length)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==k.indexOf("Y");case"M":return-1!==k.indexOf("M");case"d":return-1!==k.toLowerCase().indexOf("d");case"h":case"H":return-1!==k.toLowerCase().indexOf("h");case"m":return-1!==k.indexOf("m");case"s":return-1!==k.indexOf("s");default:return!1}}function s(){return a("h")||a("m")||a("s")}function l(){return a("y")||a("M")||a("d")}function u(){var t=X("<div>").addClass("timepicker-hours").append(X("<table>").addClass("table-condensed")),e=X("<div>").addClass("timepicker-minutes").append(X("<table>").addClass("table-condensed")),n=X("<div>").addClass("timepicker-seconds").append(X("<table>").addClass("table-condensed")),i=[function(){var t=X("<tr>"),e=X("<tr>"),n=X("<tr>");return a("h")&&(t.append(X("<td>").append(X("<a>").attr({href:"#",tabindex:"-1",title:"Increment Hour"}).addClass("btn").attr("data-action","incrementHours").append(X("<span>").addClass(c.icons.up)))),e.append(X("<td>").append(X("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:"Pick Hour"}).attr("data-action","showHours"))),n.append(X("<td>").append(X("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Hour"}).addClass("btn").attr("data-action","decrementHours").append(X("<span>").addClass(c.icons.down))))),a("m")&&(a("h")&&(t.append(X("<td>").addClass("separator")),e.append(X("<td>").addClass("separator").html(":")),n.append(X("<td>").addClass("separator"))),t.append(X("<td>").append(X("<a>").attr({href:"#",tabindex:"-1",title:"Increment Minute"}).addClass("btn").attr("data-action","incrementMinutes").append(X("<span>").addClass(c.icons.up)))),e.append(X("<td>").append(X("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:"Pick Minute"}).attr("data-action","showMinutes"))),n.append(X("<td>").append(X("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Minute"}).addClass("btn").attr("data-action","decrementMinutes").append(X("<span>").addClass(c.icons.down))))),a("s")&&(a("m")&&(t.append(X("<td>").addClass("separator")),e.append(X("<td>").addClass("separator").html(":")),n.append(X("<td>").addClass("separator"))),t.append(X("<td>").append(X("<a>").attr({href:"#",tabindex:"-1",title:"Increment Second"}).addClass("btn").attr("data-action","incrementSeconds").append(X("<span>").addClass(c.icons.up)))),e.append(X("<td>").append(X("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:"Pick Second"}).attr("data-action","showSeconds"))),n.append(X("<td>").append(X("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Second"}).addClass("btn").attr("data-action","decrementSeconds").append(X("<span>").addClass(c.icons.down))))),I||(t.append(X("<td>").addClass("separator")),e.append(X("<td>").append(X("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:"Toggle Period"}))),n.append(X("<td>").addClass("separator"))),X("<div>").addClass("timepicker-picker").append(X("<table>").addClass("table-condensed").append([t,e,n]))}()];return a("h")&&i.push(t),a("m")&&i.push(e),a("s")&&i.push(n),i}function e(){var t=X("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),e=X("<div>").addClass("datepicker").append(function(){var t=X("<thead>").append(X("<tr>").append(X("<th>").addClass("prev").attr("data-action","previous").append(X("<span>").addClass(c.icons.previous))).append(X("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",c.calendarWeeks?"6":"5")).append(X("<th>").addClass("next").attr("data-action","next").append(X("<span>").addClass(c.icons.next)))),e=X("<tbody>").append(X("<tr>").append(X("<td>").attr("colspan",c.calendarWeeks?"8":"7")));return[X("<div>").addClass("datepicker-days").append(X("<table>").addClass("table-condensed").append(t).append(X("<tbody>"))),X("<div>").addClass("datepicker-months").append(X("<table>").addClass("table-condensed").append(t.clone()).append(e.clone())),X("<div>").addClass("datepicker-years").append(X("<table>").addClass("table-condensed").append(t.clone()).append(e.clone())),X("<div>").addClass("datepicker-decades").append(X("<table>").addClass("table-condensed").append(t.clone()).append(e.clone()))]}()),n=X("<div>").addClass("timepicker").append(u()),i=X("<ul>").addClass("list-unstyled"),o=X("<li>").addClass("picker-switch"+(c.collapse?" accordion-toggle":"")).append(function(){var t=[];return c.showTodayButton&&t.push(X("<td>").append(X("<a>").attr({"data-action":"today",title:"Go to today"}).append(X("<span>").addClass(c.icons.today)))),!c.sideBySide&&l()&&s()&&t.push(X("<td>").append(X("<a>").attr({"data-action":"togglePicker",title:"Select Time"}).append(X("<span>").addClass(c.icons.time)))),c.showClear&&t.push(X("<td>").append(X("<a>").attr({"data-action":"clear",title:"Clear selection"}).append(X("<span>").addClass(c.icons.clear)))),c.showClose&&t.push(X("<td>").append(X("<a>").attr({"data-action":"close",title:"Close the picker"}).append(X("<span>").addClass(c.icons.close)))),X("<table>").addClass("table-condensed").append(X("<tbody>").append(X("<tr>").append(t)))}());return c.inline&&t.removeClass("dropdown-menu"),I&&t.addClass("usetwentyfour"),a("s")&&!I&&t.addClass("wider"),c.sideBySide&&l()&&s()?(t.addClass("timepicker-sbs"),t.append(X("<div>").addClass("row").append(e.addClass("col-sm-6")).append(n.addClass("col-sm-6"))),t.append(o),t):("top"===c.toolbarPlacement&&i.append(o),l()&&i.append(X("<li>").addClass(c.collapse&&s()?"collapse in":"").append(e)),"default"===c.toolbarPlacement&&i.append(o),s()&&i.append(X("<li>").addClass(c.collapse&&l()?"collapse":"").append(n)),"bottom"===c.toolbarPlacement&&i.append(o),t.append(i))}function n(){var t,e=(F||r).position(),n=(F||r).offset(),i=c.widgetPositioning.vertical,o=c.widgetPositioning.horizontal;if(c.widgetParent)t=c.widgetParent.append(B);else if(r.is("input"))t=r.after(B).parent();else{if(c.inline)return void r.append(B);(t=r).children().first().after(B)}if("auto"===i&&(i=n.top+1.5*B.height()>=X(window).height()+X(window).scrollTop()&&B.height()+r.outerHeight()<n.top?"top":"bottom"),"auto"===o&&(o=t.width()<n.left+B.outerWidth()/2&&n.left+B.outerWidth()>X(window).width()?"right":"left"),"top"===i?B.addClass("top").removeClass("bottom"):B.addClass("bottom").removeClass("top"),"right"===o?B.addClass("pull-right"):B.removeClass("pull-right"),"relative"!==t.css("position")&&(t=t.parents().filter(function(){return"relative"===X(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a relative positioned container");B.css({top:"top"===i?"auto":e.top+r.outerHeight(),bottom:"top"===i?e.top+r.outerHeight():"auto",left:"left"===o?t===r?0:e.left:"auto",right:"left"===o?"auto":t.outerWidth()-r.outerWidth()-(t===r?0:e.left)})}function i(t){"dp.change"===t.type&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)||r.trigger(t)}function o(t){"y"===t&&(t="YYYY"),i({type:"dp.update",change:t,viewDate:P.clone()})}function d(t){B&&(t&&(R=Math.max($,Math.min(3,R+t))),B.find(".datepicker > div").hide().filter(".datepicker-"+H[R].clsName).show())}function h(t,e){if(!t.isValid())return!1;if(c.disabledDates&&"d"===e&&function(t){return!0===c.disabledDates[t.format("YYYY-MM-DD")]}(t))return!1;if(c.enabledDates&&"d"===e&&!function(t){return!0===c.enabledDates[t.format("YYYY-MM-DD")]}(t))return!1;if(c.minDate&&t.isBefore(c.minDate,e))return!1;if(c.maxDate&&t.isAfter(c.maxDate,e))return!1;if(c.daysOfWeekDisabled&&"d"===e&&-1!==c.daysOfWeekDisabled.indexOf(t.day()))return!1;if(c.disabledHours&&("h"===e||"m"===e||"s"===e)&&function(t){return!0===c.disabledHours[t.format("H")]}(t))return!1;if(c.enabledHours&&("h"===e||"m"===e||"s"===e)&&!function(t){return!0===c.enabledHours[t.format("H")]}(t))return!1;if(c.disabledTimeIntervals&&("h"===e||"m"===e||"s"===e)){var n=!1;if(X.each(c.disabledTimeIntervals,function(){return t.isBetween(this[0],this[1])?!(n=!0):void 0}),n)return!1}return!0}function f(){var t,e,n,i,o=B.find(".datepicker-days"),r=o.find("th"),a=[];if(l()){for(r.eq(0).find("span").attr("title","Previous Month"),r.eq(1).attr("title","Select Month"),r.eq(2).find("span").attr("title","Next Month"),o.find(".disabled").removeClass("disabled"),r.eq(1).text(P.format(c.dayViewHeaderFormat)),h(P.clone().subtract(1,"M"),"M")||r.eq(0).addClass("disabled"),h(P.clone().add(1,"M"),"M")||r.eq(2).addClass("disabled"),t=P.clone().startOf("M").startOf("w").startOf("d"),i=0;i<42;i++)0===t.weekday()&&(e=X("<tr>"),c.calendarWeeks&&e.append('<td class="cw">'+t.week()+"</td>"),a.push(e)),n="",t.isBefore(P,"M")&&(n+=" old"),t.isAfter(P,"M")&&(n+=" new"),t.isSame(K,"d")&&!L&&(n+=" active"),h(t,"d")||(n+=" disabled"),t.isSame(Z(),"d")&&(n+=" today"),0!==t.day()&&6!==t.day()||(n+=" weekend"),e.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="day'+n+'">'+t.date()+"</td>"),t.add(1,"d");o.find("tbody").empty().append(a),function(){var t=B.find(".datepicker-months"),e=t.find("th"),n=t.find("tbody").find("span");e.eq(0).find("span").attr("title","Previous Year"),e.eq(1).attr("title","Select Year"),e.eq(2).find("span").attr("title","Next Year"),t.find(".disabled").removeClass("disabled"),h(P.clone().subtract(1,"y"),"y")||e.eq(0).addClass("disabled"),e.eq(1).text(P.year()),h(P.clone().add(1,"y"),"y")||e.eq(2).addClass("disabled"),n.removeClass("active"),K.isSame(P,"y")&&!L&&n.eq(K.month()).addClass("active"),n.each(function(t){h(P.clone().month(t),"M")||X(this).addClass("disabled")})}(),function(){var t=B.find(".datepicker-years"),e=t.find("th"),n=P.clone().subtract(5,"y"),i=P.clone().add(6,"y"),o="";for(e.eq(0).find("span").attr("title","Previous Decade"),e.eq(1).attr("title","Select Decade"),e.eq(2).find("span").attr("title","Next Decade"),t.find(".disabled").removeClass("disabled"),c.minDate&&c.minDate.isAfter(n,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+i.year()),c.maxDate&&c.maxDate.isBefore(i,"y")&&e.eq(2).addClass("disabled");!n.isAfter(i,"y");)o+='<span data-action="selectYear" class="year'+(n.isSame(K,"y")&&!L?" active":"")+(h(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");t.find("td").html(o)}(),function(){var t=B.find(".datepicker-decades"),e=t.find("th"),n=Z(P.isBefore(Z({y:1999}))?{y:1899}:{y:1999}),i=n.clone().add(100,"y"),o="";for(e.eq(0).find("span").attr("title","Previous Century"),e.eq(2).find("span").attr("title","Next Century"),t.find(".disabled").removeClass("disabled"),(n.isSame(Z({y:1900}))||c.minDate&&c.minDate.isAfter(n,"y"))&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+i.year()),(n.isSame(Z({y:2e3}))||c.maxDate&&c.maxDate.isBefore(i,"y"))&&e.eq(2).addClass("disabled");!n.isAfter(i,"y");)o+='<span data-action="selectDecade" class="decade'+(n.isSame(K,"y")?" active":"")+(h(n,"y")?"":" disabled")+'" data-selection="'+(n.year()+6)+'">'+(n.year()+1)+" - "+(n.year()+12)+"</span>",n.add(12,"y");o+="<span></span><span></span><span></span>",t.find("td").html(o)}()}}function t(){var t,e,n=B.find(".timepicker span[data-time-component]");I||(t=B.find(".timepicker [data-action=togglePeriod]"),e=K.clone().add(12<=K.hours()?-12:12,"h"),t.text(K.format("A")),h(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),n.filter("[data-time-component=hours]").text(K.format(I?"HH":"hh")),n.filter("[data-time-component=minutes]").text(K.format("mm")),n.filter("[data-time-component=seconds]").text(K.format("ss")),function(){var t=B.find(".timepicker-hours table"),e=P.clone().startOf("d"),n=[],i=X("<tr>");for(11<P.hour()&&!I&&e.hour(12);e.isSame(P,"d")&&(I||P.hour()<12&&e.hour()<12||11<P.hour());)e.hour()%4==0&&(i=X("<tr>"),n.push(i)),i.append('<td data-action="selectHour" class="hour'+(h(e,"h")?"":" disabled")+'">'+e.format(I?"HH":"hh")+"</td>"),e.add(1,"h");t.empty().append(n)}(),function(){for(var t=B.find(".timepicker-minutes table"),e=P.clone().startOf("h"),n=[],i=X("<tr>"),o=1===c.stepping?5:c.stepping;P.isSame(e,"h");)e.minute()%(4*o)==0&&(i=X("<tr>"),n.push(i)),i.append('<td data-action="selectMinute" class="minute'+(h(e,"m")?"":" disabled")+'">'+e.format("mm")+"</td>"),e.add(o,"m");t.empty().append(n)}(),function(){for(var t=B.find(".timepicker-seconds table"),e=P.clone().startOf("m"),n=[],i=X("<tr>");P.isSame(e,"m");)e.second()%20==0&&(i=X("<tr>"),n.push(i)),i.append('<td data-action="selectSecond" class="second'+(h(e,"s")?"":" disabled")+'">'+e.format("ss")+"</td>"),e.add(5,"s");t.empty().append(n)}()}function p(){B&&(f(),t())}function g(t){var e=L?null:K;return t?(t=t.clone().locale(c.locale),1!==c.stepping&&t.minutes(Math.round(t.minutes()/c.stepping)*c.stepping%60).seconds(0),void(h(t)?(P=(K=t).clone(),O.val(K.format(k)),r.data("date",K.format(k)),L=!1,p(),i({type:"dp.change",date:K.clone(),oldDate:e})):(c.keepInvalid||O.val(L?"":K.format(k)),i({type:"dp.error",date:t})))):(L=!0,O.val(""),r.data("date",""),i({type:"dp.change",date:!1,oldDate:e}),void p())}function m(){var e=!1;return B&&(B.find(".collapse").each(function(){var t=X(this).data("collapse");return!t||!t.transitioning||!(e=!0)}),e||(F&&F.hasClass("btn")&&F.toggleClass("active"),B.hide(),X(window).off("resize",n),B.off("click","[data-action]"),B.off("mousedown",!1),B.remove(),B=!1,i({type:"dp.hide",date:K.clone()}))),N}function v(){g(null)}function y(t){return X(t.currentTarget).is(".disabled")||U[X(t.currentTarget).data("action")].apply(N,arguments),!1}function b(){var t;return O.prop("disabled")||!c.ignoreReadonly&&O.prop("readonly")||B||(void 0!==O.val()&&0!==O.val().trim().length?g(Y(O.val().trim())):c.useCurrent&&L&&(O.is("input")&&0===O.val().trim().length||c.inline)&&(t=Z(),"string"==typeof c.useCurrent&&(t={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}}[c.useCurrent](t)),g(t)),B=e(),function(){var t=X("<tr>"),e=P.clone().startOf("w").startOf("d");for(!0===c.calendarWeeks&&t.append(X("<th>").addClass("cw").text("#"));e.isBefore(P.clone().endOf("w"));)t.append(X("<th>").addClass("dow").text(e.format("dd"))),e.add(1,"d");B.find(".datepicker-days thead").append(t)}(),function(){for(var t=[],e=P.clone().startOf("y").startOf("d");e.isSame(P,"y");)t.push(X("<span>").attr("data-action","selectMonth").addClass("month").text(e.format("MMM"))),e.add(1,"M");B.find(".datepicker-months td").empty().append(t)}(),B.find(".timepicker-hours").hide(),B.find(".timepicker-minutes").hide(),B.find(".timepicker-seconds").hide(),p(),d(),X(window).on("resize",n),B.on("click","[data-action]",y),B.on("mousedown",!1),F&&F.hasClass("btn")&&F.toggleClass("active"),B.show(),n(),c.focusOnShow&&!O.is(":focus")&&O.focus(),i({type:"dp.show"})),N}function _(){return B?m():b()}function E(t){var e,n,i,o,r=null,a=[],s={},l=t.which;for(e in G[l]="p",G)G.hasOwnProperty(e)&&"p"===G[e]&&(a.push(e),parseInt(e,10)!==l&&(s[e]=!0));for(e in c.keyBinds)if(c.keyBinds.hasOwnProperty(e)&&"function"==typeof c.keyBinds[e]&&((i=e.split(" ")).length===a.length&&q[l]===i[i.length-1])){for(o=!0,n=i.length-2;0<=n;n--)if(!(q[i[n]]in s)){o=!1;break}if(o){r=c.keyBinds[e];break}}r&&(r.call(N,B),t.stopPropagation(),t.preventDefault())}function w(t){G[t.which]="r",t.stopPropagation(),t.preventDefault()}function T(t){var e=X(t.target).val().trim(),n=e?Y(e):null;return g(n),t.stopImmediatePropagation(),!1}function C(t){var e={};return X.each(t,function(){var t=Y(this);t.isValid()&&(e[t.format("YYYY-MM-DD")]=!0)}),!!Object.keys(e).length&&e}function x(t){var e={};return X.each(t,function(){e[this]=!0}),!!Object.keys(e).length&&e}function D(){var t=c.format||"L LT";k=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return(K.localeData().longDateFormat(t)||t).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return K.localeData().longDateFormat(t)||t})}),(S=c.extraFormats?c.extraFormats.slice():[]).indexOf(t)<0&&S.indexOf(k)<0&&S.push(k),I=k.toLowerCase().indexOf("a")<1&&k.replace(/\[.*?\]/g,"").indexOf("h")<1,a("y")&&($=2),a("M")&&($=1),a("d")&&($=0),R=Math.max($,R),L||g(K)}var O,I,k,S,R,A,M,N={},K=Z().startOf("d"),P=K.clone(),L=!0,F=!1,B=!1,$=0,H=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],z=["days","months","years","decades"],j=["top","bottom","auto"],V=["left","right","auto"],W=["default","top","bottom"],q={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},G={},U={next:function(){var t=H[R].navFnc;P.add(H[R].navStep,t),f(),o(t)},previous:function(){var t=H[R].navFnc;P.subtract(H[R].navStep,t),f(),o(t)},pickerSwitch:function(){d(1)},selectMonth:function(t){var e=X(t.target).closest("tbody").find("span").index(X(t.target));P.month(e),R===$?(g(K.clone().year(P.year()).month(P.month())),c.inline||m()):(d(-1),f()),o("M")},selectYear:function(t){var e=parseInt(X(t.target).text(),10)||0;P.year(e),R===$?(g(K.clone().year(P.year())),c.inline||m()):(d(-1),f()),o("YYYY")},selectDecade:function(t){var e=parseInt(X(t.target).data("selection"),10)||0;P.year(e),R===$?(g(K.clone().year(P.year())),c.inline||m()):(d(-1),f()),o("YYYY")},selectDay:function(t){var e=P.clone();X(t.target).is(".old")&&e.subtract(1,"M"),X(t.target).is(".new")&&e.add(1,"M"),g(e.date(parseInt(X(t.target).text(),10))),s()||c.keepOpen||c.inline||m()},incrementHours:function(){var t=K.clone().add(1,"h");h(t,"h")&&g(t)},incrementMinutes:function(){var t=K.clone().add(c.stepping,"m");h(t,"m")&&g(t)},incrementSeconds:function(){var t=K.clone().add(1,"s");h(t,"s")&&g(t)},decrementHours:function(){var t=K.clone().subtract(1,"h");h(t,"h")&&g(t)},decrementMinutes:function(){var t=K.clone().subtract(c.stepping,"m");h(t,"m")&&g(t)},decrementSeconds:function(){var t=K.clone().subtract(1,"s");h(t,"s")&&g(t)},togglePeriod:function(){g(K.clone().add(12<=K.hours()?-12:12,"h"))},togglePicker:function(t){var e,n=X(t.target),i=n.closest("ul"),o=i.find(".in"),r=i.find(".collapse:not(.in)");if(o&&o.length){if((e=o.data("collapse"))&&e.transitioning)return;o.collapse?(o.collapse("hide"),r.collapse("show")):(o.removeClass("in"),r.addClass("in")),n.is("span")?n.toggleClass(c.icons.time+" "+c.icons.date):n.find("span").toggleClass(c.icons.time+" "+c.icons.date)}},showPicker:function(){B.find(".timepicker > div:not(.timepicker-picker)").hide(),B.find(".timepicker .timepicker-picker").show()},showHours:function(){B.find(".timepicker .timepicker-picker").hide(),B.find(".timepicker .timepicker-hours").show()},showMinutes:function(){B.find(".timepicker .timepicker-picker").hide(),B.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){B.find(".timepicker .timepicker-picker").hide(),B.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var e=parseInt(X(t.target).text(),10);I||(12<=K.hours()?12!==e&&(e+=12):12===e&&(e=0)),g(K.clone().hours(e)),U.showPicker.call(N)},selectMinute:function(t){g(K.clone().minutes(parseInt(X(t.target).text(),10))),U.showPicker.call(N)},selectSecond:function(t){g(K.clone().seconds(parseInt(X(t.target).text(),10))),U.showPicker.call(N)},clear:v,today:function(){h(Z(),"d")&&g(Z())},close:m},Y=function(t){return(t=Z.isMoment(t)||t instanceof Date?Z(t):Z(t,S,c.useStrict)).locale(c.locale),t};if(N.destroy=function(){m(),O.off({change:T,blur:m,keydown:E,keyup:w,focus:c.allowInputToggle?m:""}),r.is("input")?O.off({focus:b}):F&&(F.off("click",_),F.off("mousedown",!1)),r.removeData("DateTimePicker"),r.removeData("date")},N.toggle=_,N.show=b,N.hide=m,N.disable=function(){return m(),F&&F.hasClass("btn")&&F.addClass("disabled"),O.prop("disabled",!0),N},N.enable=function(){return F&&F.hasClass("btn")&&F.removeClass("disabled"),O.prop("disabled",!1),N},N.ignoreReadonly=function(t){if(0===arguments.length)return c.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return c.ignoreReadonly=t,N},N.options=function(t){if(0===arguments.length)return X.extend(!0,{},c);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return X.extend(!0,c,t),X.each(c,function(t,e){if(void 0===N[t])throw new TypeError("option "+t+" is not recognized!");N[t](e)}),N},N.date=function(t){if(0===arguments.length)return L?null:K.clone();if(!(null===t||"string"==typeof t||Z.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return g(null===t?null:Y(t)),N},N.format=function(t){if(0===arguments.length)return c.format;if("string"!=typeof t&&("boolean"!=typeof t||!1!==t))throw new TypeError("format() expects a sting or boolean:false parameter "+t);return c.format=t,k&&D(),N},N.dayViewHeaderFormat=function(t){if(0===arguments.length)return c.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return c.dayViewHeaderFormat=t,N},N.extraFormats=function(t){if(0===arguments.length)return c.extraFormats;if(!1!==t&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return c.extraFormats=t,S&&D(),N},N.disabledDates=function(t){if(0===arguments.length)return c.disabledDates?X.extend({},c.disabledDates):c.disabledDates;if(!t)return c.disabledDates=!1,p(),N;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return c.disabledDates=C(t),c.enabledDates=!1,p(),N},N.enabledDates=function(t){if(0===arguments.length)return c.enabledDates?X.extend({},c.enabledDates):c.enabledDates;if(!t)return c.enabledDates=!1,p(),N;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return c.enabledDates=C(t),c.disabledDates=!1,p(),N},N.daysOfWeekDisabled=function(t){if(0===arguments.length)return c.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return c.daysOfWeekDisabled=!1,p(),N;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(c.daysOfWeekDisabled=t.reduce(function(t,e){return 6<(e=parseInt(e,10))||e<0||isNaN(e)||-1===t.indexOf(e)&&t.push(e),t},[]).sort(),c.useCurrent&&!c.keepInvalid){for(var e=0;!h(K,"d");){if(K.add(1,"d"),7===e)throw"Tried 7 times to find a valid date";e++}g(K)}return p(),N},N.maxDate=function(t){if(0===arguments.length)return c.maxDate?c.maxDate.clone():c.maxDate;if("boolean"==typeof t&&!1===t)return c.maxDate=!1,p(),N;"string"!=typeof t||"now"!==t&&"moment"!==t||(t=Z());var e=Y(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(c.minDate&&e.isBefore(c.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(k));return c.maxDate=e,c.useCurrent&&!c.keepInvalid&&K.isAfter(t)&&g(c.maxDate),P.isAfter(e)&&(P=e.clone()),p(),N},N.minDate=function(t){if(0===arguments.length)return c.minDate?c.minDate.clone():c.minDate;if("boolean"==typeof t&&!1===t)return c.minDate=!1,p(),N;"string"!=typeof t||"now"!==t&&"moment"!==t||(t=Z());var e=Y(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(c.maxDate&&e.isAfter(c.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(k));return c.minDate=e,c.useCurrent&&!c.keepInvalid&&K.isBefore(t)&&g(c.minDate),P.isBefore(e)&&(P=e.clone()),p(),N},N.defaultDate=function(t){if(0===arguments.length)return c.defaultDate?c.defaultDate.clone():c.defaultDate;if(!t)return c.defaultDate=!1,N;"string"!=typeof t||"now"!==t&&"moment"!==t||(t=Z());var e=Y(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!h(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return c.defaultDate=e,(c.defaultDate&&c.inline||""===O.val().trim()&&void 0===O.attr("placeholder"))&&g(c.defaultDate),N},N.locale=function(t){if(0===arguments.length)return c.locale;if(!Z.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return c.locale=t,K.locale(c.locale),P.locale(c.locale),k&&D(),B&&(m(),b()),N},N.stepping=function(t){return 0===arguments.length?c.stepping:(t=parseInt(t,10),(isNaN(t)||t<1)&&(t=1),c.stepping=t,N)},N.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return c.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));return c.useCurrent=t,N},N.collapse=function(t){if(0===arguments.length)return c.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return c.collapse===t||(c.collapse=t,B&&(m(),b())),N},N.icons=function(t){if(0===arguments.length)return X.extend({},c.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return X.extend(c.icons,t),B&&(m(),b()),N},N.useStrict=function(t){if(0===arguments.length)return c.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");return c.useStrict=t,N},N.sideBySide=function(t){if(0===arguments.length)return c.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return c.sideBySide=t,B&&(m(),b()),N},N.viewMode=function(t){if(0===arguments.length)return c.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===z.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+z.join(", ")+") value");return c.viewMode=t,R=Math.max(z.indexOf(t),$),d(),N},N.toolbarPlacement=function(t){if(0===arguments.length)return c.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===W.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+W.join(", ")+") value");return c.toolbarPlacement=t,B&&(m(),b()),N},N.widgetPositioning=function(t){if(0===arguments.length)return X.extend({},c.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===V.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+V.join(", ")+")");c.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===j.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+j.join(", ")+")");c.widgetPositioning.vertical=t.vertical}return p(),N},N.calendarWeeks=function(t){if(0===arguments.length)return c.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return c.calendarWeeks=t,p(),N},N.showTodayButton=function(t){if(0===arguments.length)return c.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return c.showTodayButton=t,B&&(m(),b()),N},N.showClear=function(t){if(0===arguments.length)return c.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return c.showClear=t,B&&(m(),b()),N},N.widgetParent=function(t){if(0===arguments.length)return c.widgetParent;if("string"==typeof t&&(t=X(t)),null!==t&&"string"!=typeof t&&!(t instanceof X))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return c.widgetParent=t,B&&(m(),b()),N},N.keepOpen=function(t){if(0===arguments.length)return c.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");return c.keepOpen=t,N},N.focusOnShow=function(t){if(0===arguments.length)return c.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");return c.focusOnShow=t,N},N.inline=function(t){if(0===arguments.length)return c.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");return c.inline=t,N},N.clear=function(){return v(),N},N.keyBinds=function(t){return c.keyBinds=t,N},N.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");return c.debug=t,N},N.allowInputToggle=function(t){if(0===arguments.length)return c.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");return c.allowInputToggle=t,N},N.showClose=function(t){if(0===arguments.length)return c.showClose;if("boolean"!=typeof t)throw new TypeError("showClose() expects a boolean parameter");return c.showClose=t,N},N.keepInvalid=function(t){if(0===arguments.length)return c.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");return c.keepInvalid=t,N},N.datepickerInput=function(t){if(0===arguments.length)return c.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");return c.datepickerInput=t,N},N.disabledTimeIntervals=function(t){if(0===arguments.length)return c.disabledTimeIntervals?X.extend({},c.disabledTimeIntervals):c.disabledTimeIntervals;if(!t)return c.disabledTimeIntervals=!1,p(),N;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return c.disabledTimeIntervals=t,p(),N},N.disabledHours=function(t){if(0===arguments.length)return c.disabledHours?X.extend({},c.disabledHours):c.disabledHours;if(!t)return c.disabledHours=!1,p(),N;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(c.disabledHours=x(t),c.enabledHours=!1,c.useCurrent&&!c.keepInvalid){for(var e=0;!h(K,"h");){if(K.add(1,"h"),24===e)throw"Tried 24 times to find a valid date";e++}g(K)}return p(),N},N.enabledHours=function(t){if(0===arguments.length)return c.enabledHours?X.extend({},c.enabledHours):c.enabledHours;if(!t)return c.enabledHours=!1,p(),N;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(c.enabledHours=x(t),c.disabledHours=!1,c.useCurrent&&!c.keepInvalid){for(var e=0;!h(K,"h");){if(K.add(1,"h"),24===e)throw"Tried 24 times to find a valid date";e++}g(K)}return p(),N},N.viewDate=function(t){if(0===arguments.length)return P.clone();if(!t)return P=K.clone(),N;if(!("string"==typeof t||Z.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return P=Y(t),o(),N},r.is("input"))O=r;else if(0===(O=r.find(c.datepickerInput)).size())O=r.find("input");else if(!O.is("input"))throw new Error('CSS class "'+c.datepickerInput+'" cannot be applied to non input element');if(r.hasClass("input-group")&&(F=0===r.find(".datepickerbutton").size()?r.find('[class^="input-group-"]'):r.find(".datepickerbutton")),!c.inline&&!O.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return X.extend(!0,c,(M={},(A=r.is("input")||c.inline?r.data():r.find("input").data()).dateOptions&&A.dateOptions instanceof Object&&(M=X.extend(!0,M,A.dateOptions)),X.each(c,function(t){var e="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==A[e]&&(M[t]=A[e])}),M)),N.options(c),D(),O.on({change:T,blur:c.debug?"":m,keydown:E,keyup:w,focus:c.allowInputToggle?b:""}),r.is("input")?O.on({focus:b}):F&&(F.on("click",_),F.on("mousedown",!1)),O.prop("disabled")&&N.disable(),O.is("input")&&0!==O.val().trim().length?g(Y(O.val().trim())):c.defaultDate&&void 0===O.attr("placeholder")&&g(c.defaultDate),c.inline&&b(),N}X.fn.datetimepicker=function(e){return this.each(function(){var t=X(this);t.data("DateTimePicker")||(e=X.extend(!0,{},X.fn.datetimepicker.defaults,e),t.data("DateTimePicker",n(t,e)))})},X.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:Z.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(t){var e=this.date()||Z();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(1,"m"))}},down:function(t){if(t){var e=this.date()||Z();t.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(1,"m"))}else this.show()},"control up":function(t){if(t){var e=this.date()||Z();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h"))}},"control down":function(t){if(t){var e=this.date()||Z();t.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h"))}},left:function(t){if(t){var e=this.date()||Z();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d"))}},right:function(t){if(t){var e=this.date()||Z();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(t){var e=this.date()||Z();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var e=this.date()||Z();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(Z())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}}),function(n,i){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(t,e){return n.daterangepicker=i(t,e)});else if("object"==typeof module&&module.exports){var t="undefined"!=typeof window?window.jQuery:void 0;t||(t=require("jquery")).fn||(t.fn={}),module.exports=i(require("moment"),t)}else n.daterangepicker=i(n.moment,n.jQuery)}(this,function(B,$){function i(t,e,n){if(this.parentEl="body",this.element=$(t),this.startDate=B().startOf("day"),this.endDate=B().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:B.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:B.weekdaysMin(),monthNames:B.monthsShort(),firstDay:B.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof e&&null!==e||(e={}),"string"==typeof(e=$.extend(this.element.data(),e)).template||e.template instanceof $||(e.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="icon icon-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="icon icon-clock glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="icon icon-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="icon icon-clock glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=e.parentEl&&$(e.parentEl).length?$(e.parentEl):$(this.parentEl),this.container=$(e.template).appendTo(this.parentEl),"object"==typeof e.locale&&("string"==typeof e.locale.direction&&(this.locale.direction=e.locale.direction),"string"==typeof e.locale.format&&(this.locale.format=e.locale.format),"string"==typeof e.locale.separator&&(this.locale.separator=e.locale.separator),"object"==typeof e.locale.daysOfWeek&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),"object"==typeof e.locale.monthNames&&(this.locale.monthNames=e.locale.monthNames.slice()),"number"==typeof e.locale.firstDay&&(this.locale.firstDay=e.locale.firstDay),"string"==typeof e.locale.applyLabel&&(this.locale.applyLabel=e.locale.applyLabel),"string"==typeof e.locale.cancelLabel&&(this.locale.cancelLabel=e.locale.cancelLabel),"string"==typeof e.locale.weekLabel&&(this.locale.weekLabel=e.locale.weekLabel),"string"==typeof e.locale.customRangeLabel)){(d=document.createElement("textarea")).innerHTML=e.locale.customRangeLabel;var i=d.value;this.locale.customRangeLabel=i}if(this.container.addClass(this.locale.direction),"string"==typeof e.startDate&&(this.startDate=B(e.startDate,this.locale.format)),"string"==typeof e.endDate&&(this.endDate=B(e.endDate,this.locale.format)),"string"==typeof e.minDate&&(this.minDate=B(e.minDate,this.locale.format)),"string"==typeof e.maxDate&&(this.maxDate=B(e.maxDate,this.locale.format)),"object"==typeof e.startDate&&(this.startDate=B(e.startDate)),"object"==typeof e.endDate&&(this.endDate=B(e.endDate)),"object"==typeof e.minDate&&(this.minDate=B(e.minDate)),"object"==typeof e.maxDate&&(this.maxDate=B(e.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof e.applyClass&&(this.applyClass=e.applyClass),"string"==typeof e.cancelClass&&(this.cancelClass=e.cancelClass),"object"==typeof e.dateLimit&&(this.dateLimit=e.dateLimit),"string"==typeof e.opens&&(this.opens=e.opens),"string"==typeof e.drops&&(this.drops=e.drops),"boolean"==typeof e.showWeekNumbers&&(this.showWeekNumbers=e.showWeekNumbers),"boolean"==typeof e.showISOWeekNumbers&&(this.showISOWeekNumbers=e.showISOWeekNumbers),"string"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses),"object"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses.join(" ")),"boolean"==typeof e.showDropdowns&&(this.showDropdowns=e.showDropdowns),"boolean"==typeof e.showCustomRangeLabel&&(this.showCustomRangeLabel=e.showCustomRangeLabel),"boolean"==typeof e.singleDatePicker&&(this.singleDatePicker=e.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof e.timePicker&&(this.timePicker=e.timePicker),"boolean"==typeof e.timePickerSeconds&&(this.timePickerSeconds=e.timePickerSeconds),"number"==typeof e.timePickerIncrement&&(this.timePickerIncrement=e.timePickerIncrement),"boolean"==typeof e.timePicker24Hour&&(this.timePicker24Hour=e.timePicker24Hour),"boolean"==typeof e.autoApply&&(this.autoApply=e.autoApply),"boolean"==typeof e.autoUpdateInput&&(this.autoUpdateInput=e.autoUpdateInput),"boolean"==typeof e.linkedCalendars&&(this.linkedCalendars=e.linkedCalendars),"function"==typeof e.isInvalidDate&&(this.isInvalidDate=e.isInvalidDate),"function"==typeof e.isCustomDate&&(this.isCustomDate=e.isCustomDate),"boolean"==typeof e.alwaysShowCalendars&&(this.alwaysShowCalendars=e.alwaysShowCalendars),0!=this.locale.firstDay)for(var o=this.locale.firstDay;0<o;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),o--;var r,a,s;if(void 0===e.startDate&&void 0===e.endDate&&$(this.element).is("input[type=text]")){var l=$(this.element).val(),c=l.split(this.locale.separator);r=a=null,2==c.length?(r=B(c[0],this.locale.format),a=B(c[1],this.locale.format)):this.singleDatePicker&&""!==l&&(r=B(l,this.locale.format),a=B(l,this.locale.format)),null!==r&&null!==a&&(this.setStartDate(r),this.setEndDate(a))}if("object"==typeof e.ranges){for(s in e.ranges){r="string"==typeof e.ranges[s][0]?B(e.ranges[s][0],this.locale.format):B(e.ranges[s][0]),a="string"==typeof e.ranges[s][1]?B(e.ranges[s][1],this.locale.format):B(e.ranges[s][1]),this.minDate&&r.isBefore(this.minDate)&&(r=this.minDate.clone());var u=this.maxDate;if(this.dateLimit&&u&&r.clone().add(this.dateLimit).isAfter(u)&&(u=r.clone().add(this.dateLimit)),u&&a.isAfter(u)&&(a=u.clone()),!(this.minDate&&a.isBefore(this.minDate,this.timepicker?"minute":"day")||u&&r.isAfter(u,this.timepicker?"minute":"day"))){var d;(d=document.createElement("textarea")).innerHTML=s;i=d.value;this.ranges[i]=[r,a]}}var h="<ul>";for(s in this.ranges)h+='<li data-range-key="'+s+'">'+s+"</li>";this.showCustomRangeLabel&&(h+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),h+="</ul>",this.container.find(".ranges").prepend(h)}"function"==typeof n&&(this.callback=n),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof e.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),(void 0===e.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),void 0!==e.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",$.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",$.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",$.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",$.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",$.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",$.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",$.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",$.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",$.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",$.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",$.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",$.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",$.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",$.proxy(this.clickCancel,this)).on("click.daterangepicker","li",$.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",$.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",$.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":$.proxy(this.show,this),"focus.daterangepicker":$.proxy(this.show,this),"keyup.daterangepicker":$.proxy(this.elementChanged,this),"keydown.daterangepicker":$.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",$.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))}return i.prototype={constructor:i,setStartDate:function(t){"string"==typeof t&&(this.startDate=B(t,this.locale.format)),"object"==typeof t&&(this.startDate=B(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=B(t,this.locale.format)),"object"==typeof t&&(this.endDate=B(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var t,e,n,i;if(this.endDate){if(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(i=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0)}else if(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(i=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0);this.leftCalendar.month.hour(t).minute(e).second(n),this.rightCalendar.month.hour(t).minute(e).second(n)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(t){var e,n=(e="left"==t?this.leftCalendar:this.rightCalendar).month.month(),i=e.month.year(),o=e.month.hour(),r=e.month.minute(),a=e.month.second(),s=B([i,n]).daysInMonth(),l=B([i,n,1]),c=B([i,n,s]),u=B(l).subtract(1,"month").month(),d=B(l).subtract(1,"month").year(),h=B([d,u]).daysInMonth(),f=l.day();(e=[]).firstDay=l,e.lastDay=c;for(var p=0;p<6;p++)e[p]=[];var g=h-f+this.locale.firstDay+1;h<g&&(g-=7),f==this.locale.firstDay&&(g=h-6);for(var m=B([d,u,g,12,r,a]),v=(p=0,0),y=0;p<42;p++,v++,m=B(m).add(24,"hour"))0<p&&v%7==0&&(v=0,y++),e[y][v]=m.clone().hour(o).minute(r).second(a),m.hour(12),this.minDate&&e[y][v].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&e[y][v].isBefore(this.minDate)&&"left"==t&&(e[y][v]=this.minDate.clone()),this.maxDate&&e[y][v].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&e[y][v].isAfter(this.maxDate)&&"right"==t&&(e[y][v]=this.maxDate.clone());"left"==t?this.leftCalendar.calendar=e:this.rightCalendar.calendar=e;var b="left"==t?this.minDate:this.startDate,_=this.maxDate,E=("left"==t?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),w='<table class="table-condensed">';w+="<thead>",w+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(w+="<th></th>"),b&&!b.isBefore(e.firstDay)||this.linkedCalendars&&"left"!=t?w+="<th></th>":w+='<th class="prev available"><i class="fa fa-'+E.left+" glyphicon glyphicon-"+E.left+'"></i></th>';var T=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");if(this.showDropdowns){for(var C=e[1][1].month(),x=e[1][1].year(),D=_&&_.year()||x+5,O=b&&b.year()||x-50,I=x==O,k=x==D,S='<select class="monthselect">',R=0;R<12;R++)(!I||R>=b.month())&&(!k||R<=_.month())?S+="<option value='"+R+"'"+(R===C?" selected='selected'":"")+">"+this.locale.monthNames[R]+"</option>":S+="<option value='"+R+"'"+(R===C?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[R]+"</option>";S+="</select>";for(var A='<select class="yearselect">',M=O;M<=D;M++)A+='<option value="'+M+'"'+(M===x?' selected="selected"':"")+">"+M+"</option>";T=S+(A+="</select>")}if(w+='<th colspan="5" class="month">'+T+"</th>",_&&!_.isAfter(e.lastDay)||this.linkedCalendars&&"right"!=t&&!this.singleDatePicker?w+="<th></th>":w+='<th class="next available"><i class="fa fa-'+E.right+" glyphicon glyphicon-"+E.right+'"></i></th>',w+="</tr>",w+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(w+='<th class="week">'+this.locale.weekLabel+"</th>"),$.each(this.locale.daysOfWeek,function(t,e){w+="<th>"+e+"</th>"}),w+="</tr>",w+="</thead>",w+="<tbody>",null==this.endDate&&this.dateLimit){var N=this.startDate.clone().add(this.dateLimit).endOf("day");_&&!N.isBefore(_)||(_=N)}for(y=0;y<6;y++){w+="<tr>",this.showWeekNumbers?w+='<td class="week">'+e[y][0].week()+"</td>":this.showISOWeekNumbers&&(w+='<td class="week">'+e[y][0].isoWeek()+"</td>");for(v=0;v<7;v++){var K=[];e[y][v].isSame(new Date,"day")&&K.push("today"),5<e[y][v].isoWeekday()&&K.push("weekend"),e[y][v].month()!=e[1][1].month()&&K.push("off"),this.minDate&&e[y][v].isBefore(this.minDate,"day")&&K.push("off","disabled"),_&&e[y][v].isAfter(_,"day")&&K.push("off","disabled"),this.isInvalidDate(e[y][v])&&K.push("off","disabled"),e[y][v].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&K.push("active","start-date"),null!=this.endDate&&e[y][v].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&K.push("active","end-date"),null!=this.endDate&&e[y][v]>this.startDate&&e[y][v]<this.endDate&&K.push("in-range");var P=this.isCustomDate(e[y][v]);!1!==P&&("string"==typeof P?K.push(P):Array.prototype.push.apply(K,P));var L="",F=!1;for(p=0;p<K.length;p++)L+=K[p]+" ","disabled"==K[p]&&(F=!0);F||(L+="available"),w+='<td class="'+L.replace(/^\s+|\s+$/g,"")+'" data-title="r'+y+"c"+v+'">'+e[y][v].date()+"</td>"}w+="</tr>"}w+="</tbody>",w+="</table>",this.container.find(".calendar."+t+" .calendar-table").html(w)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,n,i,o=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(o=this.startDate.clone().add(this.dateLimit)),"left"==t)n=this.startDate.clone(),i=this.minDate;else if("right"==t){n=this.endDate.clone(),i=this.startDate;var r=this.container.find(".calendar.right .calendar-time div");if(""!=r.html()&&(n.hour(r.find(".hourselect option:selected").val()||n.hour()),n.minute(r.find(".minuteselect option:selected").val()||n.minute()),n.second(r.find(".secondselect option:selected").val()||n.second()),!this.timePicker24Hour)){var a=r.find(".ampmselect option:selected").val();"PM"===a&&n.hour()<12&&n.hour(n.hour()+12),"AM"===a&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),o&&n.isAfter(o)&&(n=o.clone())}e='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,c=s;c<=l;c++){var u=c;this.timePicker24Hour||(u=12<=n.hour()?12==c?12:c+12:12==c?0:c);var d=n.clone().hour(u),h=!1;i&&d.minute(59).isBefore(i)&&(h=!0),o&&d.minute(0).isAfter(o)&&(h=!0),u!=n.hour()||h?e+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+c+'">'+c+"</option>":e+='<option value="'+c+'" selected="selected">'+c+"</option>"}e+="</select> ",e+=': <select class="minuteselect">';for(c=0;c<60;c+=this.timePickerIncrement){var f=c<10?"0"+c:c;d=n.clone().minute(c),h=!1;i&&d.second(59).isBefore(i)&&(h=!0),o&&d.second(0).isAfter(o)&&(h=!0),n.minute()!=c||h?e+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+c+'">'+f+"</option>":e+='<option value="'+c+'" selected="selected">'+f+"</option>"}if(e+="</select> ",this.timePickerSeconds){e+=': <select class="secondselect">';for(c=0;c<60;c++){f=c<10?"0"+c:c,d=n.clone().second(c),h=!1;i&&d.isBefore(i)&&(h=!0),o&&d.isAfter(o)&&(h=!0),n.second()!=c||h?e+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+c+'">'+f+"</option>":e+='<option value="'+c+'" selected="selected">'+f+"</option>"}e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var p="",g="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(p=' disabled="disabled" class="disabled"'),o&&n.clone().hour(0).minute(0).second(0).isAfter(o)&&(g=' disabled="disabled" class="disabled"'),12<=n.hour()?e+='<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+g+">PM</option>":e+='<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+g+">PM</option>",e+="</select>"}this.container.find(".calendar."+t+" .calendar-time div").html(e)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var t,e={top:0,left:0},n=$(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},n=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-e.top:this.element.offset().top+this.element.outerHeight()-e.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:n-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>$(window).width()&&this.container.css({left:"auto",right:0}))},show:function(t){this.isShowing||(this._outsideClickProxy=$.proxy(function(t){this.outsideClick(t)},this),$(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),$(window).on("resize.daterangepicker",$.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),$(document).off(".daterangepicker"),$(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var e=$(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var e=t.target.getAttribute("data-range-key");if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}}},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if((this.chosenLabel=e)==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){$(t.target).parents(".calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){$(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if($(t.target).hasClass("available")){var e=$(t.target).attr("data-title"),n=e.substr(1,1),i=e.substr(3,1),a=$(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[n][i]:this.rightCalendar.calendar[n][i];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(a.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(a.format(this.locale.format));var s=this.leftCalendar,l=this.rightCalendar,c=this.startDate;this.endDate||this.container.find(".calendar tbody td").each(function(t,e){if(!$(e).hasClass("week")){var n=$(e).attr("data-title"),i=n.substr(1,1),o=n.substr(3,1),r=$(e).parents(".calendar").hasClass("left")?s.calendar[i][o]:l.calendar[i][o];r.isAfter(c)&&r.isBefore(a)||r.isSame(a,"day")?$(e).addClass("in-range"):$(e).removeClass("in-range")}})}},clickDate:function(t){if($(t.target).hasClass("available")){var e=$(t.target).attr("data-title"),n=e.substr(1,1),i=e.substr(3,1),o=$(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[n][i]:this.rightCalendar.calendar[n][i];if(this.endDate||o.isBefore(this.startDate,"day")){if(this.timePicker){var r=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(l=this.container.find(".left .ampmselect").val())&&r<12&&(r+=12),"AM"===l&&12===r&&(r=0);var a=parseInt(this.container.find(".left .minuteselect").val(),10),s=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;o=o.clone().hour(r).minute(a).second(s)}this.endDate=null,this.setStartDate(o.clone())}else if(!this.endDate&&o.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var l;r=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(l=this.container.find(".right .ampmselect").val())&&r<12&&(r+=12),"AM"===l&&12===r&&(r=0);a=parseInt(this.container.find(".right .minuteselect").val(),10),s=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;o=o.clone().hour(r).minute(a).second(s)}this.setEndDate(o.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var n in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html():this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var e=$(t.target).closest(".calendar").hasClass("left"),n=e?"left":"right",i=this.container.find(".calendar."+n),o=parseInt(i.find(".monthselect").val(),10),r=i.find(".yearselect").val();e||(r<this.startDate.year()||r==this.startDate.year()&&o<this.startDate.month())&&(o=this.startDate.month(),r=this.startDate.year()),this.minDate&&(r<this.minDate.year()||r==this.minDate.year()&&o<this.minDate.month())&&(o=this.minDate.month(),r=this.minDate.year()),this.maxDate&&(r>this.maxDate.year()||r==this.maxDate.year()&&o>this.maxDate.month())&&(o=this.maxDate.month(),r=this.maxDate.year()),e?(this.leftCalendar.month.month(o).year(r),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(o).year(r),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var e=$(t.target).closest(".calendar"),n=e.hasClass("left"),i=parseInt(e.find(".hourselect").val(),10),o=parseInt(e.find(".minuteselect").val(),10),r=this.timePickerSeconds?parseInt(e.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var a=e.find(".ampmselect").val();"PM"===a&&i<12&&(i+=12),"AM"===a&&12===i&&(i=0)}if(n){var s=this.startDate.clone();s.hour(i),s.minute(o),s.second(r),this.setStartDate(s),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==s.format("YYYY-MM-DD")&&this.endDate.isBefore(s)&&this.setEndDate(s.clone())}else if(this.endDate){var l=this.endDate.clone();l.hour(i),l.minute(o),l.second(r),this.setEndDate(l)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(t){var e=$(t.target).closest(".calendar").hasClass("right"),n=B(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),i=B(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);n.isValid()&&i.isValid()&&(e&&i.isBefore(n)&&(n=i.clone()),this.setStartDate(n),this.setEndDate(i),e?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(t){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),$(t.target).addClass("active"),$(t.target).closest(".calendar").hasClass("right")&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(t){if(!this.endDate){var e=this.container.find('input[name="daterangepicker_end"]').val(),n=B(e,this.locale.format);n.isValid()&&(this.setEndDate(n),this.updateView())}},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var t=this.element.val().split(this.locale.separator),e=null,n=null;2===t.length&&(e=B(t[0],this.locale.format),n=B(t[1],this.locale.format)),!this.singleDatePicker&&null!==e&&null!==n||(n=e=B(this.element.val(),this.locale.format)),e.isValid()&&n.isValid()&&(this.setStartDate(e),this.setEndDate(n),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},$.fn.daterangepicker=function(e,n){return this.each(function(){var t=$(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new i(t,e,n))}),this},i}),function(){var l,t,i,a,o={}.hasOwnProperty;function e(){return e.__super__.constructor.apply(this,arguments)}function n(t,e){this.form_field=t,this.options=null!=e?e:{},n.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}function r(){this.options_index=0,this.parsed=[]}r.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},r.prototype.add_group=function(t){var e,n,i,o,r,a;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),children:0,disabled:t.disabled}),a=[],i=0,o=(r=t.childNodes).length;i<o;i++)n=r[i],a.push(this.add_option(n,e,t.disabled));return a},r.prototype.add_option=function(t,e,n){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:!0===n?n:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},r.prototype.escapeExpression=function(t){var e,n;return null==t||!1===t?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(n,function(t){return e[t]||"&amp;"})):t},(a=r).select_to_array=function(t){var e,n,i,o,r;for(n=new a,i=0,o=(r=t.childNodes).length;i<o;i++)e=r[i],n.add_node(e);return n.parsed},n.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options},n.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||n.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||n.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||n.default_no_result_text},n.prototype.mouse_enter=function(){return this.mouse_on_container=!0},n.prototype.mouse_leave=function(){return this.mouse_on_container=!1},n.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},n.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},n.prototype.results_option_build=function(t){var e,n,i,o,r;for(e="",i=0,o=(r=this.results_data).length;i<o;i++)e+=(n=r[i]).group?this.result_add_group(n):this.result_add_option(n),(null!=t?t.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(n.text));return e},n.prototype.result_add_option=function(t){var e,n;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),(n=document.createElement("li")).className=e.join(" "),n.style.cssText=t.style,n.setAttribute("data-option-array-index",t.array_index),n.innerHTML=t.search_text,this.outerHTML(n)):""},n.prototype.result_add_group=function(t){var e;return(t.search_match||t.group_match)&&0<t.active_options?((e=document.createElement("li")).className="group-result",e.innerHTML=t.search_text,this.outerHTML(e)):""},n.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},n.prototype.reset_single_select_options=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.results_data).length;e<n;e++)(t=i[e]).selected?o.push(t.selected=!1):o.push(void 0);return o},n.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},n.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},n.prototype.winnow_results=function(){var t,e,n,i,o,r,a,s,l,c,u,d;for(this.no_results_clear(),i=0,t=(r=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(t,"i"),n=this.get_search_regex(t),c=0,u=(d=this.results_data).length;c<u;c++)(e=d[c]).search_match=!1,o=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(0===(o=this.results_data[e.group_array_index]).active_options&&o.search_match&&(i+=1),o.active_options+=1),e.group&&!this.group_search||(e.search_text=e.group?e.label:e.text,e.search_match=this.search_string_match(e.search_text,n),e.search_match&&!e.group&&(i+=1),e.search_match?(r.length&&(a=e.search_text.search(l),s=e.search_text.substr(0,a+r.length)+"</em>"+e.search_text.substr(a+r.length),e.search_text=s.substr(0,a)+"<em>"+s.substr(a)),null!=o&&(o.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),i<1&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},n.prototype.get_search_regex=function(t){var e;return e=this.search_contains?"":"^",new RegExp(e+t,"i")},n.prototype.search_string_match=function(t,e){var n,i,o,r;if(e.test(t))return!0;if(this.enable_split_word_search&&(0<=t.indexOf(" ")||0===t.indexOf("["))&&(i=t.replace(/\[|\]/g,"").split(" ")).length)for(o=0,r=i.length;o<r;o++)if(n=i[o],e.test(n))return!0},n.prototype.choices_count=function(){var t,e,n;if(null!=this.selected_option_count)return this.selected_option_count;for(t=this.selected_option_count=0,e=(n=this.form_field.options).length;t<e;t++)n[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},n.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},n.prototype.keyup_checker=function(t){var e,n;switch(e=null!=(n=t.which)?n:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&0<this.choices_count())return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},n.prototype.clipboard_event_checker=function(){var t=this;return setTimeout(function(){return t.results_search()},50)},n.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},n.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected||!this.display_disabled_options&&t.disabled||t.empty)},n.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},n.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},n.prototype.search_results_touchend=function(t){return this.touch_started?this.search_results_mouseup(t):void 0},n.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},n.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent))},n.default_multiple_text="Select Some Options",n.default_single_text="Select an Option",n.default_no_result_text="No results match",t=n,(l=jQuery).fn.extend({chosen:function(n){return t.browser_is_supported()?this.each(function(){var t,e;e=(t=l(this)).data("chosen"),"destroy"===n&&e instanceof i?e.destroy():e instanceof i||t.data("chosen",new i(this,n))}):this}}),function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.setup=function(){return this.form_field_jq=l(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},e.prototype.set_up_html=function(){var t,e;return(t=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),e={class:t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(e.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=l("<div />",e),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},e.prototype.register_observers=function(){var e=this;return this.container.bind("touchstart.chosen",function(t){e.container_mousedown(t)}),this.container.bind("touchend.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},e.prototype.destroy=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},e.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},e.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&l(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||l(t.target)[0]!==this.selected_item[0]&&!l(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),l(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},e.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},e.prototype.search_results_mousewheel=function(t){var e;return t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},e.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},e.prototype.close_field=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},e.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},e.prototype.test_active_click=function(t){var e;return(e=l(t.target).closest(".chosen-container")).length&&this.container[0]===e[0]?this.active_field=!0:this.close_field()},e.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=a.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},e.prototype.result_do_highlight=function(t){var e,n,i,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),(i=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop())<=(e=(n=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<e-i?e-i:0);if(n<o)return this.search_results.scrollTop(n)}},e.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},e.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},e.prototype.update_results_content=function(t){return this.search_results.html(t)},e.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},e.prototype.set_tab_index=function(){var t;return this.form_field.tabIndex?(t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t):void 0},e.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=l("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length?this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},e.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},e.prototype.search_results_mouseup=function(t){var e;return(e=l(t.target).hasClass("active-result")?l(t.target):l(t.target).parents(".active-result").first()).length?(this.result_highlight=e,this.result_select(t),this.search_field.focus()):void 0},e.prototype.search_results_mouseover=function(t){var e;return(e=l(t.target).hasClass("active-result")?l(t.target):l(t.target).parents(".active-result").first())?this.result_do_highlight(e):void 0},e.prototype.search_results_mouseout=function(t){return l(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},e.prototype.choice_build=function(t){var e,n,i=this;return e=l("<li />",{class:"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?e.addClass("search-choice-disabled"):((n=l("<a />",{class:"search-choice-close","data-option-array-index":t.array_index})).bind("click.chosen",function(t){return i.choice_destroy_link_click(t)}),e.append(n)),this.search_container.before(e)},e.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(l(t.target))},e.prototype.choice_destroy=function(t){return this.result_deselect(t[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},e.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},e.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},e.prototype.result_select=function(t){var e,n;return this.result_highlight?(e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),(n=this.results_data[e[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(n.text),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),!this.is_multiple&&this.form_field.selectedIndex===this.current_selectedIndex||this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},e.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(t)},e.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},e.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},e.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":l("<div/>").text(l.trim(this.search_field.val())).html()},e.prototype.winnow_results_set_highlight=function(){var t,e;return null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first())?this.result_do_highlight(t):void 0},e.prototype.no_results=function(t){var e;return(e=l('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},e.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},e.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},e.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},e.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},e.prototype.keydown_checker=function(t){var e,n;switch(e=null!=(n=t.which)?n:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},e.prototype.search_field_scale=function(){var t,e,n,i,o,r,a,s;if(this.is_multiple){for(i="position:absolute; left: -1000px; top: -1000px; display:none;",a=r=0,s=(o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;a<s;a++)i+=(n=o[a])+":"+this.search_field.css(n)+";";return(t=l("<div />",{style:i})).text(this.search_field.val()),l("body").append(t),r=t.width()+25,t.remove(),(e=this.container.outerWidth())-10<r&&(r=e-10),this.search_field.css({width:r+"px"})}},i=e}.call(this),function(){var e=[].slice;!function(s,o){"use strict";var r;function t(e,t){var n,i,o;null==t&&(t={}),this.$element=s(e),this.options=s.extend({},s.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},t),this.prevOptions={},this.$wrapper=s("<div>",{class:(n=this,function(){var t;return(t=[""+n.options.baseClass].concat(n._getClasses(n.options.wrapperClass))).push(n.options.state?n.options.baseClass+"-on":n.options.baseClass+"-off"),null!=n.options.size&&t.push(n.options.baseClass+"-"+n.options.size),n.options.disabled&&t.push(n.options.baseClass+"-disabled"),n.options.readonly&&t.push(n.options.baseClass+"-readonly"),n.options.indeterminate&&t.push(n.options.baseClass+"-indeterminate"),n.options.inverse&&t.push(n.options.baseClass+"-inverse"),n.$element.attr("id")&&t.push(n.options.baseClass+"-id-"+n.$element.attr("id")),t.join(" ")}())}),this.$container=s("<div>",{class:this.options.baseClass+"-container"}),this.$on=s("<span>",{html:this.options.onText,class:this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=s("<span>",{html:this.options.offText,class:this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=s("<span>",{html:this.options.labelText,class:this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",(i=this,function(){return i.options.onInit.apply(e,arguments)})),this.$element.on("switchChange.bootstrapSwitch",(o=this,function(t){if(!1===o.options.onSwitchChange.apply(e,arguments))return o.$element.is(":radio")?s("[name='"+o.$element.attr("name")+"']").trigger("previousState.bootstrapSwitch",!0):o.$element.trigger("previousState.bootstrapSwitch",!0)})),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch",this.options.state)}(t.prototype._constructor=t).prototype.setPrevOptions=function(){return this.prevOptions=s.extend(!0,{},this.options)},t.prototype.state=function(t,e){return void 0===t?this.options.state:(this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")||(this.$element.is(":radio")?s("[name='"+this.$element.attr("name")+"']").trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),t=!!t,this.$element.prop("checked",t).trigger("change.bootstrapSwitch",e)),this.$element)},t.prototype.toggleState=function(t){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)},t.prototype.size=function(t){return void 0===t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(this.options.baseClass+"-"+this.options.size),t&&this.$wrapper.addClass(this.options.baseClass+"-"+t),this._width(),this._containerPosition(),this.options.size=t,this.$element)},t.prototype.animate=function(t){return void 0===t?this.options.animate:(t=!!t)===this.options.animate?this.$element:this.toggleAnimate()},t.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this.options.baseClass+"-animate"),this.$element},t.prototype.disabled=function(t){return void 0===t?this.options.disabled:(t=!!t)===this.options.disabled?this.$element:this.toggleDisabled()},t.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(this.options.baseClass+"-disabled"),this.$element},t.prototype.readonly=function(t){return void 0===t?this.options.readonly:(t=!!t)===this.options.readonly?this.$element:this.toggleReadonly()},t.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(this.options.baseClass+"-readonly"),this.$element},t.prototype.indeterminate=function(t){return void 0===t?this.options.indeterminate:(t=!!t)===this.options.indeterminate?this.$element:this.toggleIndeterminate()},t.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},t.prototype.inverse=function(t){return void 0===t?this.options.inverse:(t=!!t)===this.options.inverse?this.$element:this.toggleInverse()},t.prototype.toggleInverse=function(){var t,e;return this.$wrapper.toggleClass(this.options.baseClass+"-inverse"),e=this.$on.clone(!0),t=this.$off.clone(!0),this.$on.replaceWith(t),this.$off.replaceWith(e),this.$on=t,this.$off=e,this.options.inverse=!this.options.inverse,this.$element},t.prototype.onColor=function(t){var e;return e=this.options.onColor,void 0===t?e:(null!=e&&this.$on.removeClass(this.options.baseClass+"-"+e),this.$on.addClass(this.options.baseClass+"-"+t),this.options.onColor=t,this.$element)},t.prototype.offColor=function(t){var e;return e=this.options.offColor,void 0===t?e:(null!=e&&this.$off.removeClass(this.options.baseClass+"-"+e),this.$off.addClass(this.options.baseClass+"-"+t),this.options.offColor=t,this.$element)},t.prototype.onText=function(t){return void 0===t?this.options.onText:(this.$on.html(t),this._width(),this._containerPosition(),this.options.onText=t,this.$element)},t.prototype.offText=function(t){return void 0===t?this.options.offText:(this.$off.html(t),this._width(),this._containerPosition(),this.options.offText=t,this.$element)},t.prototype.labelText=function(t){return void 0===t?this.options.labelText:(this.$label.html(t),this._width(),this.options.labelText=t,this.$element)},t.prototype.handleWidth=function(t){return void 0===t?this.options.handleWidth:(this.options.handleWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.labelWidth=function(t){return void 0===t?this.options.labelWidth:(this.options.labelWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.baseClass=function(t){return this.options.baseClass},t.prototype.wrapperClass=function(t){return void 0===t?this.options.wrapperClass:(t=t||s.fn.bootstrapSwitch.defaults.wrapperClass,this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(t).join(" ")),this.options.wrapperClass=t,this.$element)},t.prototype.radioAllOff=function(t){return void 0===t?this.options.radioAllOff:((t=!!t)===this.options.radioAllOff||(this.options.radioAllOff=t),this.$element)},t.prototype.onInit=function(t){return void 0===t?this.options.onInit:(t=t||s.fn.bootstrapSwitch.defaults.onInit,this.options.onInit=t,this.$element)},t.prototype.onSwitchChange=function(t){return void 0===t?this.options.onSwitchChange:(t=t||s.fn.bootstrapSwitch.defaults.onSwitchChange,this.options.onSwitchChange=t,this.$element)},t.prototype.destroy=function(){var t;return(t=this.$element.closest("form")).length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},t.prototype._width=function(){var t,n,i;return(t=this.$on.add(this.$off)).add(this.$label).css("width",""),n="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,t.width(n),this.$label.width((i=this,function(t,e){return"auto"!==i.options.labelWidth?i.options.labelWidth:e<n?n:e})),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},t.prototype._containerPosition=function(e,t){var n;if(null==e&&(e=this.options.state),this.$container.css("margin-left",(n=this,function(){var t;return t=[0,"-"+n._handleWidth+"px"],n.options.indeterminate?"-"+n._handleWidth/2+"px":e?n.options.inverse?t[1]:t[0]:n.options.inverse?t[0]:t[1]})),t)return setTimeout(function(){return t()},50)},t.prototype._init=function(){var t,e,n,i;return t=function(){return n.setPrevOptions(),n._width(),n._containerPosition(null,function(){if(n.options.animate)return n.$wrapper.addClass(n.options.baseClass+"-animate")})},(n=this).$wrapper.is(":visible")?t():e=o.setInterval((i=this,function(){if(i.$wrapper.is(":visible"))return t(),o.clearInterval(e)}),50)},t.prototype._elementHandlers=function(){return this.$element.on({"setPreviousOptions.bootstrapSwitch":(a=this,function(t){return a.setPrevOptions()}),"previousState.bootstrapSwitch":(r=this,function(t){return r.options=r.prevOptions,r.options.indeterminate&&r.$wrapper.addClass(r.options.baseClass+"-indeterminate"),r.$element.prop("checked",r.options.state).trigger("change.bootstrapSwitch",!0)}),"change.bootstrapSwitch":(o=this,function(t,e){var n;if(t.preventDefault(),t.stopImmediatePropagation(),n=o.$element.is(":checked"),o._containerPosition(n),n!==o.options.state)return o.options.state=n,o.$wrapper.toggleClass(o.options.baseClass+"-off").toggleClass(o.options.baseClass+"-on"),e?void 0:(o.$element.is(":radio")&&s("[name='"+o.$element.attr("name")+"']").not(o.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),o.$element.trigger("switchChange.bootstrapSwitch",[n]))}),"focus.bootstrapSwitch":(i=this,function(t){return t.preventDefault(),i.$wrapper.addClass(i.options.baseClass+"-focused")}),"blur.bootstrapSwitch":(n=this,function(t){return t.preventDefault(),n.$wrapper.removeClass(n.options.baseClass+"-focused")}),"keydown.bootstrapSwitch":(e=this,function(t){if(t.which&&!e.options.disabled&&!e.options.readonly)switch(t.which){case 37:return t.preventDefault(),t.stopImmediatePropagation(),e.state(!1);case 39:return t.preventDefault(),t.stopImmediatePropagation(),e.state(!0)}})});var e,n,i,o,r,a},t.prototype._handleHandlers=function(){var e,n;return this.$on.on("click.bootstrapSwitch",(e=this,function(t){return t.preventDefault(),t.stopPropagation(),e.state(!1),e.$element.trigger("focus.bootstrapSwitch")})),this.$off.on("click.bootstrapSwitch",(n=this,function(t){return t.preventDefault(),t.stopPropagation(),n.state(!0),n.$element.trigger("focus.bootstrapSwitch")}))},t.prototype._labelHandlers=function(){return this.$label.on({click:function(t){return t.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":(o=this,function(t){if(!(o._dragStart||o.options.disabled||o.options.readonly))return t.preventDefault(),t.stopPropagation(),o._dragStart=(t.pageX||t.originalEvent.touches[0].pageX)-parseInt(o.$container.css("margin-left"),10),o.options.animate&&o.$wrapper.removeClass(o.options.baseClass+"-animate"),o.$element.trigger("focus.bootstrapSwitch")}),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":(i=this,function(t){var e;if(null!=i._dragStart&&(t.preventDefault(),!((e=(t.pageX||t.originalEvent.touches[0].pageX)-i._dragStart)<-i._handleWidth||0<e)))return i._dragEnd=e,i.$container.css("margin-left",i._dragEnd+"px")}),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":(n=this,function(t){var e;if(n._dragStart)return t.preventDefault(),n.options.animate&&n.$wrapper.addClass(n.options.baseClass+"-animate"),n._dragEnd?(e=n._dragEnd>-n._handleWidth/2,n._dragEnd=!1,n.state(n.options.inverse?!e:e)):n.state(!n.options.state),n._dragStart=!1}),"mouseleave.bootstrapSwitch":(e=this,function(t){return e.$label.trigger("mouseup.bootstrapSwitch")})});var e,n,i,o},t.prototype._externalLabelHandler=function(){var e,n;return(e=this.$element.closest("label")).on("click",(n=this,function(t){if(t.preventDefault(),t.stopImmediatePropagation(),t.target===e[0])return n.toggleState()}))},t.prototype._formHandler=function(){var t;if(!(t=this.$element.closest("form")).data("bootstrap-switch"))return t.on("reset.bootstrapSwitch",function(){return o.setTimeout(function(){return t.find("input").filter(function(){return s(this).data("bootstrap-switch")}).each(function(){return s(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},t.prototype._getClasses=function(t){var e,n,i,o;if(!s.isArray(t))return[this.options.baseClass+"-"+t];for(n=[],i=0,o=t.length;i<o;i++)e=t[i],n.push(this.options.baseClass+"-"+e);return n},r=t,s.fn.bootstrapSwitch=function(){var n,i,o;return i=arguments[0],n=2<=arguments.length?e.call(arguments,1):[],(o=this).each(function(){var t,e;if((e=(t=s(this)).data("bootstrap-switch"))||t.data("bootstrap-switch",e=new r(this,i)),"string"==typeof i)return o=e[i].apply(e,n)}),o},s.fn.bootstrapSwitch.Constructor=r,s.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e((t=t||self).jQuery)}(this,function(E){"use strict";function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function t(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}E=E&&E.hasOwnProperty("default")?E.default:E;var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}function r(t){return t&&t.Math==Math&&t}function h(t){try{return!!t()}catch(t){return!0}}function _(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function a(t){return R.call(t).slice(8,-1)}function p(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function c(t){return M(p(t))}function u(t){return"object"==typeof t?null!==t:"function"==typeof t}function s(t,e){if(!u(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!u(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!u(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!u(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}function g(t,e){return N.call(t,e)}function l(t){return P?K.createElement(t):{}}function C(t){if(!u(t))throw TypeError(String(t)+" is not an object");return t}function m(e,n){try{z(D,e,n)}catch(t){D[e]=n}return n}function v(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++G+U).toString(36)}function y(t){return Y[t]||(Y[t]=v(t))}var b,w,T,x="object",D=r(typeof globalThis==x&&globalThis)||r(typeof window==x&&window)||r(typeof self==x&&self)||r(typeof e==x&&e)||Function("return this")(),O=!h(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),I={}.propertyIsEnumerable,k=Object.getOwnPropertyDescriptor,S={f:k&&!I.call({1:2},1)?function(t){var e=k(this,t);return!!e&&e.enumerable}:I},R={}.toString,A="".split,M=h(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==a(t)?A.call(t,""):Object(t)}:Object,N={}.hasOwnProperty,K=D.document,P=u(K)&&u(K.createElement),L=!O&&!h(function(){return 7!=Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a}),F=Object.getOwnPropertyDescriptor,B={f:O?F:function(t,e){if(t=c(t),e=s(e,!0),L)try{return F(t,e)}catch(t){}if(g(t,e))return _(!S.f.call(t,e),t[e])}},$=Object.defineProperty,H={f:O?$:function(t,e,n){if(C(t),e=s(e,!0),C(n),L)try{return $(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},z=O?function(t,e,n){return H.f(t,e,_(1,n))}:function(t,e,n){return t[e]=n,t},j=n(function(t){var n=D["__core-js_shared__"]||m("__core-js_shared__",{});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.2.1",mode:"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})}),V=j("native-function-to-string",Function.toString),W=D.WeakMap,q="function"==typeof W&&/native code/.test(V.call(W)),G=0,U=Math.random(),Y=j("keys"),X={},Z=D.WeakMap;if(q){var Q=new Z,J=Q.get,tt=Q.has,et=Q.set;b=function(t,e){return et.call(Q,t,e),e},w=function(t){return J.call(Q,t)||{}},T=function(t){return tt.call(Q,t)}}else{var nt=y("state");X[nt]=!0,b=function(t,e){return z(t,nt,e),e},w=function(t){return g(t,nt)?t[nt]:{}},T=function(t){return g(t,nt)}}function it(t){return"function"==typeof t?t:void 0}function ot(t,e){return arguments.length<2?it(vt[t])||it(D[t]):vt[t]&&vt[t][e]||D[t]&&D[t][e]}function rt(t){return isNaN(t=+t)?0:(0<t?bt:yt)(t)}function at(t){return 0<t?_t(rt(t),9007199254740991):0}function st(t,e){var n=rt(t);return n<0?Et(n+e,0):wt(n,e)}function lt(s){return function(t,e,n){var i,o=c(t),r=at(o.length),a=st(n,r);if(s&&e!=e){for(;a<r;)if((i=o[a++])!=i)return!0}else for(;a<r;a++)if((s||a in o)&&o[a]===e)return s||a||0;return!s&&-1}}function ct(t,e){var n,i=c(t),o=0,r=[];for(n in i)!g(X,n)&&g(i,n)&&r.push(n);for(;e.length>o;)g(i,n=e[o++])&&(~Ct(r,n)||r.push(n));return r}function ut(t,e){for(var n=kt(e),i=H.f,o=B.f,r=0;r<n.length;r++){var a=n[r];g(t,a)||i(t,a,o(e,a))}}function dt(t,e){var n=At[Rt(t)];return n==Nt||n!=Mt&&("function"==typeof e?h(e):!!e)}function ht(t,e){var n,i,o,r,a,s=t.target,l=t.global,c=t.stat;if(n=l?D:c?D[s]||m(s,{}):(D[s]||{}).prototype)for(i in e){if(r=e[i],o=t.noTargetGet?(a=Pt(n,i))&&a.value:n[i],!Kt(l?i:s+(c?".":"#")+i,t.forced)&&void 0!==o){if(typeof r==typeof o)continue;ut(r,o)}(t.sham||o&&o.sham)&&z(r,"sham",!0),mt(n,i,r,t)}}function ft(t){return Bt[t]||(Bt[t]=Lt&&Ft[t]||(Lt?Ft:v)("Symbol."+t))}function pt(){}var gt={set:b,get:w,has:T,enforce:function(t){return T(t)?w(t):b(t,{})},getterFor:function(n){return function(t){var e;if(!u(t)||(e=w(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},mt=n(function(t){var e=gt.get,s=gt.enforce,l=String(V).split("toString");j("inspectSource",function(t){return V.call(t)}),(t.exports=function(t,e,n,i){var o=!!i&&!!i.unsafe,r=!!i&&!!i.enumerable,a=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof e||g(n,"name")||z(n,"name",e),s(n).source=l.join("string"==typeof e?e:"")),t!==D?(o?!a&&t[e]&&(r=!0):delete t[e],r?t[e]=n:z(t,e,n)):r?t[e]=n:m(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||V.call(this)})}),vt=D,yt=Math.ceil,bt=Math.floor,_t=Math.min,Et=Math.max,wt=Math.min,Tt={includes:lt(!0),indexOf:lt(!1)},Ct=Tt.indexOf,xt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Dt=xt.concat("length","prototype"),Ot={f:Object.getOwnPropertyNames||function(t){return ct(t,Dt)}},It={f:Object.getOwnPropertySymbols},kt=ot("Reflect","ownKeys")||function(t){var e=Ot.f(C(t)),n=It.f;return n?e.concat(n(t)):e},St=/#|\.prototype\./,Rt=dt.normalize=function(t){return String(t).replace(St,".").toLowerCase()},At=dt.data={},Mt=dt.NATIVE="N",Nt=dt.POLYFILL="P",Kt=dt,Pt=B.f,Lt=!!Object.getOwnPropertySymbols&&!h(function(){return!String(Symbol())}),Ft=D.Symbol,Bt=j("wks"),$t=Object.keys||function(t){return ct(t,xt)},Ht=O?Object.defineProperties:function(t,e){C(t);for(var n,i=$t(e),o=i.length,r=0;r<o;)H.f(t,n=i[r++],e[n]);return t},zt=ot("document","documentElement"),jt=y("IE_PROTO"),Vt=function(){var t,e=l("iframe"),n=xt.length;for(e.style.display="none",zt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Vt=t.F;n--;)delete Vt.prototype[xt[n]];return Vt()},Wt=Object.create||function(t,e){var n;return null!==t?(pt.prototype=C(t),n=new pt,pt.prototype=null,n[jt]=t):n=Vt(),void 0===e?n:Ht(n,e)};X[jt]=!0;var qt=ft("unscopables"),Gt=Array.prototype;null==Gt[qt]&&z(Gt,qt,Wt(null));function Ut(t){Gt[qt][t]=!0}var Yt=Tt.includes;ht({target:"Array",proto:!0},{includes:function(t){return Yt(this,t,1<arguments.length?arguments[1]:void 0)}}),Ut("includes");function Xt(t){return Object(p(t))}var Zt=Object.assign,Qt=!Zt||h(function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=Zt({},t)[n]||"abcdefghijklmnopqrst"!=$t(Zt({},e)).join("")})?function(t,e){for(var n=Xt(t),i=arguments.length,o=1,r=It.f,a=S.f;o<i;)for(var s,l=M(arguments[o++]),c=r?$t(l).concat(r(l)):$t(l),u=c.length,d=0;d<u;)s=c[d++],O&&!a.call(l,s)||(n[s]=l[s]);return n}:Zt;ht({target:"Object",stat:!0,forced:Object.assign!==Qt},{assign:Qt});function Jt(t){var e;return u(t)&&(void 0!==(e=t[te])?!!e:"RegExp"==a(t))}var te=ft("match"),ee=ft("match");ht({target:"String",proto:!0,forced:!function(){var e=/./;try{"/./".includes(e)}catch(t){try{return e[ee]=!1,"/./".includes(e)}catch(t){}}return!1}()},{includes:function(t){return!!~String(p(this)).indexOf(function(t){if(Jt(t))throw TypeError("The method doesn't accept regular expressions");return t}(t),1<arguments.length?arguments[1]:void 0)}});function ne(n){return function(t){var e=String(p(t));return 1&n&&(e=e.replace(ae,"")),2&n&&(e=e.replace(se,"")),e}}var ie,oe="\t\n\v\f\r \u2028\u2029\ufeff",re="["+oe+"]",ae=RegExp("^"+re+re+"*"),se=RegExp(re+re+"*$"),le={start:ne(1),end:ne(2),trim:ne(3)}.trim;ht({target:"String",proto:!0,forced:(ie="trim",h(function(){return!!oe.trim()||""!="".trim()||oe.trim.name!==ie}))},{trim:function(){return le(this)}});var ce={name:"",placeholder:"",data:void 0,locale:void 0,selectAll:!0,single:void 0,singleRadio:!1,multiple:!1,hideOptgroupCheckboxes:!1,multipleWidth:80,width:void 0,dropWidth:void 0,maxHeight:250,maxHeightUnit:"px",position:"bottom",displayValues:!1,displayTitle:!1,displayDelimiter:", ",minimumCountSelected:3,ellipsis:!1,isOpen:!1,keepOpen:!1,openOnHover:!1,container:null,filter:!1,filterGroup:!1,filterPlaceholder:"",filterAcceptOnEnter:!1,filterByDataLength:void 0,customFilter:function(t,e){return t.includes(e)},showClear:!1,animate:void 0,styler:function(){return!1},textTemplate:function(t){return t[0].innerHTML.trim()},labelTemplate:function(t){return t[0].getAttribute("label")},onOpen:function(){return!1},onClose:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onFocus:function(){return!1},onBlur:function(){return!1},onOptgroupClick:function(){return!1},onClick:function(){return!1},onFilter:function(){return!1},onClear:function(){return!1},onAfterCreate:function(){return!1}},ue={formatSelectAll:function(){return"[Select all]"},formatAllSelected:function(){return"All selected"},formatCountSelected:function(t,e){return t+" of "+e+" selected"},formatNoMatchesFound:function(){return"No matches found"}};Object.assign(ce,ue);function de(t){var e=vt.Symbol||(vt.Symbol={});g(e,t)||Oe(e,t,{value:De.f(t)})}function he(t,e,n){t&&!g(t=n?t:t.prototype,ke)&&Ie(t,ke,{configurable:!0,value:e})}function fe(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function pe(t,e){var n;return Ee(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Ee(n.prototype)?u(n)&&null===(n=n[Se])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}function ge(f){var p=1==f,g=2==f,m=3==f,v=4==f,y=6==f,b=5==f||y;return function(t,e,n,i){for(var o,r,a=Xt(t),s=M(a),l=function(i,o){return fe(i),void 0===o?i:function(t,e,n){return i.call(o,t,e,n)}}(e,n),c=at(s.length),u=0,d=i||pe,h=p?d(t,c):g?d(t,0):void 0;u<c;u++)if((b||u in s)&&(r=l(o=s[u],u,a),f))if(p)h[u]=r;else if(r)switch(f){case 3:return!0;case 5:return o;case 6:return u;case 2:Re.call(h,o)}else if(v)return!1;return y?-1:m||v?v:h}}function me(t,e){var n=qe[t]=Wt(Be.prototype);return Pe(n,{type:"Symbol",tag:t,description:e}),O||(n.description=e),n}function ve(e,t){C(e);var n=c(t),i=$t(n).concat(on(n));return Me(i,function(t){O&&!nn.call(n,t)||en(e,t,n[t])}),e}function ye(t,e){var n=c(t),i=s(e,!0);if(n!==Fe||!g(qe,i)||g(Ge,i)){var o=ze(n,i);return!o||!g(qe,i)||g(n,Ne)&&n[Ne][i]||(o.enumerable=!0),o}}function be(t){var e=Ve(c(t)),n=[];return Me(e,function(t){g(qe,t)||g(X,t)||n.push(t)}),n}var _e={VERSION:"1.5.2",BLOCK_ROWS:50,CLUSTER_BLOCKS:4,DEFAULTS:ce,METHODS:["getOptions","refreshOptions","getSelects","setSelects","enable","disable","open","close","check","uncheck","checkAll","uncheckAll","checkInvert","focus","blur","refresh","destroy"],LOCALES:{en:ue,"en-US":ue}},Ee=Array.isArray||function(t){return"Array"==a(t)},we=Ot.f,Te={}.toString,Ce="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],xe={f:function(t){return Ce&&"[object Window]"==Te.call(t)?function(t){try{return we(t)}catch(t){return Ce.slice()}}(t):we(c(t))}},De={f:ft},Oe=H.f,Ie=H.f,ke=ft("toStringTag"),Se=ft("species"),Re=[].push,Ae={forEach:ge(0),map:ge(1),filter:ge(2),some:ge(3),every:ge(4),find:ge(5),findIndex:ge(6)},Me=Ae.forEach,Ne=y("hidden"),Ke=ft("toPrimitive"),Pe=gt.set,Le=gt.getterFor("Symbol"),Fe=Object.prototype,Be=D.Symbol,$e=D.JSON,He=$e&&$e.stringify,ze=B.f,je=H.f,Ve=xe.f,We=S.f,qe=j("symbols"),Ge=j("op-symbols"),Ue=j("string-to-symbol-registry"),Ye=j("symbol-to-string-registry"),Xe=j("wks"),Ze=D.QObject,Qe=!Ze||!Ze.prototype||!Ze.prototype.findChild,Je=O&&h(function(){return 7!=Wt(je({},"a",{get:function(){return je(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=ze(Fe,e);i&&delete Fe[e],je(t,e,n),i&&t!==Fe&&je(Fe,e,i)}:je,tn=Lt&&"symbol"==typeof Be.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Be},en=function(t,e,n){t===Fe&&en(Ge,e,n),C(t);var i=s(e,!0);return C(n),g(qe,i)?(n.enumerable?(g(t,Ne)&&t[Ne][i]&&(t[Ne][i]=!1),n=Wt(n,{enumerable:_(0,!1)})):(g(t,Ne)||je(t,Ne,_(1,{})),t[Ne][i]=!0),Je(t,i,n)):je(t,i,n)},nn=function(t){var e=s(t,!0),n=We.call(this,e);return!(this===Fe&&g(qe,e)&&!g(Ge,e))&&(!(n||!g(this,e)||!g(qe,e)||g(this,Ne)&&this[Ne][e])||n)},on=function(t){var e=t===Fe,n=Ve(e?Ge:c(t)),i=[];return Me(n,function(t){!g(qe,t)||e&&!g(Fe,t)||i.push(qe[t])}),i};Lt||(mt((Be=function(){if(this instanceof Be)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=v(t),n=function(t){this===Fe&&n.call(Ge,t),g(this,Ne)&&g(this[Ne],e)&&(this[Ne][e]=!1),Je(this,e,_(1,t))};return O&&Qe&&Je(Fe,e,{configurable:!0,set:n}),me(e,t)}).prototype,"toString",function(){return Le(this).tag}),S.f=nn,H.f=en,B.f=ye,Ot.f=xe.f=be,It.f=on,O&&(je(Be.prototype,"description",{configurable:!0,get:function(){return Le(this).description}}),mt(Fe,"propertyIsEnumerable",nn,{unsafe:!0})),De.f=function(t){return me(ft(t),t)}),ht({global:!0,wrap:!0,forced:!Lt,sham:!Lt},{Symbol:Be}),Me($t(Xe),function(t){de(t)}),ht({target:"Symbol",stat:!0,forced:!Lt},{for:function(t){var e=String(t);if(g(Ue,e))return Ue[e];var n=Be(e);return Ue[e]=n,Ye[n]=e,n},keyFor:function(t){if(!tn(t))throw TypeError(t+" is not a symbol");if(g(Ye,t))return Ye[t]},useSetter:function(){Qe=!0},useSimple:function(){Qe=!1}}),ht({target:"Object",stat:!0,forced:!Lt,sham:!O},{create:function(t,e){return void 0===e?Wt(t):ve(Wt(t),e)},defineProperty:en,defineProperties:ve,getOwnPropertyDescriptor:ye}),ht({target:"Object",stat:!0,forced:!Lt},{getOwnPropertyNames:be,getOwnPropertySymbols:on}),ht({target:"Object",stat:!0,forced:h(function(){It.f(1)})},{getOwnPropertySymbols:function(t){return It.f(Xt(t))}}),$e&&ht({target:"JSON",stat:!0,forced:!Lt||h(function(){var t=Be();return"[null]"!=He([t])||"{}"!=He({a:t})||"{}"!=He(Object(t))})},{stringify:function(t){for(var e,n,i=[t],o=1;o<arguments.length;)i.push(arguments[o++]);if(n=e=i[1],(u(e)||void 0!==t)&&!tn(t))return Ee(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!tn(e))return e}),i[1]=e,He.apply($e,i)}}),Be.prototype[Ke]||z(Be.prototype,Ke,Be.prototype.valueOf),he(Be,"Symbol"),X[Ne]=!0;var rn=H.f,an=D.Symbol;if(!(!O||"function"!=typeof an||"description"in an.prototype&&void 0===an().description)){var sn={},ln=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof ln?new an(t):void 0===t?an():an(t);return""===t&&(sn[e]=!0),e};ut(ln,an);var cn=ln.prototype=an.prototype;cn.constructor=ln;var un=cn.toString,dn="Symbol(test)"==String(an("test")),hn=/^Symbol\((.*)\)[^)]+$/;rn(cn,"description",{configurable:!0,get:function(){var t=u(this)?this.valueOf():this,e=un.call(t);if(g(sn,t))return"";var n=dn?e.slice(7,-1):e.replace(hn,"$1");return""===n?void 0:n}}),ht({global:!0,forced:!0},{Symbol:ln})}de("iterator");function fn(t,e,n){var i=s(e);i in t?H.f(t,i,_(0,n)):t[i]=n}function pn(e){return!h(function(){var t=[];return(t.constructor={})[mn]=function(){return{foo:1}},1!==t[e](Boolean).foo})}function gn(t){if(!u(t))return!1;var e=t[vn];return void 0!==e?!!e:Ee(t)}var mn=ft("species"),vn=ft("isConcatSpreadable"),yn=!h(function(){var t=[];return t[vn]=!1,t.concat()[0]!==t}),bn=pn("concat");ht({target:"Array",proto:!0,forced:!yn||!bn},{concat:function(t){var e,n,i,o,r,a=Xt(this),s=pe(a,0),l=0;for(e=-1,i=arguments.length;e<i;e++)if(gn(r=-1===e?a:arguments[e])){if(9007199254740991<l+(o=at(r.length)))throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,l++)n in r&&fn(s,l,r[n])}else{if(9007199254740991<=l)throw TypeError("Maximum allowed index exceeded");fn(s,l++,r)}return s.length=l,s}});var _n=Ae.filter;ht({target:"Array",proto:!0,forced:!pn("filter")},{filter:function(t){return _n(this,t,1<arguments.length?arguments[1]:void 0)}});var En=Ae.find,wn=!0;"find"in[]&&Array(1).find(function(){wn=!1}),ht({target:"Array",proto:!0,forced:wn},{find:function(t){return En(this,t,1<arguments.length?arguments[1]:void 0)}}),Ut("find");var Tn,Cn,xn,Dn=!h(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),On=y("IE_PROTO"),In=Object.prototype,kn=Dn?Object.getPrototypeOf:function(t){return t=Xt(t),g(t,On)?t[On]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?In:null},Sn=ft("iterator"),Rn=!1;[].keys&&("next"in(xn=[].keys())?(Cn=kn(kn(xn)))!==Object.prototype&&(Tn=Cn):Rn=!0),null==Tn&&(Tn={}),g(Tn,Sn)||z(Tn,Sn,function(){return this});function An(){return this}function Mn(t,e,n,i,o,r,a){var s,l,c;function u(t){if(t===o&&y)return y;if(!Fn&&t in m)return m[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}}l=i,c=e+" Iterator",(s=n).prototype=Wt(Kn,{next:_(1,l)}),he(s,c,!1);var d,h,f,p=e+" Iterator",g=!1,m=t.prototype,v=m[Bn]||m["@@iterator"]||o&&m[o],y=!Fn&&v||u(o),b="Array"==e&&m.entries||v;if(b&&(d=kn(b.call(new t)),Ln!==Object.prototype&&d.next&&(kn(d)!==Ln&&(Pn?Pn(d,Ln):"function"!=typeof d[Bn]&&z(d,Bn,An)),he(d,p,!0))),"values"==o&&v&&"values"!==v.name&&(g=!0,y=function(){return v.call(this)}),m[Bn]!==y&&z(m,Bn,y),o)if(h={values:u("values"),keys:r?y:u("keys"),entries:u("entries")},a)for(f in h)!Fn&&!g&&f in m||mt(m,f,h[f]);else ht({target:e,proto:!0,forced:Fn||g},h);return h}var Nn={IteratorPrototype:Tn,BUGGY_SAFARI_ITERATORS:Rn},Kn=Nn.IteratorPrototype,Pn=Object.setPrototypeOf||("__proto__"in{}?function(){var n,i=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),i=t instanceof Array}catch(n){}return function(t,e){return C(t),function(t){if(!u(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(e),i?n.call(t,e):t.__proto__=e,t}}():void 0),Ln=Nn.IteratorPrototype,Fn=Nn.BUGGY_SAFARI_ITERATORS,Bn=ft("iterator"),$n=gt.set,Hn=gt.getterFor("Array Iterator"),zn=Mn(Array,"Array",function(t,e){$n(this,{type:"Array Iterator",target:c(t),index:0,kind:e})},function(){var t=Hn(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}},"values");Ut("keys"),Ut("values"),Ut("entries");function jn(t,e){var n=[][t];return!n||!h(function(){n.call(null,e||function(){throw 1},1)})}var Vn=[].join,Wn=M!=Object,qn=jn("join",",");ht({target:"Array",proto:!0,forced:Wn||qn},{join:function(t){return Vn.call(c(this),void 0===t?",":t)}});var Gn=Ae.map;ht({target:"Array",proto:!0,forced:!pn("map")},{map:function(t){return Gn(this,t,1<arguments.length?arguments[1]:void 0)}});var Un=ft("species"),Yn=[].slice,Xn=Math.max;ht({target:"Array",proto:!0,forced:!pn("slice")},{slice:function(t,e){var n,i,o,r=c(this),a=at(r.length),s=st(t,a),l=st(void 0===e?a:e,a);if(Ee(r)&&("function"!=typeof(n=r.constructor)||n!==Array&&!Ee(n.prototype)?u(n)&&null===(n=n[Un])&&(n=void 0):n=void 0,n===Array||void 0===n))return Yn.call(r,s,l);for(i=new(void 0===n?Array:n)(Xn(l-s,0)),o=0;s<l;s++,o++)s in r&&fn(i,o,r[s]);return i.length=o,i}});var Zn=H.f,Qn=Function.prototype,Jn=Qn.toString,ti=/^\s*function ([^ (]*)/;!O||"name"in Qn||Zn(Qn,"name",{configurable:!0,get:function(){try{return Jn.call(this).match(ti)[1]}catch(t){return""}}});function ei(s){return function(t){for(var e,n=c(t),i=$t(n),o=i.length,r=0,a=[];r<o;)e=i[r++],O&&!ni.call(n,e)||a.push(s?[e,n[e]]:n[e]);return a}}var ni=S.f,ii=[ei(!0),ei(!1)][0];ht({target:"Object",stat:!0},{entries:function(t){return ii(t)}});var oi=h(function(){$t(1)});ht({target:"Object",stat:!0,forced:oi},{keys:function(t){return $t(Xt(t))}});var ri=ft("toStringTag"),ai="Arguments"==a(function(){return arguments}()),si={};si[ft("toStringTag")]="z";var li="[object z]"!==String(si)?function(){return"[object "+(void 0===(t=this)?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),ri))?n:ai?a(e):"Object"==(i=a(e))&&"function"==typeof e.callee?"Arguments":i)+"]";var t,e,n,i}:si.toString,ci=Object.prototype;li!==ci.toString&&mt(ci,"toString",li,{unsafe:!0});function ui(s){return function(t,e){var n,i,o=String(p(t)),r=rt(e),a=o.length;return r<0||a<=r?s?"":void 0:(n=o.charCodeAt(r))<55296||56319<n||r+1===a||(i=o.charCodeAt(r+1))<56320||57343<i?s?o.charAt(r):n:s?o.slice(r,r+2):i-56320+(n-55296<<10)+65536}}var di={codeAt:ui(!1),charAt:ui(!0)},hi=di.charAt,fi=gt.set,pi=gt.getterFor("String Iterator");Mn(String,"String",function(t){fi(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=pi(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=hi(n,i),e.index+=t.length,{value:t,done:!1})});var gi,mi,vi=RegExp.prototype.exec,yi=String.prototype.replace,bi=vi,_i=(gi=/a/,mi=/b*/g,vi.call(gi,"a"),vi.call(mi,"a"),0!==gi.lastIndex||0!==mi.lastIndex),Ei=void 0!==/()??/.exec("")[1];(_i||Ei)&&(bi=function(t){var e,n,i,o;return Ei&&(n=new RegExp("^"+this.source+"$(?!\\s)",function(){var t=C(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}.call(this))),_i&&(e=this.lastIndex),i=vi.call(this,t),_i&&i&&(this.lastIndex=this.global?i.index+i[0].length:e),Ei&&i&&1<i.length&&yi.call(i[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)}),i});function wi(n,t,e,i){var o=ft(n),r=!h(function(){var t={};return t[o]=function(){return 7},7!=""[n](t)}),a=r&&!h(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[Di]=function(){return e}),e[o](""),!t});if(!r||!a||"replace"===n&&!Oi||"split"===n&&!Ii){var s=/./[o],l=e(o,""[n],function(t,e,n,i,o){return e.exec===xi?r&&!o?{done:!0,value:s.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),c=l[0],u=l[1];mt(String.prototype,n,c),mt(RegExp.prototype,o,2==t?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)}),i&&z(RegExp.prototype[o],"sham",!0)}}function Ti(t,e,n){return e+(n?Si(t,e).length:1)}function Ci(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return xi.call(t,e)}var xi=bi,Di=ft("species"),Oi=!h(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Ii=!h(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),ki=ft("species"),Si=di.charAt,Ri=[].push,Ai=Math.min,Mi=!h(function(){return!RegExp(4294967295,"y")});wi("split",2,function(o,b,_){var E;return E="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=String(p(this)),i=void 0===e?4294967295:e>>>0;if(0==i)return[];if(void 0===t)return[n];if(!Jt(t))return b.call(n,t,i);for(var o,r,a,s=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,u=new RegExp(t.source,l+"g");(o=xi.call(u,n))&&!((r=u.lastIndex)>c&&(s.push(n.slice(c,o.index)),1<o.length&&o.index<n.length&&Ri.apply(s,o.slice(1)),a=o[0].length,c=r,s.length>=i));)u.lastIndex===o.index&&u.lastIndex++;return c===n.length?!a&&u.test("")||s.push(""):s.push(n.slice(c)),s.length>i?s.slice(0,i):s}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:b.call(this,t,e)}:b,[function(t,e){var n=p(this),i=null==t?void 0:t[o];return void 0!==i?i.call(t,n,e):E.call(String(n),t,e)},function(t,e){var n=_(E,t,this,e,E!==b);if(n.done)return n.value;var i,o,r,a=C(t),s=String(this),l=(i=RegExp,void 0===(r=C(a).constructor)||null==(o=C(r)[ki])?i:fe(o)),c=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Mi?"y":"g"),d=new l(Mi?a:"^(?:"+a.source+")",u),h=void 0===e?4294967295:e>>>0;if(0==h)return[];if(0===s.length)return null===Ci(d,s)?[s]:[];for(var f=0,p=0,g=[];p<s.length;){d.lastIndex=Mi?p:0;var m,v=Ci(d,Mi?s:s.slice(p));if(null===v||(m=Ai(at(d.lastIndex+(Mi?0:p)),s.length))===f)p=Ti(s,p,c);else{if(g.push(s.slice(f,p)),g.length===h)return g;for(var y=1;y<=v.length-1;y++)if(g.push(v[y]),g.length===h)return g;p=f=m}}return g.push(s.slice(f)),g}]},!Mi);var Ni={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ki=Ae.forEach,Pi=jn("forEach")?function(t){return Ki(this,t,1<arguments.length?arguments[1]:void 0)}:[].forEach;for(var Li in Ni){var Fi=D[Li],Bi=Fi&&Fi.prototype;if(Bi&&Bi.forEach!==Pi)try{z(Bi,"forEach",Pi)}catch(E){Bi.forEach=Pi}}var $i=ft("iterator"),Hi=ft("toStringTag"),zi=zn.values;for(var ji in Ni){var Vi=D[ji],Wi=Vi&&Vi.prototype;if(Wi){if(Wi[$i]!==zi)try{z(Wi,$i,zi)}catch(E){Wi[$i]=zi}if(Wi[Hi]||z(Wi,Hi,ji),Ni[ji])for(var qi in zn)if(Wi[qi]!==zn[qi])try{z(Wi,qi,zn[qi])}catch(E){Wi[qi]=zn[qi]}}}var Gi=(t(Ji,[{key:"initDOM",value:function(t){void 0===this.clusterHeight&&(this.cache.scrollTop=this.scrollEl.scrollTop,this.cache.data=this.contentEl.innerHTML=t[0]+t[0]+t[0],this.getRowsHeight(t));var e=this.initData(t,this.getNum()),n=e.rows.join(""),i=this.checkChanges("data",n),o=this.checkChanges("top",e.topOffset),r=this.checkChanges("bottom",e.bottomOffset),a=[];i&&o?(e.topOffset&&a.push(this.getExtra("top",e.topOffset)),a.push(n),e.bottomOffset&&a.push(this.getExtra("bottom",e.bottomOffset)),this.contentEl.innerHTML=a.join("")):r&&(this.contentEl.lastChild.style.height="".concat(e.bottomOffset,"px"))}},{key:"getRowsHeight",value:function(){if(void 0===this.itemHeight){var t=this.contentEl.children,e=t[Math.floor(t.length/2)];this.itemHeight=e.offsetHeight}this.blockHeight=this.itemHeight*_e.BLOCK_ROWS,this.clusterRows=_e.BLOCK_ROWS*_e.CLUSTER_BLOCKS,this.clusterHeight=this.blockHeight*_e.CLUSTER_BLOCKS}},{key:"getNum",value:function(){return this.scrollTop=this.scrollEl.scrollTop,Math.floor(this.scrollTop/(this.clusterHeight-this.blockHeight))||0}},{key:"initData",value:function(t,e){if(t.length<_e.BLOCK_ROWS)return{topOffset:0,bottomOffset:0,rowsAbove:0,rows:t};var n=Math.max((this.clusterRows-_e.BLOCK_ROWS)*e,0),i=n+this.clusterRows,o=Math.max(n*this.itemHeight,0),r=Math.max((t.length-i)*this.itemHeight,0),a=[],s=n;o<1&&s++;for(var l=n;l<i;l++)t[l]&&a.push(t[l]);return this.dataStart=n,this.dataEnd=i,{topOffset:o,bottomOffset:r,rowsAbove:s,rows:a}}},{key:"checkChanges",value:function(t,e){var n=e!==this.cache[t];return this.cache[t]=e,n}},{key:"getExtra",value:function(t,e){var n=document.createElement("li");return n.className="virtual-scroll-".concat(t),e&&(n.style.height="".concat(e,"px")),n.outerHTML}}]),Ji),Ui=Math.max,Yi=Math.min,Xi=Math.floor,Zi=/\$([$&'`]|\d\d?|<[^>]*>)/g,Qi=/\$([$&'`]|\d\d?)/g;function Ji(t){var e=this;i(this,Ji),this.rows=t.rows,this.scrollEl=t.scrollEl,this.contentEl=t.contentEl,this.callback=t.callback,this.cache={},this.scrollTop=this.scrollEl.scrollTop,this.initDOM(this.rows),this.scrollEl.scrollTop=this.scrollTop,this.lastCluster=0;function n(){e.lastCluster!==(e.lastCluster=e.getNum())&&(e.initDOM(e.rows),e.callback())}this.scrollEl.addEventListener("scroll",n,!1),this.destroy=function(){e.contentEl.innerHtml="",e.scrollEl.removeEventListener("scroll",n,!1)}}wi("replace",2,function(o,E,w){return[function(t,e){var n=p(this),i=null==t?void 0:t[o];return void 0!==i?i.call(t,n,e):E.call(String(n),t,e)},function(t,e){var n=w(E,t,this,e);if(n.done)return n.value;var i=C(t),o=String(this),r="function"==typeof e;r||(e=String(e));var a=i.global;if(a){var s=i.unicode;i.lastIndex=0}for(var l=[];;){var c=Ci(i,o);if(null===c)break;if(l.push(c),!a)break;""===String(c[0])&&(i.lastIndex=Ti(o,at(i.lastIndex),s))}for(var u,d="",h=0,f=0;f<l.length;f++){c=l[f];for(var p=String(c[0]),g=Ui(Yi(rt(c.index),o.length),0),m=[],v=1;v<c.length;v++)m.push(void 0===(u=c[v])?u:String(u));var y=c.groups;if(r){var b=[p].concat(m,g,o);void 0!==y&&b.push(y);var _=String(e.apply(void 0,b))}else _=T(p,o,g,m,y,e);h<=g&&(d+=o.slice(h,g)+_,h=g+p.length)}return d+o.slice(h)}];function T(r,a,s,l,c,t){var u=s+r.length,d=l.length,e=Qi;return void 0!==c&&(c=Xt(c),e=Zi),E.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return r;case"`":return a.slice(0,s);case"'":return a.slice(u);case"<":n=c[e.slice(1,-1)];break;default:var i=+e;if(0==i)return t;if(d<i){var o=Xi(i/10);return 0===o?t:o<=d?void 0===l[o-1]?e.charAt(1):l[o-1]+e.charAt(1):t}n=l[i-1]}return void 0===n?"":n})}});function to(t){return t.normalize?t.normalize("NFD").replace(/[\u0300-\u036F]/g,""):[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}].reduce(function(t,e){var n=e.letters,i=e.base;return t.replace(n,i)},t)}function eo(t,e,n){var i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(l[e]===n||l[e]===+l[e]+""&&+l[e]===n)return l;if("optgroup"===l.type){var c=!0,u=!1,d=void 0;try{for(var h,f=l.children[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var p=h.value;if(p[e]===n||p[e]===+p[e]+""&&+p[e]===n)return p}}catch(t){u=!0,d=t}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}}}}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}}function no(e){return Object.keys(e).forEach(function(t){return void 0===e[t]?delete e[t]:""}),e}var io=(t(oo,[{key:"init",value:function(){this.initLocale(),this.initContainer(),this.initData(),this.initSelected(!0),this.initFilter(),this.initDrop(),this.initView(),this.options.onAfterCreate()}},{key:"initLocale",value:function(){if(this.options.locale){var t=E.fn.multipleSelect.locales,e=this.options.locale.split(/-|_/);e[0]=e[0].toLowerCase(),e[1]&&(e[1]=e[1].toUpperCase()),t[this.options.locale]?E.extend(this.options,t[this.options.locale]):t[e.join("-")]?E.extend(this.options,t[e.join("-")]):t[e[0]]&&E.extend(this.options,t[e[0]])}}},{key:"initContainer",value:function(){var e=this,n=this.$el[0],t=n.getAttribute("name")||this.options.name||"";this.$el.hide(),this.$label=this.$el.closest("label"),!this.$label.length&&this.$el.attr("id")&&(this.$label=E('label[for="'.concat(this.$el.attr("id"),'"]'))),this.$label.find(">input").length&&(this.$label=null),void 0===this.options.single&&(this.options.single=null===n.getAttribute("multiple")),this.$parent=E('\n      <div class="ms-parent '.concat(n.getAttribute("class")||"",'"\n      title="').concat(n.getAttribute("title")||"",'" />\n    ')),this.options.placeholder=this.options.placeholder||n.getAttribute("placeholder")||"",this.tabIndex=n.getAttribute("tabindex");var i="";if(null!==this.tabIndex&&(this.$el.attr("tabindex",-1),i=this.tabIndex&&'tabindex="'.concat(this.tabIndex,'"')),this.$choice=E('\n      <button type="button" class="ms-choice"'.concat(i,'>\n      <span class="placeholder">').concat(this.options.placeholder,"</span>\n      ").concat(this.options.showClear?'<div class="icon-close"></div>':"",'\n      <div class="icon-caret"></div>\n      </button>\n    ')),this.$drop=E('<div class="ms-drop '.concat(this.options.position,'" />')),this.$close=this.$choice.find(".icon-close"),this.options.dropWidth&&this.$drop.css("width",this.options.dropWidth),this.$el.after(this.$parent),this.$parent.append(this.$choice),this.$parent.append(this.$drop),n.disabled&&this.$choice.addClass("disabled"),this.selectAllName='data-name="selectAll'.concat(t,'"'),this.selectGroupName='data-name="selectGroup'.concat(t,'"'),this.selectItemName='data-name="selectItem'.concat(t,'"'),!this.options.keepOpen){var o=function(t){var e=0<arguments.length&&void 0!==t?t:"";return e=e||"".concat(+new Date).concat(~~(1e6*Math.random())),"click.multiple-select-".concat(e)}(this.$el.attr("id"));E(document).off(o).on(o,function(t){E(t.target)[0]!==e.$choice[0]&&E(t.target).parents(".ms-choice")[0]!==e.$choice[0]&&(E(t.target)[0]===e.$drop[0]||E(t.target).parents(".ms-drop")[0]!==e.$drop[0]&&t.target!==n)&&e.options.isOpen&&e.close()})}}},{key:"initData",value:function(){var t,e,n,i,o=this,r=[];if(this.options.data){if(Array.isArray(this.options.data))this.data=this.options.data.map(function(t){return"string"==typeof t||"number"==typeof t?{text:t,value:t}:t});else if("object"===d(this.options.data)){for(var a=0,s=Object.entries(this.options.data);a<s.length;a++){var l=(t=s[a],e=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),c=l[0],u=l[1];r.push({value:c,text:u})}this.data=r}}else E.each(this.$el.children(),function(t,e){o.initRow(t,e)&&r.push(o.initRow(t,e))}),this.options.data=r,this.data=r,this.fromHtml=!0;this.dataTotal=(n=this.data,i=0,n.forEach(function(t,n){"optgroup"===t.type?(t._key="group_".concat(n),t.visible=void 0===t.visible||t.visible,t.children.forEach(function(t,e){t._key="option_".concat(n,"_").concat(e),t.visible=void 0===t.visible||t.visible}),i+=t.children.length):(t._key="option_".concat(n),t.visible=void 0===t.visible||t.visible,i+=1)}),i)}},{key:"initRow",value:function(t,e,n){var i=this,o={},r=E(e);return r.is("option")?(o.type="option",o.text=this.options.textTemplate(r),o.value=e.value,o.visible=!0,o.selected=!!e.selected,o.disabled=n||e.disabled,o.classes=e.getAttribute("class")||"",o.title=e.getAttribute("title")||"",r.data("value")&&(o._value=r.data("value")),Object.keys(r.data()).length&&(o._data=r.data()),o):r.is("optgroup")?(o.type="optgroup",o.label=this.options.labelTemplate(r),o.visible=!0,o.selected=!!e.selected,o.disabled=e.disabled,o.children=[],Object.keys(r.data()).length&&(o._data=r.data()),E.each(r.children(),function(t,e){o.children.push(i.initRow(t,e,o.disabled))}),o):null}},{key:"initSelected",value:function(t){var e=0,n=!0,i=!1,o=void 0;try{for(var r,a=this.data[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value;if("optgroup"===s.type){var l=s.children.filter(function(t){return t.selected&&!t.disabled&&t.visible}).length;s.selected=l&&l===s.children.filter(function(t){return!t.disabled&&t.visible}).length,e+=l}else e+=s.selected&&!s.disabled&&s.visible?1:0}}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}this.allSelected=this.data.filter(function(t){return t.selected&&!t.disabled&&t.visible}).length===this.data.filter(function(t){return!t.disabled&&t.visible}).length,t||(this.allSelected?this.options.onCheckAll():0===e&&this.options.onUncheckAll())}},{key:"initFilter",value:function(){if(this.filterText="",!this.options.filter&&this.options.filterByDataLength){var t=0,e=!0,n=!1,i=void 0;try{for(var o,r=this.data[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var a=o.value;"optgroup"===a.type?t+=a.children.length:t+=1}}catch(t){n=!0,i=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}this.options.filter=t>this.options.filterByDataLength}}},{key:"initDrop",value:function(){var t=this;this.initList(),this.update(!0),this.options.isOpen&&setTimeout(function(){t.open()},50),this.options.openOnHover&&this.$parent.hover(function(){t.open()},function(){t.close()})}},{key:"initList",value:function(){var t=[];this.options.filter&&t.push('\n        <div class="ms-search">\n          <input type="text" autocomplete="off" autocorrect="off"\n            autocapitalize="off" spellcheck="false"\n            placeholder="'.concat(this.options.filterPlaceholder,'">\n        </div>\n      ')),t.push("<ul></ul>"),this.$drop.html(t.join("")),this.$ul=this.$drop.find(">ul"),this.initListItems()}},{key:"initListItems",value:function(){var t=this,e=this.getListRows(),n=0;if(this.options.selectAll&&!this.options.single&&(n=-1),e.length>_e.BLOCK_ROWS*_e.CLUSTER_BLOCKS){this.virtualScroll&&this.virtualScroll.destroy();var i=this.$drop.is(":visible");i||this.$drop.css("left",-1e4).show();var o=function(){t.updateDataStart=t.virtualScroll.dataStart+n,t.updateDataEnd=t.virtualScroll.dataEnd+n,t.updateDataStart<0&&(t.updateDataStart=0),t.updateDataEnd>t.data.length&&(t.updateDataEnd=t.data.length)};this.virtualScroll=new Gi({rows:e,scrollEl:this.$ul[0],contentEl:this.$ul[0],callback:function(){o(),t.events()}}),o(),i||this.$drop.css("left",0).hide()}else this.$ul.html(e.join("")),this.updateDataStart=0,this.updateDataEnd=this.updateData.length,this.virtualScroll=null;this.events()}},{key:"getListRows",value:function(){var e=this,n=[];return this.options.selectAll&&!this.options.single&&n.push('\n        <li class="ms-select-all">\n        <label>\n        <input type="checkbox" '.concat(this.selectAllName).concat(this.allSelected?' checked="checked"':""," />\n        <span>").concat(this.options.formatSelectAll(),"</span>\n        </label>\n        </li>\n      ")),this.updateData=[],this.data.forEach(function(t){n.push.apply(n,f(e.initListItem(t)))}),n.push('<li class="ms-no-results">'.concat(this.options.formatNoMatchesFound(),"</li>")),n}},{key:"initListItem",value:function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=t.title?'title="'.concat(t.title,'"'):"",o=this.options.multiple?"multiple":"",r=this.options.single?"radio":"checkbox",a="";if(!t.visible)return[];if(this.updateData.push(t),this.options.single&&!this.options.singleRadio&&(a="hide-radio "),t.selected&&(a+="selected "),"optgroup"===t.type){var s=this.options.styler(t),l=s?'style="'.concat(s,'"'):"",c=[],u=this.options.hideOptgroupCheckboxes||this.options.single?"<span ".concat(this.selectGroupName,' data-key="').concat(t._key,'"></span>'):'<input type="checkbox"\n          '.concat(this.selectGroupName,'\n          data-key="').concat(t._key,'"\n          ').concat(t.selected?' checked="checked"':"","\n          ").concat(t.disabled?' disabled="disabled"':"","\n        >");return a.includes("hide-radio")||!this.options.hideOptgroupCheckboxes&&!this.options.single||(a+="hide-radio "),c.push('\n        <li class="group '.concat(a,'" ').concat(l,'>\n        <label class="optgroup').concat(this.options.single||t.disabled?" disabled":"",'">\n        ').concat(u).concat(t.label,"\n        </label>\n        </li>\n      ")),t.children.forEach(function(t){c.push.apply(c,f(e.initListItem(t,1)))}),c}var d=this.options.styler(t),h=d?'style="'.concat(d,'"'):"";return a+=t.classes||"",n&&this.options.single&&(a+="option-level-".concat(n," ")),['\n      <li class="'.concat(o," ").concat(a,'" ').concat(i," ").concat(h,'>\n      <label class="').concat(t.disabled?"disabled":"",'">\n      <input type="').concat(r,'"\n        value="').concat(t.value,'"\n        data-key="').concat(t._key,'"\n        ').concat(this.selectItemName,"\n        ").concat(t.selected?' checked="checked"':"","\n        ").concat(t.disabled?' disabled="disabled"':"","\n      >\n      <span>").concat(t.text,"</span>\n      </label>\n      </li>\n    ")]}},{key:"events",value:function(){var o=this;function e(t){t.preventDefault(),E(t.target).hasClass("icon-close")||o[o.options.isOpen?"close":"open"]()}this.$searchInput=this.$drop.find(".ms-search input"),this.$selectAll=this.$drop.find("input[".concat(this.selectAllName,"]")),this.$selectGroups=this.$drop.find("input[".concat(this.selectGroupName,"],span[").concat(this.selectGroupName,"]")),this.$selectItems=this.$drop.find("input[".concat(this.selectItemName,"]:enabled")),this.$disableItems=this.$drop.find("input[".concat(this.selectItemName,"]:disabled")),this.$noResults=this.$drop.find(".ms-no-results"),this.$label&&this.$label.length&&this.$label.off("click").on("click",function(t){"label"===t.target.nodeName.toLowerCase()&&(e(t),o.options.filter&&o.options.isOpen||o.focus(),t.stopPropagation())}),this.$choice.off("click").on("click",e).off("focus").on("focus",this.options.onFocus).off("blur").on("blur",this.options.onBlur),this.$parent.off("keydown").on("keydown",function(t){27!==t.which||o.options.keepOpen||(o.close(),o.$choice.focus())}),this.$close.off("click").on("click",function(t){t.preventDefault(),o._checkAll(!1,!0),o.initSelected(!1),o.updateSelected(),o.update(),o.options.onClear()}),this.$searchInput.off("keydown").on("keydown",function(t){9===t.keyCode&&t.shiftKey&&o.close()}).off("keyup").on("keyup",function(t){if(o.options.filterAcceptOnEnter&&[13,32].includes(t.which)&&o.$searchInput.val()){if(o.options.single){var e=o.$selectItems.closest("li").filter(":visible");e.length&&o.setSelects([e.first().find("input[".concat(o.selectItemName,"]")).val()])}else o.$selectAll.click();return o.close(),void o.focus()}o.filter()}),this.$selectAll.off("click").on("click",function(t){o._checkAll(E(t.currentTarget).prop("checked"))}),this.$selectGroups.off("click").on("click",function(t){var e=E(t.currentTarget),n=e.prop("checked"),i=eo(o.data,"_key",e.data("key"));o._checkGroup(i,n),o.options.onOptgroupClick(no({label:i.label,selected:i.selected,data:i._data,children:i.children.map(function(t){return no({text:t.text,value:t.value,selected:t.selected,disabled:t.disabled,data:t._data})})}))}),this.$selectItems.off("click").on("click",function(t){var e=E(t.currentTarget),n=e.prop("checked"),i=eo(o.data,"_key",e.data("key"));o._check(i,n),o.options.onClick(no({text:i.text,value:i.value,selected:i.selected,data:i._data})),o.options.single&&o.options.isOpen&&!o.options.keepOpen&&o.close()})}},{key:"initView",value:function(){var t;window.getComputedStyle?"auto"===(t=window.getComputedStyle(this.$el[0]).width)&&(t=this.$drop.outerWidth()+20):t=this.$el.outerWidth()+20,this.$parent.css("width",this.options.width||t),this.$el.show().addClass("ms-offscreen")}},{key:"open",value:function(){if(!this.$choice.hasClass("disabled")){if(this.options.isOpen=!0,this.$choice.find(">div").addClass("open"),this.$drop[this.animateMethod("show")](),this.$selectAll.parent().show(),this.$noResults.hide(),this.data.length||(this.$selectAll.parent().hide(),this.$noResults.show()),this.options.container){var t=this.$drop.offset();this.$drop.appendTo(E(this.options.container)),this.$drop.offset({top:t.top,left:t.left}).css("min-width","auto").outerWidth(this.$parent.outerWidth())}var e=this.options.maxHeight;"row"===this.options.maxHeightUnit&&(e=this.$drop.find(">ul>li").first().outerHeight()*this.options.maxHeight),this.$drop.find(">ul").css("max-height","".concat(e,"px")),this.$drop.find(".multiple").css("width","".concat(this.options.multipleWidth,"px")),this.data.length&&this.options.filter&&(this.$searchInput.val(""),this.$searchInput.focus(),this.filter(!0)),this.options.onOpen()}}},{key:"close",value:function(){this.options.isOpen=!1,this.$choice.find(">div").removeClass("open"),this.$drop[this.animateMethod("hide")](),this.options.container&&(this.$parent.append(this.$drop),this.$drop.css({top:"auto",left:"auto"})),this.options.onClose()}},{key:"animateMethod",value:function(t){return{show:{fade:"fadeIn",slide:"slideDown"},hide:{fade:"fadeOut",slide:"slideUp"}}[t][this.options.animate]||t}},{key:"update",value:function(t){var e=this.getSelects(),n=this.getSelects("text");this.options.displayValues&&(n=e);var i=this.$choice.find(">span"),o=e.length,r="";0===o?i.addClass("placeholder").html(this.options.placeholder):r=o<this.options.minimumCountSelected?n.join(this.options.displayDelimiter):this.options.formatAllSelected()&&o===this.dataTotal?this.options.formatAllSelected():this.options.ellipsis&&o>this.options.minimumCountSelected?"".concat(n.slice(0,this.options.minimumCountSelected).join(this.options.displayDelimiter),"..."):this.options.formatCountSelected()&&o>this.options.minimumCountSelected?this.options.formatCountSelected(o,this.dataTotal):n.join(this.options.displayDelimiter),r&&i.removeClass("placeholder").html(r),this.options.displayTitle&&i.prop("title",this.getSelects("text")),this.$el.val(this.getSelects()),t||this.$el.trigger("change")}},{key:"updateSelected",value:function(){for(var t=this.updateDataStart;t<this.updateDataEnd;t++){var e=this.updateData[t];this.$drop.find("input[data-key=".concat(e._key,"]")).prop("checked",e.selected).closest("li").toggleClass("selected",e.selected)}var n=0===this.data.filter(function(t){return t.visible}).length;this.$selectAll.length&&this.$selectAll.prop("checked",this.allSelected).closest("li").toggle(!n),this.$noResults.toggle(n),this.virtualScroll&&(this.virtualScroll.rows=this.getListRows())}},{key:"getOptions",value:function(){var t=E.extend({},this.options);return delete t.data,E.extend(!0,{},t)}},{key:"refreshOptions",value:function(t){!function(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var o=0,r=n;o<r.length;o++){var a=r[o];if(i.includes(a)&&t[a]!==e[a])return!1}return!0}(this.options,t)&&(this.options=E.extend(this.options,t),this.destroy(),this.init())}},{key:"getSelects",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"value",t=[],n=!0,i=!1,o=void 0;try{for(var r,a=this.data[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value;if("optgroup"===s.type){var l=s.children.filter(function(t){return t.selected});if(!l.length)continue;if("value"===e||this.options.single)t.push.apply(t,f(l.map(function(t){return"value"===e&&t._value||t[e]})));else{var c=[];c.push("["),c.push(s.label),c.push(": ".concat(l.map(function(t){return t[e]}).join(", "))),c.push("]"),t.push(c.join(""))}}else s.selected&&t.push("value"===e&&s._value||s[e])}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return t}},{key:"setSelects",value:function(l,t){function e(t){var e=!0,n=!1,i=void 0;try{for(var o,r=t[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var a=o.value,s=l.includes(a._value||a.value);s||a.value!==+a.value+""||(s=l.includes(+a.value)),a.selected!==s&&(c=!0),a.selected=s}}catch(t){n=!0,i=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}}var c=!1,n=!0,i=!1,o=void 0;try{for(var r,a=this.data[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value;"optgroup"===s.type?e(s.children):e([s])}}catch(l){i=!0,o=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}c&&(this.initSelected(t),this.updateSelected(),this.update(t))}},{key:"enable",value:function(){this.$choice.removeClass("disabled")}},{key:"disable",value:function(){this.$choice.addClass("disabled")}},{key:"check",value:function(t){var e=eo(this.data,"value",t);e&&this._check(e,!0)}},{key:"uncheck",value:function(t){var e=eo(this.data,"value",t);e&&this._check(e,!1)}},{key:"_check",value:function(t,e){this.options.single&&this._checkAll(!1,!0),t.selected=e,this.initSelected(),this.updateSelected(),this.update()}},{key:"checkAll",value:function(){this._checkAll(!0)}},{key:"uncheckAll",value:function(){this._checkAll(!1)}},{key:"_checkAll",value:function(t,e){var n=!0,i=!1,o=void 0;try{for(var r,a=this.data[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value;"optgroup"===s.type?this._checkGroup(s,t,!0):s.disabled||!e&&!s.visible||(s.selected=t)}}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}e||(this.initSelected(),this.updateSelected(),this.update())}},{key:"_checkGroup",value:function(t,e,n){t.selected=e,t.children.forEach(function(t){t.disabled||!n&&!t.visible||(t.selected=e)}),n||(this.initSelected(),this.updateSelected(),this.update())}},{key:"checkInvert",value:function(){if(!this.options.single){var t=!0,e=!1,n=void 0;try{for(var i,o=this.data[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var r=i.value;if("optgroup"===r.type){var a=!0,s=!1,l=void 0;try{for(var c,u=r.children[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;d.selected=!d.selected}}catch(t){s=!0,l=t}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}}else r.selected=!r.selected}}catch(t){e=!0,n=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw n}}this.initSelected(),this.updateSelected(),this.update()}}},{key:"focus",value:function(){this.$choice.focus(),this.options.onFocus()}},{key:"blur",value:function(){this.$choice.blur(),this.options.onBlur()}},{key:"refresh",value:function(){this.destroy(),this.init()}},{key:"filter",value:function(t){var e=E.trim(this.$searchInput.val()),n=e.toLowerCase();if(this.filterText!==n){this.filterText=n;var i=!0,o=!1,r=void 0;try{for(var a,s=this.data[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if("optgroup"===l.type)if(this.options.filterGroup){var c=this.options.customFilter(to(l.label.toLowerCase()),to(n),l.label,e);l.visible=c;var u=!0,d=!1,h=void 0;try{for(var f,p=l.children[Symbol.iterator]();!(u=(f=p.next()).done);u=!0)f.value.visible=c}catch(t){d=!0,h=t}finally{try{u||null==p.return||p.return()}finally{if(d)throw h}}}else{var g=!0,m=!1,v=void 0;try{for(var y,b=l.children[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var _=y.value;_.visible=this.options.customFilter(to(_.text.toLowerCase()),to(n),_.text,e)}}catch(t){m=!0,v=t}finally{try{g||null==b.return||b.return()}finally{if(m)throw v}}l.visible=0<l.children.filter(function(t){return t.visible}).length}else l.visible=this.options.customFilter(to(l.text.toLowerCase()),to(n),l.text,e)}}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}this.initListItems(),this.initSelected(t),this.updateSelected(),t||this.options.onFilter(n)}}},{key:"destroy",value:function(){this.$parent&&(this.$el.before(this.$parent).removeClass("ms-offscreen"),null!==this.tabIndex&&this.$el.attr("tabindex",this.tabIndex),this.$parent.remove(),this.fromHtml&&(delete this.options.data,this.fromHtml=!1))}}]),oo);function oo(t,e){i(this,oo),this.$el=t,this.options=E.extend({},_e.DEFAULTS,e)}E.fn.multipleSelect=function(a){for(var t=arguments.length,s=new Array(1<t?t-1:0),e=1;e<t;e++)s[e-1]=arguments[e];var l;return this.each(function(t,e){var n=E(e),i=n.data("multipleSelect"),o=E.extend({},n.data(),"object"===d(a)&&a);if(i||(i=new io(n,o),n.data("multipleSelect",i)),"string"==typeof a){var r;if(E.inArray(a,_e.METHODS)<0)throw new Error("Unknown method: ".concat(a));l=(r=i)[a].apply(r,s),"destroy"===a&&n.removeData("multipleSelect")}else i.init()}),void 0!==l?l:this},E.fn.multipleSelect.defaults=_e.DEFAULTS,E.fn.multipleSelect.locales=_e.LOCALES,E.fn.multipleSelect.methods=_e.METHODS}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):t(jQuery)}(function(kt,St){"use strict";var t,Rt={beforeShow:n,move:n,change:n,show:n,hide:n,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},At=[],Mt=!!/msie/i.exec(window.navigator.userAgent),Nt=((t=document.createElement("div").style).cssText="background-color:rgba(0,0,0,.5)",e(t.backgroundColor,"rgba")||e(t.backgroundColor,"hsla")),Kt=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),Pt=function(){var t="";if(Mt)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function e(t,e){return!!~(""+t).indexOf(e)}function Lt(t,e,n,i){for(var o=[],r=0;r<t.length;r++){var a=t[r];if(a){var s=tinycolor(a),l=s.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(e,a)?" sp-thumb-active":"";var c=s.toString(i.preferredFormat||"rgb"),u=Nt?"background-color:"+s.toRgbString():"filter:"+s.toFilter();o.push('<span title="'+c+'" data-color="'+s.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+u+';" /></span>')}else{o.push(kt("<div />").append(kt('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+o.join("")+"</div>"}function r(t,e){var c=function(t,e){var n=kt.extend({},Rt,t);return n.callbacks={move:Bt(n.move,e),change:Bt(n.change,e),show:Bt(n.show,e),hide:Bt(n.hide,e),beforeShow:Bt(n.beforeShow,e)},n}(e,t),i=c.flat,n=c.showSelectionPalette,o=c.localStorageKey,r=c.theme,a=c.callbacks,s=function(n,i,o){var r;return function(){var t=this,e=arguments;o&&clearTimeout(r),!o&&r||(r=setTimeout(function(){r=null,n.apply(t,e)},i))}}(Dt,10),l=!1,u=!1,d=0,h=0,f=0,p=0,g=0,m=0,v=0,y=0,b=0,_=0,E=1,w=[],T=[],C={},x=c.selectionPalette.slice(0),D=c.maxSelectionSize,O="sp-dragging",I=null,k=t.ownerDocument,S=(k.body,kt(t)),R=!1,A=kt(Pt,k).addClass(r),M=A.find(".sp-picker-container"),N=A.find(".sp-color"),K=A.find(".sp-dragger"),P=A.find(".sp-hue"),L=A.find(".sp-slider"),F=A.find(".sp-alpha-inner"),B=A.find(".sp-alpha"),$=A.find(".sp-alpha-handle"),H=A.find(".sp-input"),z=A.find(".sp-palette"),j=A.find(".sp-initial"),V=A.find(".sp-cancel"),W=A.find(".sp-clear"),q=A.find(".sp-choose"),G=A.find(".sp-palette-toggle"),U=S.is("input"),Y=U&&"color"===S.attr("type")&&Ht(),X=U&&!i,Z=X?kt(Kt).addClass(r).addClass(c.className).addClass(c.replacerClassName):kt([]),Q=X?Z:S,J=Z.find(".sp-preview-inner"),tt=c.color||U&&S.val(),et=!1,nt=c.preferredFormat,it=!c.showButtons||c.clickoutFiresChange,ot=!tt,rt=c.allowEmpty&&!Y;function at(){if(c.showPaletteOnly&&(c.showPalette=!0),G.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText),c.palette){w=c.palette.slice(0),T=kt.isArray(w[0])?w:[w],C={};for(var t=0;t<T.length;t++)for(var e=0;e<T[t].length;e++){var n=tinycolor(T[t][e]).toRgbString();C[n]=!0}}A.toggleClass("sp-flat",i),A.toggleClass("sp-input-disabled",!c.showInput),A.toggleClass("sp-alpha-enabled",c.showAlpha),A.toggleClass("sp-clear-enabled",rt),A.toggleClass("sp-buttons-disabled",!c.showButtons),A.toggleClass("sp-palette-buttons-disabled",!c.togglePaletteOnly),A.toggleClass("sp-palette-disabled",!c.showPalette),A.toggleClass("sp-palette-only",c.showPaletteOnly),A.toggleClass("sp-initial-disabled",!c.showInitial),A.addClass(c.className).addClass(c.containerClassName),Dt()}function st(){if(o&&window.localStorage){try{var t=window.localStorage[o].split(",#");1<t.length&&(delete window.localStorage[o],kt.each(t,function(t,e){lt(e)}))}catch(t){}try{x=window.localStorage[o].split(";")}catch(t){}}}function lt(t){if(n){var e=tinycolor(t).toRgbString();if(!C[e]&&-1===kt.inArray(e,x))for(x.push(e);x.length>D;)x.shift();if(o&&window.localStorage)try{window.localStorage[o]=x.join(";")}catch(t){}}}function ct(){var n=Et(),t=kt.map(T,function(t,e){return Lt(t,n,"sp-palette-row sp-palette-row-"+e,c)});st(),x&&t.push(Lt(function(){var t=[];if(c.showPalette)for(var e=0;e<x.length;e++){var n=tinycolor(x[e]).toRgbString();C[n]||t.push(x[e])}return t.reverse().slice(0,c.maxSelectionSize)}(),n,"sp-palette-row sp-palette-row-selection",c)),z.html(t.join(""))}function ut(){if(c.showInitial){var t=et,e=Et();j.html(Lt([t,e],e,"sp-palette-row-initial",c))}}function dt(){(h<=0||d<=0||p<=0)&&Dt(),u=!0,A.addClass(O),I=null,S.trigger("dragstart.spectrum",[Et()])}function ht(){u=!1,A.removeClass(O),S.trigger("dragstop.spectrum",[Et()])}function ft(){var t=H.val();if(null!==t&&""!==t||!rt){var e=tinycolor(t);e.isValid()?(_t(e),xt(!0)):H.addClass("sp-validation-error")}else _t(null),xt(!0)}function pt(){l?yt():gt()}function gt(){var t=kt.Event("beforeShow.spectrum");l?Dt():(S.trigger(t,[Et()]),!1===a.beforeShow(Et())||t.isDefaultPrevented()||(function(){for(var t=0;t<At.length;t++)At[t]&&At[t].hide()}(),l=!0,kt(k).bind("keydown.spectrum",mt),kt(k).bind("click.spectrum",vt),kt(window).bind("resize.spectrum",s),Z.addClass("sp-active"),A.removeClass("sp-hidden"),Dt(),Tt(),et=Et(),ut(),a.show(et),S.trigger("show.spectrum",[et])))}function mt(t){27===t.keyCode&&yt()}function vt(t){2!=t.button&&(u||(it?xt(!0):bt(),yt()))}function yt(){l&&!i&&(l=!1,kt(k).unbind("keydown.spectrum",mt),kt(k).unbind("click.spectrum",vt),kt(window).unbind("resize.spectrum",s),Z.removeClass("sp-active"),A.addClass("sp-hidden"),a.hide(Et()),S.trigger("hide.spectrum",[Et()]))}function bt(){_t(et,!0)}function _t(t,e){var n,i;tinycolor.equals(t,Et())?Tt():(!t&&rt?ot=!0:(ot=!1,i=(n=tinycolor(t)).toHsv(),y=i.h%360/360,b=i.s,_=i.v,E=i.a),Tt(),n&&n.isValid()&&!e&&(nt=c.preferredFormat||n.getFormat()))}function Et(t){return t=t||{},rt&&ot?null:tinycolor.fromRatio({h:y,s:b,v:_,a:Math.round(100*E)/100},{format:t.format||nt})}function wt(){Tt(),a.move(Et()),S.trigger("move.spectrum",[Et()])}function Tt(){H.removeClass("sp-validation-error"),Ct();var t=tinycolor.fromRatio({h:y,s:1,v:1});N.css("background-color",t.toHexString());var e=nt;E<1&&(0!==E||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=Et({format:e}),i="";if(J.removeClass("sp-clear-display"),J.css("background-color","transparent"),!n&&rt)J.addClass("sp-clear-display");else{var o=n.toHexString(),r=n.toRgbString();if(Nt||1===n.alpha?J.css("background-color",r):(J.css("background-color","transparent"),J.css("filter",n.toFilter())),c.showAlpha){var a=n.toRgb();a.a=0;var s=tinycolor(a).toRgbString(),l="linear-gradient(left, "+s+", "+o+")";Mt?F.css("filter",tinycolor(s).toFilter({gradientType:1},o)):(F.css("background","-webkit-"+l),F.css("background","-moz-"+l),F.css("background","-ms-"+l),F.css("background","linear-gradient(to right, "+s+", "+o+")"))}i=n.toString(e)}c.showInput&&H.val(i),c.showPalette&&ct(),ut()}function Ct(){var t=b,e=_;if(rt&&ot)$.hide(),L.hide(),K.hide();else{$.show(),L.show(),K.show();var n=t*d,i=h-e*h;n=Math.max(-f,Math.min(d-f,n-f)),i=Math.max(-f,Math.min(h-f,i-f)),K.css({top:i+"px",left:n+"px"});var o=E*g;$.css({left:o-m/2+"px"});var r=y*p;L.css({top:r-v+"px"})}}function xt(t){var e=Et(),n="",i=!tinycolor.equals(e,et);e&&(n=e.toString(nt),lt(e)),U&&S.val(n),t&&i&&(a.change(e),S.trigger("change",[e]))}function Dt(){l&&(d=N.width(),h=N.height(),f=K.height(),P.width(),p=P.height(),v=L.height(),g=B.width(),m=$.width(),i||(A.css("position","absolute"),c.offset?A.offset(c.offset):A.offset(function(t,e){var n=t.outerWidth(),i=t.outerHeight(),o=e.outerHeight(),r=t[0].ownerDocument,a=r.documentElement,s=a.clientWidth+kt(r).scrollLeft(),l=a.clientHeight+kt(r).scrollTop(),c=e.offset();return c.top+=o,c.left-=Math.min(c.left,c.left+n>s&&n<s?Math.abs(c.left+n-s):0),c.top-=Math.min(c.top,c.top+i>l&&i<l?Math.abs(i+o-0):0),c}(A,Q))),Ct(),c.showPalette&&ct(),S.trigger("reflow.spectrum"))}function Ot(){yt(),R=!0,S.attr("disabled",!0),Q.addClass("sp-disabled")}!function(){if(Mt&&A.find("*:not(input)").attr("unselectable","on"),at(),X&&S.after(Z).hide(),rt||W.hide(),i)S.after(A).hide();else{var t="parent"===c.appendTo?S.parent():kt(c.appendTo);1!==t.length&&(t=kt("body")),t.append(A)}function e(t){return t.data&&t.data.ignore?(_t(kt(t.target).closest(".sp-thumb-el").data("color")),wt()):(_t(kt(t.target).closest(".sp-thumb-el").data("color")),wt(),xt(!0),c.hideAfterPaletteSelect&&yt()),!1}st(),Q.bind("click.spectrum touchstart.spectrum",function(t){R||pt(),t.stopPropagation(),kt(t.target).is("input")||t.preventDefault()}),!S.is(":disabled")&&!0!==c.disabled||Ot(),A.click(Ft),H.change(ft),H.bind("paste",function(){setTimeout(ft,1)}),H.keydown(function(t){13==t.keyCode&&ft()}),V.text(c.cancelText),V.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),bt(),yt()}),W.attr("title",c.clearText),W.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),ot=!0,wt(),i&&xt(!0)}),q.text(c.chooseText),q.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Mt&&H.is(":focus")&&H.trigger("change"),H.hasClass("sp-validation-error")||(xt(!0),yt())}),G.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText),G.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),c.showPaletteOnly=!c.showPaletteOnly,c.showPaletteOnly||i||A.css("left","-="+(M.outerWidth(!0)+5)),at()}),$t(B,function(t,e,n){E=t/g,ot=!1,n.shiftKey&&(E=Math.round(10*E)/10),wt()},dt,ht),$t(P,function(t,e){y=parseFloat(e/p),ot=!1,c.showAlpha||(E=1),wt()},dt,ht),$t(N,function(t,e,n){if(n.shiftKey){if(!I){var i=b*d,o=h-_*h,r=Math.abs(t-i)>Math.abs(e-o);I=r?"x":"y"}}else I=null;var a=!I||"y"===I;I&&"x"!==I||(b=parseFloat(t/d)),a&&(_=parseFloat((h-e)/h)),ot=!1,c.showAlpha||(E=1),wt()},dt,ht),tt?(_t(tt),Tt(),nt=c.preferredFormat||tinycolor(tt).format,lt(tt)):Tt(),i&&gt();var n=Mt?"mousedown.spectrum":"click.spectrum touchstart.spectrum";z.delegate(".sp-thumb-el",n,e),j.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},e)}();var It={show:gt,hide:yt,toggle:pt,reflow:Dt,option:function(t,e){return t===St?kt.extend({},c):e===St?c[t]:(c[t]=e,"preferredFormat"===t&&(nt=c.preferredFormat),void at())},enable:function(){R=!1,S.attr("disabled",!1),Q.removeClass("sp-disabled")},disable:Ot,offset:function(t){c.offset=t,Dt()},set:function(t){_t(t),xt()},get:Et,destroy:function(){S.show(),Q.unbind("click.spectrum touchstart.spectrum"),A.remove(),Z.remove(),At[It.id]=null},container:A};return It.id=At.push(It)-1,It}function n(){}function Ft(t){t.stopPropagation()}function Bt(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function $t(a,s,e,t){s=s||function(){},e=e||function(){},t=t||function(){};var l=document,c=!1,u={},d=0,h=0,f="ontouchstart"in window,n={};function p(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function i(t){if(c){if(Mt&&l.documentMode<9&&!t.button)return g();var e=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],n=e&&e.pageX||t.pageX,i=e&&e.pageY||t.pageY,o=Math.max(0,Math.min(n-u.left,h)),r=Math.max(0,Math.min(i-u.top,d));f&&p(t),s.apply(a,[o,r,t])}}function g(){c&&(kt(l).unbind(n),kt(l.body).removeClass("sp-dragging"),setTimeout(function(){t.apply(a,arguments)},0)),c=!1}n.selectstart=p,n.dragstart=p,n["touchmove mousemove"]=i,n["touchend mouseup"]=g,kt(a).bind("touchstart mousedown",function(t){(t.which?3==t.which:2==t.button)||c||!1!==e.apply(a,arguments)&&(c=!0,d=kt(a).height(),h=kt(a).width(),u=kt(a).offset(),kt(l).bind(n),kt(l.body).addClass("sp-dragging"),i(t),p(t))})}function Ht(){return kt.fn.spectrum.inputTypeColorSupport()}var a="spectrum.id";kt.fn.spectrum=function(n,t){if("string"!=typeof n)return this.spectrum("destroy").each(function(){var t=r(this,kt.extend({},n,kt(this).data()));kt(this).data(a,t.id)});var i=this,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=At[kt(this).data(a)];if(t){var e=t[n];if(!e)throw new Error("Spectrum: no such method: '"+n+"'");"get"==n?i=t.get():"container"==n?i=t.container:"option"==n?i=t.option.apply(t,o):"destroy"==n?(t.destroy(),kt(this).removeData(a)):e.apply(t,o)}}),i},kt.fn.spectrum.load=!0,kt.fn.spectrum.loadOpts={},kt.fn.spectrum.draggable=$t,kt.fn.spectrum.defaults=Rt,kt.fn.spectrum.inputTypeColorSupport=function t(){if(void 0===t._cachedResult){var e=kt("<input type='color'/>")[0];t._cachedResult="color"===e.type&&""!==e.value}return t._cachedResult},kt.spectrum={},kt.spectrum.localization={},kt.spectrum.palettes={},kt.fn.spectrum.processNativeColorInputs=function(){var t=kt("input[type=color]");t.length&&!Ht()&&t.spectrum({preferredFormat:"hex6"})},function(){var r=/^[\s,#]+/,a=/\s+$/,i=0,c=Math,s=c.round,u=c.min,d=c.max,t=c.random,h=function(t,e){if(e=e||{},(t=t||"")instanceof h)return t;if(!(this instanceof h))return new h(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,i=!1,o=!1;"string"==typeof t&&(t=function(t){t=t.replace(r,"").replace(a,"").toLowerCase();var e,n=!1;if(D[t])t=D[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=L.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=L.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=L.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=L.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=L.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=L.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=L.hex8.exec(t))return{a:function(t){return R(t)/255}(e[1]),r:R(e[2]),g:R(e[3]),b:R(e[4]),format:n?"name":"hex8"};if(e=L.hex6.exec(t))return{r:R(e[1]),g:R(e[2]),b:R(e[3]),format:n?"name":"hex"};if(e=L.hex3.exec(t))return{r:R(e[1]+""+e[1]),g:R(e[2]+""+e[2]),b:R(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=function(t,e,n){return{r:255*k(t,255),g:255*k(e,255),b:255*k(n,255)}}(t.r,t.g,t.b),i=!0,o="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=M(t.s),t.v=M(t.v),e=function(t,e,n){t=6*k(t,360),e=k(e,100),n=k(n,100);var i=c.floor(t),o=t-i,r=n*(1-e),a=n*(1-o*e),s=n*(1-(1-o)*e),l=i%6;return{r:255*[n,a,r,r,s,n][l],g:255*[s,n,n,a,r,r][l],b:255*[r,r,s,n,n,a][l]}}(t.h,t.s,t.v),i=!0,o="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=M(t.s),t.l=M(t.l),e=function(t,e,n){var i,o,r;function a(t,e,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=k(t,360),e=k(e,100),n=k(n,100),0===e)i=o=r=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=a(l,s,t+1/3),o=a(l,s,t),r=a(l,s,t-1/3)}return{r:255*i,g:255*o,b:255*r}}(t.h,t.s,t.l),i=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a));return n=I(n),{ok:i,format:t.format||o,r:u(255,d(e.r,0)),g:u(255,d(e.g,0)),b:u(255,d(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=s(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=n.ok,this._tc_id=i++};function o(t,e,n){t=k(t,255),e=k(e,255),n=k(n,255);var i,o,r=d(t,e,n),a=u(t,e,n),s=(r+a)/2;if(r==a)i=o=0;else{var l=r-a;switch(o=.5<s?l/(2-r-a):l/(r+a),r){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:o,l:s}}function l(t,e,n){t=k(t,255),e=k(e,255),n=k(n,255);var i,o,r=d(t,e,n),a=u(t,e,n),s=r,l=r-a;if(o=0===r?0:l/r,r==a)i=0;else{switch(r){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:o,v:s}}function e(t,e,n,i){var o=[A(s(t).toString(16)),A(s(e).toString(16)),A(s(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function f(t,e,n,i){return[A(function(t){return Math.round(255*parseFloat(t)).toString(16)}(i)),A(s(t).toString(16)),A(s(e).toString(16)),A(s(n).toString(16))].join("")}function n(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.s-=e/100,n.s=S(n.s),h(n)}function p(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.s+=e/100,n.s=S(n.s),h(n)}function g(t){return h(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.l+=e/100,n.l=S(n.l),h(n)}function v(t,e){e=0===e?0:e||10;var n=h(t).toRgb();return n.r=d(0,u(255,n.r-s(-e/100*255))),n.g=d(0,u(255,n.g-s(-e/100*255))),n.b=d(0,u(255,n.b-s(-e/100*255))),h(n)}function y(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.l-=e/100,n.l=S(n.l),h(n)}function b(t,e){var n=h(t).toHsl(),i=(s(n.h)+e)%360;return n.h=i<0?360+i:i,h(n)}function _(t){var e=h(t).toHsl();return e.h=(e.h+180)%360,h(e)}function E(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+120)%360,s:e.s,l:e.l}),h({h:(n+240)%360,s:e.s,l:e.l})]}function w(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+90)%360,s:e.s,l:e.l}),h({h:(n+180)%360,s:e.s,l:e.l}),h({h:(n+270)%360,s:e.s,l:e.l})]}function T(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+72)%360,s:e.s,l:e.l}),h({h:(n+216)%360,s:e.s,l:e.l})]}function C(t,e,n){e=e||6,n=n||30;var i=h(t).toHsl(),o=360/n,r=[h(t)];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,r.push(h(i));return r}function x(t,e){e=e||6;for(var n=h(t).toHsv(),i=n.h,o=n.s,r=n.v,a=[],s=1/e;e--;)a.push(h({h:i,s:o,v:r})),r=(r+s)%1;return a}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=I(t),this._roundA=s(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=s(360*t.h),n=s(100*t.s),i=s(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=o(this._r,this._g,this._b),e=s(360*t.h),n=s(100*t.s),i=s(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return e(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return f(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(100*k(this._r,255))+"%",g:s(100*k(this._g,255))+"%",b:s(100*k(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+s(100*k(this._r,255))+"%, "+s(100*k(this._g,255))+"%, "+s(100*k(this._b,255))+"%)":"rgba("+s(100*k(this._r,255))+"%, "+s(100*k(this._g,255))+"%, "+s(100*k(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(O[e(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";t&&(n=h(t).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&0<=this._a;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(n,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},h.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:M(t[i]));t=n}return h(t,e)},h.equals=function(t,e){return!(!t||!e)&&h(t).toRgbString()==h(e).toRgbString()},h.random=function(){return h.fromRatio({r:t(),g:t(),b:t()})},h.mix=function(t,e,n){n=0===n?0:n||50;var i,o=h(t).toRgb(),r=h(e).toRgb(),a=n/100,s=2*a-1,l=r.a-o.a,c=1-(i=((i=s*l==-1?s:(s+l)/(1+s*l))+1)/2),u={r:r.r*i+o.r*c,g:r.g*i+o.g*c,b:r.b*i+o.b*c,a:r.a*a+o.a*(1-a)};return h(u)},h.readability=function(t,e){var n=h(t),i=h(e),o=n.toRgb(),r=i.toRgb(),a=n.getBrightness(),s=i.getBrightness(),l=Math.max(o.r,r.r)-Math.min(o.r,r.r)+Math.max(o.g,r.g)-Math.min(o.g,r.g)+Math.max(o.b,r.b)-Math.min(o.b,r.b);return{brightness:Math.abs(a-s),color:l}},h.isReadable=function(t,e){var n=h.readability(t,e);return 125<n.brightness&&500<n.color},h.mostReadable=function(t,e){for(var n=null,i=0,o=!1,r=0;r<e.length;r++){var a=h.readability(t,e[r]),s=125<a.brightness&&500<a.color,l=a.brightness/125*3+a.color/500;(s&&!o||s&&o&&i<l||!s&&!o&&i<l)&&(o=s,i=l,n=h(e[r]))}return n};var D=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=h.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(D);function I(t){return t=parseFloat(t),(isNaN(t)||t<0||1<t)&&(t=1),t}function k(t,e){!function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}(t)||(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=u(e,d(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),c.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function S(t){return u(1,d(0,t))}function R(t){return parseInt(t,16)}function A(t){return 1==t.length?"0"+t:""+t}function M(t){return t<=1&&(t=100*t+"%"),t}var N,K,P,L=(K="[\\s|\\(]+("+(N="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",P="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",{rgb:new RegExp("rgb"+K),rgba:new RegExp("rgba"+P),hsl:new RegExp("hsl"+K),hsla:new RegExp("hsla"+P),hsv:new RegExp("hsv"+K),hsva:new RegExp("hsva"+P),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=h}(),kt(function(){kt.fn.spectrum.load&&kt.fn.spectrum.processNativeColorInputs()})}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?exports.cropit=e(require("jquery")):t.cropit=e(t.jQuery)}(this,function(n){return r={},i.m=o=[function(t,e,n){var i=Array.prototype.slice;function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return t.each(function(){var t=s.default.data(this,c.PLUGIN_KEY);t&&e(t)})}function a(t,e,n){var i=t.first().data(c.PLUGIN_KEY);return i&&s.default.isFunction(i[e])?i[e](n):null}var s=o(n(1)),l=o(n(2)),c=n(4),u=n(6),d={init:function(e){return this.each(function(){if(!s.default.data(this,c.PLUGIN_KEY)){var t=new l.default(s.default,this,e);s.default.data(this,c.PLUGIN_KEY,t)}})},destroy:function(){return this.each(function(){s.default.removeData(this,c.PLUGIN_KEY)})},isZoomable:function(){return a(this,"isZoomable")},export:function(t){return a(this,"getCroppedImageData",t)}};s.default.fn.cropit=function(t){return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):0<=["imageState","imageSrc","offset","previewSize","imageSize","zoom","initialZoom","exportZoom","minZoom","maxZoom"].indexOf(t)?function(t,e,n){return(0,u.exists)(n)?r(t,function(t){t[e]=n}):t.first().data(c.PLUGIN_KEY)[e]}.apply(void 0,[this].concat(i.call(arguments))):0<=["rotateCW","rotateCCW","disable","reenable"].indexOf(t)?function(t,e){return r(t,function(t){t[e]()})}.apply(void 0,[this].concat(i.call(arguments))):d.init.apply(this,arguments)}},function(t,e){t.exports=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t){return t&&t.__esModule?t:{default:t}}var a=r(n(1)),s=r(n(3)),l=n(4),c=n(5),u=n(6),d=(i(h,[{key:"init",value:function(){var t=this;this.image=new Image,this.preImage=new Image,this.image.onload=this.onImageLoaded.bind(this),this.preImage.onload=this.onPreImageLoaded.bind(this),this.image.onerror=this.preImage.onerror=function(){t.onImageError.call(t,l.ERRORS.IMAGE_FAILED_TO_LOAD)},this.$preview=this.options.$preview.css("position","relative"),this.$fileInput=this.options.$fileInput.attr({accept:"image/*"}),this.$zoomSlider=this.options.$zoomSlider.attr({min:0,max:1,step:.01}),this.previewSize={width:this.options.width||this.$preview.innerWidth(),height:this.options.height||this.$preview.innerHeight()},this.$image=(0,a.default)("<img />").addClass(l.CLASS_NAMES.PREVIEW_IMAGE).attr("alt","").css({transformOrigin:"top left",webkitTransformOrigin:"top left",willChange:"transform"}),this.$imageContainer=(0,a.default)("<div />").addClass(l.CLASS_NAMES.PREVIEW_IMAGE_CONTAINER).css({position:"absolute",overflow:"hidden",left:0,top:0,width:"100%",height:"100%"}).append(this.$image),this.$preview.append(this.$imageContainer),this.options.imageBackground&&(a.default.isArray(this.options.imageBackgroundBorderWidth)?this.bgBorderWidthArray=this.options.imageBackgroundBorderWidth:this.bgBorderWidthArray=[0,1,2,3].map(function(){return t.options.imageBackgroundBorderWidth}),this.$bg=(0,a.default)("<img />").addClass(l.CLASS_NAMES.PREVIEW_BACKGROUND).attr("alt","").css({position:"relative",left:this.bgBorderWidthArray[3],top:this.bgBorderWidthArray[0],transformOrigin:"top left",webkitTransformOrigin:"top left",willChange:"transform"}),this.$bgContainer=(0,a.default)("<div />").addClass(l.CLASS_NAMES.PREVIEW_BACKGROUND_CONTAINER).css({position:"absolute",zIndex:0,top:-this.bgBorderWidthArray[0],right:-this.bgBorderWidthArray[1],bottom:-this.bgBorderWidthArray[2],left:-this.bgBorderWidthArray[3]}).append(this.$bg),0<this.bgBorderWidthArray[0]&&this.$bgContainer.css("overflow","hidden"),this.$preview.prepend(this.$bgContainer)),this.initialZoom=this.options.initialZoom,this.imageLoaded=!1,this.moveContinue=!1,this.zoomer=new s.default,this.options.allowDragNDrop&&a.default.event.props.push("dataTransfer"),this.bindListeners(),this.options.imageState&&this.options.imageState.src&&this.loadImage(this.options.imageState.src)}},{key:"bindListeners",value:function(){this.$fileInput.on("change.cropit",this.onFileChange.bind(this)),this.$imageContainer.on(l.EVENTS.PREVIEW,this.onPreviewEvent.bind(this)),this.$zoomSlider.on(l.EVENTS.ZOOM_INPUT,this.onZoomSliderChange.bind(this)),this.options.allowDragNDrop&&(this.$imageContainer.on("dragover.cropit dragleave.cropit",this.onDragOver.bind(this)),this.$imageContainer.on("drop.cropit",this.onDrop.bind(this)))}},{key:"unbindListeners",value:function(){this.$fileInput.off("change.cropit"),this.$imageContainer.off(l.EVENTS.PREVIEW),this.$imageContainer.off("dragover.cropit dragleave.cropit drop.cropit"),this.$zoomSlider.off(l.EVENTS.ZOOM_INPUT)}},{key:"onFileChange",value:function(t){this.options.onFileChange(t),this.$fileInput.get(0).files&&this.loadFile(this.$fileInput.get(0).files[0])}},{key:"loadFile",value:function(t){var e=new FileReader;t&&t.type.match("image")?(e.readAsDataURL(t),e.onload=this.onFileReaderLoaded.bind(this),e.onerror=this.onFileReaderError.bind(this)):t&&this.onFileReaderError()}},{key:"onFileReaderLoaded",value:function(t){this.loadImage(t.target.result)}},{key:"onFileReaderError",value:function(){this.options.onFileReaderError()}},{key:"onDragOver",value:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy",this.$preview.toggleClass(l.CLASS_NAMES.DRAG_HOVERED,"dragover"===t.type)}},{key:"onDrop",value:function(t){var e=this;t.preventDefault(),t.stopPropagation(),Array.prototype.slice.call(t.dataTransfer.files,0).some(function(t){return!!t.type.match("image")&&(e.loadFile(t),!0)}),this.$preview.removeClass(l.CLASS_NAMES.DRAG_HOVERED)}},{key:"loadImage",value:function(t){var e=this;if(t)if(this.options.onImageLoading(),this.setImageLoadingClass(),0===t.indexOf("data"))this.preImage.src=t;else{var n=new XMLHttpRequest;n.onload=function(t){300<=t.target.status?e.onImageError.call(e,l.ERRORS.IMAGE_FAILED_TO_LOAD):e.loadFile(t.target.response)},n.open("GET",t),n.responseType="blob",n.send()}}},{key:"onPreImageLoaded",value:function(){if(this.shouldRejectImage({imageWidth:this.preImage.width,imageHeight:this.preImage.height,previewSize:this.previewSize,maxZoom:this.options.maxZoom,exportZoom:this.options.exportZoom,smallImage:this.options.smallImage}))return this.onImageError(l.ERRORS.SMALL_IMAGE),void(this.image.src&&this.setImageLoadedClass());this.image.src=this.preImage.src}},{key:"onImageLoaded",value:function(){this.rotation=0,this.setupZoomer(this.options.imageState&&this.options.imageState.zoom||this._initialZoom),this.options.imageState&&this.options.imageState.offset?this.offset=this.options.imageState.offset:this.centerImage(),this.options.imageState={},this.$image.attr("src",this.image.src),this.options.imageBackground&&this.$bg.attr("src",this.image.src),this.setImageLoadedClass(),this.imageLoaded=!0,this.options.onImageLoaded()}},{key:"onImageError",value:function(){this.options.onImageError.apply(this,arguments),this.removeImageLoadingClass()}},{key:"setImageLoadingClass",value:function(){this.$preview.removeClass(l.CLASS_NAMES.IMAGE_LOADED).addClass(l.CLASS_NAMES.IMAGE_LOADING)}},{key:"setImageLoadedClass",value:function(){this.$preview.removeClass(l.CLASS_NAMES.IMAGE_LOADING).addClass(l.CLASS_NAMES.IMAGE_LOADED)}},{key:"removeImageLoadingClass",value:function(){this.$preview.removeClass(l.CLASS_NAMES.IMAGE_LOADING)}},{key:"getEventPosition",value:function(t){if(t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0]&&(t=t.originalEvent.touches[0]),t.clientX&&t.clientY)return{x:t.clientX,y:t.clientY}}},{key:"onPreviewEvent",value:function(t){if(this.imageLoaded)return this.moveContinue=!1,this.$imageContainer.off(l.EVENTS.PREVIEW_MOVE),"mousedown"===t.type||"touchstart"===t.type?(this.origin=this.getEventPosition(t),this.moveContinue=!0,this.$imageContainer.on(l.EVENTS.PREVIEW_MOVE,this.onMove.bind(this))):(0,a.default)(document.body).focus(),t.stopPropagation(),!1}},{key:"onMove",value:function(t){var e=this.getEventPosition(t);return this.moveContinue&&e&&(this.offset={x:this.offset.x+e.x-this.origin.x,y:this.offset.y+e.y-this.origin.y}),this.origin=e,t.stopPropagation(),!1}},{key:"fixOffset",value:function(t){if(!this.imageLoaded)return t;var e={x:t.x,y:t.y};return this.options.freeMove||(this.imageWidth*this.zoom>=this.previewSize.width?e.x=Math.min(0,Math.max(e.x,this.previewSize.width-this.imageWidth*this.zoom)):e.x=Math.max(0,Math.min(e.x,this.previewSize.width-this.imageWidth*this.zoom)),this.imageHeight*this.zoom>=this.previewSize.height?e.y=Math.min(0,Math.max(e.y,this.previewSize.height-this.imageHeight*this.zoom)):e.y=Math.max(0,Math.min(e.y,this.previewSize.height-this.imageHeight*this.zoom))),e.x=(0,u.round)(e.x),e.y=(0,u.round)(e.y),e}},{key:"centerImage",value:function(){this.image.width&&this.image.height&&this.zoom&&(this.offset={x:(this.previewSize.width-this.imageWidth*this.zoom)/2,y:(this.previewSize.height-this.imageHeight*this.zoom)/2})}},{key:"onZoomSliderChange",value:function(){if(this.imageLoaded){this.zoomSliderPos=Number(this.$zoomSlider.val());var t=this.zoomer.getZoom(this.zoomSliderPos);t!==this.zoom&&(this.zoom=t)}}},{key:"enableZoomSlider",value:function(){this.$zoomSlider.removeAttr("disabled"),this.options.onZoomEnabled()}},{key:"disableZoomSlider",value:function(){this.$zoomSlider.attr("disabled",!0),this.options.onZoomDisabled()}},{key:"setupZoomer",value:function(t){this.zoomer.setup({imageSize:this.imageSize,previewSize:this.previewSize,exportZoom:this.options.exportZoom,maxZoom:this.options.maxZoom,minZoom:this.options.minZoom,smallImage:this.options.smallImage}),this.zoom=(0,u.exists)(t)?t:this._zoom,this.isZoomable()?this.enableZoomSlider():this.disableZoomSlider()}},{key:"fixZoom",value:function(t){return this.zoomer.fixZoom(t)}},{key:"isZoomable",value:function(){return this.zoomer.isZoomable()}},{key:"renderImage",value:function(){var t="\n      translate("+this.rotatedOffset.x+"px, "+this.rotatedOffset.y+"px)\n      scale("+this.zoom+")\n      rotate("+this.rotation+"deg)";this.$image.css({transform:t,webkitTransform:t}),this.options.imageBackground&&this.$bg.css({transform:t,webkitTransform:t})}},{key:"rotateCW",value:function(){this.shouldRejectImage({imageWidth:this.image.height,imageHeight:this.image.width,previewSize:this.previewSize,maxZoom:this.options.maxZoom,exportZoom:this.options.exportZoom,smallImage:this.options.smallImage})?this.rotation=(this.rotation+180)%360:this.rotation=(this.rotation+90)%360}},{key:"rotateCCW",value:function(){this.shouldRejectImage({imageWidth:this.image.height,imageHeight:this.image.width,previewSize:this.previewSize,maxZoom:this.options.maxZoom,exportZoom:this.options.exportZoom,smallImage:this.options.smallImage})?this.rotation=(this.rotation+180)%360:this.rotation=(this.rotation+270)%360}},{key:"shouldRejectImage",value:function(t){var e=t.imageWidth,n=t.imageHeight,i=t.previewSize,o=t.maxZoom,r=t.exportZoom;return"reject"===t.smallImage&&(e*o<i.width*r||n*o<i.height*r)}},{key:"getCroppedImageData",value:function(t){if(this.image.src){var e=(t=a.default.extend({},{type:"image/png",quality:.75,originalSize:!1,fillBg:"#fff"},t)).originalSize?1/this.zoom:this.options.exportZoom,n={width:this.zoom*e*this.image.width,height:this.zoom*e*this.image.height},i=(0,a.default)("<canvas />").attr({width:this.previewSize.width*e,height:this.previewSize.height*e}).get(0),o=i.getContext("2d");return"image/jpeg"===t.type&&(o.fillStyle=t.fillBg,o.fillRect(0,0,i.width,i.height)),o.translate(this.rotatedOffset.x*e,this.rotatedOffset.y*e),o.rotate(this.rotation*Math.PI/180),o.drawImage(this.image,0,0,n.width,n.height),i.toDataURL(t.type,t.quality)}}},{key:"disable",value:function(){this.unbindListeners(),this.disableZoomSlider(),this.$el.addClass(l.CLASS_NAMES.DISABLED)}},{key:"reenable",value:function(){this.bindListeners(),this.enableZoomSlider(),this.$el.removeClass(l.CLASS_NAMES.DISABLED)}},{key:"$",value:function(t){return this.$el?this.$el.find(t):null}},{key:"offset",set:function(t){t&&(0,u.exists)(t.x)&&(0,u.exists)(t.y)&&(this._offset=this.fixOffset(t),this.renderImage(),this.options.onOffsetChange(t))},get:function(){return this._offset}},{key:"zoom",set:function(t){if(t=this.fixZoom(t),this.imageLoaded){var e=this.zoom,n=this.previewSize.width/2-(this.previewSize.width/2-this.offset.x)*t/e,i=this.previewSize.height/2-(this.previewSize.height/2-this.offset.y)*t/e;this._zoom=t,this.offset={x:n,y:i}}else this._zoom=t;this.zoomSliderPos=this.zoomer.getSliderPos(this.zoom),this.$zoomSlider.val(this.zoomSliderPos),this.options.onZoomChange(t)},get:function(){return this._zoom}},{key:"rotatedOffset",get:function(){return{x:this.offset.x+(90===this.rotation?this.image.height*this.zoom:0)+(180===this.rotation?this.image.width*this.zoom:0),y:this.offset.y+(180===this.rotation?this.image.height*this.zoom:0)+(270===this.rotation?this.image.width*this.zoom:0)}}},{key:"rotation",set:function(t){this._rotation=t,this.imageLoaded&&this.setupZoomer()},get:function(){return this._rotation}},{key:"imageState",get:function(){return{src:this.image.src,offset:this.offset,zoom:this.zoom}}},{key:"imageSrc",get:function(){return this.image.src},set:function(t){this.loadImage(t)}},{key:"imageWidth",get:function(){return this.rotation%180==0?this.image.width:this.image.height}},{key:"imageHeight",get:function(){return this.rotation%180==0?this.image.height:this.image.width}},{key:"imageSize",get:function(){return{width:this.imageWidth,height:this.imageHeight}}},{key:"initialZoom",get:function(){return this.options.initialZoom},set:function(t){this.options.initialZoom=t,this._initialZoom="min"===t?0:"image"===t?1:0}},{key:"exportZoom",get:function(){return this.options.exportZoom},set:function(t){this.options.exportZoom=t,this.setupZoomer()}},{key:"minZoom",get:function(){return this.options.minZoom},set:function(t){this.options.minZoom=t,this.setupZoomer()}},{key:"maxZoom",get:function(){return this.options.maxZoom},set:function(t){this.options.maxZoom=t,this.setupZoomer()}},{key:"previewSize",get:function(){return this._previewSize},set:function(t){!t||t.width<=0||t.height<=0||(this._previewSize={width:t.width,height:t.height},this.$preview.innerWidth(this.previewSize.width).innerHeight(this.previewSize.height),this.imageLoaded&&this.setupZoomer())}}]),h);function h(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),this.$el=(0,a.default)(e);var i=(0,c.loadDefaults)(this.$el);this.options=a.default.extend({},i,n),this.init()}e.default=d,t.exports=e.default},function(t,e){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0});var n=(function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(o,[{key:"setup",value:function(t){var e=t.imageSize,n=t.previewSize,i=t.exportZoom,o=t.maxZoom,r=t.minZoom,a=t.smallImage,s=n.width/e.width,l=n.height/e.height;this.minZoom="fit"===r?Math.min(s,l):Math.max(s,l),"allow"===a&&(this.minZoom=Math.min(this.minZoom,1)),this.maxZoom=Math.max(this.minZoom,o/i)}},{key:"getZoom",value:function(t){return this.minZoom&&this.maxZoom?t*(this.maxZoom-this.minZoom)+this.minZoom:null}},{key:"getSliderPos",value:function(t){return this.minZoom&&this.maxZoom?this.minZoom===this.maxZoom?0:(t-this.minZoom)/(this.maxZoom-this.minZoom):null}},{key:"isZoomable",value:function(){return this.minZoom&&this.maxZoom?this.minZoom!==this.maxZoom:null}},{key:"fixZoom",value:function(t){return Math.max(this.minZoom,Math.min(this.maxZoom,t))}}]),o);function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.minZoom=this.maxZoom=1}e.default=n,t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.PLUGIN_KEY="cropit";e.CLASS_NAMES={PREVIEW:"cropit-preview",PREVIEW_IMAGE_CONTAINER:"cropit-preview-image-container",PREVIEW_IMAGE:"cropit-preview-image",PREVIEW_BACKGROUND_CONTAINER:"cropit-preview-background-container",PREVIEW_BACKGROUND:"cropit-preview-background",FILE_INPUT:"cropit-image-input",ZOOM_SLIDER:"cropit-image-zoom-input",DRAG_HOVERED:"cropit-drag-hovered",IMAGE_LOADING:"cropit-image-loading",IMAGE_LOADED:"cropit-image-loaded",DISABLED:"cropit-disabled"};e.ERRORS={IMAGE_FAILED_TO_LOAD:{code:0,message:"Image failed to load."},SMALL_IMAGE:{code:1,message:"Image is too small."}};function n(t){return t.map(function(t){return t+".cropit"}).join(" ")}var i={PREVIEW:n(["mousedown","mouseup","mouseleave","touchstart","touchend","touchcancel","touchleave"]),PREVIEW_MOVE:n(["mousemove","touchmove"]),ZOOM_INPUT:n(["mousemove","touchmove","change"])};e.EVENTS=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o={elements:[{name:"$preview",description:"The HTML element that displays image preview.",defaultSelector:"."+i.CLASS_NAMES.PREVIEW},{name:"$fileInput",description:"File input element.",defaultSelector:"input."+i.CLASS_NAMES.FILE_INPUT},{name:"$zoomSlider",description:"Range input element that controls image zoom.",defaultSelector:"input."+i.CLASS_NAMES.ZOOM_SLIDER}].map(function(t){return t.type="jQuery element",t.default="$imageCropper.find('"+t.defaultSelector+"')",t}),values:[{name:"width",type:"number",description:"Width of image preview in pixels. If set, it will override the CSS property.",default:null},{name:"height",type:"number",description:"Height of image preview in pixels. If set, it will override the CSS property.",default:null},{name:"imageBackground",type:"boolean",description:"Whether or not to display the background image beyond the preview area.",default:!1},{name:"imageBackgroundBorderWidth",type:"array or number",description:"Width of background image border in pixels.\n        The four array elements specify the width of background image width on the top, right, bottom, left side respectively.\n        The background image beyond the width will be hidden.\n        If specified as a number, border with uniform width on all sides will be applied.",default:[0,0,0,0]},{name:"exportZoom",type:"number",description:"The ratio between the desired image size to export and the preview size.\n        For example, if the preview size is `300px * 200px`, and `exportZoom = 2`, then\n        the exported image size will be `600px * 400px`.\n        This also affects the maximum zoom level, since the exported image cannot be zoomed to larger than its original size.",default:1},{name:"allowDragNDrop",type:"boolean",description:"When set to true, you can load an image by dragging it from local file browser onto the preview area.",default:!0},{name:"minZoom",type:"string",description:"This options decides the minimal zoom level of the image.\n        If set to `'fill'`, the image has to fill the preview area, i.e. both width and height must not go smaller than the preview area.\n        If set to `'fit'`, the image can shrink further to fit the preview area, i.e. at least one of its edges must not go smaller than the preview area.",default:"fill"},{name:"maxZoom",type:"number",description:"Determines how big the image can be zoomed. E.g. if set to 1.5, the image can be zoomed to 150% of its original size.",default:1},{name:"initialZoom",type:"string",description:"Determines the zoom when an image is loaded.\n        When set to `'min'`, image is zoomed to the smallest when loaded.\n        When set to `'image'`, image is zoomed to 100% when loaded.",default:"min"},{name:"freeMove",type:"boolean",description:"When set to true, you can freely move the image instead of being bound to the container borders",default:!1},{name:"smallImage",type:"string",description:"When set to `'reject'`, `onImageError` would be called when cropit loads an image that is smaller than the container.\n        When set to `'allow'`, images smaller than the container can be zoomed down to its original size, overiding `minZoom` option.\n        When set to `'stretch'`, the minimum zoom of small images would follow `minZoom` option.",default:"reject"}],callbacks:[{name:"onFileChange",description:"Called when user selects a file in the select file input.",params:[{name:"event",type:"object",description:"File change event object"}]},{name:"onFileReaderError",description:"Called when `FileReader` encounters an error while loading the image file."},{name:"onImageLoading",description:"Called when image starts to be loaded."},{name:"onImageLoaded",description:"Called when image is loaded."},{name:"onImageError",description:"Called when image cannot be loaded.",params:[{name:"error",type:"object",description:"Error object."},{name:"error.code",type:"number",description:"Error code. `0` means generic image loading failure. `1` means image is too small."},{name:"error.message",type:"string",description:"A message explaining the error."}]},{name:"onZoomEnabled",description:"Called when image the zoom slider is enabled."},{name:"onZoomDisabled",description:"Called when image the zoom slider is disabled."},{name:"onZoomChange",description:"Called when zoom changes.",params:[{name:"zoom",type:"number",description:"New zoom."}]},{name:"onOffsetChange",description:"Called when image offset changes.",params:[{name:"offset",type:"object",description:"New offset, with `x` and `y` values."}]}].map(function(t){return t.type="function",t})};e.loadDefaults=function(e){var n={};return e&&o.elements.forEach(function(t){n[t.name]=e.find(t.defaultSelector)}),o.values.forEach(function(t){n[t.name]=t.default}),o.callbacks.forEach(function(t){n[t.name]=function(){}}),n},e.default=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.exists=function(t){return void 0!==t};e.round=function(t){return+(Math.round(100*t)+"e-2")}}],i.c=r,i.p="",i(0);function i(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return o[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}var o,r}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Noty",[],e):"object"==typeof exports?exports.Noty=e():t.Noty=e()}(this,function(){return rVe={},sVe.m=qVe=[function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.css=e.deepExtend=e.animationEndEvents=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.inArray=function(t,e,n){var i=void 0;if(n){for(i in e)if(e.hasOwnProperty(i)&&e[i]===t)return!0}else for(i in e)if(e.hasOwnProperty(i)&&e[i]===t)return!0;return!1},e.stopPropagation=function(t){void 0!==(t=t||window.event).stopPropagation?t.stopPropagation():t.cancelBubble=!0},e.generateID=function(){var t="noty_"+(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")+"_";return t+="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},e.outerHeight=function(t){var e=t.offsetHeight,n=window.getComputedStyle(t);return e+=parseInt(n.marginTop)+parseInt(n.marginBottom)},e.addListener=c,e.hasClass=u,e.addClass=function(t,e){var n=h(t),i=n+e;if(u(n,e))return;t.className=i.substring(1)},e.removeClass=function(t,e){var n=h(t),i=void 0;if(!u(t,e))return;i=n.replace(" "+e+" "," "),t.className=i.substring(1,i.length-1)},e.remove=d,e.classList=h,e.visibilityChangeFlow=function(){var t=void 0,e=void 0;void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.msHidden?(t="msHidden",e="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange");function n(){i.PageHidden?setTimeout(function(){Object.keys(i.Store).forEach(function(t){i.Store.hasOwnProperty(t)&&i.Store[t].options.visibilityControl&&i.Store[t].stop()})},100):setTimeout(function(){Object.keys(i.Store).forEach(function(t){i.Store.hasOwnProperty(t)&&i.Store[t].options.visibilityControl&&i.Store[t].resume()}),i.queueRenderAll()},100)}e&&c(document,e,function(){i.PageHidden=document[t],n()});c(window,"blur",function(){i.PageHidden=!0,n()}),c(window,"focus",function(){i.PageHidden=!1,n()})},e.createAudioElements=function(t){if(t.hasSound){var n=document.createElement("audio");t.options.sounds.sources.forEach(function(t){var e=document.createElement("source");e.src=t,e.type="audio/"+function(t){return t.match(/\.([^.]+)$/)[1]}(t),n.appendChild(e)}),t.barDom?t.barDom.appendChild(n):document.querySelector("body").appendChild(n),n.volume=t.options.sounds.volume,t.soundPlayed||(n.play(),t.soundPlayed=!0),n.onended=function(){d(n)}}};var i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(1));e.animationEndEvents="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";e.deepExtend=function t(e){e=e||{};for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var o in i)i.hasOwnProperty(o)&&(Array.isArray(i[o])?e[o]=i[o]:"object"===r(i[o])&&null!==i[o]?e[o]=t(e[o],i[o]):e[o]=i[o])}return e};var a,o;e.css=(a=["Webkit","O","Moz","ms"],o={},function(t,e){var n=arguments,i=void 0,o=void 0;if(2===n.length)for(i in e)e.hasOwnProperty(i)&&void 0!==(o=e[i])&&e.hasOwnProperty(i)&&l(t,i,o);else l(t,n[1],n[2])});function s(t){return t=function(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}(t),o[t]||(o[t]=function(t){var e=document.body.style;if(t in e)return t;for(var n=a.length,i=t.charAt(0).toUpperCase()+t.slice(1),o=void 0;n--;)if((o=a[n]+i)in e)return o;return t}(t))}function l(t,e,n){e=s(e),t.style[e]=n}function c(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];e=e.split(" ");for(var o=0;o<e.length;o++)document.addEventListener?t.addEventListener(e[o],n,i):document.attachEvent&&t.attachEvent("on"+e[o],n)}function u(t,e){return 0<=("string"==typeof t?t:h(t)).indexOf(" "+e+" ")}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t){return(" "+(t&&t.className||"")+" ").replace(/\s+/gi," ")}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Defaults=n.Store=n.Queues=n.DefaultMaxVisible=n.docTitle=n.DocModalCount=n.PageHidden=void 0,n.getQueueCounts=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"global",n=0,t=s;l.hasOwnProperty(e)&&(t=l[e].maxVisible,Object.keys(c).forEach(function(t){c[t].options.queue!==e||c[t].closed||n++}));return{current:n,maxVisible:t}},n.addToQueue=function(t){l.hasOwnProperty(t.options.queue)||(l[t.options.queue]={maxVisible:s,queue:[]});l[t.options.queue].queue.push(t)},n.removeFromQueue=function(e){if(l.hasOwnProperty(e.options.queue)){var n=[];Object.keys(l[e.options.queue].queue).forEach(function(t){l[e.options.queue].queue[t].id!==e.id&&n.push(l[e.options.queue].queue[t])}),l[e.options.queue].queue=n}},n.queueRender=u,n.queueRenderAll=function(){Object.keys(l).forEach(function(t){u(t)})},n.ghostFix=function(t){var e=i.generateID("ghost"),n=document.createElement("div");n.setAttribute("id",e),i.css(n,{height:i.outerHeight(t.barDom)+"px"}),t.barDom.insertAdjacentHTML("afterend",n.outerHTML),i.remove(t.barDom),n=document.getElementById(e),i.addClass(n,"noty_fix_effects_height"),i.addListener(n,i.animationEndEvents,function(){i.remove(n)})},n.build=function(t){!function(t){if(t.options.container)return t.layoutDom=document.querySelector(t.options.container);var e="noty_layout__"+t.options.layout;t.layoutDom=document.querySelector("div#"+e),t.layoutDom||(t.layoutDom=document.createElement("div"),t.layoutDom.setAttribute("id",e),t.layoutDom.setAttribute("role","alert"),t.layoutDom.setAttribute("aria-live","polite"),i.addClass(t.layoutDom,"noty_layout"),document.querySelector("body").appendChild(t.layoutDom))}(t);var e='<div class="noty_body">'+t.options.text+"</div>"+function(e){if(d(e)){var n=document.createElement("div");return i.addClass(n,"noty_buttons"),Object.keys(e.options.buttons).forEach(function(t){n.appendChild(e.options.buttons[t].dom)}),e.options.buttons.forEach(function(t){n.appendChild(t.dom)}),n.outerHTML}return""}(t)+'<div class="noty_progressbar"></div>';t.barDom=document.createElement("div"),t.barDom.setAttribute("id",t.id),i.addClass(t.barDom,"noty_bar noty_type__"+t.options.type+" noty_theme__"+t.options.theme),t.barDom.innerHTML=e,p(t,"onTemplate")},n.hasButtons=d,n.handleModal=function(t){t.options.modal&&(0===o&&function(){var t=document.querySelector("body"),e=document.createElement("div");i.addClass(e,"noty_modal"),t.insertBefore(e,t.firstChild),i.addClass(e,"noty_modal_open"),i.addListener(e,i.animationEndEvents,function(){i.removeClass(e,"noty_modal_open")})}(),n.DocModalCount=o+=1)},n.handleModalClose=function(t){if(t.options.modal&&0<o&&(n.DocModalCount=o-=1,o<=0)){var e=document.querySelector(".noty_modal");e&&(i.removeClass(e,"noty_modal_open"),i.addClass(e,"noty_modal_close"),i.addListener(e,i.animationEndEvents,function(){i.remove(e)}))}},n.queueClose=h,n.dequeueClose=f,n.fire=p,n.openFlow=function(t){p(t,"afterShow"),h(t),i.addListener(t.barDom,"mouseenter",function(){f(t)}),i.addListener(t.barDom,"mouseleave",function(){h(t)})},n.closeFlow=function(t){delete c[t.id],t.closing=!1,p(t,"afterClose"),i.remove(t.barDom),0!==t.layoutDom.querySelectorAll(".noty_bar").length||t.options.container||i.remove(t.layoutDom);(i.inArray("docVisible",t.options.titleCount.conditions)||i.inArray("docHidden",t.options.titleCount.conditions))&&a.decrement();u(t.options.queue)};var i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(e(0));n.PageHidden=!1;var o=n.DocModalCount=0,r={originalTitle:null,count:0,changed:!1,timer:-1},a=n.docTitle={increment:function(){r.count++,a._update()},decrement:function(){r.count--,r.count<=0?a._clear():a._update()},_update:function(){var t=document.title;r.changed?document.title="("+r.count+") "+r.originalTitle:(r.originalTitle=t,document.title="("+r.count+") "+t,r.changed=!0)},_clear:function(){r.changed&&(r.count=0,document.title=r.originalTitle,r.changed=!1)}},s=n.DefaultMaxVisible=5,l=n.Queues={global:{maxVisible:s,queue:[]}},c=n.Store={};n.Defaults={type:"alert",layout:"topRight",theme:"mint",text:"",timeout:!1,progressBar:!0,closeWith:["click"],animation:{open:"noty_effects_open",close:"noty_effects_close"},id:!1,force:!1,killer:!1,queue:"global",container:!1,buttons:[],callbacks:{beforeShow:null,onShow:null,afterShow:null,onClose:null,afterClose:null,onClick:null,onHover:null,onTemplate:null},sounds:{sources:[],volume:1,conditions:[]},titleCount:{conditions:[]},modal:!1,visibilityControl:!1};function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"global";if(l.hasOwnProperty(t)){var e=l[t].queue.shift();e&&e.show()}}function d(t){return!(!t.options.buttons||!Object.keys(t.options.buttons).length)}function h(t){t.options.timeout&&(t.options.progressBar&&t.progressDom&&i.css(t.progressDom,{transition:"width "+t.options.timeout+"ms linear",width:"0%"}),clearTimeout(t.closeTimer),t.closeTimer=setTimeout(function(){t.close()},t.options.timeout))}function f(t){t.options.timeout&&t.closeTimer&&(clearTimeout(t.closeTimer),t.closeTimer=-1,t.options.progressBar&&t.progressDom&&i.css(t.progressDom,{transition:"width 0ms linear",width:"100%"}))}function p(e,t){e.listeners.hasOwnProperty(t)&&e.listeners[t].forEach(function(t){"function"==typeof t&&t.apply(e)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotyButton=void 0;var a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(0));e.NotyButton=function t(e,n,i){var o=this,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dom=document.createElement("button"),this.dom.innerHTML=e,this.id=r.id=r.id||a.generateID("button"),this.cb=i,Object.keys(r).forEach(function(t){o.dom.setAttribute(t,r[t])}),a.addClass(this.dom,n||"noty_btn"),this}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.Push=(i(r,[{key:"on",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:function(){};return"function"==typeof n&&this.listeners.hasOwnProperty(t)&&this.listeners[t].push(n),this}},{key:"fire",value:function(t,e){var n=this,i=1<arguments.length&&void 0!==e?e:[];this.listeners.hasOwnProperty(t)&&this.listeners[t].forEach(function(t){"function"==typeof t&&t.apply(n,i)})}},{key:"create",value:function(){console.log("NOT IMPLEMENTED YET")}},{key:"isSupported",value:function(){var t=!1;try{t=window.Notification||window.webkitNotifications||navigator.mozNotification||window.external&&void 0!==window.external.msIsSiteMode()}catch(t){}return t}},{key:"getPermissionStatus",value:function(){var t="default";if(window.Notification&&window.Notification.permissionLevel)t=window.Notification.permissionLevel;else if(window.webkitNotifications&&window.webkitNotifications.checkPermission)switch(window.webkitNotifications.checkPermission()){case 1:t="default";break;case 0:t="granted";break;default:t="denied"}else window.Notification&&window.Notification.permission?t=window.Notification.permission:navigator.mozNotification?t="granted":window.external&&void 0!==window.external.msIsSiteMode()&&(t=window.external.msIsSiteMode()?"granted":"default");return t.toString().toLowerCase()}},{key:"getEndpoint",value:function(t){var e=t.endpoint,n=t.subscriptionId;return n&&-1===e.indexOf(n)&&(e+="/"+n),e}},{key:"isSWRegistered",value:function(){try{return"activated"===navigator.serviceWorker.controller.state}catch(t){return!1}}},{key:"unregisterWorker",value:function(){var a=this;"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(t){var e=!0,n=!1,i=void 0;try{for(var o,r=t[Symbol.iterator]();!(e=(o=r.next()).done);e=!0)o.value.unregister(),a.fire("onSubscriptionCancel")}catch(t){n=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}})}},{key:"requestSubscription",value:function(t){function e(t){"granted"===t?(n.fire("onPermissionGranted"),"serviceWorker"in navigator?navigator.serviceWorker.register(n.workerPath).then(function(){navigator.serviceWorker.ready.then(function(t){o.fire("onWorkerSuccess"),t.pushManager.subscribe({userVisibleOnly:i}).then(function(t){var e=t.getKey("p256dh"),n=t.getKey("auth");o.subData={endpoint:o.getEndpoint(t),p256dh:e?window.btoa(String.fromCharCode.apply(null,new Uint8Array(e))):null,auth:n?window.btoa(String.fromCharCode.apply(null,new Uint8Array(n))):null},o.fire("onSubscriptionSuccess",[o.subData])}).catch(function(t){o.fire("onWorkerError",[t])})})}):o.fire("onWorkerNotSupported")):"denied"===t&&(n.fire("onPermissionDenied"),n.unregisterWorker())}var n=this,i=!(0<arguments.length&&void 0!==t)||t,o=this,r=this.getPermissionStatus();"default"===r?window.Notification&&window.Notification.requestPermission?window.Notification.requestPermission(e):window.webkitNotifications&&window.webkitNotifications.checkPermission&&window.webkitNotifications.requestPermission(e):e(r)}}]),r);function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"/service-worker.js";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.subData={},this.workerPath=t,this.listeners={onPermissionGranted:[],onPermissionDenied:[],onSubscriptionSuccess:[],onSubscriptionCancel:[],onWorkerError:[],onWorkerSuccess:[],onWorkerNotSupported:[]},this}},function(e,t,V){(function(z,j){var t;t=function(){"use strict";function c(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,e=void 0,o=void 0,s=function(t,e){h[i]=t,h[i+1]=e,2===(i+=2)&&(o?o(f):y())};var t="undefined"!=typeof window?window:void 0,r=t||{},a=r.MutationObserver||r.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==z&&"[object process]"==={}.toString.call(z),u="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(f,1)}}var h=new Array(1e3);function f(){for(var t=0;t<i;t+=2){(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0}i=0}var p,g,m,v,y=void 0;function b(t,e){var n=arguments,i=this,o=new this.constructor(w);void 0===o[E]&&B(o);var r,a=i._state;return a?(r=n[a-1],s(function(){return L(a,o,r,i._result)})):M(i,o,t,e),o}function _(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(w);return k(e,t),e}y=l?function(){return z.nextTick(f)}:a?(g=0,m=new a(f),v=document.createTextNode(""),m.observe(v,{characterData:!0}),function(){v.data=g=++g%2}):u?((p=new MessageChannel).port1.onmessage=f,function(){return p.port2.postMessage(0)}):void 0===t?function(){try{var t=V(9);return void 0!==(e=t.runOnLoop||t.runOnContext)?function(){e(f)}:d()}catch(t){return d()}}():d();var E=Math.random().toString(36).substring(16);function w(){}var T=void 0,C=1,x=2,D=new K;function O(t){try{return t.then}catch(t){return D.error=t,D}}function I(t,e,n){e.constructor===t.constructor&&n===b&&e.constructor.resolve===_?function(e,t){t._state===C?R(e,t._result):t._state===x?A(e,t._result):M(t,void 0,function(t){return k(e,t)},function(t){return A(e,t)})}(t,e):n===D?(A(t,D.error),D.error=null):void 0===n?R(t,e):c(n)?function(t,i,o){s(function(e){var n=!1,t=function(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}(o,i,function(t){n||(n=!0,i!==t?k(e,t):R(e,t))},function(t){n||(n=!0,A(e,t))},e._label);!n&&t&&(n=!0,A(e,t))},t)}(t,e,n):R(t,e)}function k(t,e){t===e?A(t,new TypeError("You cannot resolve a promise with itself")):!function(t){var e=typeof t;return null!==t&&("object"==e||"function"==e)}(e)?R(t,e):I(t,e,O(e))}function S(t){t._onerror&&t._onerror(t._result),N(t)}function R(t,e){t._state===T&&(t._result=e,t._state=C,0!==t._subscribers.length&&s(N,t))}function A(t,e){t._state===T&&(t._state=x,t._result=e,s(S,t))}function M(t,e,n,i){var o=t._subscribers,r=o.length;t._onerror=null,o[r]=e,o[r+C]=n,o[r+x]=i,0===r&&t._state&&s(N,t)}function N(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,o=void 0,r=t._result,a=0;a<e.length;a+=3)i=e[a],o=e[a+n],i?L(n,i,o,r):o(r);t._subscribers.length=0}}function K(){this.error=null}var P=new K;function L(t,e,n,i){var o=c(n),r=void 0,a=void 0,s=void 0,l=void 0;if(o){if((r=function(t,e){try{return t(e)}catch(t){return P.error=t,P}}(n,i))===P?(l=!0,a=r.error,r.error=null):s=!0,e===r)return void A(e,new TypeError("A promises callback cannot return that same promise."))}else r=i,s=!0;e._state!==T||(o&&s?k(e,r):l?A(e,a):t===C?R(e,r):t===x&&A(e,r))}var F=0;function B(t){t[E]=F++,t._state=void 0,t._result=void 0,t._subscribers=[]}function $(t,e){this._instanceConstructor=t,this.promise=new t(w),this.promise[E]||B(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&R(this.promise,this._result))):A(this.promise,new Error("Array Methods must be provided an Array"))}function H(t){this[E]=F++,this._result=this._state=void 0,this._subscribers=[],w!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof H?function(e,t){try{t(function(t){k(e,t)},function(t){A(e,t)})}catch(t){A(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return $.prototype._enumerate=function(t){for(var e=0;this._state===T&&e<t.length;e++)this._eachEntry(t[e],e)},$.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===_){var o=O(e);if(o===b&&e._state!==T)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===H){var r=new n(w);I(r,e,o),this._willSettleAt(r,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},$.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===T&&(this._remaining--,t===x?A(i,n):this._result[e]=n),0===this._remaining&&R(i,this._result)},$.prototype._willSettleAt=function(t,e){var n=this;M(t,void 0,function(t){return n._settledAt(C,e,t)},function(t){return n._settledAt(x,e,t)})},H.all=function(t){return new $(this,t).promise},H.race=function(o){var r=this;return n(o)?new r(function(t,e){for(var n=o.length,i=0;i<n;i++)r.resolve(o[i]).then(t,e)}):new r(function(t,e){return e(new TypeError("You must pass an array to race."))})},H.resolve=_,H.reject=function(t){var e=new this(w);return A(e,t),e},H._setScheduler=function(t){o=t},H._setAsap=function(t){s=t},H._asap=s,H.prototype={constructor:H,then:b,catch:function(t){return this.then(null,t)}},H.polyfill=function(){var t=void 0;if(void 0!==j)t=j;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=H},H.Promise=H},e.exports=t()}).call(t,V(7),V(8))},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n(5);var r,a=n(4),s=(r=a)&&r.__esModule?r:{default:r},l=h(n(0)),c=h(n(1)),u=n(2),d=n(3);function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var f,p=(i(g,[{key:"on",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:function(){};return"function"==typeof n&&this.listeners.hasOwnProperty(t)&&this.listeners[t].push(n),this}},{key:"show",value:function(){var n=this;if(this.showing||this.shown)return this;!0===this.options.killer?g.closeAll():"string"==typeof this.options.killer&&g.closeAll(this.options.killer);var t=c.getQueueCounts(this.options.queue);if(t.current>=t.maxVisible||c.PageHidden&&this.options.visibilityControl)return c.addToQueue(this),c.PageHidden&&this.hasSound&&l.inArray("docHidden",this.options.sounds.conditions)&&l.createAudioElements(this),c.PageHidden&&l.inArray("docHidden",this.options.titleCount.conditions)&&c.docTitle.increment(),this;if(c.Store[this.id]=this,c.fire(this,"beforeShow"),this.showing=!0,this.closing)return this.showing=!1,this;if(c.build(this),c.handleModal(this),this.options.force?this.layoutDom.insertBefore(this.barDom,this.layoutDom.firstChild):this.layoutDom.appendChild(this.barDom),this.hasSound&&!this.soundPlayed&&l.inArray("docVisible",this.options.sounds.conditions)&&l.createAudioElements(this),l.inArray("docVisible",this.options.titleCount.conditions)&&c.docTitle.increment(),this.shown=!0,this.closed=!1,c.hasButtons(this)&&Object.keys(this.options.buttons).forEach(function(e){var t=n.barDom.querySelector("#"+n.options.buttons[e].id);l.addListener(t,"click",function(t){l.stopPropagation(t),n.options.buttons[e].cb(n)})}),this.progressDom=this.barDom.querySelector(".noty_progressbar"),l.inArray("click",this.options.closeWith)&&(l.addClass(this.barDom,"noty_close_with_click"),l.addListener(this.barDom,"click",function(t){l.stopPropagation(t),c.fire(n,"onClick"),n.close()},!1)),l.addListener(this.barDom,"mouseenter",function(){c.fire(n,"onHover")},!1),this.options.timeout&&l.addClass(this.barDom,"noty_has_timeout"),this.options.progressBar&&l.addClass(this.barDom,"noty_has_progressbar"),l.inArray("button",this.options.closeWith)){l.addClass(this.barDom,"noty_close_with_button");var e=document.createElement("div");l.addClass(e,"noty_close_button"),e.innerHTML="",this.barDom.appendChild(e),l.addListener(e,"click",function(t){l.stopPropagation(t),n.close()},!1)}return c.fire(this,"onShow"),null===this.options.animation.open?this.promises.show=new s.default(function(t){t()}):"function"==typeof this.options.animation.open?this.promises.show=new s.default(this.options.animation.open.bind(this)):(l.addClass(this.barDom,this.options.animation.open),this.promises.show=new s.default(function(t){l.addListener(n.barDom,l.animationEndEvents,function(){l.removeClass(n.barDom,n.options.animation.open),t()})})),this.promises.show.then(function(){var t=n;setTimeout(function(){c.openFlow(t)},100)}),this}},{key:"stop",value:function(){return c.dequeueClose(this),this}},{key:"resume",value:function(){return c.queueClose(this),this}},{key:"setTimeout",value:(f=function(t){if(this.stop(),this.options.timeout=t,this.barDom){this.options.timeout?l.addClass(this.barDom,"noty_has_timeout"):l.removeClass(this.barDom,"noty_has_timeout");var e=this;setTimeout(function(){e.resume()},100)}return this},m.toString=function(){return f.toString()},m)},{key:"setText",value:function(t,e){var n=1<arguments.length&&void 0!==e&&e;return this.barDom&&(this.barDom.querySelector(".noty_body").innerHTML=t),n&&(this.options.text=t),this}},{key:"setType",value:function(t,e){var n=this,i=1<arguments.length&&void 0!==e&&e;return this.barDom&&(l.classList(this.barDom).split(" ").forEach(function(t){"noty_type__"===t.substring(0,11)&&l.removeClass(n.barDom,t)}),l.addClass(this.barDom,"noty_type__"+t)),i&&(this.options.type=t),this}},{key:"setTheme",value:function(t,e){var n=this,i=1<arguments.length&&void 0!==e&&e;return this.barDom&&(l.classList(this.barDom).split(" ").forEach(function(t){"noty_theme__"===t.substring(0,12)&&l.removeClass(n.barDom,t)}),l.addClass(this.barDom,"noty_theme__"+t)),i&&(this.options.theme=t),this}},{key:"close",value:function(){var e=this;return this.closed||(this.shown?(c.fire(this,"onClose"),this.closing=!0,null===this.options.animation.close||!1===this.options.animation.close?this.promises.close=new s.default(function(t){t()}):"function"==typeof this.options.animation.close?this.promises.close=new s.default(this.options.animation.close.bind(this)):(l.addClass(this.barDom,this.options.animation.close),this.promises.close=new s.default(function(t){l.addListener(e.barDom,l.animationEndEvents,function(){e.options.force?l.remove(e.barDom):c.ghostFix(e),t()})})),this.promises.close.then(function(){c.closeFlow(e),c.handleModalClose(e)}),this.closed=!0):c.removeFromQueue(this)),this}}],[{key:"closeAll",value:function(t){var e=0<arguments.length&&void 0!==t&&t;return Object.keys(c.Store).forEach(function(t){e?c.Store[t].options.queue===e&&c.Store[t].killable&&c.Store[t].close():c.Store[t].killable&&c.Store[t].close()}),this}},{key:"clearQueue",value:function(t){var e=0<arguments.length&&void 0!==t?t:"global";return c.Queues.hasOwnProperty(e)&&(c.Queues[e].queue=[]),this}},{key:"overrideDefaults",value:function(t){return c.Defaults=l.deepExtend({},c.Defaults,t),this}},{key:"setMaxVisible",value:function(t,e){var n=0<arguments.length&&void 0!==t?t:c.DefaultMaxVisible,i=1<arguments.length&&void 0!==e?e:"global";return c.Queues.hasOwnProperty(i)||(c.Queues[i]={maxVisible:n,queue:[]}),c.Queues[i].maxVisible=n,this}},{key:"button",value:function(t,e,n,i){var o=1<arguments.length&&void 0!==e?e:null,r=n,a=3<arguments.length&&void 0!==i?i:{};return new u.NotyButton(t,o,r,a)}},{key:"version",value:function(){return"3.2.0-beta"}},{key:"Push",value:function(t){return new d.Push(t)}},{key:"Queues",get:function(){return c.Queues}},{key:"PageHidden",get:function(){return c.PageHidden}}]),g);function g(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),this.options=l.deepExtend({},c.Defaults,t),c.Store[this.options.id]?c.Store[this.options.id]:(this.id=this.options.id||l.generateID("bar"),this.closeTimer=-1,this.barDom=null,this.layoutDom=null,this.progressDom=null,this.showing=!1,this.shown=!1,this.closed=!1,this.closing=!1,this.killable=this.options.timeout||0<this.options.closeWith.length,this.hasSound=0<this.options.sounds.sources.length,this.soundPlayed=!1,this.listeners={beforeShow:[],onShow:[],afterShow:[],onClose:[],afterClose:[],onClick:[],onHover:[],onTemplate:[]},this.promises={show:null,close:null},this.on("beforeShow",this.options.callbacks.beforeShow),this.on("onShow",this.options.callbacks.onShow),this.on("afterShow",this.options.callbacks.afterShow),this.on("onClose",this.options.callbacks.onClose),this.on("afterClose",this.options.callbacks.afterClose),this.on("onClick",this.options.callbacks.onClick),this.on("onHover",this.options.callbacks.onHover),this.on("onTemplate",this.options.callbacks.onTemplate),this)}function m(t){return f.apply(this,arguments)}e.default=p,"undefined"!=typeof window&&l.visibilityChangeFlow(),t.exports=e.default},function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var t=s(h);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(C4e,D4e){var E4e;E4e=function(){return this}();try{E4e=E4e||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(E4e=window)}C4e.exports=E4e},function(t,e){}],sVe.c=rVe,sVe.i=function(t){return t},sVe.d=function(t,e,n){sVe.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},sVe.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return sVe.d(e,"a",e),e},sVe.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},sVe.p="",sVe(sVe.s=6);function sVe(t){if(rVe[t])return rVe[t].exports;var e=rVe[t]={i:t,l:!1,exports:{}};return qVe[t].call(e.exports,e,e.exports,sVe),e.l=!0,e.exports}var qVe,rVe}),function(g){function m(t,e){var n=t.attr("id");window["minutes_H"+n]==e.minutes&&window["seconds_H"+n]==e.seconds&&window["hours_H"+n]==e.hours?(window["hours_H"+n].toString().length<2&&(window["hours_H"+n]="0"+window["hours_H"+n]),x(t,window["hours_H"+n]+e.timeSeparator+"00"+e.timeSeparator+"00"),window["seconds_H"+n]=60-e.tickInterval,window["minutes_H"+n]=59,0!=window["hours_H"+n]?window["hours_H"+n]--:(delete window["hours_H"+n],delete window["minutes_H"+n],delete window["seconds_H"+n],clearInterval(window["timer_H"+n]),u(t,e))):(window["hours_H"+n].toString().length<2&&(window["hours_H"+n]="0"+window["hours_H"+n]),window["minutes_H"+n].toString().length<2&&(window["minutes_H"+n]="0"+window["minutes_H"+n]),window["seconds_H"+n].toString().length<2&&(window["seconds_H"+n]="0"+window["seconds_H"+n]),x(t,window["hours_H"+n]+e.timeSeparator+window["minutes_H"+n]+e.timeSeparator+window["seconds_H"+n]),window["seconds_H"+n]-=e.tickInterval,0!=window["minutes_H"+n]&&window["seconds_H"+n]<0&&(window["minutes_H"+n]--,window["seconds_H"+n]=60-e.tickInterval),0==window["minutes_H"+n]&&window["seconds_H"+n]<0&&0!=window["hours_H"+n]&&(window["hours_H"+n]--,window["minutes_H"+n]=59,window["seconds_H"+n]=60-e.tickInterval),0==window["minutes_H"+n]&&window["seconds_H"+n]<0&&0==window["hours_H"+n]&&(delete window["hours_H"+n],delete window["minutes_H"+n],delete window["seconds_H"+n],clearInterval(window["timer_H"+n]),u(t,e))),n=null}function v(t,e){var n=t.attr("id");window["minutes_M"+n]==e.minutes&&window["seconds_M"+n]==e.seconds?(window["minutes_M"+n].toString().length<2&&(window["minutes_M"+n]="0"+window["minutes_M"+n]),x(t,window["minutes_M"+n]+e.timeSeparator+"00"),window["seconds_M"+n]=60-e.tickInterval,0!=window["minutes_M"+n]?window["minutes_M"+n]--:(delete window["hours_M"+n],delete window["minutes_M"+n],delete window["seconds_M"+n],clearInterval(window["timer_M"+n]),u(t,e))):(window["minutes_M"+n].toString().length<2&&(window["minutes_M"+n]="0"+window["minutes_M"+n]),window["seconds_M"+n].toString().length<2&&(window["seconds_M"+n]="0"+window["seconds_M"+n]),x(t,window["minutes_M"+n]+e.timeSeparator+window["seconds_M"+n]),window["seconds_M"+n]-=e.tickInterval,0!=window["minutes_M"+n]&&window["seconds_M"+n]<0&&(window["minutes_M"+n]--,window["seconds_M"+n]=60-e.tickInterval),0==window["minutes_M"+n]&&window["seconds_M"+n]<0&&(delete window["hours_M"+n],delete window["minutes_M"+n],delete window["seconds_M"+n],clearInterval(window["timer_M"+n]),u(t,e))),n=null}function y(t,e){var n=t.attr("id");window["seconds_S"+n].toString().length<2&&(window["seconds_S"+n]="0"+window["seconds_S"+n]),x(t,window["seconds_S"+n]+" sec"),window["seconds_S"+n]-=e.tickInterval,window["seconds_S"+n]<0&&(delete window["hours_S"+n],delete window["minutes_S"+n],delete window["seconds_S"+n],clearInterval(window["timer_S"+n]),u(t,e)),n=null}function b(t,e){var n=t.attr("id");window["minutes_HM"+n]==e.minutes&&window["hours_HM"+n]==e.hours?(window["hours_HM"+n].toString().length<2&&(window["hours_HM"+n]="0"+window["hours_HM"+n]),window["minutes_HM"+n].toString().length<2&&(window["minutes_HM"+n]="0"+window["minutes_HM"+n]),x(t,window["hours_HM"+n]+e.timeSeparator+window["minutes_HM"+n]+e.timeSeparator+"00"),0!=window["hours_HM"+n]&&0==window["minutes_HM"+n]?(window["hours_HM"+n]--,window["minutes_HM"+n]=59,window["seconds_HM"+n]=60-e.tickInterval):(0==window["hours_HM"+n]&&window["minutes_HM"+n],window["seconds_HM"+n]=60-e.tickInterval,window["minutes_HM"+n]--),0==window["hours_HM"+n]&&0==window["minutes_HM"+n]&&60==window["seconds_HM"+n]&&(delete window["hours_HM"+n],delete window["minutes_HM"+n],delete window["seconds_HM"+n],clearInterval(window["timer_HM"+n]),u(t,e))):(window["hours_HM"+n].toString().length<2&&(window["hours_HM"+n]="0"+window["hours_HM"+n]),window["minutes_HM"+n].toString().length<2&&(window["minutes_HM"+n]="0"+window["minutes_HM"+n]),window["seconds_HM"+n].toString().length<2&&(window["seconds_HM"+n]="0"+window["seconds_HM"+n]),x(t,window["hours_HM"+n]+e.timeSeparator+window["minutes_HM"+n]+e.timeSeparator+window["seconds_HM"+n]),window["seconds_HM"+n]-=e.tickInterval,0!=window["minutes_HM"+n]&&window["seconds_HM"+n]<0&&(window["minutes_HM"+n]--,window["seconds_HM"+n]=60-e.tickInterval),0==window["minutes_HM"+n]&&window["seconds_HM"+n]<0&&0!=window["hours_HM"+n]&&(window["hours_HM"+n]--,window["minutes_HM"+n]=59,window["seconds_HM"+n]=60-e.tickInterval),0==window["minutes_HM"+n]&&window["seconds_HM"+n]<0&&0==window["hours_HM"+n]&&(delete window["hours_HM"+n],delete window["minutes_HM"+n],delete window["seconds_HM"+n],clearInterval(window["timer_HM"+n]),u(t,e))),n=null}function _(t,e){var n=t.attr("id");window["minutes_MS"+n]==e.minutes&&window["seconds_MS"+n]==e.seconds?(window["minutes_MS"+n].toString().length<2&&(window["minutes_MS"+n]="0"+window["minutes_MS"+n]),window["seconds_MS"+n].toString().length<2&&(window["seconds_MS"+n]="0"+window["seconds_MS"+n]),x(t,window["minutes_MS"+n]+e.timeSeparator+window["seconds_MS"+n]),0!=window["minutes_MS"+n]&&0==window["seconds_MS"+n]?(window["minutes_MS"+n]--,window["seconds_MS"+n]=60-e.tickInterval):0==window["minutes_MS"+n]&&0==window["seconds_MS"+n]?(delete window["hours_MS"+n],delete window["minutes_MS"+n],delete window["seconds_MS"+n],clearInterval(window["timer_MS"+n]),u(t,e)):window["seconds_MS"+n]-=e.tickInterval):(window["minutes_MS"+n].toString().length<2&&(window["minutes_MS"+n]="0"+window["minutes_MS"+n]),window["seconds_MS"+n].toString().length<2&&(window["seconds_MS"+n]="0"+window["seconds_MS"+n]),x(t,window["minutes_MS"+n]+e.timeSeparator+window["seconds_MS"+n]),window["seconds_MS"+n]-=e.tickInterval,0!=window["minutes_MS"+n]&&window["seconds_MS"+n]<0&&(window["minutes_MS"+n]--,window["seconds_MS"+n]=60-e.tickInterval),0==window["minutes_MS"+n]&&window["seconds_MS"+n]<0&&(delete window["hours_MS"+n],delete window["minutes_MS"+n],delete window["seconds_MS"+n],clearInterval(window["timer_MS"+n]),u(t,e))),n=null}function E(t,e){var n=t.attr("id");window["seconds_HS"+n]==e.seconds&&window["hours_HS"+n]==e.hours?(window["hours_HS"+n].toString().length<2&&(window["hours_HS"+n]="0"+window["hours_HS"+n]),window["seconds_HS"+n].toString().length<2&&(window["seconds_HS"+n]="0"+window["seconds_HS"+n]),x(t,window["hours_HS"+n]+e.timeSeparator+"00"+e.timeSeparator+window["seconds_HS"+n]),0==window["hours_HS"+n]&&0==window["seconds_HS"+n]?(delete window["hours_HS"+n],delete window["minutes_HS"+n],delete window["seconds_HS"+n],clearInterval(window["timer_HS"+n]),u(t,e)):0!=window["hours_HS"+n]&&0==window["seconds_HS"+n]?(window["hours_HS"+n]--,window["minutes_HS"+n]=59,window["seconds_HS"+n]=60-e.tickInterval):window["seconds_HS"+n]-=e.tickInterval):(window["hours_HS"+n].toString().length<2&&(window["hours_HS"+n]="0"+window["hours_HS"+n]),window["minutes_HS"+n].toString().length<2&&(window["minutes_HS"+n]="0"+window["minutes_HS"+n]),window["seconds_HS"+n].toString().length<2&&(window["seconds_HS"+n]="0"+window["seconds_HS"+n]),x(t,window["hours_HS"+n]+e.timeSeparator+window["minutes_HS"+n]+e.timeSeparator+window["seconds_HS"+n]),window["seconds_HS"+n]-=e.tickInterval,0!=window["minutes_HS"+n]&&window["seconds_HS"+n]<0&&(window["minutes_HS"+n]--,window["seconds_HS"+n]=60-e.tickInterval),0==window["minutes_HS"+n]&&window["seconds_HS"+n]<0&&0!=window["hours_HS"+n]&&(window["hours_HS"+n]--,window["minutes_HS"+n]=59,window["seconds_HS"+n]=60-e.tickInterval),0==window["minutes_HS"+n]&&window["seconds_HS"+n]<0&&0==window["hours_HS"+n]&&(delete window["hours_HS"+n],delete window["minutes_HS"+n],delete window["seconds_HS"+n],clearInterval(window["timer_HS"+n]),u(t,e))),n=null}function w(t,e){var n=t.attr("id");window["minutes_HMS"+n]==e.minutes&&window["seconds_HMS"+n]==e.seconds&&window["hours_HMS"+n]==e.hours?(window["hours_HMS"+n].toString().length<2&&(window["hours_HMS"+n]="0"+window["hours_HMS"+n]),window["minutes_HMS"+n].toString().length<2&&(window["minutes_HMS"+n]="0"+window["minutes_HMS"+n]),window["seconds_HMS"+n].toString().length<2&&(window["seconds_HMS"+n]="0"+window["seconds_HMS"+n]),x(t,window["hours_HMS"+n]+e.timeSeparator+window["minutes_HMS"+n]+e.timeSeparator+window["seconds_HMS"+n]),0==window["hours_HMS"+n]&&0==window["minutes_HMS"+n]&&0==window["seconds_HMS"+n]?(delete window["hours_HMS"+n],delete window["minutes_HMS"+n],delete window["seconds_HMS"+n],clearInterval(window["timer_HMS"+n]),u(t,e)):0!=window["hours_HMS"+n]&&0==window["minutes_HMS"+n]&&0==window["seconds_HMS"+n]?(window["hours_HMS"+n]--,window["minutes_HMS"+n]=59,window["seconds_HMS"+n]=60-e.tickInterval):0==window["hours_HMS"+n]&&0!=window["minutes_HMS"+n]&&0==window["seconds_HMS"+n]?(window["minutes_HMS"+n]--,window["seconds_HMS"+n]=60-e.tickInterval):0!=window["hours_HMS"+n]&&0!=window["minutes_HMS"+n]&&0==window["seconds_HMS"+n]?(window["minutes_HMS"+n]--,window["seconds_HMS"+n]=60-e.tickInterval):window["seconds_HMS"+n]-=e.tickInterval):(window["hours_HMS"+n].toString().length<2&&(window["hours_HMS"+n]="0"+window["hours_HMS"+n]),window["minutes_HMS"+n].toString().length<2&&(window["minutes_HMS"+n]="0"+window["minutes_HMS"+n]),window["seconds_HMS"+n].toString().length<2&&(window["seconds_HMS"+n]="0"+window["seconds_HMS"+n]),x(t,window["hours_HMS"+n]+e.timeSeparator+window["minutes_HMS"+n]+e.timeSeparator+window["seconds_HMS"+n]),window["seconds_HMS"+n]-=e.tickInterval,0!=window["minutes_HMS"+n]&&window["seconds_HMS"+n]<0&&(window["minutes_HMS"+n]--,window["seconds_HMS"+n]=60-e.tickInterval),0==window["minutes_HMS"+n]&&window["seconds_HMS"+n]<0&&0!=window["hours_HMS"+n]&&(window["hours_HMS"+n]--,window["minutes_HMS"+n]=59,window["seconds_HMS"+n]=60-e.tickInterval),0==window["minutes_HMS"+n]&&window["seconds_HMS"+n]<0&&0==window["hours_HMS"+n]&&(delete window["hours_HMS"+n],delete window["minutes_HMS"+n],delete window["seconds_HMS"+n],clearInterval(window["timer_HMS"+n]),u(t,e))),n=null}function T(t,e,n){var i=t.attr("id"),o="withnoStart"==n?window["dateTime"+i]:window["endDate"+i],r="withnoStart"==n?window["startTime"+i]:window["startDate"+i],a=Math.floor((o-r)/864e5),s=Math.floor((o-r)%864e5/36e5),l=Math.floor((o-r)%864e5/6e4)%60,c=Math.floor((o-r)%864e5/1e3)%60%60;0<o-r?(a.toString().length<2&&(a="0"+a),s.toString().length<2&&(s="0"+s),l.toString().length<2&&(l="0"+l),c.toString().length<2&&(c="0"+c),x(t,a+e.timeSeparator+s+e.timeSeparator+l+e.timeSeparator+c),"withnoStart"==n?window["startTime"+i].setSeconds(window["startTime"+i].getSeconds()+e.tickInterval):window["startDate"+i].setSeconds(window["startDate"+i].getSeconds()+e.tickInterval)):(x(t,"00"+e.timeSeparator+"00"+e.timeSeparator+"00"+e.timeSeparator+"00"),"withnoStart"==n?(delete window["dateTime"+i],delete window["startTime"+i],clearInterval(window["timer_givenDate"+i])):"withStart"==n&&(delete window["startDate"+i],delete window["endDate"+i],clearInterval(window["timer_startDate"+i])),u(t,e)),i=null}function C(t,e){if(1==window["currentTime"+t.attr("id")]){var n=new Date,i=n.getHours(),o=n.getMinutes(),r=n.getSeconds();i.toString().length<2&&(i="0"+i),o.toString().length<2&&(o="0"+o),r.toString().length<2&&(r="0"+r),x(t,i+e.timeSeparator+o+e.timeSeparator+r)}else alert("Set Current Time option.")}function u(t,e){null!=e.timeUp&&1==g.isFunction(e.timeUp)&&e.timeUp.apply(t,[]),null!=e.expiryUrl&&(window.location=e.expiryUrl)}function x(t,e){var n=e;if(void 0!==window["regexpMatchFormat_"+t.attr("id")]&&void 0!==window["regexpReplaceWith_"+t.attr("id")]){var i=new RegExp(window["regexpMatchFormat_"+t.attr("id")]);n=e.replace(i,window["regexpReplaceWith_"+t.attr("id")])}t.html(n)}function D(t,e,n,i){g("#"+n.pauseButton).click(function(){"resume"!=g(this).val()?(g("#"+n.pauseButton).val("resume").text("Resume"),clearInterval(window["timer_"+e+t.attr("id")])):"resume"==g(this).val()&&(g("#"+n.pauseButton).val("pause").text("Pause"),window["timer_"+e+t.attr("id")]=setInterval(function(){i(t,n)},1e3*n.tickInterval))})}function O(t,e,n,i){g("#"+n.stopButton).click(function(){"start"!=g(this).val()?(g("#"+n.stopButton).val("start").text("Start"),clearInterval(window["timer_"+e+t.attr("id")]),window["hours_"+e+t.attr("id")]=n.hours,window["minutes_"+e+t.attr("id")]=n.minutes,window["seconds_"+e+t.attr("id")]=n.seconds,i(t,n)):"start"==g(this).val()&&(g("#"+n.stopButton).val("stop").text("Stop"),window["timer_"+e+t.attr("id")]=setInterval(function(){i(t,n)},1e3*n.tickInterval))})}g.fn.countdowntimer=function(t){return this.each(function(){!function(t,e){var n=g.extend({},g.fn.countdowntimer.defaults,e);(t=t).addClass("style");var i,o,r,a;i=n.size,o=n.borderColor,r=n.fontColor,a=n.backgroundColor,null!=e.regexpMatchFormat&&null!=e.regexpReplaceWith&&null==e.timeSeparator&&(window["regexpMatchFormat_"+t.attr("id")]=e.regexpMatchFormat,window["regexpReplaceWith_"+t.attr("id")]=e.regexpReplaceWith);if(null!=e.borderColor||null!=e.fontColor||null!=e.backgroundColor){var s={background:a,color:r,"border-color":o};t.css(s)}else t.addClass("colorDefinition");if(null!=e.size)switch(i){case"xl":t.addClass("size_xl");break;case"lg":t.addClass("size_lg");break;case"md":t.addClass("size_md");break;case"sm":t.addClass("size_sm");break;case"xs":t.addClass("size_xs")}else"sm"==i&&t.addClass("size_sm");if(null!=e.startDate||null!=e.dateAndTime||null!=e.currentTime||null==e.hours&&null==e.minutes&&null==e.seconds)if(null!=e.startDate&&null!=e.dateAndTime&&null==e.currentTime){startDate="",endDate="",timer_startDate="",window["startDate"+t.attr("id")]=new Date(n.startDate),window["endDate"+t.attr("id")]=new Date(n.dateAndTime),T(t,n,l="withStart"),window["timer_startDate"+t.attr("id")]=setInterval(function(){T(t,n,l)},1e3*n.tickInterval)}else if(null==e.startDate&&null!=e.dateAndTime&&null==e.currentTime){startTime="",dateTime="",timer_givenDate="";var l,c=n.startDate.getHours()<10?"0"+n.startDate.getHours():n.startDate.getHours(),u=n.startDate.getMinutes()<10?"0"+n.startDate.getMinutes():n.startDate.getMinutes(),d=n.startDate.getSeconds()<10?"0"+n.startDate.getSeconds():n.startDate.getSeconds(),h=n.startDate.getMonth()+1<10?"0"+(n.startDate.getMonth()+1):n.startDate.getMonth()+1,f=n.startDate.getDate()<10?"0"+n.startDate.getDate():n.startDate.getDate(),p=n.startDate.getFullYear();window["startTime"+t.attr("id")]=new Date(p+"/"+h+"/"+f+" "+c+":"+u+":"+d),window["dateTime"+t.attr("id")]=new Date(n.dateAndTime),T(t,n,l="withnoStart"),window["timer_givenDate"+t.attr("id")]=setInterval(function(){T(t,n,l)},1e3*n.tickInterval)}else null!=e.currentTime?(currentTime="",timer_currentDate="",window["currentTime"+t.attr("id")]=n.currentTime,C(t,n),window["timer_currentDate"+t.attr("id")]=setInterval(function(){C(t,n)},1e3*n.tickInterval)):(countSeconds="",timer_secondsTimer="",window["countSeconds"+t.attr("id")]=n.seconds,window["timer_secondsTimer"+t.attr("id")]=setInterval(function(){!function(t){var e=t.attr("id");window["countSeconds"+e].toString().length<2&&(window["countSeconds"+e]="0"+window["countSeconds"+e]);x(t,window["countSeconds"+e]+" sec"),window["countSeconds"+e]--,-1==window["countSeconds"+e]&&(delete window["countSeconds"+e],clearInterval(window["timer_secondsTimer"+e]));e=null}(t)},1e3));else null!=e.hours&&null==e.minutes&&null==e.seconds?(hours_H="",minutes_H="",seconds_H="",timer_H="",window["hours_H"+t.attr("id")]=n.hours,window["minutes_H"+t.attr("id")]=n.minutes,window["seconds_H"+t.attr("id")]=n.seconds,null!=e.pauseButton&&D(t,"H",n,m),null!=e.stopButton&&O(t,"H",n,m),m(t,n),window["timer_H"+t.attr("id")]=setInterval(function(){m(t,n)},1e3*n.tickInterval)):null==e.hours&&null!=e.minutes&&null==e.seconds?(hours_M="",minutes_M="",seconds_M="",timer_M="",window["hours_M"+t.attr("id")]=n.hours,window["minutes_M"+t.attr("id")]=n.minutes,window["seconds_M"+t.attr("id")]=n.seconds,null!=e.pauseButton&&D(t,"M",n,v),null!=e.stopButton&&O(t,"M",n,v),v(t,n),window["timer_M"+t.attr("id")]=setInterval(function(){v(t,n)},1e3*n.tickInterval)):null==e.hours&&null==e.minutes&&null!=e.seconds?(hours_S="",minutes_S="",seconds_S="",timer_S="",window["hours_S"+t.attr("id")]=n.hours,window["minutes_S"+t.attr("id")]=n.minutes,window["seconds_S"+t.attr("id")]=n.seconds,null!=e.pauseButton&&D(t,"S",n,y),null!=e.stopButton&&O(t,"S",n,y),y(t,n),window["timer_S"+t.attr("id")]=setInterval(function(){y(t,n)},1e3*n.tickInterval)):null!=e.hours&&null!=e.minutes&&null==e.seconds?(hours_HM="",minutes_HM="",seconds_HM="",timer_HM="",window["hours_HM"+t.attr("id")]=n.hours,window["minutes_HM"+t.attr("id")]=n.minutes,window["seconds_HM"+t.attr("id")]=n.seconds,null!=e.pauseButton&&D(t,"HM",n,b),null!=e.stopButton&&O(t,"HM",n,b),b(t,n),window["timer_HM"+t.attr("id")]=setInterval(function(){b(t,n)},1e3*n.tickInterval)):null==e.hours&&null!=e.minutes&&null!=e.seconds?(hours_MS="",minutes_MS="",seconds_MS="",timer_MS="",window["hours_MS"+t.attr("id")]=n.hours,window["minutes_MS"+t.attr("id")]=n.minutes,window["seconds_MS"+t.attr("id")]=n.seconds,null!=e.pauseButton&&D(t,"MS",n,_),null!=e.stopButton&&O(t,"MS",n,_),_(t,n),window["timer_MS"+t.attr("id")]=setInterval(function(){_(t,n)},1e3*n.tickInterval)):null!=e.hours&&null==e.minutes&&null!=e.seconds?(hours_HS="",minutes_HS="",seconds_HS="",timer_HS="",window["hours_HS"+t.attr("id")]=n.hours,window["minutes_HS"+t.attr("id")]=n.minutes,window["seconds_HS"+t.attr("id")]=n.seconds,null!=e.pauseButton&&D(t,"HS",n,E),null!=e.stopButton&&O(t,"HS",n,E),E(t,n),window["timer_HS"+t.attr("id")]=setInterval(function(){E(t,n)},1e3*n.tickInterval)):null!=e.hours&&null!=e.minutes&&null!=e.seconds&&(hours_HMS="",minutes_HMS="",seconds_HMS="",timer_HMS="",window["hours_HMS"+t.attr("id")]=n.hours,window["minutes_HMS"+t.attr("id")]=n.minutes,window["seconds_HMS"+t.attr("id")]=n.seconds,null!=e.pauseButton&&D(t,"HMS",n,w),null!=e.stopButton&&O(t,"HMS",n,w),w(t,n),window["timer_HMS"+t.attr("id")]=setInterval(function(){w(t,n)},1e3*n.tickInterval))}(g(this),t)})},g.fn.countdowntimer.defaults={hours:0,minutes:0,seconds:60,startDate:new Date,dateAndTime:new Date("0000/00/00 00:00:00"),currentTime:!1,size:"sm",borderColor:"#F0068E",fontColor:"#FFFFFF",backgroundColor:"#000000",timeSeparator:":",tickInterval:1,timeUp:null,expiryUrl:null,regexpMatchFormat:null,regexpReplaceWith:null,pauseButton:null,stopButton:null}}(jQuery),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(e),e}:n(jQuery)}(function(u){var t=function(){if(u&&u.fn&&u.fn.select2&&u.fn.select2.amd)var t=u.fn.select2.amd;var e,n,i,f,r,a,p,g,m,v,y,b,o,s,_;function E(t,e){return o.call(t,e)}function l(t,e){var n,i,o,r,a,s,l,c,u,d,h,f=e&&e.split("/"),p=y.map,g=p&&p["*"]||{};if(t){for(a=(t=t.split("/")).length-1,y.nodeIdCompat&&_.test(t[a])&&(t[a]=t[a].replace(_,"")),"."===t[0].charAt(0)&&f&&(t=f.slice(0,f.length-1).concat(t)),u=0;u<t.length;u++)if("."===(h=t[u]))t.splice(u,1),u-=1;else if(".."===h){if(0===u||1===u&&".."===t[2]||".."===t[u-1])continue;0<u&&(t.splice(u-1,2),u-=2)}t=t.join("/")}if((f||g)&&p){for(u=(n=t.split("/")).length;0<u;u-=1){if(i=n.slice(0,u).join("/"),f)for(d=f.length;0<d;d-=1)if(o=(o=p[f.slice(0,d).join("/")])&&o[i]){r=o,s=u;break}if(r)break;!l&&g&&g[i]&&(l=g[i],c=u)}!r&&l&&(r=l,s=c),r&&(n.splice(0,s,r),t=n.join("/"))}return t}function w(e,n){return function(){var t=s.call(arguments,0);return"string"!=typeof t[0]&&1===t.length&&t.push(null),a.apply(f,t.concat([e,n]))}}function T(e){return function(t){m[e]=t}}function C(t){if(E(v,t)){var e=v[t];delete v[t],b[t]=!0,r.apply(f,e)}if(!E(m,t)&&!E(b,t))throw new Error("No "+t);return m[t]}function c(t){var e,n=t?t.indexOf("!"):-1;return-1<n&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function x(t){return t?c(t):[]}return t&&t.requirejs||(t?n=t:t={},m={},v={},y={},b={},o=Object.prototype.hasOwnProperty,s=[].slice,_=/\.js$/,p=function(t,e){var n,i=c(t),o=i[0],r=e[1];return t=i[1],o&&(n=C(o=l(o,r))),o?t=n&&n.normalize?n.normalize(t,function(e){return function(t){return l(t,e)}}(r)):l(t,r):(o=(i=c(t=l(t,r)))[0],t=i[1],o&&(n=C(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:n}},g={require:function(t){return w(t)},exports:function(t){var e=m[t];return void 0!==e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:function(t){return function(){return y&&y.config&&y.config[t]||{}}}(t)}}},r=function(t,e,n,i){var o,r,a,s,l,c,u,d=[],h=typeof n;if(c=x(i=i||t),"undefined"==h||"function"==h){for(e=!e.length&&n.length?["require","exports","module"]:e,l=0;l<e.length;l+=1)if("require"===(r=(s=p(e[l],c)).f))d[l]=g.require(t);else if("exports"===r)d[l]=g.exports(t),u=!0;else if("module"===r)o=d[l]=g.module(t);else if(E(m,r)||E(v,r)||E(b,r))d[l]=C(r);else{if(!s.p)throw new Error(t+" missing "+r);s.p.load(s.n,w(i,!0),T(r),{}),d[l]=m[r]}a=n?n.apply(m[t],d):void 0,t&&(o&&o.exports!==f&&o.exports!==m[t]?m[t]=o.exports:a===f&&u||(m[t]=a))}else t&&(m[t]=n)},e=n=a=function(t,e,n,i,o){if("string"==typeof t)return g[t]?g[t](e):C(p(t,x(e)).f);if(!t.splice){if((y=t).deps&&a(y.deps,y.callback),!e)return;e.splice?(t=e,e=n,n=null):t=f}return e=e||function(){},"function"==typeof n&&(n=i,i=o),i?r(f,t,e,n):setTimeout(function(){r(f,t,e,n)},4),a},a.config=function(t){return a(t)},e._defined=m,(i=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),E(m,t)||E(v,t)||(v[t]=[t,e,n])}).amd={jQuery:!0},t.requirejs=e,t.require=n,t.define=i),t.define("almond",function(){}),t.define("jquery",[],function(){var t=u||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(r){var t={};function u(t){var e=t.prototype,n=[];for(var i in e){"function"==typeof e[i]&&"constructor"!==i&&n.push(i)}return n}t.Extend=function(t,e){var n={}.hasOwnProperty;function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},t.Decorate=function(i,o){var t=u(o),e=u(i);function r(){var t=Array.prototype.unshift,e=o.prototype.constructor.length,n=i.prototype.constructor;0<e&&(t.call(arguments,i.prototype.constructor),n=o.prototype.constructor),n.apply(this,arguments)}o.displayName=i.displayName,r.prototype=new function(){this.constructor=r};for(var n=0;n<e.length;n++){var a=e[n];r.prototype[a]=i.prototype[a]}function s(t){var e=function(){};t in r.prototype&&(e=r.prototype[t]);var n=o.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),n.apply(this,arguments)}}for(var l=0;l<t.length;l++){var c=t[l];r.prototype[c]=s(c)}return r};function e(){this.listeners={}}return e.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},e.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=t)in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},e.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},t.Observable=e,t.generateChars=function(t){for(var e="",n=0;n<t;n++){e+=Math.floor(36*Math.random()).toString(36)}return e},t.bind=function(t,e){return function(){t.apply(e,arguments)}},t._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var o=0;o<n.length;o++){var r=n[o];(r=r.substring(0,1).toLowerCase()+r.substring(1))in i||(i[r]={}),o==n.length-1&&(i[r]=t[e]),i=i[r]}delete t[e]}}return t},t.hasScroll=function(t,e){var n=r(e),i=e.style.overflowX,o=e.style.overflowY;return(i!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===i||"scroll"===o||(n.innerHeight()<e.scrollHeight||n.innerWidth()<e.scrollWidth))},t.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},t.appendMany=function(t,e){if("1.7"===r.fn.jquery.substr(0,3)){var n=r();r.map(e,function(t){n=n.add(t)}),e=n}t.append(e)},t}),t.define("select2/results",["jquery","./utils"],function(h,t){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=h('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var e=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=h('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),i=this.options.get("translations").get(t.message);n.append(e(i(t.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],o=this.option(i);e.push(o)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(t,e){e.find(".select2-results").append(t)},i.prototype.sort=function(t){return this.options.get("sorter")(t)},i.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");0<e.length?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var e=this;this.data.current(function(t){var i=h.map(t,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var t=h(this),e=h.data(this,"data"),n=""+e.id;null!=e.element&&e.element.selected||null==e.element&&-1<h.inArray(n,i)?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},i.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var e=document.createElement("li");e.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};for(var i in t.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==t.id&&delete n["aria-selected"],null!=t._resultId&&(e.id=t._resultId),t.title&&(e.title=t.title),t.children&&(n.role="group",n["aria-label"]=t.text,delete n["aria-selected"]),n){var o=n[i];e.setAttribute(i,o)}if(t.children){var r=h(e),a=document.createElement("strong");a.className="select2-results__group";h(a);this.template(t,a);for(var s=[],l=0;l<t.children.length;l++){var c=t.children[l],u=this.option(c);s.push(u)}var d=h("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});d.append(s),r.append(a),r.append(d)}else this.template(t,e);return h.data(e,"data",t),e},i.prototype.bind=function(e,t){var l=this,n=e.id+"-results";this.$results.attr("id",n),e.on("results:all",function(t){l.clear(),l.append(t.data),e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("results:append",function(t){l.append(t.data),e.isOpen()&&l.setClasses()}),e.on("query",function(t){l.hideMessages(),l.showLoading(t)}),e.on("select",function(){e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),e.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=l.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=l.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?l.trigger("close",{}):l.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),n=e.index(t);if(0!==n){var i=n-1;0===t.length&&(i=0);var o=e.eq(i);o.trigger("mouseenter");var r=l.$results.offset().top,a=o.offset().top,s=l.$results.scrollTop()+(a-r);0===i?l.$results.scrollTop(0):a-r<0&&l.$results.scrollTop(s)}}),e.on("results:next",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),n=e.index(t)+1;if(!(n>=e.length)){var i=e.eq(n);i.trigger("mouseenter");var o=l.$results.offset().top+l.$results.outerHeight(!1),r=i.offset().top+i.outerHeight(!1),a=l.$results.scrollTop()+r-o;0===n?l.$results.scrollTop(0):o<r&&l.$results.scrollTop(a)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){l.displayMessage(t)}),h.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=l.$results.scrollTop(),n=l.$results.get(0).scrollHeight-e+t.deltaY,i=0<t.deltaY&&e-t.deltaY<=0,o=t.deltaY<0&&n<=l.$results.height();i?(l.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var e=h(this),n=e.data("data");"true"!==e.attr("aria-selected")?l.trigger("select",{originalEvent:t,data:n}):l.options.get("multiple")?l.trigger("unselect",{originalEvent:t,data:n}):l.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var e=h(this).data("data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:e,element:h(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,i=t.offset().top,o=this.$results.scrollTop()+(i-n),r=i-n;o-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(r>this.$results.outerHeight()||r<0)&&this.$results.scrollTop(o)}},i.prototype.template=function(t,e){var n=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),o=n(t,e);null==o?e.style.display="none":"string"==typeof o?e.innerHTML=i(o):h(e).append(o)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(n,t,o){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t},i.prototype.bind=function(t,e){var n=this,i=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){n.trigger("focus",t)}),this.$selection.on("blur",function(t){n._handleBlur(t)}),this.$selection.on("keydown",function(t){n.trigger("keypress",t),t.which===o.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){n.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){n.update(t.data)}),t.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",i),n._attachCloseHandler(t)}),t.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(t)}),t.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),t.on("disable",function(){n.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(t){var e=this;window.setTimeout(function(){document.activeElement==e.$selection[0]||n.contains(e.$selection[0],document.activeElement)||e.trigger("blur",t)},1)},i.prototype._attachCloseHandler=function(t){n(document.body).on("mousedown.select2."+t.id,function(t){var e=n(t.target).closest(".select2");n(".select2.select2-container--open").each(function(){var t=n(this);this!=e[0]&&t.data("element").select2("close")})})},i.prototype._detachCloseHandler=function(t){n(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},i}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,i){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(e,t){var n=this;o.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),e.on("focus",function(t){e.isOpen()||n.$selection.focus()}),e.on("selection:update",function(t){n.update(t.data)})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)}else this.clear()},o}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(i,t,s){function o(t,e){o.__super__.constructor.apply(this,arguments)}return s.Extend(o,t),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},o.prototype.bind=function(t,e){var n=this;o.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){n.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!n.options.get("disabled")){var e=i(this).parent().data("data");n.trigger("unselect",{originalEvent:t,data:e})}})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},o.prototype.selectionContainer=function(){return i('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},o.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var i=t[n],o=this.selectionContainer(),r=this.display(i,o);o.append(r),o.prop("title",i.title||i.text),o.data("data",i),e.push(o)}var a=this.$selection.find(".select2-selection__rendered");s.appendMany(a,e)}},o}),t.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(1<e.length||n)return t.call(this,e);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},e}),t.define("select2/selection/allowClear",["jquery","../keys"],function(i,o){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},t.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),o=0;o<i.length;o++){var r={data:i[o]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},t.prototype._handleKeyboardClear=function(t,e,n){n.isOpen()||e.which!=o.DELETE&&e.which!=o.BACKSPACE||this._handleClear(e)},t.prototype.update=function(t,e){if(t.call(this,e),!(0<this.$selection.find(".select2-selection__placeholder").length||0===e.length)){var n=i('<span class="select2-selection__clear">&times;</span>');n.data("data",e),this.$selection.find(".select2-selection__rendered").prepend(n)}},t}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(i,t,a){function e(t,e,n){t.call(this,e,n)}return e.prototype.render=function(t){var e=i('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=e,this.$search=e.find("input");var n=t.call(this);return this._transferTabIndex(),n},e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("open",function(){i.$search.trigger("focus")}),e.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),e.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),e.on("disable",function(){i.$search.prop("disabled",!0)}),e.on("focus",function(t){i.$search.trigger("focus")}),e.on("results:focus",function(t){i.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){i.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){i._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented(),t.which===a.BACKSPACE&&""===i.$search.val()){var e=i.$searchContainer.prev(".select2-selection__choice");if(0<e.length){var n=e.data("data");i.searchRemoveChoice(n),t.preventDefault()}}});var o=document.documentMode,r=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){r?i.$selection.off("input.search input.searchcheck"):i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(r&&"input"===t.type)i.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=a.SHIFT&&e!=a.CTRL&&e!=a.ALT&&e!=a.TAB&&i.handleSearch(t)}})},e.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},e.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},e.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},e.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},e.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";""!==this.$search.attr("placeholder")?t=this.$selection.find(".select2-selection__rendered").innerWidth():t=.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},e}),t.define("select2/selection/eventRelay",["jquery"],function(a){function t(){}return t.prototype.bind=function(t,e,n){var i=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],r=["opening","closing","selecting","unselecting"];t.call(this,e,n),e.on("*",function(t,e){if(-1!==a.inArray(t,o)){e=e||{};var n=a.Event("select2:"+t,{params:e});i.$element.trigger(n),-1!==a.inArray(t,r)&&(e.prevented=n.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,n){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var e=n(t);i._cache[t]=e}return new i(i._cache[t])},i}),t.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),t.define("select2/data/base",["../utils"],function(i){function n(t,e){n.__super__.constructor.call(this)}return i.Extend(n,i.Observable),n.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},n.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},n.prototype.bind=function(t,e){},n.prototype.destroy=function(){},n.prototype.generateResultId=function(t,e){var n=t.id+"-result-";return n+=i.generateChars(4),null!=e.id?n+="-"+e.id.toString():n+="-"+i.generateChars(4),n},n}),t.define("select2/data/select",["./base","../utils","jquery"],function(t,e,s){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,t),n.prototype.current=function(t){var n=[],i=this;this.$element.find(":selected").each(function(){var t=s(this),e=i.item(t);n.push(e)}),t(n)},n.prototype.select=function(o){var r=this;if(o.selected=!0,s(o.element).is("option"))return o.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(t){var e=[];(o=[o]).push.apply(o,t);for(var n=0;n<o.length;n++){var i=o[n].id;-1===s.inArray(i,e)&&e.push(i)}r.$element.val(e),r.$element.trigger("change")});else{var t=o.id;this.$element.val(t),this.$element.trigger("change")}},n.prototype.unselect=function(o){var r=this;if(this.$element.prop("multiple")){if(o.selected=!1,s(o.element).is("option"))return o.element.selected=!1,void this.$element.trigger("change");this.current(function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n].id;i!==o.id&&-1===s.inArray(i,e)&&e.push(i)}r.$element.val(e),r.$element.trigger("change")})}},n.prototype.bind=function(t,e){var n=this;(this.container=t).on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){s.removeData(this,"data")})},n.prototype.query=function(i,t){var o=[],r=this;this.$element.children().each(function(){var t=s(this);if(t.is("option")||t.is("optgroup")){var e=r.item(t),n=r.matches(i,e);null!==n&&o.push(n)}}),t({results:o})},n.prototype.addOptions=function(t){e.appendMany(this.$element,t)},n.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,void 0!==t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var n=s(e),i=this._normalizeItem(t);return i.element=e,s.data(e,"data",i),n},n.prototype.item=function(t){var e={};if(null!=(e=s.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var n=t.children("option"),i=[],o=0;o<n.length;o++){var r=s(n[o]),a=this.item(r);i.push(a)}e.children=i}return(e=this._normalizeItem(e)).element=t[0],s.data(t[0],"data",e),e},n.prototype._normalizeItem=function(t){s.isPlainObject(t)||(t={id:t,text:t});return null!=(t=s.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),s.extend({},{selected:!1,disabled:!1},t)},n.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},n}),t.define("select2/data/array",["./select","../utils","jquery"],function(t,p,g){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return p.Extend(i,t),i.prototype.select=function(n){var t=this.$element.find("option").filter(function(t,e){return e.value==n.id.toString()});0===t.length&&(t=this.option(n),this.addOptions(t)),i.__super__.select.call(this,n)},i.prototype.convertToOptions=function(t){var e=this,n=this.$element.find("option"),i=n.map(function(){return e.item(g(this)).id}).get(),o=[];function r(t){return function(){return g(this).val()==t.id}}for(var a=0;a<t.length;a++){var s=this._normalizeItem(t[a]);if(0<=g.inArray(s.id,i)){var l=n.filter(r(s)),c=this.item(l),u=g.extend(!0,{},s,c),d=this.option(u);l.replaceWith(d)}else{var h=this.option(s);if(s.children){var f=this.convertToOptions(s.children);p.appendMany(h,f)}o.push(h)}}return o},i}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,r){function n(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return r.extend({},t,{q:t.term})},transport:function(t,e,n){var i=r.ajax(t);return i.then(e),i.fail(n),i}};return r.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(n,i){var o=this;null!=this._request&&(r.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var e=r.extend({type:"GET"},this.ajaxOptions);function t(){var t=e.transport(e,function(t){var e=o.processResults(t,n);o.options.get("debug")&&window.console&&console.error&&(e&&e.results&&r.isArray(e.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),i(e)},function(){t.status&&"0"===t.status||o.trigger("results:message",{message:"errorLoading"})});o._request=t}"function"==typeof e.url&&(e.url=e.url.call(this.$element,n)),"function"==typeof e.data&&(e.data=e.data.call(this.$element,n)),this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(t,this.ajaxOptions.delay)):t()},n}),t.define("select2/data/tags",["jquery"],function(u){function t(t,e,n){var i=n.get("tags"),o=n.get("createTag");void 0!==o&&(this.createTag=o);var r=n.get("insertTag");if(void 0!==r&&(this.insertTag=r),t.call(this,e,n),u.isArray(i))for(var a=0;a<i.length;a++){var s=i[a],l=this._normalizeItem(s),c=this.option(l);this.$element.append(c)}}return t.prototype.query=function(t,c,u){var d=this;this._removeOldTags(),null!=c.term&&null==c.page?t.call(this,c,function t(e,n){for(var i=e.results,o=0;o<i.length;o++){var r=i[o],a=null!=r.children&&!t({results:r.children},!0);if((r.text||"").toUpperCase()===(c.term||"").toUpperCase()||a)return!n&&(e.data=i,void u(e))}if(n)return!0;var s=d.createTag(c);if(null!=s){var l=d.option(s);l.attr("data-select2-tag",!0),d.addOptions([l]),d.insertTag(i,s)}e.results=i,u(e)}):t.call(this,c,u)},t.prototype.createTag=function(t,e){var n=u.trim(e.term);return""===n?null:{id:n,text:n}},t.prototype.insertTag=function(t,e,n){e.unshift(n)},t.prototype._removeOldTags=function(t){this._lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||u(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(d){function t(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,e,n){var i=this;e.term=e.term||"";var o=this.tokenizer(e,this.options,function(t){var e=i._normalizeItem(t);if(!i.$element.find("option").filter(function(){return d(this).val()===e.id}).length){var n=i.option(e);n.attr("data-select2-tag",!0),i._removeOldTags(),i.addOptions([n])}!function(t){i.trigger("select",{data:t})}(e)});o.term!==e.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.focus()),e.term=o.term),t.call(this,e,n)},t.prototype.tokenizer=function(t,e,n,i){for(var o=n.get("tokenSeparators")||[],r=e.term,a=0,s=this.createTag||function(t){return{id:t.term,text:t.term}};a<r.length;){var l=r[a];if(-1!==d.inArray(l,o)){var c=r.substr(0,a),u=s(d.extend({},e,{term:c}));null!=u?(i(u),r=r.substr(a+1)||"",a=0):a++}else a++}return{term:r}},t}),t.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),t.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",0<this.maximumInputLength&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),t.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(n,i,o){var r=this;this.current(function(t){var e=null!=t?t.length:0;0<r.maximumSelectionLength&&e>=r.maximumSelectionLength?r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}}):n.call(r,i,o)})},t}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(o,t){function e(){}return e.prototype.render=function(t){var e=t.call(this),n=o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),e.prepend(n),e},e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),this.$search.on("keydown",function(t){i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(t){o(this).off("keyup")}),this.$search.on("keyup input",function(t){i.handleSearch(t)}),e.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),e.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val("")}),e.on("focus",function(){e.isOpen()||i.$search.focus()}),e.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(i.showSearch(t)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide"))})},e.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},e.prototype.showSearch=function(t,e){return!0},e}),t.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;0<=i;i--){var o=e[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},t}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(o){function t(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("query",function(t){i.lastParams=t,i.loading=!0}),e.on("query:append",function(t){i.lastParams=t,i.loading=!0}),this.$results.on("scroll",function(){var t=o.contains(document.documentElement,i.$loadingMore[0]);if(!i.loading&&t){var e=i.$results.offset().top+i.$results.outerHeight(!1);i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1)<=e+50&&i.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=o.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},t.prototype.createLoadingMore=function(){var t=o('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),e=this.options.get("translations").get("loadingMore");return t.html(e(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(p,s){function t(t,e,n){this.$dropdownParent=n.get("dropdownParent")||p(document.body),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){var i=this,o=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),o||(o=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},t.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},t.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},t.prototype.render=function(t){var e=p("<span></span>"),n=t.call(this);return e.append(n),this.$dropdownContainer=e},t.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},t.prototype._attachPositioningHandler=function(t,e){var n=this,i="scroll.select2."+e.id,o="resize.select2."+e.id,r="orientationchange.select2."+e.id,a=this.$container.parents().filter(s.hasScroll);a.each(function(){p(this).data("select2-scroll-position",{x:p(this).scrollLeft(),y:p(this).scrollTop()})}),a.on(i,function(t){var e=p(this).data("select2-scroll-position");p(this).scrollTop(e.y)}),p(window).on(i+" "+o+" "+r,function(t){n._positionDropdown(),n._resizeDropdown()})},t.prototype._detachPositioningHandler=function(t,e){var n="scroll.select2."+e.id,i="resize.select2."+e.id,o="orientationchange.select2."+e.id;this.$container.parents().filter(s.hasScroll).off(n),p(window).off(n+" "+i+" "+o)},t.prototype._positionDropdown=function(){var t=p(window),e=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),i=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var r={height:this.$container.outerHeight(!1)};r.top=o.top,r.bottom=o.top+r.height;var a=this.$dropdown.outerHeight(!1),s=t.scrollTop(),l=t.scrollTop()+t.height(),c=s<o.top-a,u=l>o.bottom+a,d={left:o.left,top:r.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var f=h.offset();d.top-=f.top,d.left-=f.left,e||n||(i="below"),u||!c||e?!c&&u&&e&&(i="below"):i="above",("above"==i||e&&"below"!==i)&&(d.top=r.top-f.top-a),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(d)},t.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},t.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},t}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var n=0,i=0;i<e.length;i++){var o=e[i];o.children?n+=t(o.children):n++}return n}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var o=i.data("data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(p,g,m,v,y,b,_,E,w,T,C,e,x,D,O,I,k,S,R,A,M,N,K,P,L,F,B,$,t){function n(){this.reset()}return n.prototype.apply=function(e){if(null==(e=p.extend(!0,{},this.defaults,e)).dataAdapter){if(null!=e.ajax?e.dataAdapter=O:null!=e.data?e.dataAdapter=D:e.dataAdapter=x,0<e.minimumInputLength&&(e.dataAdapter=T.Decorate(e.dataAdapter,S)),0<e.maximumInputLength&&(e.dataAdapter=T.Decorate(e.dataAdapter,R)),0<e.maximumSelectionLength&&(e.dataAdapter=T.Decorate(e.dataAdapter,A)),e.tags&&(e.dataAdapter=T.Decorate(e.dataAdapter,I)),null==e.tokenSeparators&&null==e.tokenizer||(e.dataAdapter=T.Decorate(e.dataAdapter,k)),null!=e.query){var t=g(e.amdBase+"compat/query");e.dataAdapter=T.Decorate(e.dataAdapter,t)}if(null!=e.initSelection){var n=g(e.amdBase+"compat/initSelection");e.dataAdapter=T.Decorate(e.dataAdapter,n)}}if(null==e.resultsAdapter&&(e.resultsAdapter=m,null!=e.ajax&&(e.resultsAdapter=T.Decorate(e.resultsAdapter,P)),null!=e.placeholder&&(e.resultsAdapter=T.Decorate(e.resultsAdapter,K)),e.selectOnClose&&(e.resultsAdapter=T.Decorate(e.resultsAdapter,B))),null==e.dropdownAdapter){if(e.multiple)e.dropdownAdapter=M;else{var i=T.Decorate(M,N);e.dropdownAdapter=i}if(0!==e.minimumResultsForSearch&&(e.dropdownAdapter=T.Decorate(e.dropdownAdapter,F)),e.closeOnSelect&&(e.dropdownAdapter=T.Decorate(e.dropdownAdapter,$)),null!=e.dropdownCssClass||null!=e.dropdownCss||null!=e.adaptDropdownCssClass){var o=g(e.amdBase+"compat/dropdownCss");e.dropdownAdapter=T.Decorate(e.dropdownAdapter,o)}e.dropdownAdapter=T.Decorate(e.dropdownAdapter,L)}if(null==e.selectionAdapter){if(e.multiple?e.selectionAdapter=y:e.selectionAdapter=v,null!=e.placeholder&&(e.selectionAdapter=T.Decorate(e.selectionAdapter,b)),e.allowClear&&(e.selectionAdapter=T.Decorate(e.selectionAdapter,_)),e.multiple&&(e.selectionAdapter=T.Decorate(e.selectionAdapter,E)),null!=e.containerCssClass||null!=e.containerCss||null!=e.adaptContainerCssClass){var r=g(e.amdBase+"compat/containerCss");e.selectionAdapter=T.Decorate(e.selectionAdapter,r)}e.selectionAdapter=T.Decorate(e.selectionAdapter,w)}if("string"==typeof e.language)if(0<e.language.indexOf("-")){var a=e.language.split("-")[0];e.language=[e.language,a]}else e.language=[e.language];if(p.isArray(e.language)){var s=new C;e.language.push("en");for(var l=e.language,c=0;c<l.length;c++){var u=l[c],d={};try{d=C.loadPath(u)}catch(t){try{u=this.defaults.amdLanguageBase+u,d=C.loadPath(u)}catch(t){e.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+u+'" could not be automatically loaded. A fallback will be used instead.');continue}}s.extend(d)}e.translations=s}else{var h=C.loadPath(this.defaults.amdLanguageBase+"en"),f=new C(e.language);f.extend(h),e.translations=f}return e},n.prototype.reset=function(){function s(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return e[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:T.escapeMarkup,language:t,matcher:function t(e,n){if(""===p.trim(e.term))return n;if(n.children&&0<n.children.length){for(var i=p.extend(!0,{},n),o=n.children.length-1;0<=o;o--)null==t(e,n.children[o])&&i.children.splice(o,1);return 0<i.children.length?i:t(e,i)}var r=s(n.text).toUpperCase(),a=s(e.term).toUpperCase();return-1<r.indexOf(a)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},n.prototype.set=function(t,e){var n={};n[p.camelCase(t)]=e;var i=T._convertData(n);p.extend(this.defaults,i)},new n}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(i,r,o,a){function t(t,e){if(this.options=t,null!=e&&this.fromElement(e),this.options=o.apply(this.options),e&&e.is("input")){var n=i(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=a.Decorate(this.options.dataAdapter,n)}}return t.prototype.fromElement=function(t){var e=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var n={};n=r.fn.jquery&&"1."==r.fn.jquery.substr(0,2)&&t[0].dataset?r.extend(!0,{},t[0].dataset,t.data()):t.data();var i=r.extend(!0,{},n);for(var o in i=a._convertData(i))-1<r.inArray(o,e)||(r.isPlainObject(this.options[o])?r.extend(this.options[o],i[o]):this.options[o]=i[o]);return this},t.prototype.get=function(t){return this.options[t]},t.prototype.set=function(t,e){this.options[t]=e},t}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(o,c,n,i){var u=function(t,e){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),e=e||{},this.options=new c(e,t),u.__super__.constructor.call(this);var n=t.attr("tabindex")||0;t.data("old-tabindex",n),t.attr("tabindex","-1");var i=this.options.get("dataAdapter");this.dataAdapter=new i(t,this.options);var o=this.render();this._placeContainer(o);var r=this.options.get("selectionAdapter");this.selection=new r(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var a=this.options.get("dropdownAdapter");this.dropdown=new a(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var s=this.options.get("resultsAdapter");this.results=new s(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){l.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(u,n.Observable),u.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},u.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},u.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"!=e)return e;var r=t.attr("style");if("string"!=typeof r)return null;for(var a=r.split(";"),s=0,l=a.length;s<l;s+=1){var c=a[s].replace(/\s/g,"").match(n);if(null!==c&&1<=c.length)return c[1]}return null},u.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},u.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t(function(t){o.each(t,e._syncA),o.each(t,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},u.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(t,e){n.trigger(t,e)})},u.prototype._registerSelectionEvents=function(){var n=this,i=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(t){n.focus(t)}),this.selection.on("*",function(t,e){-1===o.inArray(t,i)&&n.trigger(t,e)})},u.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(t,e){n.trigger(t,e)})},u.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(t,e){n.trigger(t,e)})},u.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")}),this.on("close",function(){n.$container.removeClass("select2-container--open")}),this.on("enable",function(){n.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){n.$container.addClass("select2-container--disabled")}),this.on("blur",function(){n.$container.removeClass("select2-container--focus")}),this.on("query",function(e){n.isOpen()||n.trigger("open",{}),this.dataAdapter.query(e,function(t){n.trigger("results:all",{data:t,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(t){n.trigger("results:append",{data:t,query:e})})}),this.on("keypress",function(t){var e=t.which;n.isOpen()?e===i.ESC||e===i.TAB||e===i.UP&&t.altKey?(n.close(),t.preventDefault()):e===i.ENTER?(n.trigger("results:select",{}),t.preventDefault()):e===i.SPACE&&t.ctrlKey?(n.trigger("results:toggle",{}),t.preventDefault()):e===i.UP?(n.trigger("results:previous",{}),t.preventDefault()):e===i.DOWN&&(n.trigger("results:next",{}),t.preventDefault()):(e===i.ENTER||e===i.SPACE||e===i.DOWN&&t.altKey)&&(n.open(),t.preventDefault())})},u.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},u.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&0<e.addedNodes.length)for(var o=0;o<e.addedNodes.length;o++){e.addedNodes[o].selected&&(n=!0)}else e.removedNodes&&0<e.removedNodes.length&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})}},u.prototype.trigger=function(t,e){var n=u.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in i){var o=i[t],r={prevented:!1,name:t,args:e};if(n.call(this,o,r),r.prevented)return void(e.prevented=!0)}n.call(this,t,e)},u.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},u.prototype.open=function(){this.isOpen()||this.trigger("query",{})},u.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},u.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},u.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},u.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},u.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},u.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},u.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var e=t[0];o.isArray(e)&&(e=o.map(e,function(t){return t.toString()})),this.$element.val(e).trigger("change")},u.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},u.prototype.render=function(){var t=o('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},u}),t.define("jquery-mousewheel",["jquery"],function(t){return t}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(o,t,r,e){if(null==o.fn.select2){var a=["open","close","destroy"];o.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var t=o.extend(!0,{},e);new r(o(this),t)}),this;if("string"!=typeof e)throw new Error("Invalid arguments for Select2: "+e);var n,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=o(this).data("select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),n=t[e].apply(t,i)}),-1<o.inArray(e,a)?this:n}}return null==o.fn.select2.defaults&&(o.fn.select2.defaults=e),r}),{define:t.define,require:t.require}}(),e=t.require("jquery.select2");return u.fn.select2.amd=t,e}),function(e,n){"function"==typeof define&&define.amd?define(["jquery"],function(t){return n(e,t)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=n(e,require("jquery")):e.lity=n(e,e.jQuery||e.Zepto)}("undefined"!=typeof window?window:this,function(t,u){"use strict";var d=t.document,h=u(t),f=u.Deferred,p=u("html"),g=[],m="aria-hidden",v="lity-"+m,o='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])',y={esc:!0,handler:null,handlers:{image:w,inline:function(t,e){var n,i,o;try{n=u(t)}catch(t){return!1}return!!n.length&&(i=u('<i style="display:none !important"/>'),o=n.hasClass("lity-hide"),e.element().one("lity:remove",function(){i.before(n).remove(),o&&!n.closest(".lity-content").length&&n.addClass("lity-hide")}),n.removeClass("lity-hide").after(i))},youtube:function(t){var e=n.exec(t);return!!e&&T(E(t,c("https://www.youtube"+(e[2]||"")+".com/embed/"+e[4],u.extend({autoplay:1},l(e[5]||"")))))},vimeo:function(t){var e=i.exec(t);return!!e&&T(E(t,c("https://player.vimeo.com/video/"+e[3],u.extend({autoplay:1},l(e[4]||"")))))},googlemaps:function(t){var e=r.exec(t);return!!e&&T(E(t,c("https://www.google."+e[3]+"/maps?"+e[6],{output:0<e[6].indexOf("layer=c")?"svembed":"embed"})))},facebookvideo:function(t){var e=a.exec(t);if(!e)return!1;0!==t.indexOf("http")&&(t="https:"+t);return T(E(t,c("https://www.facebook.com/plugins/video.php?href="+t,u.extend({autoplay:1},l(e[4]||"")))))},iframe:T},template:'<div class="lity lity-controls lity-minimized" role="dialog" aria-label="Dialog Window (Press escape to close)" tabindex="-1"><div class="lity-wrap" data-lity-close role="document"><div class="lity-loader" aria-hidden="true">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" title="Close (Press escape to close)" aria-label="Close (Press escape to close)" data-lity-close>&times;</button></div></div></div>'},e=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,n=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,i=/(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,r=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,a=/(facebook\.com)\/([a-z0-9_-]*)\/videos\/([0-9]*)(.*)?$/i,s=function(){var t=d.createElement("div"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return e[n];return!1}();function b(t){var e=f();return s&&t.length?(t.one(s,e.resolve),setTimeout(e.resolve,500)):e.resolve(),e.promise()}function _(t,e,n){if(1===arguments.length)return u.extend({},t);if("string"==typeof e){if(void 0===n)return void 0===t[e]?null:t[e];t[e]=n}else u.extend(t,e);return this}function l(t){for(var e,n=decodeURI(t.split("#")[0]).split("&"),i={},o=0,r=n.length;o<r;o++)n[o]&&(i[(e=n[o].split("="))[0]]=e[1]);return i}function c(t,e){return t+(-1<t.indexOf("?")?"&":"?")+u.param(e)}function E(t,e){var n=t.indexOf("#");return-1===n?e:(0<n&&(t=t.substr(n)),e+t)}function w(t,e){function n(){r.reject(function(t){return u('<span class="lity-error"/>').append(t)}("Failed loading image"))}var i=e.opener()&&e.opener().data("lity-desc")||"Image with no description",o=u('<img src="'+t+'" alt="'+i+'"/>'),r=f();return o.on("load",function(){if(0===this.naturalWidth)return n();r.resolve(o)}).on("error",n),r.promise()}function T(t){return'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="'+t+'"/></div>'}function C(){return d.documentElement.clientHeight?d.documentElement.clientHeight:Math.round(h.height())}function x(t){var e=O();e&&(27===t.keyCode&&e.options("esc")&&e.close(),9===t.keyCode&&function(t,e){var n=e.element().find(o),i=n.index(d.activeElement);t.shiftKey&&i<=0?(n.get(n.length-1).focus(),t.preventDefault()):t.shiftKey||i!==n.length-1||(n.get(0).focus(),t.preventDefault())}(t,e))}function D(){u.each(g,function(t,e){e.resize()})}function O(){return 0===g.length?null:g[0]}function I(t,e,n,i){var o,r,a,s=this,l=!1,c=!1;e=u.extend({},y,e),r=u(e.template),s.element=function(){return r},s.opener=function(){return n},s.options=u.proxy(_,s,e),s.handlers=u.proxy(_,s,e.handlers),s.resize=function(){l&&!c&&a.css("max-height",C()+"px").trigger("lity:resize",[s])},s.close=function(){if(l&&!c){c=!0,function(e){e.element().attr(m,"true"),1===g.length&&(p.removeClass("lity-active"),h.off({resize:D,keydown:x})),((g=u.grep(g,function(t){return e!==t})).length?g[0].element():u(".lity-hidden")).removeClass("lity-hidden").each(function(){var t=u(this),e=t.data(v);e?t.attr(m,e):t.removeAttr(m),t.removeData(v)})}(s);var t=f();if(i&&(d.activeElement===r[0]||u.contains(r[0],d.activeElement)))try{i.focus()}catch(t){}return a.trigger("lity:close",[s]),r.removeClass("lity-opened").addClass("lity-closed"),b(a.add(r)).always(function(){a.trigger("lity:remove",[s]),r.remove(),r=void 0,t.resolve()}),t.promise()}},o=function(n,i,o,t){var r,a="inline",s=u.extend({},o);return t&&s[t]?(r=s[t](n,i),a=t):(u.each(["inline","iframe"],function(t,e){delete s[e],s[e]=o[e]}),u.each(s,function(t,e){return!e||(!(!e.test||e.test(n,i))||(!1!==(r=e(n,i))?(a=t,!1):void 0))})),{handler:a,content:r||""}}(t,s,e.handlers,e.handler),r.attr(m,"false").addClass("lity-loading lity-opened lity-"+o.handler).appendTo("body").focus().on("click","[data-lity-close]",function(t){u(t.target).is("[data-lity-close]")&&s.close()}).trigger("lity:open",[s]),function(t){1===g.unshift(t)&&(p.addClass("lity-active"),h.on({resize:D,keydown:x})),u("body > *").not(t.element()).addClass("lity-hidden").each(function(){var t=u(this);void 0===t.data(v)&&t.data(v,t.attr(m)||null)}).attr(m,"true")}(s),u.when(o.content).always(function(t){a=u(t).css("max-height",C()+"px"),r.find(".lity-loader").each(function(){var t=u(this);b(t).always(function(){t.remove()})}),r.removeClass("lity-loading").find(".lity-content").empty().append(a),l=!0,a.trigger("lity:ready",[s])})}function k(t,e,n){t.preventDefault?(t.preventDefault(),t=(n=u(this)).data("lity-target")||n.attr("href")||n.attr("src")):n=u(n);var i=new I(t,u.extend({},n.data("lity-options")||n.data("lity"),e),n,d.activeElement);if(!t.preventDefault)return i}return w.test=function(t){return e.test(t)},k.version="2.3.1",k.options=u.proxy(_,k,y),k.handlers=u.proxy(_,k,y.handlers),k.current=O,u(d).on("click.lity","[data-lity]",k),k});var CKEDITOR_BASEPATH="js/ckeditor/";!function(){var l,c,e,n,i,o,r,a,t,s,u,d,h,f,p,g,m,v,y,b,_,E,w,T,C,x,D,O,I,k,S,R,A,M,N,K,P,L,F,B,$,H,z,j,V,W,q,G,U,Y,X,Z,Q,J,tt,et,nt,it,ot,rt,at,st,lt,ct,ut,dt,ht,ft,pt,gt,mt,vt,yt,bt,_t,Et,wt,Tt,Ct,xt,Dt,Ot,It,kt,St,Rt,At,Mt,Nt,Kt,Pt,Lt,Ft,Bt,$t,Ht,zt,jt;window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var e,o=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,n={timestamp:"HBDD",version:"4.8.0",revision:"230f715",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:o},status:"unloaded",basePath:function(){var t=window.CKEDITOR_BASEPATH||"";if(!t)for(var e=document.getElementsByTagName("script"),n=0;n<e.length;n++){var i=e[n].src.match(o);if(i){t=i[1];break}}if(-1==t.indexOf(":/")&&"//"!=t.slice(0,2)&&(t=0===t.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+t:location.href.match(/^[^\?]*\/(?:)/)[0]+t),!t)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return t}(),getUrl:function(t){return-1==t.indexOf(":/")&&0!==t.indexOf("/")&&(t=this.basePath+t),this.timestamp&&"/"!=t.charAt(t.length-1)&&!/[&?]t=/.test(t)&&(t+=(0<=t.indexOf("?")?"&":"?")+"t="+this.timestamp),t},domReady:(e=[],function(t){if(e.push(t),"complete"===document.readyState&&setTimeout(r,1),1==e.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",r),window.attachEvent("onload",r),t=!1;try{t=!window.frameElement}catch(t){}document.documentElement.doScroll&&t&&function e(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(e,1)}r()}()}})},i=window.CKEDITOR_GETURL;function r(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",r,!1),t()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",r),t())}catch(t){}}function t(){for(var t;t=e.shift();)t()}if(i){var a=n.getUrl;n.getUrl=function(t){return i.call(n,t)||a.call(n,t)}}return n}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(t){var e,n=CKEDITOR.event.prototype;for(e in n)null==t[e]&&(t[e]=n[e])},CKEDITOR.event.prototype=(qt.prototype={getListenerIndex:function(t){for(var e=0,n=this.listeners;e<n.length;e++)if(n[e].fn==t)return e;return-1}},{define:function(t,e){var n=Vt.call(this,t);CKEDITOR.tools.extend(n,e,!0)},on:function(o,r,a,s,t){function e(t,e,n,i){return!(t={name:o,sender:this,editor:t,data:e,listenerData:s,stop:n,cancel:i,removeListener:l})!==r.call(a,t)&&t.data}function l(){i.removeListener(o,r)}var n=Vt.call(this,o);if(n.getListenerIndex(r)<0){n=n.listeners,a=a||this,isNaN(t)&&(t=10);var i=this;e.fn=r,e.priority=t;for(var c=n.length-1;0<=c;c--)if(n[c].priority<=t)return n.splice(c+1,0,e),{removeListener:l};n.unshift(e)}return{removeListener:l}},once:function(){var t=Array.prototype.slice.call(arguments),e=t[1];return t[1]=function(t){return t.removeListener(),e.apply(this,arguments)},this.on.apply(this,t)},capture:function(){CKEDITOR.event.useCapture=1;var t=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,t},fire:(l=0,c=0,function(t,e,n){var i=Wt(this)[t];t=l;var o=c;if(l=c=0,i&&(a=i.listeners).length)for(var r,a=a.slice(0),s=0;s<a.length;s++){if(i.errorProof)try{r=a[s].call(this,n,e,Gt,Ut)}catch(t){}else r=a[s].call(this,n,e,Gt,Ut);if(!1===r?c=1:void 0!==r&&(e=r),l||c)break}return e=!c&&(void 0===e||e),l=t,c=o,e}),fireOnce:function(t,e,n){return e=this.fire(t,e,n),delete Wt(this)[t],e},removeListener:function(t,e){var n=Wt(this)[t];if(n){var i=n.getListenerIndex(e);0<=i&&n.listeners.splice(i,1)}},removeAllListeners:function(){var t,e=Wt(this);for(t in e)delete e[t]},hasListeners:function(t){return(t=Wt(this)[t])&&0<t.listeners.length}})),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fire.call(this,t,e,this)},CKEDITOR.editor.prototype.fireOnce=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fireOnce.call(this,t,e,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var t=navigator.userAgent.toLowerCase(),e=t.match(/edge[ \/](\d+.?\d*)/),n=-1<t.indexOf("trident/");(n={ie:n=!(!e&&!n),edge:!!e,webkit:!n&&-1<t.indexOf(" applewebkit/"),air:-1<t.indexOf(" adobeair/"),mac:-1<t.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||document.documentMode<10),mobile:-1<t.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(t),isCustomDomain:function(){if(!this.ie)return!1;var t=document.domain,e=window.location.hostname;return t!=e&&t!="["+e+"]"},secure:"https:"==location.protocol}).gecko="Gecko"==navigator.product&&!n.webkit&&!n.ie,n.webkit&&(-1<t.indexOf("chrome")?n.chrome=!0:n.safari=!0);var i=0;return n.ie&&(i=e?parseFloat(e[1]):n.quirks||!document.documentMode?parseFloat(t.match(/msie (\d+)/)[1]):document.documentMode,n.ie9Compat=9==i,n.ie8Compat=8==i,n.ie7Compat=7==i,n.ie6Compat=i<7||n.quirks),n.gecko&&(e=t.match(/rv:([\d\.]+)/))&&(i=1e4*(e=e[1].split("."))[0]+100*(e[1]||0)+1*(e[2]||0)),n.air&&(i=parseFloat(t.match(/ adobeair\/(\d+)/)[1])),n.webkit&&(i=parseFloat(t.match(/ applewebkit\/(\d+)/)[1])),n.version=i,n.isCompatible=!(n.ie&&i<7||n.gecko&&i<4e4||n.webkit&&i<534),n.hidpi=2<=window.devicePixelRatio,n.needsBrFiller=n.gecko||n.webkit||n.ie&&10<i,n.needsNbspFiller=n.ie&&i<11,n.cssClass="cke_browser_"+(n.ie?"ie":n.gecko?"gecko":n.webkit?"webkit":"unknown"),n.quirks&&(n.cssClass+=" cke_browser_quirks"),n.ie&&(n.cssClass+=" cke_browser_ie"+(n.quirks?"6 cke_browser_iequirks":n.version)),n.air&&(n.cssClass+=" cke_browser_air"),n.iOS&&(n.cssClass+=" cke_browser_ios"),n.hidpi&&(n.cssClass+=" cke_hidpi"),n}()),"unloaded"==CKEDITOR.status&&(CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var t=document.createElement("script");t.type="text/javascript",t.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(t)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(t){(this._.pending||(this._.pending=[])).push(t)},CKEDITOR.domReady(function(){var t=CKEDITOR.loadFullCore,e=CKEDITOR.loadFullCoreTimeout;t&&(CKEDITOR.status="basic_ready",t&&t._load?t():e&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1e3*e))}),CKEDITOR.status="basic_loaded"),CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(t,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:t,additionalData:e})},CKEDITOR.error=function(t,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:t,additionalData:e})},CKEDITOR.on("log",function(t){if(window.console&&window.console.log){var e=console[t.data.type]?t.data.type:"log",n=t.data.errorCode;(t=t.data.additionalData)?console[e]("[CKEDITOR] Error code: "+n+".",t):console[e]("[CKEDITOR] Error code: "+n+"."),console[e]("[CKEDITOR] For more information about this error go to https://docs.ckeditor.com/ckeditor4/docs/#!/guide/dev_errors-section-"+n)}},null,null,999),CKEDITOR.dom={},d=[],h=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",f=/&/g,p=/>/g,g=/</g,m=/"/g,v=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,y={lt:"<",gt:">",amp:"&",quot:'"',nbsp:"",shy:""},CKEDITOR.on("reset",function(){d=[]}),CKEDITOR.tools={arrayCompare:function(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0},getIndex:function(t,e){for(var n=0;n<t.length;++n)if(e(t[n]))return n;return-1},clone:function(t){var e;if(t&&t instanceof Array){e=[];for(var n=0;n<t.length;n++)e[n]=CKEDITOR.tools.clone(t[n]);return e}if(null===t||"object"!=typeof t||t instanceof String||t instanceof Number||t instanceof Boolean||t instanceof Date||t instanceof RegExp||t.nodeType||t.window===t)return t;for(n in e=new t.constructor,t)e[n]=CKEDITOR.tools.clone(t[n]);return e},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},extend:function(t){var e,n,i=arguments.length;"boolean"==typeof(e=arguments[i-1])?i--:"boolean"==typeof(e=arguments[i-2])&&(n=arguments[i-1],i-=2);for(var o=1;o<i;o++){var r,a=arguments[o];for(r in a)!0!==e&&null!=t[r]||(!n||r in n)&&(t[r]=a[r])}return t},prototypedCopy:function(t){function e(){}return e.prototype=t,new e},copy:function(t){var e,n={};for(e in t)n[e]=t[e];return n},isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},cssVendorPrefix:function(t,e,n){return n?h+t+":"+e+";"+t+":"+e:((n={})[t]=e,n[h+t]=e,n)},cssStyleToDomStyle:(s=document.createElement("div").style,u=void 0!==s.cssFloat?"cssFloat":void 0!==s.styleFloat?"styleFloat":"float",function(t){return"float"==t?u:t.replace(/-./g,function(t){return t.substr(1).toUpperCase()})}),buildStyleHtml:function(t){t=[].concat(t);for(var e,n=[],i=0;i<t.length;i++)(e=t[i])&&(/@import|[{}]/.test(e)?n.push("<style>"+e+"</style>"):n.push('<link type="text/css" rel=stylesheet href="'+e+'">'));return n.join("")},htmlEncode:function(t){return null==t?"":String(t).replace(f,"&amp;").replace(p,"&gt;").replace(g,"&lt;")},htmlDecode:function(t){return t.replace(v,Yt)},htmlEncodeAttr:function(t){return CKEDITOR.tools.htmlEncode(t).replace(m,"&quot;")},htmlDecodeAttr:function(t){return CKEDITOR.tools.htmlDecode(t)},transformPlainTextToHtml:function(t,e){var n=e==CKEDITOR.ENTER_BR,i=(i=this.htmlEncode(t.replace(/\r\n/g,"\n"))).replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),o=e==CKEDITOR.ENTER_P?"p":"div";if(!n){var r=/\n{2}/g;if(r.test(i)){var a="<"+o+">",s="</"+o+">";i=a+i.replace(r,function(){return s+a})+s}}return i=i.replace(/\n/g,"<br>"),n||(i=i.replace(new RegExp("<br>(?=</"+o+">)"),function(t){return CKEDITOR.tools.repeat(t,2)})),(i=i.replace(/^ | $/g,"&nbsp;")).replace(/(>|\s) /g,function(t,e){return e+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:(t=0,function(){return++t}),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var t="e",e=0;e<8;e++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t},override:function(t,e){var n=e(t);return n.prototype=t.prototype,n},setTimeout:function(t,e,n,i,o){return o=o||window,n=n||o,o.setTimeout(function(){i?t.apply(n,[].concat(i)):t.apply(n)},e||0)},trim:(a=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,function(t){return t.replace(a,"")}),ltrim:(r=/^[ \t\n\r]+/g,function(t){return t.replace(r,"")}),rtrim:(o=/[ \t\n\r]+$/g,function(t){return t.replace(o,"")}),indexOf:function(t,e){if("function"==typeof e){for(var n=0,i=t.length;n<i;n++)if(e(t[n]))return n}else{if(t.indexOf)return t.indexOf(e);for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1},search:function(t,e){var n=CKEDITOR.tools.indexOf(t,e);return 0<=n?t[n]:null},bind:function(t,e){return function(){return t.apply(e,arguments)}},createClass:function(t){var e=t.$,n=t.base,i=t.privates||t._,o=t.proto;if(t=t.statics,e=e||function(){n&&this.base.apply(this,arguments)},i){var r=e;e=function(){var t,e=this._||(this._={});for(t in i){var n=i[t];e[t]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}r.apply(this,arguments)}}return n&&(e.prototype=this.prototypedCopy(n.prototype),(e.prototype.constructor=e).base=n,e.baseProto=n.prototype,e.prototype.base=function(){this.base=n.prototype.base,n.apply(this,arguments),this.base=arguments.callee}),o&&this.extend(e.prototype,o,!0),t&&this.extend(e,t,!0),e},addFunction:function(t,e){return d.push(function(){return t.apply(e||this,arguments)})-1},removeFunction:function(t){d[t]=null},callFunction:function(t){var e=d[t];return e&&e.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:(i=/^-?\d+\.?\d*px$/,function(t){return n=CKEDITOR.tools.trim(t+"")+"px",i.test(n)?n:t||""}),convertToPx:function(t){return e||(e=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(e)),/%$/.test(t)?t:(e.setStyle("width",t),e.$.clientWidth)},repeat:function(t,e){return Array(e+1).join(t)},tryThese:function(){for(var t,e=0,n=arguments.length;e<n;e++){var i=arguments[e];try{t=i();break}catch(t){}}return t},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(n){return function(){var t=arguments,e=this;window.setTimeout(function(){n.apply(e,t)},0)}},normalizeCssText:function(t,e){var n,i=[],o=CKEDITOR.tools.parseCssText(t,!0,e);for(n in o)i.push(n+":"+o[n]);return i.sort(),i.length?i.join(";")+";":""},convertRgbToHex:function(t){return t.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(t,e,n,i){for(t=[e,n,i],e=0;e<3;e++)t[e]=("0"+parseInt(t[e],10).toString(16)).slice(-2);return"#"+t.join("")})},normalizeHex:function(t){return t.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(t,e,n,i){return 3==(t=e.toLowerCase()).length&&(t=[(t=t.split(""))[0],t[0],t[1],t[1],t[2],t[2]].join("")),"#"+t+i})},parseCssText:function(t,i,e){var o={};return e&&(t=new CKEDITOR.dom.element("span").setAttribute("style",t).getAttribute("style")||""),(t=t&&CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(t)))&&";"!=t&&t.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(t,e,n){i&&("font-family"==(e=e.toLowerCase())&&(n=n.replace(/\s*,\s*/g,",")),n=CKEDITOR.tools.trim(n)),o[e]=n}),o},writeCssText:function(t,e){var n,i=[];for(n in t)i.push(n+":"+t[n]);return e&&i.sort(),i.join("; ")},objectCompare:function(t,e,n){var i;if(!t&&!e)return!0;if(!t||!e)return!1;for(i in t)if(t[i]!=e[i])return!1;if(!n)for(i in e)if(t[i]!=e[i])return!1;return!0},objectKeys:function(t){var e,n=[];for(e in t)n.push(e);return n},convertArrayToObject:function(t,e){var n={};1==arguments.length&&(e=!0);for(var i=0,o=t.length;i<o;++i)n[t[i]]=e;return n},fixDomain:function(){for(var e;;)try{e=window.parent.document.domain;break}catch(t){if(!(e=e?e.replace(/.+?(?:\.|$)/,""):document.domain))break;document.domain=e}return!!e},eventsBuffer:function(e,t,n){function i(){r=(new Date).getTime(),o=!1,n?t.call(n):t()}var o,r=0;return{input:function(){if(!o){var t=(new Date).getTime()-r;t<e?o=setTimeout(i,e-t):i()}},reset:function(){o&&clearTimeout(o),o=r=0}}},enableHtml5Elements:function(t,e){for(var n,i="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),o=i.length;o--;)n=t.createElement(i[o]),e&&t.appendChild(n)},checkIfAnyArrayItemMatches:function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n].match(e))return!0;return!1},checkIfAnyObjectPropertyMatches:function(t,e){for(var n in t)if(n.match(e))return!0;return!1},keystrokeToString:function(t,e){var n=this.keystrokeToArray(t,e);return n.display=n.display.join("+"),n.aria=n.aria.join("+"),n},keystrokeToArray:function(t,e){var n=16711680&e,i=65535&e,o=CKEDITOR.env.mac,r=[],a=[];return n&CKEDITOR.CTRL&&(r.push(o?"":t[17]),a.push(o?t[224]:t[17])),n&CKEDITOR.ALT&&(r.push(o?"":t[18]),a.push(t[18])),n&CKEDITOR.SHIFT&&(r.push(o?"":t[16]),a.push(t[16])),i&&(t[i]?(r.push(t[i]),a.push(t[i])):(r.push(String.fromCharCode(i)),a.push(String.fromCharCode(i)))),{display:r,aria:a}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(t){t=t.toLowerCase();for(var e,n=document.cookie.split(";"),i=0;i<n.length;i++)if(e=n[i].split("="),decodeURIComponent(CKEDITOR.tools.trim(e[0]).toLowerCase())===t)return decodeURIComponent(1<e.length?e[1]:"");return null},setCookie:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path=/"},getCsrfToken:function(){if(!(t=CKEDITOR.tools.getCookie("ckCsrfToken"))||40!=t.length){var t=[],e="";if(window.crypto&&window.crypto.getRandomValues)t=new Uint8Array(40),window.crypto.getRandomValues(t);else for(var n=0;n<40;n++)t.push(Math.floor(256*Math.random()));for(n=0;n<t.length;n++){var i="abcdefghijklmnopqrstuvwxyz0123456789".charAt(t[n]%36);e+=.5<Math.random()?i.toUpperCase():i}t=e,CKEDITOR.tools.setCookie("ckCsrfToken",t)}return t},escapeCss:function(t){return t?window.CSS&&CSS.escape?CSS.escape(t):isNaN(parseInt(t.charAt(0),10))?t:"\\3"+t.charAt(0)+" "+t.substring(1,t.length):""},getMouseButton:function(t){var e=(t=t.data)&&t.$;return!(!t||!e)&&(CKEDITOR.env.ie&&CKEDITOR.env.version<9?4===e.button?CKEDITOR.MOUSE_BUTTON_MIDDLE:1===e.button?CKEDITOR.MOUSE_BUTTON_LEFT:CKEDITOR.MOUSE_BUTTON_RIGHT:e.button)},convertHexStringToBytes:function(t){var e,n=[],i=t.length/2;for(e=0;e<i;e++)n.push(parseInt(t.substr(2*e,2),16));return n},convertBytesToBase64:function(t){var e,n="",i=t.length;for(e=0;e<i;e+=3){var o,r=t.slice(e,e+3),a=r.length,s=[];if(a<3)for(o=a;o<3;o++)r[o]=0;for(s[0]=(252&r[0])>>2,s[1]=(3&r[0])<<4|r[1]>>4,s[2]=(15&r[1])<<2|(192&r[2])>>6,s[3]=63&r[2],o=0;o<4;o++)n=o<=a?n+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s[o]):n+"="}return n},style:{parse:{_colors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(e){var t={},n=this._findColor(e);return n.length&&(t.color=n[0],CKEDITOR.tools.array.forEach(n,function(t){e=e.replace(t,"")})),(e=CKEDITOR.tools.trim(e))&&(t.unprocessed=e),t},margin:function(t){function e(t){n.top=i[t[0]],n.right=i[t[1]],n.bottom=i[t[2]],n.left=i[t[3]]}var n={},i=t.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset)/g)||["0px"];switch(i.length){case 1:e([0,0,0,0]);break;case 2:e([0,1,0,1]);break;case 3:e([0,1,2,1]);break;case 4:e([0,1,2,3])}return n},border:function(t){var n={};return t=t.split(/\s+/),CKEDITOR.tools.array.forEach(t,function(t){if(!n.color){var e=CKEDITOR.tools.style.parse._findColor(t);if(e.length)return void(n.color=e[0])}n.style||-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,t)?!n.width&&CKEDITOR.tools.style.parse._widthRegExp.test(t)&&(n.width=t):n.style=t}),n},_findColor:function(t){var e=[],n=CKEDITOR.tools.array;return(e=(e=e.concat(t.match(this._rgbaRegExp)||[])).concat(t.match(this._hslaRegExp)||[])).concat(n.filter(t.split(/\s+/),function(t){return!!t.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)||t.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(n,i,o){var r=[];return this.forEach(n,function(t,e){i.call(o,t,e,n)&&r.push(t)}),r},forEach:function(t,e,n){var i,o=t.length;for(i=0;i<o;i++)e.call(n,t[i],i,t)},map:function(t,e,n){for(var i=[],o=0;o<t.length;o++)i.push(e.call(n,t[o],o,t));return i},reduce:function(t,e,n,i){for(var o=0;o<t.length;o++)n=e.call(i,n,t[o],o,t);return n},every:function(t,e,n){return!t.length||(e=this.filter(t,e,n),t.length===e.length)}},object:{findKey:function(t,e){if("object"!=typeof t)return null;for(var n in t)if(t[n]===e)return n;return null},merge:function(t,e){var n=CKEDITOR.tools,i=n.clone(t),o=n.clone(e);return n.array.forEach(n.objectKeys(o),function(t){i[t]="object"==typeof o[t]&&"object"==typeof i[t]?n.object.merge(i[t],o[t]):o[t]}),i}}},CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf,CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray,CKEDITOR.MOUSE_BUTTON_LEFT=0,CKEDITOR.MOUSE_BUTTON_MIDDLE=1,CKEDITOR.MOUSE_BUTTON_RIGHT=2,CKEDITOR.dtd=(b=CKEDITOR.tools.extend,_=function(t,e){for(var n=CKEDITOR.tools.clone(t),i=1;i<arguments.length;i++)for(var o in e=arguments[i])delete n[o];return n},w={},T={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},C={command:1,link:1,meta:1,noscript:1,script:1,style:1},x={},O={center:1,dir:1,noframes:1},b(E={},{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,var:1,video:1,wbr:1},D={"#":1},{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),b(w,T,E,O),b(_={a:_(E,{a:1,button:1}),abbr:E,address:w,area:x,article:w,aside:w,audio:b({source:1,track:1},w),b:E,base:x,bdi:E,bdo:E,blockquote:w,body:w,br:x,button:_(E,{a:1,button:1}),canvas:E,caption:w,cite:E,code:E,col:x,colgroup:{col:1},command:x,datalist:b({option:1},E),dd:w,del:E,details:b({summary:1},w),dfn:E,div:w,dl:{dt:1,dd:1},dt:w,em:E,embed:x,fieldset:b({legend:1},w),figcaption:w,figure:b({figcaption:1},w),footer:w,form:w,h1:E,h2:E,h3:E,h4:E,h5:E,h6:E,head:b({title:1,base:1},C),header:w,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:x,html:b({head:1,body:1},w,C),i:E,iframe:D,img:x,input:x,ins:E,kbd:E,keygen:x,label:E,legend:E,li:w,link:x,main:w,map:w,mark:E,menu:b({li:1},w),meta:x,meter:_(E,{meter:1}),nav:w,noscript:b({link:1,meta:1,style:1},E),object:b({param:1},E),ol:{li:1},optgroup:{option:1},option:D,output:E,p:E,param:x,pre:E,progress:_(E,{progress:1}),q:E,rp:E,rt:E,ruby:b({rp:1,rt:1},E),s:E,samp:E,script:D,section:w,select:{optgroup:1,option:1},small:E,source:x,span:E,strong:E,style:D,sub:E,summary:b({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},E),sup:E,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:w,textarea:D,tfoot:{tr:1},th:w,thead:{tr:1},time:_(E,{time:1}),title:D,tr:{th:1,td:1},track:x,u:E,ul:{li:1},var:E,video:b({source:1,track:1},w),wbr:x,acronym:E,applet:b({param:1},w),basefont:x,big:E,center:w,dialog:x,dir:{li:1},font:E,isindex:x,noframes:w,strike:E,tt:E},{$block:b({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},T,O),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:E,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:b({body:1,head:1,html:1},_.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,var:1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),_),CKEDITOR.dom.event=function(t){this.$=t},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var t=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(t+=CKEDITOR.CTRL),this.$.shiftKey&&(t+=CKEDITOR.SHIFT),this.$.altKey&&(t+=CKEDITOR.ALT),t},preventDefault:function(t){var e=this.$;e.preventDefault?e.preventDefault():e.returnValue=!1,t&&this.stopPropagation()},stopPropagation:function(){var t=this.$;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},getTarget:function(){var t=this.$.target||this.$.srcElement;return t?new CKEDITOR.dom.node(t):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var t=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(t.documentElement.scrollLeft||t.body.scrollLeft),y:this.$.pageY||this.$.clientY+(t.documentElement.scrollTop||t.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(t){t&&(this.$=t)},CKEDITOR.dom.domObject.prototype={getPrivate:function(){var t;return(t=this.getCustomData("_"))||this.setCustomData("_",t={}),t},on:function(t){var e=this.getCustomData("_cke_nativeListeners");return e||(e={},this.setCustomData("_cke_nativeListeners",e)),e[t]||(e=e[t]=function(e,n){return function(t){"undefined"!=typeof CKEDITOR&&e.fire(n,new CKEDITOR.dom.event(t))}}(this,t),this.$.addEventListener?this.$.addEventListener(t,e,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+t,e)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(t){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(t)){var e=this.getCustomData("_cke_nativeListeners"),n=e&&e[t];n&&(this.$.removeEventListener?this.$.removeEventListener(t,n,!1):this.$.detachEvent&&this.$.detachEvent("on"+t,n),delete e[t])}},removeAllListeners:function(){var t,e=this.getCustomData("_cke_nativeListeners");for(t in e){var n=e[t];this.$.detachEvent?this.$.detachEvent("on"+t,n):this.$.removeEventListener&&this.$.removeEventListener(t,n,!1),delete e[t]}CKEDITOR.event.prototype.removeAllListeners.call(this)}},I=CKEDITOR.dom.domObject.prototype,k={},CKEDITOR.on("reset",function(){k={}}),I.equals=function(t){try{return t&&t.$===this.$}catch(t){return!1}},I.setCustomData=function(t,e){var n=this.getUniqueId();return(k[n]||(k[n]={}))[t]=e,this},I.getCustomData=function(t){var e=this.$["data-cke-expando"];return(e=e&&k[e])&&t in e?e[t]:null},I.removeCustomData=function(t){var e,n,i;return(e=(e=this.$["data-cke-expando"])&&k[e])&&(n=e[t],i=t in e,delete e[t]),i?n:null},I.clearCustomData=function(){this.removeAllListeners();var t=this.$["data-cke-expando"];t&&delete k[t]},I.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(I),CKEDITOR.dom.node=function(t){return t?new CKEDITOR.dom[t.nodeType==CKEDITOR.NODE_DOCUMENT?"document":t.nodeType==CKEDITOR.NODE_ELEMENT?"element":t.nodeType==CKEDITOR.NODE_TEXT?"text":t.nodeType==CKEDITOR.NODE_COMMENT?"comment":t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](t):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(t,e){return t.append(this,e),t},clone:function(i,o){var t=this.$.cloneNode(i);return function t(e){if(e["data-cke-expando"]&&(e["data-cke-expando"]=!1),(e.nodeType==CKEDITOR.NODE_ELEMENT||e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(o||e.nodeType!=CKEDITOR.NODE_ELEMENT||e.removeAttribute("id",!1),i)){e=e.childNodes;for(var n=0;n<e.length;n++)t(e[n])}}(t),t=new CKEDITOR.dom.node(t),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&function t(e){if(e.type==CKEDITOR.NODE_ELEMENT||e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var n=e.getName();":"==n[0]&&e.renameNode(n.substring(1))}if(i)for(n=0;n<e.getChildCount();n++)t(e.getChild(n))}}(t),t},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(t){return t.$.parentNode.insertBefore(this.$,t.$.nextSibling),t},insertBefore:function(t){return t.$.parentNode.insertBefore(this.$,t.$),t},insertBeforeMe:function(t){return this.$.parentNode.insertBefore(t.$,this.$),t},getAddress:function(t){for(var e=[],n=this.getDocument().$.documentElement,i=this.$;i&&i!=n;){var o=i.parentNode;o&&e.unshift(this.getIndex.call({$:i},t)),i=o}return e},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(t){function i(t,e){var n=e?t.nextSibling:t.previousSibling;return n&&n.nodeType==CKEDITOR.NODE_TEXT?o(n)?i(n,e):n:null}function o(t){return!t.nodeValue||t.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var e,n=this.$,r=-1;if(!this.$.parentNode||t&&n.nodeType==CKEDITOR.NODE_TEXT&&o(n)&&!i(n)&&!i(n,!0))return-1;for(;t&&n!=this.$&&n.nodeType==CKEDITOR.NODE_TEXT&&(e||o(n))||(r++,e=n.nodeType==CKEDITOR.NODE_TEXT),n=n.previousSibling;);return r},getNextSourceNode:function(t,e,n){if(n&&!n.call){var i=n;n=function(t){return!t.equals(i)}}var o;if(!(t=!t&&this.getFirst&&this.getFirst())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;t=this.getNext()}for(;!t&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;t=o.getNext()}return!t||n&&!1===n(t)?null:e&&e!=t.type?t.getNextSourceNode(!1,e,n):t},getPreviousSourceNode:function(t,e,n){if(n&&!n.call){var i=n;n=function(t){return!t.equals(i)}}var o;if(!(t=!t&&this.getLast&&this.getLast())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;t=this.getPrevious()}for(;!t&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;t=o.getPrevious()}return!t||n&&!1===n(t)?null:e&&t.type!=e?t.getPreviousSourceNode(!1,e,n):t},getPrevious:function(t){for(var e,n=this.$;(e=(n=n.previousSibling)&&10!=n.nodeType&&new CKEDITOR.dom.node(n))&&t&&!t(e););return e},getNext:function(t){for(var e,n=this.$;(e=(n=n.nextSibling)&&new CKEDITOR.dom.node(n))&&t&&!t(e););return e},getParent:function(t){var e=this.$.parentNode;return e&&(e.nodeType==CKEDITOR.NODE_ELEMENT||t&&e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(e):null},getParents:function(t){for(var e=this,n=[];n[t?"push":"unshift"](e),e=e.getParent(););return n},getCommonAncestor:function(t){if(t.equals(this))return this;if(t.contains&&t.contains(this))return t;var e=this.contains?this:this.getParent();do{if(e.contains(t))return e}while(e=e.getParent());return null},getPosition:function(t){var e=this.$,n=t.$;if(e.compareDocumentPosition)return e.compareDocumentPosition(n);if(e==n)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&t.type==CKEDITOR.NODE_ELEMENT){if(e.contains){if(e.contains(n))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(n.contains(e))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in e)return e.sourceIndex<0||n.sourceIndex<0?CKEDITOR.POSITION_DISCONNECTED:e.sourceIndex<n.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}e=this.getAddress(),t=t.getAddress();n=Math.min(e.length,t.length);for(var i=0;i<n;i++)if(e[i]!=t[i])return e[i]<t[i]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return e.length<t.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(e,t){var n,i,o=this.$;for(t||(o=o.parentNode),n="function"==typeof e?(i=!0,e):(i=!1,function(t){return t="string"==typeof t.nodeName?t.nodeName.toLowerCase():"","string"==typeof e?t==e:t in e});o;){if(n(i?new CKEDITOR.dom.node(o):o))return new CKEDITOR.dom.node(o);try{o=o.parentNode}catch(t){o=null}}return null},hasAscendant:function(t,e){var n=this.$;for(e||(n=n.parentNode);n;){if(n.nodeName&&n.nodeName.toLowerCase()==t)return!0;n=n.parentNode}return!1},move:function(t,e){t.append(this.remove(),e)},remove:function(t){var e=this.$,n=e.parentNode;if(n){if(t)for(;t=e.firstChild;)n.insertBefore(e.removeChild(t),e);n.removeChild(e)}return this},replace:function(t){this.insertBefore(t),t.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var t;this.getFirst&&(t=this.getFirst());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.ltrim(t.getText()),n=t.getLength();if(!e){t.remove();continue}e.length<n&&(t.split(n-e.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var t;this.getLast&&(t=this.getLast());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.rtrim(t.getText()),n=t.getLength();if(!e){t.remove();continue}e.length<n&&(t.split(e.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(t=this.$.lastChild)&&1==t.type&&"br"==t.nodeName.toLowerCase()&&t.parentNode.removeChild(t)},isReadOnly:function(t){var e=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(e=this.getParent()),CKEDITOR.env.edge&&e&&e.is("textarea","input")&&(t=!0),!t&&e&&void 0!==e.$.isContentEditable)return!(e.$.isContentEditable||e.data("cke-editable"));for(;e;){if(e.data("cke-editable"))return!1;if(e.hasAttribute("contenteditable"))return"false"==e.getAttribute("contenteditable");e=e.getParent()}return!0}}),CKEDITOR.dom.window=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var t=this.$.document,e="CSS1Compat"==t.compatMode;return{width:(e?t.documentElement.clientWidth:t.body.clientWidth)||0,height:(e?t.documentElement.clientHeight:t.body.clientHeight)||0}},getScrollPosition:function(){var t=this.$;return"pageXOffset"in t?{x:t.pageXOffset||0,y:t.pageYOffset||0}:{x:(t=t.document).documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0}},getFrame:function(){var t=this.$.frameElement;return t?new CKEDITOR.dom.element.get(t):null}}),CKEDITOR.dom.document=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(t){if(this.$.createStyleSheet)this.$.createStyleSheet(t);else{var e=new CKEDITOR.dom.element("link");e.setAttributes({rel:"stylesheet",type:"text/css",href:t}),this.getHead().append(e)}},appendStyleText:function(t){if(this.$.createStyleSheet){var e=this.$.createStyleSheet("");e.cssText=t}else{var n=new CKEDITOR.dom.element("style",this);n.append(new CKEDITOR.dom.text(t,this)),this.getHead().append(n)}return e||n.$.sheet},createElement:function(t,e){var n=new CKEDITOR.dom.element(t,this);return e&&(e.attributes&&n.setAttributes(e.attributes),e.styles&&n.setStyles(e.styles)),n},createText:function(t){return new CKEDITOR.dom.text(t,this)},focus:function(){this.getWindow().focus()},getActive:function(){var t;try{t=this.$.activeElement}catch(t){return null}return new CKEDITOR.dom.element(t)},getById:function(t){return(t=this.$.getElementById(t))?new CKEDITOR.dom.element(t):null},getByAddress:function(t,e){for(var n=this.$.documentElement,i=0;n&&i<t.length;i++){var o=t[i];if(e)for(var r=-1,a=0;a<n.childNodes.length;a++){var s=n.childNodes[a];if((!0!==e||3!=s.nodeType||!s.previousSibling||3!=s.previousSibling.nodeType)&&++r==o){n=s;break}}else n=n.childNodes[o]}return n?new CKEDITOR.dom.node(n):null},getElementsByTag:function(t,e){return CKEDITOR.env.ie&&document.documentMode<=8||!e||(t=e+":"+t),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(t))},getHead:function(){var t=this.$.getElementsByTagName("head")[0];return t?new CKEDITOR.dom.element(t):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(t){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(t=t.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();<\/script>")),this.$.write(t),this.$.close()},find:function(t){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(t))},findOne:function(t){return(t=this.$.querySelector(t))?new CKEDITOR.dom.element(t):null},_getHtml5ShivFrag:function(){var t=this.getCustomData("html5ShivFrag");return t||(t=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(t,!0),this.setCustomData("html5ShivFrag",t)),t}}),CKEDITOR.dom.nodeList=function(t){this.$=t},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(t){return t<0||t>=this.$.length?null:(t=this.$[t])?new CKEDITOR.dom.node(t):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,function(t){return new CKEDITOR.dom.node(t)})}},CKEDITOR.dom.element=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createElement(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.element.get=function(t){return(t="string"==typeof t?document.getElementById(t)||document.getElementsByName(t)[0]:t)&&(t.$?t:new CKEDITOR.dom.element(t))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(t,e){var n=new CKEDITOR.dom.element("div",e);return n.setHtml(t),n.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(t,e,n,i){var o=e.getCustomData("list_marker_id")||e.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),r=e.getCustomData("list_marker_names")||e.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return t[o]=e,r[n]=1,e.setCustomData(n,i)},CKEDITOR.dom.element.clearAllMarkers=function(t){for(var e in t)CKEDITOR.dom.element.clearMarkers(t,t[e],1)},CKEDITOR.dom.element.clearMarkers=function(t,e,n){var i,o=e.getCustomData("list_marker_names"),r=e.getCustomData("list_marker_id");for(i in o)e.removeCustomData(i);e.removeCustomData("list_marker_names"),n&&(e.removeCustomData("list_marker_id"),delete t[r])},function(){function n(t,e){return-1<(" "+t+" ").replace(a," ").indexOf(" "+e+" ")}function i(t){var e=!0;return t.$.id||(t.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),e=!1),function(){e||t.removeAttribute("id")}}function o(t,e){var n=CKEDITOR.tools.escapeCss(t.$.id);return"#"+n+" "+e.split(/,\s*/).join(", #"+n+" ")}function r(t){for(var e=0,n=0,i=h[t].length;n<i;n++)e+=parseFloat(this.getComputedStyle(h[t][n])||0,10)||0;return e}var e,t=void 0!==(t=document.createElement("_").classList)&&null!==String(t.add).match(/\[Native code\]/gi),a=/[\n\t\r]/g;function s(t,e){var n=t.childNodes;if(0<=e&&e<n.length)return n[e]}function l(t,e){return this.$.setAttribute(t,e),this}function c(t,e,n){if(e&&e.type==CKEDITOR.NODE_ELEMENT){for(var i=[];e.data("cke-bookmark")||e.isEmptyInlineRemoveable();)if(i.push(e),!(e=n?e.getNext():e.getPrevious())||e.type!=CKEDITOR.NODE_ELEMENT)return;if(t.isIdentical(e)){for(var o=n?t.getLast():t.getFirst();i.length;)i.shift().move(t,!n);e.moveChildren(t,!n),e.remove(),o&&o.type==CKEDITOR.NODE_ELEMENT&&o.mergeSiblings()}}}function u(t){var e=this.$.attributes.getNamedItem(t);if("input"==this.getName())switch(t){case"class":return 0<this.$.className.length;case"checked":return!!this.$.checked;case"value":return"checkbox"==(t=this.getAttribute("type"))||"radio"==t?"on"!=this.$.value:!!this.$.value}return!!e&&e.specified}function d(){try{this.$.focus()}catch(t){}}CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:t?function(t){return this.$.classList.add(t),this}:function(t){var e=this.$.className;return e&&(n(e,t)||(e+=" "+t)),this.$.className=e||t,this},removeClass:t?function(t){var e=this.$;return e.classList.remove(t),e.className||e.removeAttribute("class"),this}:function(t){var e=this.getAttribute("class");return e&&n(e,t)&&((e=e.replace(new RegExp("(?:^|\\s+)"+t+"(?=\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",e):this.removeAttribute("class")),this},hasClass:function(t){return n(this.$.className,t)},append:function(t,e){return"string"==typeof t&&(t=this.getDocument().createElement(t)),e?this.$.insertBefore(t.$,this.$.firstChild):this.$.appendChild(t.$),t},appendHtml:function(t){if(this.$.childNodes.length){var e=new CKEDITOR.dom.element("div",this.getDocument());e.setHtml(t),e.moveChildren(this)}else this.setHtml(t)},appendText:function(t){null!=this.$.text&&CKEDITOR.env.ie&&CKEDITOR.env.version<9?this.$.text+=t:this.append(new CKEDITOR.dom.text(t))},appendBogus:function(t){if(t||CKEDITOR.env.needsBrFiller){for(t=this.getLast();t&&t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(t.getText());)t=t.getPrevious();t&&t.is&&t.is("br")||(t=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&t.setAttribute("type","_moz"),this.append(t))}},breakParent:function(t,e){var n=new CKEDITOR.dom.range(this.getDocument());n.setStartAfter(this),n.setEndAfter(t);var i,o=n.extractContents(!1,e||!1);if(n.insertNode(this.remove()),CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(n=new CKEDITOR.dom.element("div");i=o.getFirst();)i.$.style.backgroundColor&&(i.$.style.backgroundColor=i.$.style.backgroundColor),n.append(i);n.insertAfter(this),n.remove(!0)}else o.insertAfterNode(this)},contains:document.compareDocumentPosition?function(t){return!!(16&this.$.compareDocumentPosition(t.$))}:function(t){var e=this.$;return t.type!=CKEDITOR.NODE_ELEMENT?e.contains(t.getParent().$):e!=t.$&&e.contains(t.$)},focus:function(t){t?CKEDITOR.tools.setTimeout(d,100,this):d.call(this)},getHtml:function(){var t=this.$.innerHTML;return CKEDITOR.env.ie?t.replace(/<\?[^>]*>/g,""):t},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var t=this.$.ownerDocument.createElement("div");return t.appendChild(this.$.cloneNode(!0)),t.innerHTML},getClientRect:function(){var t=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return t.width||(t.width=t.right-t.left),t.height||(t.height=t.bottom-t.top),t},setHtml:CKEDITOR.env.ie&&CKEDITOR.env.version<9?function(e){try{var n=this.$;if(this.getParent())return n.innerHTML=e;var t=this.getDocument()._getHtml5ShivFrag();return t.appendChild(n),n.innerHTML=e,t.removeChild(n),e}catch(t){for(this.$.innerHTML="",(n=new CKEDITOR.dom.element("body",this.getDocument())).$.innerHTML=e,n=n.getChildren();n.count();)this.append(n.getItem(0));return e}}:function(t){return this.$.innerHTML=t},setText:(e=document.createElement("p"),e.innerHTML="x",e=e.textContent,function(t){this.$[e?"textContent":"innerText"]=t}),getAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){switch(t){case"class":t="className";break;case"http-equiv":t="httpEquiv";break;case"name":return this.$.name;case"tabindex":return 0!==(t=this.$.getAttribute(t,2))&&0===this.$.tabIndex&&(t=null),t;case"checked":return((t=this.$.attributes.getNamedItem(t)).specified?t.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[t];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(t,2)}:function(t){return this.$.getAttribute(t,2)},getAttributes:function(t){var e,n={},i=this.$.attributes;for(t=CKEDITOR.tools.isArray(t)?t:[],e=0;e<i.length;e++)-1===CKEDITOR.tools.indexOf(t,i[e].name)&&(n[i[e].name]=i[e].value);return n},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(t){var e=this.getWindow().$.getComputedStyle(this.$,null);return e?e.getPropertyValue(t):""}:function(t){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(t)]},getDtd:function(){var t=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return t},t},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var t=this.$.tabIndex;return 0!==t||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?t:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var t=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&document.documentMode<=8){var e=this.$.scopeName;"HTML"!=e&&(t=e.toLowerCase()+":"+t)}return this.getName=function(){return t},this.getName()},getValue:function(){return this.$.value},getFirst:function(t){var e=this.$.firstChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getNext(t)),e},getLast:function(t){var e=this.$.lastChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getPrevious(t)),e},getStyle:function(t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]},is:function(){var t=this.getName();if("object"==typeof arguments[0])return!!arguments[0][t];for(var e=0;e<arguments.length;e++)if(arguments[e]==t)return!0;return!1},isEditable:function(t){var e=this.getName();return!(this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[e]||CKEDITOR.dtd.$empty[e]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount())&&(!1===t||!(!(t=CKEDITOR.dtd[e]||CKEDITOR.dtd.span)||!t["#"]))},isIdentical:function(t){var e=this.clone(0,1);if(t=t.clone(0,1),e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.$.isEqualNode)return e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.isEqualNode(t.$);if(e=e.getOuterHtml(),t=t.getOuterHtml(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&this.is("a")){var n=this.getParent();n.type==CKEDITOR.NODE_ELEMENT&&((n=n.clone()).setHtml(e),e=n.getHtml(),n.setHtml(t),t=n.getHtml())}return e==t},isVisible:function(){var t,e,n=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return n&&CKEDITOR.env.webkit&&(!(t=this.getWindow()).equals(CKEDITOR.document.getWindow())&&(e=t.$.frameElement)&&(n=new CKEDITOR.dom.element(e).isVisible())),!!n},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var t=this.getChildren(),e=0,n=t.count();e<n;e++){var i=t.getItem(e);if((i.type!=CKEDITOR.NODE_ELEMENT||!i.data("cke-bookmark"))&&(i.type==CKEDITOR.NODE_ELEMENT&&!i.isEmptyInlineRemoveable()||i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var t=this.$.attributes,e=0;e<t.length;e++){var n=t[e];switch(n.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(n.specified)return!0}}return!1}:function(){var t=this.$.attributes,e=t.length,n={"data-cke-expando":1,_moz_dirty:1};return 0<e&&(2<e||!n[t[0].nodeName]||2==e&&!n[t[1].nodeName])},hasAttribute:CKEDITOR.env.ie?CKEDITOR.env.version<8?function(t){return"name"==t?!!this.$.name:u.call(this,t)}:u:function(t){return!!this.$.attributes.getNamedItem(t)},hide:function(){this.setStyle("display","none")},moveChildren:function(t,e){var n,i=this.$;if(i!=(t=t.$))if(e)for(;n=i.lastChild;)t.insertBefore(i.removeChild(n),t.firstChild);else for(;n=i.firstChild;)t.appendChild(i.removeChild(n))},mergeSiblings:function(t){(!1===t||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(c(this,this.getNext(),!0),c(this,this.getPrevious()))},show:function(){this.setStyles({display:"",visibility:""})},setAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t,e){return"class"==t?this.$.className=e:"style"==t?this.$.style.cssText=e:"tabindex"==t?this.$.tabIndex=e:"checked"==t?this.$.checked=e:"contenteditable"==t?l.call(this,"contentEditable",e):l.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(t,e){if("src"==t&&e.match(/^http:\/\//))try{l.apply(this,arguments)}catch(t){}else l.apply(this,arguments);return this}:l,setAttributes:function(t){for(var e in t)this.setAttribute(e,t[e]);return this},setValue:function(t){return this.$.value=t,this},removeAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){"class"==t?t="className":"tabindex"==t?t="tabIndex":"contenteditable"==t&&(t="contentEditable"),this.$.removeAttribute(t)}:function(t){this.$.removeAttribute(t)},removeAttributes:function(t){if(CKEDITOR.tools.isArray(t))for(var e=0;e<t.length;e++)this.removeAttribute(t[e]);else for(e in t=t||this.getAttributes())t.hasOwnProperty(e)&&this.removeAttribute(e)},removeStyle:function(t){if((i=this.$.style).removeProperty||"border"!=t&&"margin"!=t&&"padding"!=t)i.removeProperty?i.removeProperty(t):i.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(t)),this.$.style.cssText||this.removeAttribute("style");else{var e,n=["top","left","right","bottom"];"border"==t&&(e=["color","style","width"]);for(var i=[],o=0;o<n.length;o++)if(e)for(var r=0;r<e.length;r++)i.push([t,n[o],e[r]].join("-"));else i.push([t,n[o]].join("-"));for(t=0;t<i.length;t++)this.removeStyle(i[t])}},setStyle:function(t,e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]=e,this},setStyles:function(t){for(var e in t)this.setStyle(e,t[e]);return this},setOpacity:function(t){CKEDITOR.env.ie&&CKEDITOR.env.version<9?(t=Math.round(100*t),this.setStyle("filter",100<=t?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+t+")")):this.setStyle("opacity",t)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var t=this.getElementsByTag("*"),e=0,n=t.count();e<n;e++)t.getItem(e).setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var t=this;"html"!=t.getName();){if("static"!=t.getComputedStyle("position"))return t;t=t.getParent()}return null},getDocumentPosition:function(t){var e=0,n=0,i=this.getDocument(),o=i.getBody(),r="BackCompat"==i.$.compatMode;if(!document.documentElement.getBoundingClientRect||CKEDITOR.env.ie&&8===CKEDITOR.env.version)for(l=this,c=null;l&&"body"!=l.getName()&&"html"!=l.getName();){for(e+=l.$.offsetLeft-l.$.scrollLeft,n+=l.$.offsetTop-l.$.scrollTop,l.equals(this)||(e+=l.$.clientLeft||0,n+=l.$.clientTop||0);c&&!c.equals(l);)e-=c.$.scrollLeft,n-=c.$.scrollTop,c=c.getParent();l=(a=(c=l).$.offsetParent)?new CKEDITOR.dom.element(a):null}else{var a=this.$.getBoundingClientRect(),s=i.$.documentElement,l=s.clientTop||o.$.clientTop||0,c=s.clientLeft||o.$.clientLeft||0,u=!0;CKEDITOR.env.ie&&(u=i.getDocumentElement().contains(this),i=i.getBody().contains(this),u=r&&i||!r&&u),u&&(n=CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(e=o.$.scrollLeft||s.scrollLeft,o.$.scrollTop||s.scrollTop):(e=(n=r?o.$:s).scrollLeft,n.scrollTop),e=a.left+e-c,n=a.top+n-l)}return t&&(a=this.getWindow(),l=t.getWindow(),!a.equals(l)&&a.$.frameElement&&(e+=(t=new CKEDITOR.dom.element(a.$.frameElement).getDocumentPosition(t)).x,n+=t.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||r||(e+=this.$.clientLeft?1:0,n+=this.$.clientTop?1:0),{x:e,y:n}},scrollIntoView:function(t){var e=this.getParent();if(e)do{if((e.$.clientWidth&&e.$.clientWidth<e.$.scrollWidth||e.$.clientHeight&&e.$.clientHeight<e.$.scrollHeight)&&!e.is("body")&&this.scrollIntoParent(e,t,1),e.is("html")){var n=e.getWindow();try{var i=n.$.frameElement;i&&(e=new CKEDITOR.dom.element(i))}catch(t){}}}while(e=e.getParent())},scrollIntoParent:function(n,t,e){var i,o,r,a;function s(t,e){/body|html/.test(n.getName())?n.getWindow().$.scrollBy(t,e):(n.$.scrollLeft+=t,n.$.scrollTop+=e)}function l(t,e){var n={x:0,y:0};if(!t.is(u?"body":"html")){var i=t.$.getBoundingClientRect();n.x=i.left,n.y=i.top}return(i=t.getWindow()).equals(e)||(i=l(CKEDITOR.dom.element.get(i.$.frameElement),e),n.x+=i.x,n.y+=i.y),n}function c(t,e){return parseInt(t.getComputedStyle("margin-"+e)||0,10)||0}var u="BackCompat"==(r=(n=n||this.getWindow()).getDocument()).$.compatMode;n instanceof CKEDITOR.dom.window&&(n=u?r.getBody():r.getDocumentElement()),CKEDITOR.env.webkit&&(r=this.getEditor(!1))&&(r._.previousScrollTop=null),o=l(this,r=n.getWindow());var d=l(n,r),h=this.$.offsetHeight;i=this.$.offsetWidth;var f=n.$.clientHeight,p=n.$.clientWidth;r=o.x-c(this,"left")-d.x||0,a=o.y-c(this,"top")-d.y||0,i=o.x+i+c(this,"right")-(d.x+p)||0,o=o.y+h+c(this,"bottom")-(d.y+f)||0,(a<0||0<o)&&s(0,!0===t?a:!1===t?o:a<0?a:o),e&&(r<0||0<i)&&s(r<0?r:i,0)},setState:function(t,e,n){switch(e=e||"cke",t){case CKEDITOR.TRISTATE_ON:this.addClass(e+"_on"),this.removeClass(e+"_off"),this.removeClass(e+"_disabled"),n&&this.setAttribute("aria-pressed",!0),n&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(e+"_disabled"),this.removeClass(e+"_off"),this.removeClass(e+"_on"),n&&this.setAttribute("aria-disabled",!0),n&&this.removeAttribute("aria-pressed");break;default:this.addClass(e+"_off"),this.removeClass(e+"_on"),this.removeClass(e+"_disabled"),n&&this.removeAttribute("aria-pressed"),n&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var e=this.$;try{e.contentWindow.document}catch(t){e.src=e.src}return e&&new CKEDITOR.dom.document(e.contentWindow.document)},copyAttributes:function(t,e){var n=this.$.attributes;e=e||{};for(var i=0;i<n.length;i++){var o,r=n[i],a=r.nodeName.toLowerCase();a in e||("checked"==a&&(o=this.getAttribute(a))?t.setAttribute(a,o):CKEDITOR.env.ie&&!this.hasAttribute(a)||(null===(o=this.getAttribute(a))&&(o=r.nodeValue),t.setAttribute(a,o)))}""!==this.$.style.cssText&&(t.$.style.cssText=this.$.style.cssText)},renameNode:function(t){if(this.getName()!=t){var e=this.getDocument();t=new CKEDITOR.dom.element(t,e),this.copyAttributes(t),this.moveChildren(t),this.getParent(!0)&&this.$.parentNode.replaceChild(t.$,this.$),t.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=t.$,delete this.getName}},getChild:function(t){var e=this.$;if(t.slice)for(t=t.slice();0<t.length&&e;)e=s(e,t.shift());else e=s(e,t);return e?new CKEDITOR.dom.node(e):null},getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function e(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(t){t.data.getTarget().getAscendant(e,!0)||t.data.preventDefault()})},getDirection:function(t){return t?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(t,e){return t="data-"+t,void 0===e?this.getAttribute(t):(!1===e?this.removeAttribute(t):this.setAttribute(t,e),null)},getEditor:function(t){var e,n,i,o=CKEDITOR.instances;for(e in t=t||void 0===t,o)if((n=o[e]).element.equals(this)&&n.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!t&&(i=n.editable())&&(i.equals(this)||i.contains(this)))return n;return null},find:function(t){var e=i(this);return t=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(o(this,t))),e(),t},findOne:function(t){var e=i(this);return t=this.$.querySelector(o(this,t)),e(),t?new CKEDITOR.dom.element(t):null},forEach:function(t,e,n){if(!(n||e&&this.type!=e))var i=t(this);if(!1!==i){n=this.getChildren();for(var o=0;o<n.count();o++)(i=n.getItem(o)).type==CKEDITOR.NODE_ELEMENT?i.forEach(t,e):e&&i.type!=e||t(i)}}});var h={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(t,e,n){"number"==typeof e&&(!n||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(e-=r.call(this,t)),this.setStyle(t,e+"px"))},CKEDITOR.dom.element.prototype.getSize=function(t,e){var n=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(t)],this.$["client"+CKEDITOR.tools.capitalize(t)])||0;return e&&(n-=r.call(this,t)),n}}(),CKEDITOR.dom.documentFragment=function(t){t=t||CKEDITOR.document,this.$=t.type==CKEDITOR.NODE_DOCUMENT?t.$.createDocumentFragment():t},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(t){(t=t.$).parentNode.insertBefore(this.$,t.nextSibling)},getHtml:function(){var t=new CKEDITOR.dom.element("div");return this.clone(1,1).appendTo(t),t.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),function(){function i(t,e){var n=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,n.collapsed)return this.end(),null;n.optimize()}var i,o=n.startContainer;i=n.endContainer;var r,a=n.startOffset,s=n.endOffset,l=this.guard,c=this.type,u=t?"getPreviousSourceNode":"getNextSourceNode";if(!t&&!this._.guardLTR){var d=i.type==CKEDITOR.NODE_ELEMENT?i:i.getParent(),h=i.type==CKEDITOR.NODE_ELEMENT?i.getChild(s):i.getNext();this._.guardLTR=function(t,e){return!(e&&d.equals(t)||h&&t.equals(h)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(n.root))}}if(t&&!this._.guardRTL){var f=o.type==CKEDITOR.NODE_ELEMENT?o:o.getParent(),p=o.type==CKEDITOR.NODE_ELEMENT?a?o.getChild(a-1):null:o.getPrevious();this._.guardRTL=function(t,e){return!(e&&f.equals(t)||p&&t.equals(p)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(n.root))}}var g=t?this._.guardRTL:this._.guardLTR;for(r=l?function(t,e){return!1!==g(t,e)&&l(t,e)}:g,this.current?i=this.current[u](!1,c,r):(t?i.type==CKEDITOR.NODE_ELEMENT&&(i=0<s?i.getChild(s-1):!1===r(i,!0)?null:i.getPreviousSourceNode(!0,c,r)):(i=o).type==CKEDITOR.NODE_ELEMENT&&((i=i.getChild(a))||(i=!1===r(o,!0)?null:o.getNextSourceNode(!0,c,r))),i&&!1===r(i)&&(i=null));i&&!this._.end;){if(this.current=i,this.evaluator&&!1===this.evaluator(i)){if(e&&this.evaluator)return!1}else if(!e)return i;i=i[u](!1,c,r)}return this.end(),this.current=null}function t(t){for(var e,n=null;e=i.call(this,t);)n=e;return n}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(t){this.range=t,this._={}},proto:{end:function(){this._.end=1},next:function(){return i.call(this)},previous:function(){return i.call(this,1)},checkForward:function(){return!1!==i.call(this,0,1)},checkBackward:function(){return!1!==i.call(this,1,1)},lastForward:function(){return t.call(this)},lastBackward:function(){return t.call(this,1)},reset:function(){delete this.current,this._={}}}});var e={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},n={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(t){return!("none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in n||!e[this.getComputedStyle("display")])||!!(this.is(CKEDITOR.dtd.$block)||t&&this.is(t))},CKEDITOR.dom.walker.blockBoundary=function(e){return function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary(e))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(i,o){function r(t){return t&&t.getName&&"span"==t.getName()&&t.data("cke-bookmark")}return function(t){var e,n;return e=t&&t.type!=CKEDITOR.NODE_ELEMENT&&(n=t.getParent())&&r(n),e=i?e:e||r(t),!!(o^e)}},CKEDITOR.dom.walker.whitespaces=function(n){return function(t){var e;return t&&t.type==CKEDITOR.NODE_TEXT&&(e=!CKEDITOR.tools.trim(t.getText())||CKEDITOR.env.webkit&&t.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE),!!(n^e)}},CKEDITOR.dom.walker.invisible=function(e){var n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.env.webkit?1:0;return function(t){return t=n(t)?1:(t.type==CKEDITOR.NODE_TEXT&&(t=t.getParent()),t.$.offsetWidth<=i),!!(e^t)}},CKEDITOR.dom.walker.nodeType=function(e,n){return function(t){return!!(n^t.type==e)}},CKEDITOR.dom.walker.bogus=function(n){function i(t){return!r(t)&&!a(t)}return function(t){var e=CKEDITOR.env.needsBrFiller?t.is&&t.is("br"):t.getText&&o.test(t.getText());return e&&(e=t.getParent(),t=t.getNext(i),e=e.isBlockBoundary()&&(!t||t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary())),!!(n^e)}},CKEDITOR.dom.walker.temp=function(e){return function(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t=t&&t.hasAttribute("data-cke-temp"),!!(e^t)}};var o=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,r=CKEDITOR.dom.walker.whitespaces(),a=CKEDITOR.dom.walker.bookmark(),s=CKEDITOR.dom.walker.temp();CKEDITOR.dom.walker.ignored=function(e){return function(t){return t=r(t)||a(t)||s(t),!!(e^t)}};var l=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(i){return function(t){for(var e=0,n=t.getChildCount();e<n;++e)if(!l(t.getChild(e)))return!!i;return!i}};var c=CKEDITOR.dom.walker.empty(),u=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(t){var e,n={};for(e in t)CKEDITOR.dtd[e]["#"]&&(n[e]=1);return n}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(e){return function(t){return t=!l(t)&&!!(t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&(t.is(CKEDITOR.dtd.$inline)||t.is("hr")||"false"==t.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&t.is(u)&&c(t))),!!(e^t)}},CKEDITOR.dom.element.prototype.getBogus=function(){for(var t,e=this;e=e.getPreviousSourceNode(),a(t=e)||r(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$inline)&&!t.is(CKEDITOR.dtd.$empty););return!(!e||!(CKEDITOR.env.needsBrFiller?e.is&&e.is("br"):e.getText&&o.test(e.getText())))&&e}}(),CKEDITOR.dom.range=function(t){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var e=t instanceof CKEDITOR.dom.document;this.document=e?t:t.getDocument(),this.root=e?t.getBody():t},M={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1},N=CKEDITOR.dom.walker.bogus(),K=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,P=CKEDITOR.dom.walker.editable(),L=CKEDITOR.dom.walker.ignored(!0),CKEDITOR.dom.range.prototype={clone:function(){var t=new CKEDITOR.dom.range(this.root);return t._setStartContainer(this.startContainer),t.startOffset=this.startOffset,t._setEndContainer(this.endContainer),t.endOffset=this.endOffset,t.collapsed=this.collapsed,t},collapse:function(t){t?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(t){var e=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||Zt(this,2,e,!1,void 0===t||t),e},deleteContents:function(t){this.collapsed||Zt(this,0,null,t)},extractContents:function(t,e){var n=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||Zt(this,1,n,t,void 0===e||e),n},createBookmark:function(t){var e,n,i,o,r=this.collapsed;return(e=this.document.createElement("span")).data("cke-bookmark",1),e.setStyle("display","none"),e.setHtml("&nbsp;"),t&&(i="cke_bm_"+CKEDITOR.tools.getNextNumber(),e.setAttribute("id",i+(r?"C":"S"))),r||((n=e.clone()).setHtml("&nbsp;"),t&&n.setAttribute("id",i+"E"),(o=this.clone()).collapse(),o.insertNode(n)),(o=this.clone()).collapse(!0),o.insertNode(e),n?(this.setStartAfter(e),this.setEndBefore(n)):this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),{startNode:t?i+(r?"C":"S"):e,endNode:t?i+"E":n,serializable:t,collapsed:r}},createBookmark2:(A=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0),function(t){var e=this.collapsed,n={container:this.startContainer,offset:this.startOffset},i={container:this.endContainer,offset:this.endOffset};return t&&(ne(n),ie(n,this.root),e||(ne(i),ie(i,this.root))),{start:n.container.getAddress(t),end:e?null:i.container.getAddress(t),startOffset:n.offset,endOffset:i.offset,normalized:t,collapsed:e,is2:!0}}),moveToBookmark:function(t){if(t.is2){var e=this.document.getByAddress(t.start,t.normalized),n=t.startOffset,i=t.end&&this.document.getByAddress(t.end,t.normalized);t=t.endOffset,this.setStart(e,n),i?this.setEnd(i,t):this.collapse(!0)}else e=(n=t.serializable)?this.document.getById(t.startNode):t.startNode,t=n?this.document.getById(t.endNode):t.endNode,this.setStartBefore(e),e.remove(),t?(this.setEndBefore(t),t.remove()):this.collapse(!0)},getBoundaryNodes:function(){var t,e=this.startContainer,n=this.endContainer,i=this.startOffset,o=this.endOffset;if(e.type==CKEDITOR.NODE_ELEMENT)if(i<(t=e.getChildCount()))e=e.getChild(i);else if(t<1)e=e.getPreviousSourceNode();else{for(e=e.$;e.lastChild;)e=e.lastChild;e=(e=new CKEDITOR.dom.node(e)).getNextSourceNode()||e}if(n.type==CKEDITOR.NODE_ELEMENT)if(o<(t=n.getChildCount()))n=n.getChild(o).getPreviousSourceNode(!0);else if(t<1)n=n.getPreviousSourceNode();else{for(n=n.$;n.lastChild;)n=n.lastChild;n=new CKEDITOR.dom.node(n)}return e.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(e=n),{startNode:e,endNode:n}},getCommonAncestor:function(t,e){var n=this.startContainer,i=this.endContainer;return n=n.equals(i)?t&&n.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?n.getChild(this.startOffset):n:n.getCommonAncestor(i),e&&!n.is?n.getParent():n},optimize:function(){var t=this.startContainer,e=this.startOffset;t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setStartAfter(t):this.setStartBefore(t)),t=this.endContainer,e=this.endOffset,t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setEndAfter(t):this.setEndBefore(t))},optimizeBookmark:function(){var t=this.startContainer,e=this.endContainer;t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setStartAt(t,CKEDITOR.POSITION_BEFORE_START),e&&e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setEndAt(e,CKEDITOR.POSITION_AFTER_END)},trim:function(t,e){var n=this.startContainer,i=this.startOffset,o=this.collapsed;if((!t||o)&&n&&n.type==CKEDITOR.NODE_TEXT){if(i)if(i>=n.getLength())i=n.getIndex()+1,n=n.getParent();else{var r=n.split(i);i=n.getIndex()+1,n=n.getParent(),this.startContainer.equals(this.endContainer)?this.setEnd(r,this.endOffset-this.startOffset):n.equals(this.endContainer)&&(this.endOffset+=1)}else i=n.getIndex(),n=n.getParent();if(this.setStart(n,i),o)return void this.collapse(!0)}n=this.endContainer,i=this.endOffset,e||o||!n||n.type!=CKEDITOR.NODE_TEXT||(i=i?(i>=n.getLength()||n.split(i),n.getIndex()+1):n.getIndex(),n=n.getParent(),this.setEnd(n,i))},enlarge:function(t,e){function n(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")?null:t}var o=new RegExp(/[^\s\ufeff]/);switch(t){case CKEDITOR.ENLARGE_INLINE:var i=1;case CKEDITOR.ENLARGE_ELEMENT:function r(t,e){var n,i;for((n=new CKEDITOR.dom.range(p)).setStart(t,e),n.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).guard=function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary())};i=n.next();){if(i.type!=CKEDITOR.NODE_TEXT)return!1;if(h=i!=t?i.getText():i.substring(e),o.test(h))return!1}return!0}if(this.collapsed)break;var a,s,l,c,u,d,h,f=this.getCommonAncestor(),p=this.root,g=!1;d=this.startContainer;var m=this.startOffset;for(d.type==CKEDITOR.NODE_TEXT?(m&&(g=!!(d=!CKEDITOR.tools.trim(d.substring(0,m)).length&&d)),d&&((c=d.getPrevious())||(l=d.getParent()))):(m&&(c=d.getChild(m-1)||d.getLast()),c||(l=d)),l=n(l);l||c;){if(l&&!c){if(!u&&l.equals(f)&&(u=!0),i?l.isBlockBoundary():!p.contains(l))break;g&&"inline"==l.getComputedStyle("display")||(g=!1,u?a=l:this.setStartBefore(l)),c=l.getPrevious()}for(;c;)if(d=!1,c.type==CKEDITOR.NODE_COMMENT)c=c.getPrevious();else{if(c.type==CKEDITOR.NODE_TEXT)h=c.getText(),o.test(h)&&(c=null),d=/[\s\ufeff]$/.test(h);else if((c.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||e&&c.is("br"))&&!c.data("cke-bookmark"))if(g&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(h=c.getText(),o.test(h))c=null;else{m=c.$.getElementsByTagName("*");for(var v,y=0;v=m[y++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){c=null;break}}c&&(d=!!h.length)}else c=null;if(d&&(g?u?a=l:l&&this.setStartBefore(l):g=!0),c){if(d=c.getPrevious(),!l&&!d){l=c,c=null;break}c=d}else l=null}l=l&&n(l.getParent())}for(d=this.endContainer,m=this.endOffset,l=c=null,u=g=!1,d.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(d.substring(m)).length?g=!0:(g=!d.getLength(),m==d.getLength()?(c=d.getNext())||(l=d.getParent()):r(d,m)&&(l=d.getParent())):(c=d.getChild(m))||(l=d);l||c;){if(l&&!c){if(!u&&l.equals(f)&&(u=!0),i?l.isBlockBoundary():!p.contains(l))break;g&&"inline"==l.getComputedStyle("display")||(g=!1,u?s=l:l&&this.setEndAfter(l)),c=l.getNext()}for(;c;){if(d=!1,c.type==CKEDITOR.NODE_TEXT)h=c.getText(),r(c,0)||(c=null),d=/^[\s\ufeff]/.test(h);else if(c.type==CKEDITOR.NODE_ELEMENT){if((0<c.$.offsetWidth||e&&c.is("br"))&&!c.data("cke-bookmark"))if(g&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(h=c.getText(),o.test(h))c=null;else for(m=c.$.getElementsByTagName("*"),y=0;v=m[y++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){c=null;break}c&&(d=!!h.length)}else c=null}else d=1;if(d&&g&&(u?s=l:this.setEndAfter(l)),c){if(d=c.getNext(),!l&&!d){l=c,c=null;break}c=d}else l=null}l=l&&n(l.getParent())}a&&s&&(f=a.contains(s)?s:a,this.setStartBefore(f),this.setEndAfter(f));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:function b(t){if(t.type==CKEDITOR.NODE_ELEMENT&&"false"==t.getAttribute("contenteditable"))if(T){if(T.equals(t))return void(T=null)}else T=t;else if(T)return;var e=w(t);return e||(_=t),e}l=new CKEDITOR.dom.range(this.root),p=this.root,l.setStartAt(p,CKEDITOR.POSITION_AFTER_START),l.setEnd(this.startContainer,this.startOffset),l=new CKEDITOR.dom.walker(l);var _,E,w=CKEDITOR.dom.walker.blockBoundary(t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),T=null;if(i=function(t){var e=b(t);return!e&&t.is&&t.is("br")&&(E=t),e},l.guard=b,l=l.lastBackward(),_=_||p,this.setStartAt(_,!_.is("br")&&(!l&&this.checkStartOfBlock()||l&&_.contains(l))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){l=this.clone(),l=new CKEDITOR.dom.walker(l);var C=CKEDITOR.dom.walker.whitespaces(),x=CKEDITOR.dom.walker.bookmark();if(l.evaluator=function(t){return!C(t)&&!x(t)},(l=l.previous())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br"))break}(l=this.clone()).collapse(),l.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(l=new CKEDITOR.dom.walker(l)).guard=t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?i:b,_=T=E=null,l=l.lastForward(),_=_||p,this.setEndAt(_,!l&&this.checkEndOfBlock()||l&&_.contains(l)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),E&&this.setEndAfter(E)}},shrink:function(n,t,e){var i="boolean"==typeof e?e:!e||"boolean"!=typeof e.shrinkOnBlockBoundary||e.shrinkOnBlockBoundary,o=e&&e.skipBogus;if(!this.collapsed){n=n||CKEDITOR.SHRINK_TEXT;var r=this.clone(),a=this.startContainer,s=this.endContainer,l=this.startOffset,c=this.endOffset,u=e=1;a&&a.type==CKEDITOR.NODE_TEXT&&(l?l>=a.getLength()?r.setStartAfter(a):(r.setStartBefore(a),e=0):r.setStartBefore(a)),s&&s.type==CKEDITOR.NODE_TEXT&&(c?c>=s.getLength()?r.setEndAfter(s):(r.setEndAfter(s),u=0):r.setEndBefore(s)),r=new CKEDITOR.dom.walker(r);var d,h=CKEDITOR.dom.walker.bookmark(),f=CKEDITOR.dom.walker.bogus();return r.evaluator=function(t){return t.type==(n==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)},r.guard=function(t,e){return!!(o&&f(t)||h(t))||!(n==CKEDITOR.SHRINK_ELEMENT&&t.type==CKEDITOR.NODE_TEXT||e&&t.equals(d)||!1===i&&t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary()||t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable"))&&(e||t.type!=CKEDITOR.NODE_ELEMENT||(d=t),!0)},e&&(a=r[n==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(a,t?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),u&&(r.reset(),(r=r[n==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(r,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!e&&!u)}},insertNode:function(t){this.optimizeBookmark(),this.trim(!1,!0);var e=this.startContainer,n=e.getChild(this.startOffset);n?t.insertBefore(n):e.append(t),t.getParent()&&t.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(t)},moveToPosition:function(t,e){this.setStartAt(t,e),this.collapse(!0)},moveToRange:function(t){this.setStart(t.startContainer,t.startOffset),this.setEnd(t.endContainer,t.endOffset)},selectNodeContents:function(t){this.setStart(t,0),this.setEnd(t,t.type==CKEDITOR.NODE_TEXT?t.getLength():t.getChildCount())},setStart:function(t,e){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(e=t.getIndex(),t=t.getParent()),this._setStartContainer(t),this.startOffset=e,this.endContainer||(this._setEndContainer(t),this.endOffset=e),Xt(this)},setEnd:function(t,e){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(e=t.getIndex()+1,t=t.getParent()),this._setEndContainer(t),this.endOffset=e,this.startContainer||(this._setStartContainer(t),this.startOffset=e),Xt(this)},setStartAfter:function(t){this.setStart(t.getParent(),t.getIndex()+1)},setStartBefore:function(t){this.setStart(t.getParent(),t.getIndex())},setEndAfter:function(t){this.setEnd(t.getParent(),t.getIndex()+1)},setEndBefore:function(t){this.setEnd(t.getParent(),t.getIndex())},setStartAt:function(t,e){switch(e){case CKEDITOR.POSITION_AFTER_START:this.setStart(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setStart(t,t.getLength()):this.setStart(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(t)}Xt(this)},setEndAt:function(t,e){switch(e){case CKEDITOR.POSITION_AFTER_START:this.setEnd(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setEnd(t,t.getLength()):this.setEnd(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(t)}Xt(this)},fixBlock:function(t,e){var n=this.createBookmark(),i=this.document.createElement(e);this.collapse(t),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(i),i.trim(),this.insertNode(i);var o=i.getBogus();return o&&o.remove(),i.appendBogus(),this.moveToBookmark(n),i},splitBlock:function(t,e){var n=new CKEDITOR.dom.elementPath(this.startContainer,this.root),i=new CKEDITOR.dom.elementPath(this.endContainer,this.root),o=n.block,r=i.block,a=null;return n.blockLimit.equals(i.blockLimit)?("br"!=t&&(o||(o=this.fixBlock(!0,t),r=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),r=r||this.fixBlock(!1,t)),n=o&&this.checkStartOfBlock(),i=r&&this.checkEndOfBlock(),this.deleteContents(),o&&o.equals(r)&&(i?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(r,CKEDITOR.POSITION_AFTER_END),r=null):n?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o=null):(r=this.splitElement(o,e||!1),o.is("ul","ol")||o.appendBogus())),{previousBlock:o,nextBlock:r,wasStartOfBlock:n,wasEndOfBlock:i,elementPath:a}):null},splitElement:function(t,e){if(!this.collapsed)return null;this.setEndAt(t,CKEDITOR.POSITION_BEFORE_END);var n=this.extractContents(!1,e||!1),i=t.clone(!1,e||!1);return n.appendTo(i),i.insertAfter(t),this.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),i},removeEmptyBlocksAtEnd:(S=CKEDITOR.dom.walker.whitespaces(),R=CKEDITOR.dom.walker.bookmark(!1),function(t){for(var e,n=this.createBookmark(),i=this[t?"endPath":"startPath"](),o=i.block||i.blockLimit;o&&!o.equals(i.root)&&!o.getFirst(ee(o));)e=o.getParent(),this[t?"setEndAt":"setStartAt"](o,CKEDITOR.POSITION_AFTER_END),o.remove(1),o=e;this.moveToBookmark(n)}),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(t,e){var n=e==CKEDITOR.START,i=this.clone();return i.collapse(n),i[n?"setStartAt":"setEndAt"](t,n?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),(i=new CKEDITOR.dom.walker(i)).evaluator=function(e){var n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(1);return function(t){return!(!i(t)&&!n(t))||!e&&N(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$removeEmpty)}}(n),i[n?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var t=this.startContainer,e=this.startOffset;return CKEDITOR.env.ie&&e&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.ltrim(t.substring(0,e)),K.test(t)&&this.trim(0,1)),this.trim(),t=new CKEDITOR.dom.elementPath(this.startContainer,this.root),(e=this.clone()).collapse(!0),e.setStartAt(t.block||t.blockLimit,CKEDITOR.POSITION_AFTER_START),(t=new CKEDITOR.dom.walker(e)).evaluator=Qt(),t.checkBackward()},checkEndOfBlock:function(){var t=this.endContainer,e=this.endOffset;return CKEDITOR.env.ie&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.rtrim(t.substring(e)),K.test(t)&&this.trim(1,0)),this.trim(),t=new CKEDITOR.dom.elementPath(this.endContainer,this.root),(e=this.clone()).collapse(!1),e.setEndAt(t.block||t.blockLimit,CKEDITOR.POSITION_BEFORE_END),(t=new CKEDITOR.dom.walker(e)).evaluator=Qt(),t.checkForward()},getPreviousNode:function(t,e,n){var i=this.clone();return i.collapse(1),i.setStartAt(n||this.root,CKEDITOR.POSITION_AFTER_START),(n=new CKEDITOR.dom.walker(i)).evaluator=t,n.guard=e,n.previous()},getNextNode:function(t,e,n){var i=this.clone();return i.collapse(),i.setEndAt(n||this.root,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(i)).evaluator=t,n.guard=e,n.next()},checkReadOnly:function(){var t=this.startContainer,e=this.endContainer;return!(te(t,e)&&te(e,t))},moveToElementEditablePosition:function(t,e){if(t.type==CKEDITOR.NODE_ELEMENT&&!t.isEditable(!1))return this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var n=0;t;){if(t.type==CKEDITOR.NODE_TEXT){e&&this.endContainer&&this.checkEndOfBlock()&&K.test(t.getText())?this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),n=1;break}if(t.type==CKEDITOR.NODE_ELEMENT)if(t.isEditable())this.moveToPosition(t,e?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),n=1;else if(e&&t.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START);else if("false"==t.getAttribute("contenteditable")&&t.is(CKEDITOR.dtd.$block))return this.setStartBefore(t),this.setEndAfter(t),!0;var i=t,o=n,r=void 0;i.type==CKEDITOR.NODE_ELEMENT&&i.isEditable(!1)&&(r=i[e?"getLast":"getFirst"](L)),o||r||(r=i[e?"getPrevious":"getNext"](L)),t=r}return!!n},moveToClosestEditablePosition:function(t,e){var n,i,o,r=0,a=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return t?(n=new CKEDITOR.dom.range(this.root)).moveToPosition(t,a[e?0:1]):n=this.clone(),t&&!t.is(CKEDITOR.dtd.$block)?r=1:(i=n[e?"getNextEditableNode":"getPreviousEditableNode"]())&&(r=1,(o=i.type==CKEDITOR.NODE_ELEMENT)&&i.is(CKEDITOR.dtd.$block)&&"false"==i.getAttribute("contenteditable")?(n.setStartAt(i,CKEDITOR.POSITION_BEFORE_START),n.setEndAt(i,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&o&&i.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(n.setEnd(i,0),n.collapse()):n.moveToPosition(i,a[e?1:0])),r&&this.moveToRange(n),!!r},moveToElementEditStart:function(t){return this.moveToElementEditablePosition(t)},moveToElementEditEnd:function(t){return this.moveToElementEditablePosition(t,!0)},getEnclosedNode:function(){if((t=this.clone()).optimize(),t.startContainer.type!=CKEDITOR.NODE_ELEMENT||t.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var t=new CKEDITOR.dom.walker(t),e=CKEDITOR.dom.walker.bookmark(!1,!0),n=CKEDITOR.dom.walker.whitespaces(!0);t.evaluator=function(t){return n(t)&&e(t)};var i=t.next();return t.reset(),i&&i.equals(t.previous())?i:null},getTouchedStartNode:function(){var t=this.startContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.startOffset)||t},getTouchedEndNode:function(){var t=this.endContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.endOffset-1)||t},getNextEditableNode:Jt(),getPreviousEditableNode:Jt(1),_getTableElement:function(t){t=t||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var e=this.startContainer,n=this.endContainer,i=e.getAscendant("table",!0),o=n.getAscendant("table",!0);return CKEDITOR.env.safari&&i&&n.equals(this.root)?e.getAscendant(t,!0):this.getEnclosedNode()?this.getEnclosedNode().getAscendant(t,!0):i&&o&&(i.equals(o)||i.contains(o)||o.contains(i))?e.getAscendant(t,!0):null},scrollIntoView:function(){var t,e,n,i=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),o=this.clone();o.optimize(),(n=o.startContainer.type==CKEDITOR.NODE_TEXT)?(e=o.startContainer.getText(),t=o.startContainer.split(o.startOffset),i.insertAfter(o.startContainer)):o.insertNode(i),i.scrollIntoView(),n&&(o.startContainer.setText(e),t.remove()),i.remove()},_setStartContainer:function(t){this.startContainer=t},_setEndContainer:function(t){this.endContainer=t},_find:function(t,e){var n,i,o,r,a=this.getCommonAncestor(),s=this.getBoundaryNodes(),l=[];if(a&&a.find)for(i=a.find(t),n=0;n<i.count();n++)a=i.getItem(n),!e&&a.isReadOnly()||(o=a.getPosition(s.startNode)&CKEDITOR.POSITION_FOLLOWING||s.startNode.equals(a),r=a.getPosition(s.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||s.endNode.equals(a),o&&r&&l.push(a));return l}},CKEDITOR.dom.range.mergeRanges=function(t){return CKEDITOR.tools.array.reduce(t,function(t,e){var n=t[t.length-1],i=!1;if((e=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),n){var o=new CKEDITOR.dom.range(e.root),r=(i=new CKEDITOR.dom.walker(o),CKEDITOR.dom.walker.whitespaces());for(o.setStart(n.endContainer,n.endOffset),o.setEnd(e.startContainer,e.startOffset),o=i.next();r(o)||e.endContainer.equals(o);)o=i.next();i=!o}return i?n.setEnd(e.endContainer,e.endOffset):t.push(e),t},[])},CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,F=/^[\r\n\t ]+$/,B=CKEDITOR.dom.walker.bookmark(!1,!0),$=CKEDITOR.dom.walker.whitespaces(!0),H={dd:1,dt:1,li:1},oe.prototype={getNextParagraph:function(t){var e,n,i,o,r;if(t=t||"p",this._.nestedEditable){if(e=this._.nestedEditable.iterator.getNextParagraph(t))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,e;if(this.activeFilter=this.filter,re(this,t,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(t);this._.nestedEditable=null}if(!this.range.root.getDtd()[t])return null;if(!this._.started){var a=this.range.clone();n=a.startPath();var s=a.endPath(),l=!a.collapsed&&ae(a,n.block),c=!a.collapsed&&ae(a,s.block,1);a.shrink(CKEDITOR.SHRINK_ELEMENT,!0),l&&a.setStartAt(n.block,CKEDITOR.POSITION_BEFORE_END),c&&a.setEndAt(s.block,CKEDITOR.POSITION_AFTER_START),n=a.endContainer.hasAscendant("pre",!0)||a.startContainer.hasAscendant("pre",!0),a.enlarge(this.forceBrBreak&&!n||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),a.collapsed||(n=new CKEDITOR.dom.walker(a.clone()),s=CKEDITOR.dom.walker.bookmark(!0,!0),n.evaluator=s,this._.nextNode=n.next(),(n=new CKEDITOR.dom.walker(a.clone())).evaluator=s,n=n.previous(),this._.lastNode=n.getNextSourceNode(!0,null,a.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&((s=this.range.clone()).moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),s.checkEndOfBlock()&&(s=new CKEDITOR.dom.elementPath(s.endContainer,s.root),this._.lastNode=(s.block||s.blockLimit).getNextSourceNode(!0))),this._.lastNode&&a.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=a.document.createText(""),this._.lastNode.insertAfter(n)),a=null),this._.started=1,n=a}for(s=this._.nextNode,a=this._.lastNode,this._.nextNode=null;s;){l=0,c=s.hasAscendant("pre");var u=s.type!=CKEDITOR.NODE_ELEMENT,d=0;if(u)s.type==CKEDITOR.NODE_TEXT&&F.test(s.getText())&&(u=0);else{var h=s.getName();if(CKEDITOR.dtd.$block[h]&&"false"==s.getAttribute("contenteditable")){re(this,t,e=s);break}if(s.isBlockBoundary(this.forceBrBreak&&!c&&{br:1})){if("br"==h)u=1;else if(!n&&!s.getChildCount()&&"hr"!=h){i=(e=s).equals(a);break}n&&(n.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),"br"!=h&&(this._.nextNode=s)),l=1}else{if(s.getFirst()){n||(n=this.range.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),s=s.getFirst();continue}u=1}}if(u&&!n&&(n=this.range.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),i=(!l||u)&&s.equals(a),n&&!l)for(;!s.getNext(se)&&!i;){if((h=s.getParent()).isBlockBoundary(this.forceBrBreak&&!c&&{br:1})){l=1,u=0,i||h.equals(a),n.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);break}u=1,i=(s=h).equals(a),d=1}if(u&&n.setEndAt(s,CKEDITOR.POSITION_AFTER_END),(i=!(s=this._getNextSourceNode(s,d,a)))||l&&n)break}if(!e){if(!n)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;s=(e=new CKEDITOR.dom.elementPath(n.startContainer,n.root)).blockLimit,l={div:1,th:1,td:1},!(e=e.block)&&s&&!this.enforceRealBlocks&&l[s.getName()]&&n.checkStartOfBlock()&&n.checkEndOfBlock()&&!s.equals(n.root)?e=s:!e||this.enforceRealBlocks&&e.is(H)?(e=this.range.document.createElement(t),n.extractContents().appendTo(e),e.trim(),n.insertNode(e),o=r=!0):"li"!=e.getName()?n.checkStartOfBlock()&&n.checkEndOfBlock()||(e=e.clone(!1),n.extractContents().appendTo(e),e.trim(),o=!(r=n.splitBlock()).wasStartOfBlock,r=!r.wasEndOfBlock,n.insertNode(e)):i||(this._.nextNode=e.equals(a)?null:this._getNextSourceNode(n.getBoundaryNodes().endNode,1,a))}return(o=o&&e.getPrevious())&&o.type==CKEDITOR.NODE_ELEMENT&&("br"==o.getName()?o.remove():o.getLast()&&"br"==o.getLast().$.nodeName.toLowerCase()&&o.getLast().remove()),r&&(o=e.getLast())&&o.type==CKEDITOR.NODE_ELEMENT&&"br"==o.getName()&&(!CKEDITOR.env.needsBrFiller||o.getPrevious(B)||o.getNext(B))&&o.remove(),this._.nextNode||(this._.nextNode=i||e.equals(a)||!a?null:this._getNextSourceNode(e,1,a)),e},_getNextSourceNode:function(t,e,n){function i(t){return!(t.equals(n)||t.equals(o))}var o=this.range.root;for(t=t.getNextSourceNode(e,null,i);!B(t);)t=t.getNextSourceNode(e,null,i);return t}},CKEDITOR.dom.range.prototype.createIterator=function(){return new oe(this)},CKEDITOR.command=function(e,n){var i;this.uiItems=[],this.exec=function(t){return!(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())&&(this.editorFocus&&e.focus(),!1===this.fire("exec")||!1!==n.exec.call(this,e,t))},this.refresh=function(t,e){return!(this.readOnly||!t.readOnly)||(this.context&&!e.isContextFor(this.context)||!this.checkAllowed(!0)?(this.disable(),!0):(this.startDisabled||this.enable(),this.modes&&!this.modes[t.mode]&&this.disable(),!1===this.fire("refresh",{editor:t,path:e})||n.refresh&&!1!==n.refresh.apply(this,arguments)))},this.checkAllowed=function(t){return t||"boolean"!=typeof i?i=e.activeFilter.checkFeature(this):i},CKEDITOR.tools.extend(this,n,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!n.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&void 0!==this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(t){return!(this.state==t||t!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())&&(this.previousState=this.state,this.state=t,this.fire("state"),!0)},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function r(t,e,n,i,o){var r,a,s;for(r in t=[],e){a="boolean"==typeof(a=e[r])?{}:"function"==typeof a?{match:a}:S(a),"$"!=r.charAt(0)&&(a.elements=r),n&&(a.featureName=n.toLowerCase());var l=a;l.elements=y(l.elements,/\s+/)||null,l.propertiesOnly=l.propertiesOnly||!0===l.elements;var c=/\s*,\s*/,u=void 0;for(u in N){l[u]=y(l[u],c)||null;var d=l,h=K[u],f=y(l[K[u]],c),p=l[u],g=[],m=!0,v=void 0;for(v in f?m=!1:f={},p)"!"==v.charAt(0)&&(v=v.slice(1),g.push(v),m=!(f[v]=!0));for(;v=g.pop();)p[v]=p["!"+v],delete p["!"+v];d[h]=!m&&f||null}l.match=l.match||null,i.push(a),t.push(a)}for(e=o.elements,o=o.generic,n=0,i=t.length;n<i;++n){for(c in a=!0===(r=S(t[n])).classes||!0===r.styles||!0===r.attributes,l=r,u=h=c=void 0,N)l[c]=C(l[c]);for(u in d=!0,K){for(p in f=[],p=void 0,h=l[c=K[u]])-1<p.indexOf("*")?f.push(new RegExp("^"+p.replace(/\*/g,".*")+"$")):f.push(p);(h=f).length&&(l[c]=h,d=!1)}if(l.nothingRequired=d,l.noProperties=!(l.attributes||l.classes||l.styles),!0===r.elements||null===r.elements)o[a?"unshift":"push"](r);else for(s in l=r.elements,delete r.elements,l)e[s]?e[s][a?"unshift":"push"](r):e[s]=[r]}}function b(t,e,n,i){if((!t.match||t.match(e))&&(i||function(t,e){if(t.nothingRequired)return!0;var n,i,o,r;if(o=t.requiredClasses)for(r=e.classes,n=0;n<o.length;++n)if("string"==typeof(i=o[n])){if(-1==CKEDITOR.tools.indexOf(r,i))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(r,i))return!1;return c(e.styles,t.requiredStyles)&&c(e.attributes,t.requiredAttributes)}(t,e))&&(t.propertiesOnly||(n.valid=!0),n.allAttributes||(n.allAttributes=s(t.attributes,e.attributes,n.validAttributes)),n.allStyles||(n.allStyles=s(t.styles,e.styles,n.validStyles)),!n.allClasses)){if(t=t.classes,e=e.classes,i=n.validClasses,t)if(!0===t)t=!0;else{for(var o,r=0,a=e.length;r<a;++r)i[o=e[r]]||(i[o]=t(o));t=!1}else t=!1;n.allClasses=t}}function s(t,e,n){if(!t)return!1;if(!0===t)return!0;for(var i in e)n[i]||(n[i]=t(i));return!1}function _(t,e,n){if(!t.match||t.match(e)){if(t.noProperties)return!1;if(n.hadInvalidAttribute=a(t.attributes,e.attributes)||n.hadInvalidAttribute,n.hadInvalidStyle=a(t.styles,e.styles)||n.hadInvalidStyle,t=t.classes,e=e.classes,t){for(var i=!1,o=!0===t,r=e.length;r--;)(o||t(e[r]))&&(e.splice(r,1),i=!0);t=i}else t=!1;n.hadInvalidClass=t||n.hadInvalidClass}}function a(t,e){if(!t)return!1;var n,i=!1,o=!0===t;for(n in e)(o||t(n))&&(delete e[n],i=!0);return i}function l(t,e,n){return!(t.disabled||t.customConfig&&!n||!e)&&(t._.cachedChecks={},!0)}function y(t,e){if(!t)return!1;if(!0===t)return t;if("string"==typeof t)return"*"==(t=R(t))||CKEDITOR.tools.convertArrayToObject(t.split(e));if(CKEDITOR.tools.isArray(t))return!!t.length&&CKEDITOR.tools.convertArrayToObject(t);var n,i={},o=0;for(n in t)i[n]=t[n],o++;return!!o&&i}function c(t,e){if(!e)return!0;for(var n,i=0;i<e.length;++i)if("string"==typeof(n=e[i])){if(!(n in t))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(t,n))return!1;return!0}function u(t){if(!t)return{};t=t.split(/\s*,\s*/).sort();for(var e={};t.length;)e[t.shift()]="cke-test";return e}function d(t){var e,n,i,o,r={},a=1;for(t=R(t);e=t.match(P);)(n=e[2])?(i=h(n,"styles"),o=h(n,"attrs"),n=h(n,"classes")):i=o=n=null,r["$"+a++]={elements:e[1],classes:n,styles:i,attributes:o},t=t.slice(e[0].length);return r}function h(t,e){var n=t.match(i[e]);return n?R(n[1]):null}function E(t){var e=t.styleBackup=t.attributes.style,n=t.classBackup=t.attributes.class;t.styles||(t.styles=CKEDITOR.tools.parseCssText(e||"",1)),t.classes||(t.classes=n?n.split(/\s+/):[])}function f(t,e,n,i){var o,r=0;if(i.toHtml&&(e.name=e.name.replace(L,"$1")),i.doCallbacks&&t.elementCallbacks){t:{for(var a,s=0,l=(o=t.elementCallbacks).length;s<l;++s)if(a=o[s](e)){o=a;break t}o=void 0}if(o)return o}if(i.doTransform&&(o=t._.transformations[e.name])){for(E(e),s=0;s<o.length;++s)x(t,e,o[s]);w(e)}if(i.doFilter){t:{s=e.name,t=(l=t._).allowedRules.elements[s],o=l.allowedRules.generic,s=l.disallowedRules.elements[s],l=l.disallowedRules.generic,a=i.skipRequired;var c,u,d={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};if(t||o){if(E(e),s)for(c=0,u=s.length;c<u;++c)if(!1===_(s[c],e,d)){t=null;break t}if(l)for(c=0,u=l.length;c<u;++c)_(l[c],e,d);if(t)for(c=0,u=t.length;c<u;++c)b(t[c],e,d,a);if(o)for(c=0,u=o.length;c<u;++c)b(o[c],e,d,a);t=d}else t=null}if(!t||!t.valid)return n.push(e),1;u=t.validAttributes;var h=t.validStyles;o=t.validClasses;s=e.attributes;var f=e.styles;l=e.classes;a=e.classBackup;var p,g,m=e.styleBackup,v=[],y=(d=[],/^data-cke-/);if(c=!1,delete s.style,delete s.class,delete e.classBackup,delete e.styleBackup,!t.allAttributes)for(p in s)u[p]||y.test(p)&&(p==(g=p.replace(/^data-cke-saved-/,""))||u[g])||(delete s[p],c=!0);if(!t.allStyles||t.hadInvalidStyle){for(p in f)t.allStyles||h[p]?v.push(p+":"+f[p]):c=!0;v.length&&(s.style=v.sort().join("; "))}else m&&(s.style=m);if(!t.allClasses||t.hadInvalidClass){for(p=0;p<l.length;++p)(t.allClasses||o[l[p]])&&d.push(l[p]);d.length&&(s.class=d.sort().join(" ")),a&&d.length<a.split(/\s+/).length&&(c=!0)}else a&&(s.class=a);if(c&&(r=1),!i.skipFinalValidation&&!T(e))return n.push(e),1}return i.toHtml&&(e.name=e.name.replace(F,"cke:$1")),r}function w(t){var e,n=t.attributes;delete n.style,delete n.class,(e=CKEDITOR.tools.writeCssText(t.styles,!0))&&(n.style=e),t.classes.length&&(n.class=t.classes.sort().join(" "))}function T(t){switch(t.name){case"a":if(!(t.children.length||t.attributes.name||t.attributes.id))return!1;break;case"img":if(!t.attributes.src)return!1}return!0}function C(e){if(!e)return!1;if(!0===e)return!0;var n=function(t){var e,n=[];for(e in t)-1<e.indexOf("*")&&n.push(e.replace(/\*/g,".*"));return n.length?new RegExp("^(?:"+n.join("|")+")$"):null}(e);return function(t){return t in e||n&&t.match(n)}}function p(){return new CKEDITOR.htmlParser.element("br")}function g(t){return t.type==CKEDITOR.NODE_ELEMENT&&("br"==t.name||k.$block[t.name])}function m(t,e,n){var i=t.name;if(k.$empty[i]||!t.children.length)"hr"==i&&"br"==e?t.replaceWith(p()):(t.parent&&n.push({check:"it",el:t.parent}),t.remove());else if(k.$block[i]||"tr"==i)if("br"==e)t.previous&&!g(t.previous)&&(e=p()).insertBefore(t),t.next&&!g(t.next)&&(e=p()).insertAfter(t),t.replaceWithChildren();else{var o;i=t.children;t:{o=k[e];for(var r,a=0,s=i.length;a<s;++a)if((r=i[a]).type==CKEDITOR.NODE_ELEMENT&&!o[r.name]){o=!1;break t}o=!0}if(o)t.name=e,t.attributes={},n.push({check:"parent-down",el:t});else{var l,c;for(a=(o=t.parent).type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==o.name,s=i.length;0<s;)r=i[--s],a&&(r.type==CKEDITOR.NODE_TEXT||r.type==CKEDITOR.NODE_ELEMENT&&k.$inline[r.name])?(l||((l=new CKEDITOR.htmlParser.element(e)).insertAfter(t),n.push({check:"parent-down",el:l})),l.add(r,0)):(l=null,c=k[o.name]||k.span,r.insertAfter(t),o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||r.type!=CKEDITOR.NODE_ELEMENT||c[r.name]||n.push({check:"el-up",el:r}));t.remove()}}else i in{style:1,script:1}?t.remove():(t.parent&&n.push({check:"it",el:t.parent}),t.replaceWithChildren())}function x(t,e,n){var i,o;for(i=0;i<n.length;++i)if(!((o=n[i]).check&&!t.check(o.check,!1)||o.left&&!o.left(e))){o.right(e,M);break}}function n(t,e){var n,i,o,r,a=e.getDefinition(),s=a.attributes,l=a.styles;if(t.name!=a.element)return!1;for(n in s)if("class"==n){for(a=s[n].split(/\s+/),o=t.classes.join("|");r=a.pop();)if(-1==o.indexOf(r))return!1}else if(t.attributes[n]!=s[n])return!1;for(i in l)if(t.styles[i]!=l[i])return!1;return!0}function v(t,n){var e,i;return"string"==typeof t?e=t:i=t instanceof CKEDITOR.style?t:(e=t[0],t[1]),[{element:e,left:i,right:function(t,e){e.transform(t,n)}}]}function D(e){return function(t){return n(t,e)}}function O(n){return function(t,e){e[n](t)}}var o,I,k=CKEDITOR.dtd,S=CKEDITOR.tools.copy,R=CKEDITOR.tools.trim,A=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(t){if(this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}},CKEDITOR.filter.instances[this.id]=this,t instanceof CKEDITOR.editor){t=this.editor=t,this.customConfig=!0;var e=t.config.allowedContent;!0===e?this.disabled=!0:(e||(this.customConfig=!1),this.allow(e,"config",1),this.allow(t.config.extraAllowedContent,"extra",1),this.allow(A[t.enterMode]+" "+A[t.shiftEnterMode],"default",1),this.disallow(t.config.disallowedContent))}else this.customConfig=!1,this.allow(t,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(t,e,n){if(!l(this,t,n))return!1;var i,o;if("string"==typeof t)t=d(t);else if(t instanceof CKEDITOR.style){if(t.toAllowedContentRules)return this.allow(t.toAllowedContentRules(this.editor),e,n);i=t.getDefinition(),t={},n=i.attributes,t[i.element]=i={styles:i.styles,requiredStyles:i.styles&&CKEDITOR.tools.objectKeys(i.styles)},n&&(n=S(n),i.classes=n.class?n.class.split(/\s+/):null,i.requiredClasses=i.classes,delete n.class,i.attributes=n,i.requiredAttributes=n&&CKEDITOR.tools.objectKeys(n))}else if(CKEDITOR.tools.isArray(t)){for(i=0;i<t.length;++i)o=this.allow(t[i],e,n);return o}return r(this,t,e,this.allowedContent,this._.allowedRules),!0},applyTo:function(t,a,e,n){if(this.disabled)return!1;var s,i,o,l=this,c=[],u=this.editor&&this.editor.config.protectedSource,d=!1,h={doFilter:!e,doTransform:!0,doCallbacks:!0,toHtml:a};for(t.forEach(function(t){if(t.type==CKEDITOR.NODE_ELEMENT){if("off"==t.attributes["data-cke-filter"])return!1;if(!a||"span"!=t.name||!~CKEDITOR.tools.objectKeys(t.attributes).join("|").indexOf("data-cke-"))if(1&(s=f(l,t,c,h)))d=!0;else if(2&s)return!1}else if(t.type==CKEDITOR.NODE_COMMENT&&t.value.match(/^\{cke_protected\}(?!\{C\})/)){var e;t:{var n,i,o,r=decodeURIComponent(t.value.replace(/^\{cke_protected\}/,""));if(e=[],u)for(i=0;i<u.length;++i)if((o=r.match(u[i]))&&o[0].length==r.length){e=!0;break t}1==(r=CKEDITOR.htmlParser.fragment.fromHtml(r)).children.length&&(n=r.children[0]).type==CKEDITOR.NODE_ELEMENT&&f(l,n,e,h),e=!e.length}e||c.push(t)}},null,!0),c.length&&(d=!0),t=[],n=A[n||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];e=c.pop();)e.type==CKEDITOR.NODE_ELEMENT?m(e,n,t):e.remove();for(;i=t.pop();)if((e=i.el).parent)switch(o=k[e.parent.name]||k.span,i.check){case"it":k.$removeEmpty[e.name]&&!e.children.length?m(e,n,t):T(e)||m(e,n,t);break;case"el-up":e.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||o[e.name]||m(e,n,t);break;case"parent-down":e.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||o[e.name]||m(e.parent,n,t)}return d},checkFeature:function(t){return!(!this.disabled&&t)||(t.toFeature&&(t=t.toFeature(this.editor)),!t.requiredContent||this.check(t.requiredContent))},disable:function(){this.disabled=!0},disallow:function(t){return!!l(this,t,!0)&&("string"==typeof t&&(t=d(t)),r(this,t,null,this.disallowedContent,this._.disallowedRules),!0)},addContentForms:function(t){if(!this.disabled&&t){var e,n,i,o=[];for(e=0;e<t.length&&!i;++e)("string"==typeof(n=t[e])||n instanceof CKEDITOR.style)&&this.check(n)&&(i=n);if(i){for(e=0;e<t.length;++e)o.push(v(t[e],i));this.addTransformations(o)}}},addElementCallback:function(t){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(t)},addFeature:function(t){return!(!this.disabled&&t)||(t.toFeature&&(t=t.toFeature(this.editor)),this.allow(t.allowedContent,t.name),this.addTransformations(t.contentTransformations),this.addContentForms(t.contentForms),!t.requiredContent||!this.customConfig&&!this.disallowedContent.length||this.check(t.requiredContent))},addTransformations:function(t){var e,n;if(!this.disabled&&t){var i,o=this._.transformations;for(i=0;i<t.length;++i){e=t[i];var r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0;for(n=[],a=0;a<e.length;++a)u="string"==typeof(s=e[a])?(l=(s=s.split(/\s*:\s*/))[0],c=null,s[1]):(l=s.check,c=s.left,s.right),r||(r=(r=s).element?r.element:l?l.match(/^([a-z0-9]+)/i)[0]:r.left.getDefinition().element),c instanceof CKEDITOR.style&&(c=D(c)),n.push({check:l==r?null:l,left:c,right:"string"==typeof u?O(u):u});o[e=r]||(o[e]=[]),o[e].push(n)}}},check:function(t,e,n){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(t)){for(var i=t.length;i--;)if(this.check(t[i],e,n))return!0;return!1}var o,r;if("string"==typeof t){if((r=t+"<"+(!1===e?"0":"1")+(n?"1":"0")+">")in this._.cachedChecks)return this._.cachedChecks[r];o=(i=d(t).$1).styles;var a=i.classes;i.name=i.elements,i.classes=a=a?a.split(/\s*,\s*/):[],i.styles=u(o),i.attributes=u(i.attributes),i.children=[],a.length&&(i.attributes.class=a.join(" ")),o&&(i.attributes.style=CKEDITOR.tools.writeCssText(i.styles)),o=i}else o=(i=t.getDefinition()).styles,a=i.attributes||{},o&&!CKEDITOR.tools.isEmpty(o)?(o=S(o),a.style=CKEDITOR.tools.writeCssText(o,!0)):o={},o={name:i.element,attributes:a,classes:a.class?a.class.split(/\s+/):[],styles:o,children:[]};a=CKEDITOR.tools.clone(o);var s,l=[];if(!1!==e&&(s=this._.transformations[o.name])){for(i=0;i<s.length;++i)x(this,o,s[i]);w(o)}return f(this,a,l,{doFilter:!0,doTransform:!1!==e,skipRequired:!n,skipFinalValidation:!n}),e=!(0<l.length)&&!!CKEDITOR.tools.objectCompare(o.attributes,a.attributes,!0),"string"==typeof t&&(this._.cachedChecks[r]=e),e},getAllowedEnterMode:(o=["p","div","br"],I={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR},function(t,e){var n,i=o.slice();if(this.check(A[t]))return t;for(e||(i=i.reverse());n=i.pop();)if(this.check(n))return I[n];return CKEDITOR.ENTER_BR}),clone:function(){var t=new CKEDITOR.filter,e=CKEDITOR.tools.clone;return t.allowedContent=e(this.allowedContent),t._.allowedRules=e(this._.allowedRules),t.disallowedContent=e(this.disallowedContent),t._.disallowedRules=e(this._.disallowedRules),t._.transformations=e(this._.transformations),t.disabled=this.disabled,t.editor=this.editor,t},destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var M,N={styles:1,attributes:1,classes:1},K={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},P=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,i={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},L=/^cke:(object|embed|param)$/,F=/^(object|embed|param)$/;M=CKEDITOR.filter.transformationsTools={sizeToStyle:function(t){this.lengthToStyle(t,"width"),this.lengthToStyle(t,"height")},sizeToAttribute:function(t){this.lengthToAttribute(t,"width"),this.lengthToAttribute(t,"height")},lengthToStyle:function(t,e,n){if(!((n=n||e)in t.styles)){var i=t.attributes[e];i&&(/^\d+$/.test(i)&&(i+="px"),t.styles[n]=i)}delete t.attributes[e]},lengthToAttribute:function(t,e,n){if(!((n=n||e)in t.attributes)){var i=t.styles[e],o=i&&i.match(/^(\d+)(?:\.\d*)?px$/);o?t.attributes[n]=o[1]:"cke-test"==i&&(t.attributes[n]="cke-test")}delete t.styles[e]},alignmentToStyle:function(t){if(!("float"in t.styles)){var e=t.attributes.align;"left"!=e&&"right"!=e||(t.styles.float=e)}delete t.attributes.align},alignmentToAttribute:function(t){if(!("align"in t.attributes)){var e=t.styles.float;"left"!=e&&"right"!=e||(t.attributes.align=e)}delete t.styles.float},splitBorderShorthand:function(e){function t(t){e.styles["border-top-width"]=n[t[0]],e.styles["border-right-width"]=n[t[1]],e.styles["border-bottom-width"]=n[t[2]],e.styles["border-left-width"]=n[t[3]]}if(e.styles.border){var n=e.styles.border.match(/([\.\d]+\w+)/g)||["0px"];switch(n.length){case 1:e.styles["border-width"]=n[0];break;case 2:t([0,1,0,1]);break;case 3:t([0,1,2,1]);break;case 4:t([0,1,2,3])}e.styles["border-style"]=e.styles["border-style"]||(e.styles.border.match(/(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|initial|inherit)/)||[])[0],e.styles["border-style"]||delete e.styles["border-style"],delete e.styles.border}},listTypeToStyle:function(t){if(t.attributes.type)switch(t.attributes.type){case"a":t.styles["list-style-type"]="lower-alpha";break;case"A":t.styles["list-style-type"]="upper-alpha";break;case"i":t.styles["list-style-type"]="lower-roman";break;case"I":t.styles["list-style-type"]="upper-roman";break;case"1":t.styles["list-style-type"]="decimal";break;default:t.styles["list-style-type"]=t.attributes.type}},splitMarginShorthand:function(e){function t(t){e.styles["margin-top"]=n[t[0]],e.styles["margin-right"]=n[t[1]],e.styles["margin-bottom"]=n[t[2]],e.styles["margin-left"]=n[t[3]]}if(e.styles.margin){var n=e.styles.margin.match(/(\-?[\.\d]+\w+)/g)||["0px"];switch(n.length){case 1:t([0,0,0,0]);break;case 2:t([0,1,0,1]);break;case 3:t([0,1,2,1]);break;case 4:t([0,1,2,3])}delete e.styles.margin}},matchesStyle:n,transform:function(t,e){if("string"==typeof e)t.name=e;else{var n,i,o,r,a=e.getDefinition(),s=a.styles,l=a.attributes;for(n in t.name=a.element,l)if("class"==n)for(a=t.classes.join("|"),o=l[n].split(/\s+/);r=o.pop();)-1==a.indexOf(r)&&t.classes.push(r);else t.attributes[n]=l[n];for(i in s)t.styles[i]=s[i]}}}}(),CKEDITOR.focusManager=function(t){return t.focusManager?t.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:t},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(t){this._.timer&&clearTimeout(this._.timer),t&&(this.currentActive=t),this.hasFocus||this._.locked||((t=CKEDITOR.currentInstance)&&t.focusManager.blur(1),this.hasFocus=!0,(t=this._.editor.container)&&t.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(t){function e(){if(this.hasFocus){this.hasFocus=!1;var t=this._.editor.container;t&&t.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var n=CKEDITOR.focusManager._.blurDelay;t||!n?e.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer,e.call(this)},n,this)}},add:function(t,e){if(!(n=t.getCustomData("focusmanager"))||n!=this){n&&n.remove(t);var n="focus",i="blur";e&&(CKEDITOR.env.ie?(n="focusin",i="focusout"):CKEDITOR.event.useCapture=1);var o={blur:function(){t.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(t)}};t.on(n,o.focus,this),t.on(i,o.blur,this),e&&(CKEDITOR.event.useCapture=0),t.setCustomData("focusmanager",this),t.setCustomData("focusmanager_handlers",o)}},remove:function(t){t.removeCustomData("focusmanager");var e=t.removeCustomData("focusmanager_handlers");t.removeListener("blur",e.blur),t.removeListener("focus",e.focus)}},CKEDITOR.keystrokeHandler=function(t){return t.keystrokeHandler?t.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:t},this)},CKEDITOR.keystrokeHandler.prototype={attach:function(t){t.on("keydown",le,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&t.on("keypress",ce,this)}},CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(t,e,n){t&&CKEDITOR.lang.languages[t]||(t=this.detect(e,t));var i=this;e=function(){i[t].dir=i.rtl[t]?"rtl":"ltr",n(t,i[t])},this[t]?e():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+t+".js"),e,this)},detect:function(t,e){var n=this.languages,i=(o=(e=e||navigator.userLanguage||navigator.language||t).toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/))[1],o=o[2];return n[i+"-"+o]?i=i+"-"+o:n[i]||(i=null),CKEDITOR.lang.detect=i?function(){return i}:function(t){return t},i||t}},CKEDITOR.scriptLoader=(V={},W={},{load:function(t,i,e,n){var o="string"==typeof t;function r(t){i&&(o?i.call(e,t):i.call(e,s,l))}o&&(t=[t]),e=e||CKEDITOR;var a=t.length,s=[],l=[];if(0===a)r(!0);else{function c(t,e){(e?s:l).push(t),--a<=0&&(n&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),r(e))}function u(t,e){V[t]=1;var n=W[t];delete W[t];for(var i=0;i<n.length;i++)n[i](t,e)}function d(t){if(V[t])c(t,!0);else{var e=W[t]||(W[t]=[]);if(e.push(c),!(1<e.length)){var n=new CKEDITOR.dom.element("script");n.setAttributes({type:"text/javascript",src:t}),i&&(CKEDITOR.env.ie&&(CKEDITOR.env.version<=8||CKEDITOR.env.ie9Compat)?n.$.onreadystatechange=function(){"loaded"!=n.$.readyState&&"complete"!=n.$.readyState||(n.$.onreadystatechange=null,u(t,!0))}:(n.$.onload=function(){setTimeout(function(){u(t,!0)},0)},n.$.onerror=function(){u(t,!1)})),n.appendTo(CKEDITOR.document.getHead())}}}n&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var h=0;h<a;h++)d(t[h])}},queue:(j=[],function(t,e){var n=this;j.push({scriptUrl:t,callback:function(){e&&e.apply(this,arguments),j.shift(),ue.call(n)}}),1==j.length&&ue.call(this)})}),CKEDITOR.resourceManager=function(t,e){this.basePath=t,this.fileName=e,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(t,e){if(this.registered[t])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+t+'" is already registered.');var n=this.registered[t]=e||{};return n.name=t,n.path=this.getPath(t),CKEDITOR.fire(t+CKEDITOR.tools.capitalize(this.fileName)+"Ready",n),this.get(t)},get:function(t){return this.registered[t]||null},getPath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(e&&e.dir||this.basePath+t+"/")},getFilePath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(this.getPath(t)+(e?e.file:this.fileName+".js"))},addExternal:function(t,e,n){t=t.split(",");for(var i=0;i<t.length;i++){var o=t[i];n||(e=e.replace(/[^\/]+$/,function(t){return n=t,""})),this.externals[o]={dir:e,file:n||this.fileName+".js"}}},load:function(t,a,s){CKEDITOR.tools.isArray(t)||(t=t?[t]:[]);for(var l=this.loaded,e=this.registered,n=[],c={},u={},i=0;i<t.length;i++){var o=t[i];if(o)if(l[o]||e[o])u[o]=this.get(o);else{var r=this.getFilePath(o);n.push(r),r in c||(c[r]=[]),c[r].push(o)}}CKEDITOR.scriptLoader.load(n,function(t,e){if(e.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+c[e[0]].join(",")+'" was not found at "'+e[0]+'".');for(var n=0;n<t.length;n++)for(var i=c[t[n]],o=0;o<i.length;o++){var r=i[o];u[r]=this.get(r),l[r]=1}a.call(s,u)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(e){var d={};return function(t,s,l){var c={},u=function(t){e.call(this,t,function(t){CKEDITOR.tools.extend(c,t);var e,n=[];for(e in t){var i=t[e],o=i&&i.requires;if(!d[e]){if(i.icons)for(var r=i.icons.split(","),a=r.length;a--;)CKEDITOR.skin.addIcon(r[a],i.path+"icons/"+(CKEDITOR.env.hidpi&&i.hidpi?"hidpi/":"")+r[a]+".png");d[e]=1}if(o)for(o.split&&(o=o.split(",")),i=0;i<o.length;i++)c[o[i]]||n.push(o[i])}if(n.length)u.call(this,n);else{for(e in c)(i=c[e]).onLoad&&!i.onLoad._called&&(!1===i.onLoad()&&delete c[e],i.onLoad._called=1);s&&s.call(l||window,c)}},this)};u.call(this,t)}}),CKEDITOR.plugins.setLang=function(t,e,n){var i=this.get(t);t=i.langEntries||(i.langEntries={}),(i=i.lang||(i.lang=[])).split&&(i=i.split(",")),-1==CKEDITOR.tools.indexOf(i,e)&&i.push(e),t[e]=n},CKEDITOR.ui=function(t){return t.ui?t.ui:(this.items={},this.instances={},this.editor=t,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(t,e,n){n.name=t.toLowerCase();var i=this.items[t]={type:e,command:n.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(i,n)},get:function(t){return this.instances[t]},create:function(t){var e=this.items[t],n=e&&this._.handlers[e.type],i=e&&e.command&&this.editor.getCommand(e.command);n=n&&n.create.apply(this,e.args);return this.instances[t]=n,i&&i.uiItems.push(n),n&&!n.type&&(n.type=e.type),n},addHandler:function(t,e){this._.handlers[t]=e},space:function(t){return CKEDITOR.document.getById(this.spaceId(t))},spaceId:function(t){return this.editor.id+"_"+t}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function t(t,e,n){if(CKEDITOR.event.call(this),t=t&&CKEDITOR.tools.clone(t),void 0!==e){if(!(e instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!n)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&n==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!function(t,e){return e==CKEDITOR.ELEMENT_MODE_INLINE?t.is(CKEDITOR.dtd.$editable)||t.is("textarea"):e==CKEDITOR.ELEMENT_MODE_REPLACE?!t.is(CKEDITOR.dtd.$nonBodyContent):1}(e,n))throw Error('The specified element mode is not supported on element: "'+e.getName()+'".');this.element=e,this.elementMode=n,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(e.getId()||e.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||function(){do{var t="editor"+ ++a}while(CKEDITOR.instances[t]);return t}(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",i),this.on("selectionChange",function(t){r(this,t.data.path)}),this.on("activeFilterChange",function(){r(this,this.elementPath(),!0)}),this.on("mode",i),this.on("instanceReady",function(){this.config.startupFocus&&this.focus()}),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout(function(){"destroyed"!==this.status?function(e,n){e.on("customConfigLoaded",function(){if(n){if(n.on)for(var t in n.on)e.on(t,n.on[t]);CKEDITOR.tools.extend(e.config,n,!0),delete e.config.on}t=e.config,e.readOnly=!!t.readOnly||(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.is("textarea")?e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"):e.element.isReadOnly():e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"))),e.blockless=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!(e.element.is("textarea")||CKEDITOR.dtd[e.element.getName()].p),e.tabIndex=t.tabIndex||e.element&&e.element.getAttribute("tabindex")||0,e.activeEnterMode=e.enterMode=e.blockless?CKEDITOR.ENTER_BR:t.enterMode,e.activeShiftEnterMode=e.shiftEnterMode=e.blockless?CKEDITOR.ENTER_BR:t.shiftEnterMode,t.skin&&(CKEDITOR.skinName=t.skin),e.fireOnce("configLoaded"),e.dataProcessor=new CKEDITOR.htmlDataProcessor(e),e.filter=e.activeFilter=new CKEDITOR.filter(e),function(t){CKEDITOR.skin.loadPart("editor",function(){!function(i){CKEDITOR.lang.load(i.config.language,i.config.defaultLanguage,function(t,e){var n=i.config.title;i.langCode=t,i.lang=CKEDITOR.tools.prototypedCopy(e),i.title="string"==typeof n||!1===n?n:[i.lang.editor,i.name].join(", "),i.config.contentsLangDirection||(i.config.contentsLangDirection=i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?i.element.getDirection(1):i.lang.dir),i.fire("langLoaded"),function(e){e.getStylesSet(function(t){e.once("loaded",function(){e.fire("stylesSet",{styles:t})},null,null,1),function(u){var d=u.config,t=d.plugins,e=d.extraPlugins,n=d.removePlugins;if(e){var i=new RegExp("(?:^|,)(?:"+e.replace(/\s*,\s*/g,"|")+")(?=,|$)","g");t=(t=t.replace(i,""))+","+e}if(n){var h=new RegExp("(?:^|,)(?:"+n.replace(/\s*,\s*/g,"|")+")(?=,|$)","g");t=t.replace(h,"")}CKEDITOR.env.air&&(t+=",adobeair"),CKEDITOR.plugins.load(t.split(","),function(t){var o=[],r=[],e=[];for(var n in u.plugins=t){var i,a=t[n],s=a.lang,l=null,c=a.requires;if(CKEDITOR.tools.isArray(c)&&(c=c.join(",")),c&&(i=c.match(h)))for(;c=i.pop();)CKEDITOR.error("editor-plugin-required",{plugin:c.replace(",",""),requiredBy:n});s&&!u.lang[n]&&(s.split&&(s=s.split(",")),l=0<=CKEDITOR.tools.indexOf(s,u.langCode)?u.langCode:(l=u.langCode.replace(/-.*/,""))!=u.langCode&&0<=CKEDITOR.tools.indexOf(s,l)?l:0<=CKEDITOR.tools.indexOf(s,"en")?"en":s[0],a.langEntries&&a.langEntries[l]?(u.lang[n]=a.langEntries[l],l=null):e.push(CKEDITOR.getUrl(a.path+"lang/"+l+".js"))),r.push(l),o.push(a)}CKEDITOR.scriptLoader.load(e,function(){for(var t=["beforeInit","init","afterInit"],e=0;e<t.length;e++)for(var n=0;n<o.length;n++){var i=o[n];0===e&&r[n]&&i.lang&&i.langEntries&&(u.lang[i.name]=i.langEntries[r[n]]),i[t[e]]&&i[t[e]](u)}for(u.fireOnce("pluginsLoaded"),d.keystrokes&&u.setKeystroke(u.config.keystrokes),n=0;n<u.config.blockedKeystrokes.length;n++)u.keystrokeHandler.blockedKeystrokes[u.config.blockedKeystrokes[n]]=1;u.status="loaded",u.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,u)})})}(e)})}(i)})}(t)})}(e)}),n&&null!=n.customConfig&&(e.config.customConfig=n.customConfig),function t(e){var n=e.config.customConfig;if(!n)return!1;var n=CKEDITOR.getUrl(n),i=s[n]||(s[n]={});i.fn?(i.fn.call(e,e.config),CKEDITOR.getUrl(e.config.customConfig)!=n&&t(e)||e.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(n,function(){i.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){},t(e)});return!0}(e)||e.fireOnce("customConfigLoaded")}(this,t):CKEDITOR.warn("editor-incorrect-destroy")},0,this)}function i(){var t,e=this.commands;for(t in e)o(this,e[t])}function o(t,e){e[e.startDisabled?"disable":t.readOnly&&!e.readOnly?"disable":e.modes[t.mode]?"enable":"disable"]()}function r(t,e,n){if(e){var i,o,r=t.commands;for(o in r)i=r[o],(n||i.contextSensitive)&&i.refresh(t,e)}}function e(){var t=this.element;if(t&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var e=this.getData();return this.config.htmlEncodeOutput&&(e=CKEDITOR.tools.htmlEncode(e)),t.is("textarea")?t.setValue(e):t.setHtml(e),!0}return!1}t.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=t;var a=0,s={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(t,e){e.name=t.toLowerCase();var n=new CKEDITOR.command(this,e);return this.mode&&o(this,n),this.commands[t]=n},_attachToForm:function(){function e(t){n.updateElement(),n._.required&&!i.getValue()&&!1===n.fire("required")&&t.data.preventDefault()}var t,n=this,i=n.element,o=new CKEDITOR.dom.element(i.$.form);i.is("textarea")&&o&&(o.on("submit",e),(t=o.$.submit)&&t.call&&t.apply&&(o.$.submit=CKEDITOR.tools.override(o.$.submit,function(t){return function(){e(),t.apply?t.apply(this):t()}})),n.on("destroy",function(){o.removeListener("submit",e)}))},destroy:function(t){this.fire("beforeDestroy"),t||e.call(this),this.editable(null),this.filter&&(this.filter.destroy(),delete this.filter),delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(t){if(!t){if(!(t=this.getSelection()))return null;t=t.getStartElement()}return t?new CKEDITOR.dom.elementPath(t,this.editable()):null},createRange:function(){var t=this.editable();return t?new CKEDITOR.dom.range(t):null},execCommand:function(t,e){var n=this.getCommand(t),i={name:t,commandData:e||{},command:n};return!(!n||n.state==CKEDITOR.TRISTATE_DISABLED||!1===this.fire("beforeCommandExec",i)||(i.returnValue=n.exec(i.commandData),n.async||!1===this.fire("afterCommandExec",i)))&&i.returnValue},getCommand:function(t){return this.commands[t]},getData:function(t){t||this.fire("beforeGetData");var e=this._.data;return"string"!=typeof e&&(e=(e=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.is("textarea")?e.getValue():e.getHtml():""),e={dataValue:e},t||this.fire("getData",e),e.dataValue},getSnapshot:function(){var t=this.fire("getSnapshot");return"string"!=typeof t&&(t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""),t},loadSnapshot:function(t){this.fire("loadSnapshot",t)},setData:function(t,e,n){var i=!0,o=e;e&&"object"==typeof e&&(n=e.internal,o=e.callback,i=!e.noSnapshot),!n&&i&&this.fire("saveSnapshot"),!o&&n||this.once("dataReady",function(t){!n&&i&&this.fire("saveSnapshot"),o&&o.call(t.editor)}),t={dataValue:t},n||this.fire("setData",t),this._.data=t.dataValue,n||this.fire("afterSetData",t)},setReadOnly:function(t){t=null==t||t,this.readOnly!=t&&(this.readOnly=t,this.keystrokeHandler.blockedKeystrokes[8]=+t,this.editable().setReadOnly(t),this.fire("readOnly"))},insertHtml:function(t,e,n){this.fire("insertHtml",{dataValue:t,mode:e,range:n})},insertText:function(t){this.fire("insertText",t)},insertElement:function(t){this.fire("insertElement",t)},getSelectedHtml:function(t){var e=this.editable(),n=(n=this.getSelection())&&n.getRanges();return e&&n&&0!==n.length?(e=function(t,e){for(var n,i,o,r=new CKEDITOR.dom.documentFragment,a=0;a<t.length;a++){var s=t[a],l=s.startContainer.getAscendant("tr",!0);h=void 0,h=(d=s).startContainer,f=d.endContainer,h.is&&(h.is("tr")||h.is("td")&&h.equals(f)&&d.endOffset===h.getChildCount())?(n||((n=l.getAscendant("table").clone()).append(l.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),r.append(n),n=n.findOne("thead, tbody, tfoot")),i&&i.equals(l)||(o=(i=l).clone(),n.append(o)),o.append((u=void 0,(u=(c=s).startContainer).is("tr")?c.cloneContents():u.clone(!0)))):r.append(s.cloneContents())}var c,u,d,h,f;return n?r:e.getHtmlFromRange(t[0])}(n,e),t?e.getHtml():e):null},extractSelectedHtml:function(t,e){var n,i=this.editable(),o=this.getSelection().getRanges(),r=new CKEDITOR.dom.documentFragment;if(!i||0===o.length)return null;for(n=0;n<o.length;n++)r.append(i.extractHtmlFromRange(o[n],e));return e||this.getSelection().selectRanges([o[0]]),t?r.getHtml():r},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return e.call(this)},setKeystroke:function(){for(var t,e,n=this.keystrokeHandler.keystrokes,i=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],o=i.length;o--;)t=i[o],e=0,CKEDITOR.tools.isArray(t)&&(e=t[1],t=t[0]),e?n[t]=e:delete n[t]},getCommandKeystroke:function(t){if(t="string"==typeof t?this.getCommand(t):t){var e,n=CKEDITOR.tools.object.findKey(this.commands,t),i=this.keystrokeHandler.keystrokes;if(t.fakeKeystroke)return t.fakeKeystroke;for(e in i)if(i.hasOwnProperty(e)&&i[e]==n)return e}return null},addFeature:function(t){return this.filter.addFeature(t)},setActiveFilter:function(t){t=t||this.filter,this.activeFilter!==t&&(this.activeFilter=t,this.fire("activeFilterChange"),t===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(t.getAllowedEnterMode(this.enterMode),t.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(t,e){t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.enterMode,e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.shiftEnterMode,this.activeEnterMode==t&&this.activeShiftEnterMode==e||(this.activeEnterMode=t,this.activeShiftEnterMode=e,this.fire("activeEnterModeChange"))},showNotification:function(t){alert(t)}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},q=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,G={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1},CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(t){for(var e,n,i,o=0;e=this._.htmlPartsRegex.exec(t);)if(o<(n=e.index)&&(o=t.substring(o,n),i?i.push(o):this.onText(o)),o=this._.htmlPartsRegex.lastIndex,!(n=e[1])||(n=n.toLowerCase(),i&&CKEDITOR.dtd.$cdata[n]&&(this.onCDATA(i.join("")),i=null),i))if(i)i.push(e[0]);else if(n=e[3]){if(n=n.toLowerCase(),!/="/.test(n)){var r,a={},s=e[4];if(e=!!e[5],s)for(;r=q.exec(s);){var l=r[1].toLowerCase();r=r[2]||r[3]||r[4]||"",a[l]=!r&&G[l]?l:CKEDITOR.tools.htmlDecodeAttr(r)}this.onTagOpen(n,a,e),!i&&CKEDITOR.dtd.$cdata[n]&&(i=[])}}else(n=e[2])&&this.onComment(n);else this.onTagClose(n);t.length>o&&this.onText(t.substring(o,t.length))}},CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(t){this._.output.push("<",t)},openTagClose:function(t,e){e?this._.output.push(" />"):this._.output.push(">")},attribute:function(t,e){"string"==typeof e&&(e=CKEDITOR.tools.htmlEncodeAttr(e)),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){this._.output.push("</",t,">")},text:function(t){this._.output.push(t)},comment:function(t){this._.output.push("\x3c!--",t,"--\x3e")},write:function(t){this._.output.push(t)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(t){var e=this._.output.join("");return t&&this.reset(),e}}}),CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var t=this.parent.children,e=CKEDITOR.tools.indexOf(t,this),n=this.previous,i=this.next;n&&(n.next=i),i&&(i.previous=n),t.splice(e,1),this.parent=null},replaceWith:function(t){var e=this.parent.children,n=CKEDITOR.tools.indexOf(e,this),i=t.previous=this.previous,o=t.next=this.next;i&&(i.next=t),o&&(o.previous=t),(e[n]=t).parent=this.parent,this.parent=null},insertAfter:function(t){var e=t.parent.children,n=CKEDITOR.tools.indexOf(e,t),i=t.next;e.splice(n+1,0,this),this.next=t.next,(this.previous=t).next=this,i&&(i.previous=this),this.parent=t.parent},insertBefore:function(t){var e=t.parent.children,n=CKEDITOR.tools.indexOf(e,t);e.splice(n,0,this),this.next=t,(this.previous=t.previous)&&(t.previous.next=this),(t.previous=this).parent=t.parent},getAscendant:function(e){for(var t="function"==typeof e?e:"string"==typeof e?function(t){return t.name==e}:function(t){return t.name in e},n=this.parent;n&&n.type==CKEDITOR.NODE_ELEMENT;){if(t(n))return n;n=n.parent}return null},wrapWith:function(t){return this.replaceWith(t),t.add(this),t},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(t){return t||{}}},CKEDITOR.htmlParser.comment=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(t,e){var n=this.value;return(n=t.onComment(e,n,this))?"string"!=typeof n?(this.replaceWith(n),!1):(this.value=n,!0):(this.remove(),!1)},writeHtml:function(t,e){e&&this.filter(e),t.comment(this.value)}}),CKEDITOR.htmlParser.text=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(t,e){if(!(this.value=t.onText(e,this.value,this)))return this.remove(),!1},writeHtml:function(t,e){e&&this.filter(e),t.text(this.value)}}),CKEDITOR.htmlParser.cdata=function(t){this.value=t},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(t){t.write(this.value)}}),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},U=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),Y={ol:1,ul:1},X=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),Z={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"},CKEDITOR.htmlParser.fragment.fromHtml=function(t,e,a){function o(t){var e;if(0<f.length)for(var n=0;n<f.length;n++){var i=f[n],o=i.name,r=CKEDITOR.dtd[o],a=g.name&&CKEDITOR.dtd[g.name];a&&!a[o]||t&&r&&!r[t]&&CKEDITOR.dtd[t]?o==g.name&&(l(g,g.parent,1),n--):(e||(s(),e=1),(i=i.clone()).parent=g,g=i,f.splice(n,1),n--)}}function s(){for(;p.length;)l(p.shift(),g)}function r(t){if(t._.isBlockLike&&"pre"!=t.name&&"textarea"!=t.name){var e,n=t.children.length,i=t.children[n-1];i&&i.type==CKEDITOR.NODE_TEXT&&((e=CKEDITOR.tools.rtrim(i.value))?i.value=e:t.children.length=n-1)}}function l(t,e,n){e=e||g||h;var i=g;void 0===t.previous&&(c(e,t)&&(g=e,d.onTagOpen(a,{}),t.returnPoint=e=g),r(t),de(t)&&!t.children.length||e.add(t),"pre"==t.name&&(v=!1),"textarea"==t.name&&(m=!1)),t.returnPoint?(g=t.returnPoint,delete t.returnPoint):g=n?e:i}function c(t,e){var n,i;if((t==h||"body"==t.name)&&a&&(!t.name||CKEDITOR.dtd[t.name][a]))return(n=e.attributes&&(i=e.attributes["data-cke-real-element-type"])?i:e.name)&&n in CKEDITOR.dtd.$inline&&!(n in CKEDITOR.dtd.head)&&!e.isOrphan||e.type==CKEDITOR.NODE_TEXT}function u(t,e){return(t in CKEDITOR.dtd.$listItem||t in CKEDITOR.dtd.$tableContent)&&(t==e||"dt"==t&&"dd"==e||"dd"==t&&"dt"==e)}var d=new CKEDITOR.htmlParser,h=e instanceof CKEDITOR.htmlParser.element?e:"string"==typeof e?new CKEDITOR.htmlParser.element(e):new CKEDITOR.htmlParser.fragment,f=[],p=[],g=h,m="textarea"==h.name,v="pre"==h.name;for(d.onTagOpen=function(t,e,n,i){if((e=new CKEDITOR.htmlParser.element(t,e)).isUnknown&&n&&(e.isEmpty=!0),e.isOptionalClose=i,de(e))f.push(e);else{if("pre"==t)v=!0;else{if("br"==t&&v)return void g.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==t&&(m=!0)}if("br"==t)p.push(e);else{for(;i=(n=g.name)?CKEDITOR.dtd[n]||(g._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):X,!(e.isUnknown||g.isUnknown||i[t]);)if(g.isOptionalClose)d.onTagClose(n);else if(t in Y&&n in Y)(n=(n=g.children)[n.length-1])&&"li"==n.name||l(n=new CKEDITOR.htmlParser.element("li"),g),e.returnPoint||(e.returnPoint=g),g=n;else if(t in CKEDITOR.dtd.$listItem&&!u(t,n))d.onTagOpen("li"==t?"ul":"dl",{},0,1);else if(n in U&&!u(t,n))e.returnPoint||(e.returnPoint=g),g=g.parent;else{if(n in CKEDITOR.dtd.$inline&&f.unshift(g),!g.parent){e.isOrphan=1;break}l(g,g.parent,1)}o(t),s(),e.parent=g,e.isEmpty?l(e):g=e}}},d.onTagClose=function(t){for(var e=f.length-1;0<=e;e--)if(t==f[e].name)return void f.splice(e,1);for(var n=[],i=[],o=g;o!=h&&o.name!=t;)o._.isBlockLike||i.unshift(o),n.push(o),o=o.returnPoint||o.parent;if(o!=h){for(e=0;e<n.length;e++){var r=n[e];l(r,r.parent)}(g=o)._.isBlockLike&&s(),l(o,o.parent),o==g&&(g=g.parent),f=f.concat(i)}"body"==t&&(a=!1)},d.onText=function(t){if(g._.hasInlineStarted&&!p.length||v||m||0!==(t=CKEDITOR.tools.ltrim(t)).length){var e=g.name,n=e?CKEDITOR.dtd[e]||(g._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):X;!m&&!n["#"]&&e in U?(d.onTagOpen(Z[e]||""),d.onText(t)):(s(),o(),v||m||(t=t.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),t=new CKEDITOR.htmlParser.text(t),c(g,t)&&this.onTagOpen(a,{},0,1),g.add(t))}},d.onCDATA=function(t){g.add(new CKEDITOR.htmlParser.cdata(t))},d.onComment=function(t){s(),o(),g.add(new CKEDITOR.htmlParser.comment(t))},d.parse(t),s();g!=h;)l(g,g.parent,1);return r(h),h},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(t,e){isNaN(e)&&(e=this.children.length);var n=0<e?this.children[e-1]:null;if(n){if(t._.isBlockLike&&n.type==CKEDITOR.NODE_TEXT&&(n.value=CKEDITOR.tools.rtrim(n.value),0===n.value.length))return this.children.pop(),void this.add(t);n.next=t}t.previous=n,(t.parent=this).children.splice(e,0,t),this._.hasInlineStarted||(this._.hasInlineStarted=t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&!t._.isBlockLike)},filter:function(t,e){e=this.getFilterContext(e),t.onRoot(e,this),this.filterChildren(t,!1,e)},filterChildren:function(t,e,n){if(this.childrenFilteredBy!=t.id)for(n=this.getFilterContext(n),e&&!this.parent&&t.onRoot(n,this),this.childrenFilteredBy=t.id,e=0;e<this.children.length;e++)!1===this.children[e].filter(t,n)&&e--},writeHtml:function(t,e){e&&this.filter(e),this.writeChildrenHtml(t)},writeChildrenHtml:function(t,e,n){var i=this.getFilterContext();for(n&&!this.parent&&e&&e.onRoot(i,this),e&&this.filterChildren(e,!1,i),e=0,i=(n=this.children).length;e<i;e++)n[e].writeHtml(t)},forEach:function(t,e,n){if(!(n||e&&this.type!=e))var i=t(this);if(!1!==i){n=this.children;for(var o=0;o<n.length;o++)(i=n[o]).type==CKEDITOR.NODE_ELEMENT?i.forEach(t,e):e&&i.type!=e||t(i)}},getFilterContext:function(t){return t||{}}},CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(t){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new he,this.attributeNameRules=new he,this.elementsRules={},this.attributesRules={},this.textRules=new he,this.commentRules=new he,this.rootRules=new he,t&&this.addRules(t,10)},proto:{addRules:function(t,e){var n;"number"==typeof e?n=e:e&&"priority"in e&&(n=e.priority),"number"!=typeof n&&(n=10),"object"!=typeof e&&(e={}),t.elementNames&&this.elementNameRules.addMany(t.elementNames,n,e),t.attributeNames&&this.attributeNameRules.addMany(t.attributeNames,n,e),t.elements&&fe(this.elementsRules,t.elements,n,e),t.attributes&&fe(this.attributesRules,t.attributes,n,e),t.text&&this.textRules.add(t.text,n,e),t.comment&&this.commentRules.add(t.comment,n,e),t.root&&this.rootRules.add(t.root,n,e)},applyTo:function(t){t.filter(this)},onElementName:function(t,e){return this.elementNameRules.execOnName(t,e)},onAttributeName:function(t,e){return this.attributeNameRules.execOnName(t,e)},onText:function(t,e,n){return this.textRules.exec(t,e,n)},onComment:function(t,e,n){return this.commentRules.exec(t,e,n)},onRoot:function(t,e){return this.rootRules.exec(t,e)},onElement:function(t,e){for(var n,i=[this.elementsRules["^"],this.elementsRules[e.name],this.elementsRules.$],o=0;o<3;o++)if(n=i[o]){if(!1===(n=n.exec(t,e,this)))return null;if(n&&n!=e)return this.onNode(t,n);if(e.parent&&!e.name)break}return e},onNode:function(t,e){var n=e.type;return n==CKEDITOR.NODE_ELEMENT?this.onElement(t,e):n==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(t,e.value)):n==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(t,e.value)):null},onAttribute:function(t,e,n,i){return(n=this.attributesRules[n])?n.exec(t,i,e,this):i}}}),(CKEDITOR.htmlParser.filterRulesGroup=he).prototype={add:function(t,e,n){this.rules.splice(this.findIndex(e),0,{value:t,priority:e,options:n})},addMany:function(t,e,n){for(var i=[this.findIndex(e),0],o=0,r=t.length;o<r;o++)i.push({value:t[o],priority:e,options:n});this.rules.splice.apply(this.rules,i)},findIndex:function(t){for(var e=this.rules,n=e.length-1;0<=n&&t<e[n].priority;)n--;return n+1},exec:function(t,e){var n,i,o,r,a=e instanceof CKEDITOR.htmlParser.node||e instanceof CKEDITOR.htmlParser.fragment,s=Array.prototype.slice.call(arguments,1),l=this.rules,c=l.length;for(r=0;r<c;r++)if(a&&(n=e.type,i=e.name),o=l[r],!(t.nonEditable&&!o.options.applyToAll||t.nestedEditable&&o.options.excludeNestedEditable)){if(!1===(o=o.value.apply(null,s))||a&&o&&(o.name!=i||o.type!=n))return o;null!=o&&(s[0]=e=o)}return e},execOnName:function(t,e){for(var n,i=0,o=this.rules,r=o.length;e&&i<r;i++)n=o[i],t.nonEditable&&!n.options.applyToAll||t.nestedEditable&&n.options.excludeNestedEditable||(e=e.replace(n.value[0],n.value[1]));return e}},function(){function n(t,e){function s(t){return t||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(""):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function n(r,a){return function(t){if(t.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e,n,i=[],o=u(t);if(o)for(l(o,1)&&i.push(o);o;)f(o)&&(e=d(o))&&l(e)&&((n=d(e))&&!f(n)?i.push(e):(s(c).insertAfter(e),e.remove())),o=o.previous;for(o=0;o<i.length;o++)i[o].remove();(i=!r||!1!==("function"==typeof a?a(t):a))&&(i=!(!c&&!CKEDITOR.env.needsBrFiller&&t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(!(!c&&!CKEDITOR.env.needsBrFiller&&(7<document.documentMode||t.name in CKEDITOR.dtd.tr||t.name in CKEDITOR.dtd.$listItem))&&(!(i=u(t))||"form"==t.name&&"input"==i.name))),i&&t.add(s(r))}}}function l(t,e){return!(c&&!CKEDITOR.env.needsBrFiller||t.type!=CKEDITOR.NODE_ELEMENT||"br"!=t.name||t.attributes["data-cke-eol"])||!!(t.type==CKEDITOR.NODE_TEXT&&(n=t.value.match(g))&&(n.index&&(new CKEDITOR.htmlParser.text(t.value.substring(0,n.index)).insertBefore(t),t.value=n[0]),!CKEDITOR.env.needsBrFiller&&c&&(!e||t.parent.name in a)||!c&&((n=t.previous)&&"br"==n.name||!n||f(n))));var n}var i,o,r={elements:{}},c="html"==e,a=CKEDITOR.tools.extend({},v);for(i in a)"#"in m[i]||delete a[i];for(i in a)r.elements[i]=n(c,t.config.fillEmptyBlocks);return r.root=n(c,!1),r.elements.br=(o=c,function(t){if(t.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=t.attributes;if("data-cke-bogus"in e||"data-cke-eol"in e)delete e["data-cke-bogus"];else{for(e=t.next;e&&h(e);)e=e.next;var n=d(t);!e&&f(t.parent)?p(t.parent,s(o)):f(e)&&n&&!f(n)&&s(o).insertBefore(e)}}}),r}function r(t,e){return t!=CKEDITOR.ENTER_BR&&!1!==e&&(t==CKEDITOR.ENTER_DIV?"div":"p")}function u(t){for(t=t.children[t.children.length-1];t&&h(t);)t=t.previous;return t}function d(t){for(t=t.previous;t&&h(t);)t=t.previous;return t}function h(t){return t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(t.value)||t.type==CKEDITOR.NODE_ELEMENT&&t.attributes["data-cke-bookmark"]}function f(t){return t&&(t.type==CKEDITOR.NODE_ELEMENT&&t.name in v||t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function p(t,e){var n=t.children[t.children.length-1];t.children.push(e),e.parent=t,n&&((n.next=e).previous=n)}function t(t){"false"!=(t=t.attributes).contenteditable&&(t["data-cke-editable"]=t.contenteditable?"true":1),t.contenteditable="false"}function e(t){switch((t=t.attributes)["data-cke-editable"]){case"true":t.contenteditable="true";break;case"1":delete t.contenteditable}}function a(t,e){return t.replace(e,function(t,e,n){return 0===t.indexOf("<textarea")&&(t=e+s(n).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(t)+"</cke:encoded>"})}function s(t){return t.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,function(t,e){return decodeURIComponent(e)})}function l(t,e){var n=e._.dataStore;return t.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(t,e){return decodeURIComponent(e)}).replace(/\{cke_protected_(\d+)\}/g,function(t,e){return n&&n[e]||""})}CKEDITOR.htmlDataProcessor=function(o){var t,e,i=this;this.editor=o,this.dataFilter=t=new CKEDITOR.htmlParser.filter,this.htmlFilter=e=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,t.addRules(y),t.addRules(b,{applyToAll:!0}),t.addRules(n(o,"data"),{applyToAll:!0}),e.addRules(_),e.addRules(E,{applyToAll:!0}),e.addRules(n(o,"html"),{applyToAll:!0}),o.on("toHtml",function(t){var e,n,i=(i=(i=(i=(i=a(i=function(t){return t.replace(w,function(t,e,n){return"<"+e+n.replace(T,function(t,e){return C.test(e)&&-1==n.indexOf("data-cke-saved-"+e)?" data-cke-saved-"+t+" data-cke-"+CKEDITOR.rnd+"-"+t:t})+">"})}(i=a(i=function(t,o){var i=[],e=o.config.protectedSource,n=o._.dataStore||(o._.dataStore={id:1}),r=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g;e=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(e),t=t.replace(/\x3c!--[\s\S]*?--\x3e/g,function(t){return"\x3c!--{cke_tempcomment}"+(i.push(t)-1)+"--\x3e"});for(var a=0;a<e.length;a++)t=t.replace(e[a],function(t){return t=t.replace(r,function(t,e,n){return i[n]}),/cke_temp(comment)?/.test(t)?t:"\x3c!--{cke_temp}"+(i.push(t)-1)+"--\x3e"});return(t=(t=t.replace(r,function(t,e,n){return"\x3c!--"+c+(e?"{C}":"")+encodeURIComponent(i[n]).replace(/--/g,"%2D%2D")+"--\x3e"})).replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(t){return t.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,function(t,e){return n[n.id]=decodeURIComponent(e),"{cke_protected_"+n.id+++"}"})})).replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(t,e,n,i){return"<"+e+n+">"+l(s(i),o)+"</"+e+">"})}(i=(t=t.data).dataValue,o),D)),x)).replace(I,"$1cke:$2")).replace(S,"<cke:$1$2></cke:$1>")).replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2")).replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");e=t.context||o.editable().getName(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&"pre"==e&&(e="div",i="<pre>"+i+"</pre>",n=1),(e=o.document.createElement(e)).setHtml("a"+i),i=(i=e.getHtml().substr(1)).replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),""),n&&(i=i.replace(/^<pre>|<\/pre>$/gi,"")),i=s(i=function(t){return t.replace(O,function(t,e){return decodeURIComponent(e)})}(i=i.replace(k,"$1$2"))),e=!1!==t.fixForBody&&r(t.enterMode,o.config.autoParagraph),i=CKEDITOR.htmlParser.fragment.fromHtml(i,t.context,e),!e||!(n=i).children.length&&CKEDITOR.dtd[n.name][e]&&(e=new CKEDITOR.htmlParser.element(e),n.add(e)),t.dataValue=i},null,null,5),o.on("toHtml",function(t){t.data.filter.applyTo(t.data.dataValue,!0,t.data.dontFilter,t.data.enterMode)&&o.fire("dataFiltered")},null,null,6),o.on("toHtml",function(t){t.data.dataValue.filterChildren(i.dataFilter,!0)},null,null,10),o.on("toHtml",function(t){var e=(t=t.data).dataValue,n=new CKEDITOR.htmlParser.basicWriter;e.writeChildrenHtml(n),e=n.getHtml(!0),t.dataValue=function(t){return t.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,function(t){return"\x3c!--"+c+"{C}"+encodeURIComponent(t).replace(/--/g,"%2D%2D")+"--\x3e"})}(e)},null,null,15),o.on("toDataFormat",function(t){var e=t.data.dataValue;t.data.enterMode!=CKEDITOR.ENTER_BR&&(e=e.replace(/^<br *\/?>/i,"")),t.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(e,t.data.context,r(t.data.enterMode,o.config.autoParagraph))},null,null,5),o.on("toDataFormat",function(t){t.data.dataValue.filterChildren(i.htmlFilter,!0)},null,null,10),o.on("toDataFormat",function(t){t.data.filter.applyTo(t.data.dataValue,!1,!0)},null,null,11),o.on("toDataFormat",function(t){var e=t.data.dataValue,n=i.writer;n.reset(),e.writeChildrenHtml(n),e=l(e=s(e=n.getHtml(!0)),o),t.data.dataValue=e},null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(t,e,n,i){var o,r,a,s,l=this.editor;return e&&"object"==typeof e?(o=e.context,n=e.fixForBody,i=e.dontFilter,r=e.filter,a=e.enterMode,s=e.protectedWhitespaces):o=e,o||null===o||(o=l.editable().getName()),l.fire("toHtml",{dataValue:t,context:o,fixForBody:n,dontFilter:i,filter:r||l.filter,enterMode:a||l.enterMode,protectedWhitespaces:s}).dataValue},toDataFormat:function(t,e){var n,i,o;return e&&(n=e.context,i=e.filter,o=e.enterMode),n||null===n||(n=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:t,filter:i||this.editor.filter,context:n,enterMode:o||this.editor.enterMode}).dataValue}};var g=/(?:&nbsp;|\xa0)$/,c="{cke_protected}",m=CKEDITOR.dtd,o="caption colgroup col thead tfoot tbody".split(" "),v=CKEDITOR.tools.extend({},m.$blockLimit,m.$block),y={elements:{input:t,textarea:t}},b={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(t){if(t.attributes&&t.attributes.src){var e=t.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");0!==e.indexOf("javascript")&&0!==e.indexOf("data")||(t.attributes["data-cke-pa-src"]=t.attributes.src,delete t.attributes.src)}}}},_={elements:{embed:function(t){if((n=t.parent)&&"object"==n.name){var e=n.attributes.width,n=n.attributes.height;e&&(t.attributes.width=e),n&&(t.attributes.height=n)}},a:function(t){var e=t.attributes;if(!(t.children.length||e.name||e.id||t.attributes["data-cke-saved-name"]))return!1}}},E={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(t){var e=t.attributes;if(e){if(e["data-cke-temp"])return!1;for(var n=["name","href","src"],i=0;i<n.length;i++)"data-cke-saved-"+n[i]in e&&delete e[n[i]]}return t},table:function(t){t.children.slice(0).sort(function(t,e){var n,i;return t.type==CKEDITOR.NODE_ELEMENT&&e.type==t.type&&(n=CKEDITOR.tools.indexOf(o,t.name),i=CKEDITOR.tools.indexOf(o,e.name)),-1<n&&-1<i&&n!=i||(n=t.parent?t.getIndex():-1,i=e.parent?e.getIndex():-1),i<n?1:-1})},param:function(t){return t.children=[],t.isEmpty=!0,t},span:function(t){"Apple-style-span"==t.attributes.class&&delete t.name},html:function(t){delete t.attributes.contenteditable,delete t.attributes.class},body:function(t){delete t.attributes.spellcheck,delete t.attributes.contenteditable},style:function(t){var e=t.children[0];e&&e.value&&(e.value=CKEDITOR.tools.trim(e.value)),t.attributes.type||(t.attributes.type="text/css")},title:function(t){var e=t.children[0];e||p(t,e=new CKEDITOR.htmlParser.text),e.value=t.attributes["data-cke-title"]||""},input:e,textarea:e},attributes:{class:function(t){return CKEDITOR.tools.ltrim(t.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(E.attributes.style=function(t){return t.replace(/(^|;)([^\:]+)/g,function(t){return t.toLowerCase()})});var w=/<(a|area|img|input|source)\b([^>]*)>/gi,T=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,C=/^(href|src|name)$/i,x=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,D=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,O=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,I=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,k=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,S=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi}(),CKEDITOR.htmlParser.element=function(t,e){this.name=t,this.attributes=e||{},this.children=[];var n=t||"",i=n.match(/^cke:(.*)/);i&&(n=i[1]),n=!!(CKEDITOR.dtd.$nonBodyContent[n]||CKEDITOR.dtd.$block[n]||CKEDITOR.dtd.$listItem[n]||CKEDITOR.dtd.$tableContent[n]||CKEDITOR.dtd.$nonEditable[n]||"br"==n),this.isEmpty=!!CKEDITOR.dtd.$empty[t],this.isUnknown=!CKEDITOR.dtd[t],this._={isBlockLike:n,hasInlineStarted:this.isEmpty||!n}},CKEDITOR.htmlParser.cssStyle=function(t){var i={};return((t instanceof CKEDITOR.htmlParser.element?t.attributes.style:t)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(t,e,n){"font-family"==e&&(n=n.replace(/["']/g,"")),i[e.toLowerCase()]=n}),{rules:i,populate:function(t){var e=this.toString();e&&(t instanceof CKEDITOR.dom.element?t.setAttribute("style",e):t instanceof CKEDITOR.htmlParser.element?t.attributes.style=e:t.style=e)},toString:function(){var t,e=[];for(t in i)i[t]&&e.push(t,":",i[t],";");return e.join("")}}},Q=CKEDITOR.htmlParser.fragment.prototype,CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:Q.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(t,e){var n,i,o,r,a=this;if((e=a.getFilterContext(e)).off)return!0;for(a.parent||t.onRoot(e,a);;){if(n=a.name,!(i=t.onElementName(e,n)))return this.remove(),!1;if(a.name=i,!(a=t.onElement(e,a)))return this.remove(),!1;if(a!==this)return this.replaceWith(a),!1;if(a.name==n)break;if(a.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(a),!1;if(!a.name)return this.replaceWithChildren(),!1}for(o in n=a.attributes){for(i=n[o];;){if(!(r=t.onAttributeName(e,o))){delete n[o];break}if(r==o)break;delete n[o],o=r}r&&(!1===(i=t.onAttribute(e,a,r,i))?delete n[r]:n[r]=i)}return a.isEmpty||this.filterChildren(t,!1,e),!0},filterChildren:Q.filterChildren,writeHtml:function(t,e){e&&this.filter(e);var n,i,o=this.name,r=[],a=this.attributes;for(n in t.openTag(o,a),a)r.push([n,a[n]]);for(t.sortAttributes&&r.sort(pe),n=0,i=r.length;n<i;n++)a=r[n],t.attribute(a[0],a[1]);t.openTagClose(o,this.isEmpty),this.writeChildrenHtml(t),this.isEmpty||t.closeTag(o)},writeChildrenHtml:Q.writeChildrenHtml,replaceWithChildren:function(){for(var t=this.children,e=t.length;e;)t[--e].insertAfter(this);this.remove()},forEach:Q.forEach,getFirst:function(t){if(!t)return this.children.length?this.children[0]:null;"function"!=typeof t&&(t=function(e){return function(t){return t.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof e?t.name==e:t.name in e)}}(t));for(var e=0,n=this.children.length;e<n;++e)if(t(this.children[e]))return this.children[e];return null},getHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(t),t.getHtml()},setHtml:function(t){for(var e=0,n=(t=this.children=CKEDITOR.htmlParser.fragment.fromHtml(t).children).length;e<n;++e)t[e].parent=this},getOuterHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(t),t.getHtml()},split:function(t){for(var e=this.children.splice(t,this.children.length-t),n=this.clone(),i=0;i<e.length;++i)e[i].parent=n;return(n.children=e)[0]&&(e[0].previous=null),0<t&&(this.children[t-1].next=null),this.parent.add(n,this.getIndex()+1),n},find:function(t,e){void 0===e&&(e=!1);var n,i=[];for(n=0;n<this.children.length;n++){var o=this.children[n];"function"==typeof t&&t(o)?i.push(o):"string"==typeof t&&o.name===t&&i.push(o),e&&o.find&&(i=i.concat(o.find(t,e)))}return i},addClass:function(t){if(!this.hasClass(t)){var e=this.attributes.class||"";this.attributes.class=e+(e?" ":"")+t}},removeClass:function(t){var e=this.attributes.class;e&&((e=CKEDITOR.tools.trim(e.replace(new RegExp("(?:\\s+|^)"+t+"(?:\\s+|$)")," ")))?this.attributes.class=e:delete this.attributes.class)},hasClass:function(t){var e=this.attributes.class;return!!e&&new RegExp("(?:^|\\s)"+t+"(?=\\s|$)").test(e)},getFilterContext:function(t){var e=[];if((t=t||{off:!1,nonEditable:!1,nestedEditable:!1}).off||"off"!=this.attributes["data-cke-processor"]||e.push("off",!0),t.nonEditable||"false"!=this.attributes.contenteditable?t.nonEditable&&!t.nestedEditable&&"true"==this.attributes.contenteditable&&e.push("nestedEditable",!0):e.push("nonEditable",!0),e.length){t=CKEDITOR.tools.copy(t);for(var n=0;n<e.length;n+=2)t[e[n]]=e[n+1]}return t}},!0),J=/{([^}]+)}/g,CKEDITOR.template=function(t){this.source=String(t)},CKEDITOR.template.prototype.output=function(n,t){var e=this.source.replace(J,function(t,e){return void 0!==n[e]?n[e]:t});return t?t.push(e):e},delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(t){(CKEDITOR.instances[t.name]=t).on("focus",function(){CKEDITOR.currentInstance!=t&&(CKEDITOR.currentInstance=t,CKEDITOR.fire("currentInstance"))}),t.on("blur",function(){CKEDITOR.currentInstance==t&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}),CKEDITOR.fire("instance",null,t)},CKEDITOR.remove=function(t){delete CKEDITOR.instances[t.name]},tt={},CKEDITOR.addTemplate=function(t,e){var n=tt[t];return n||(n={name:t,source:e},CKEDITOR.fire("template",n),tt[t]=new CKEDITOR.template(n.source))},CKEDITOR.getTemplate=function(t){return tt[t]},et=[],CKEDITOR.addCss=function(t){et.push(t)},CKEDITOR.getCss=function(){return et.join("\n")},CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,CKEDITOR.inline=function(t,e){if(!CKEDITOR.env.isCompatible)return null;if((t=CKEDITOR.dom.element.get(t)).getEditor())throw'The editor instance "'+t.getEditor().name+'" is already attached to the provided element.';var n=new CKEDITOR.editor(e,t,CKEDITOR.ELEMENT_MODE_INLINE),i=t.is("textarea")?t:null;return i?(n.setData(i.getValue(),null,!0),(t=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!n.readOnly+'" class="cke_textarea_inline">'+i.getValue()+"</div>",CKEDITOR.document)).insertAfter(i),i.hide(),i.$.form&&n._attachToForm()):n.setData(t.getHtml(),null,!0),n.on("loaded",function(){n.fire("uiReady"),n.editable(t),n.container=t,n.ui.contentsElement=t,n.setData(n.getData(1)),n.resetDirty(),n.fire("contentDom"),n.mode="wysiwyg",n.fire("mode"),n.status="ready",n.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,n)},null,null,1e4),n.on("destroy",function(){i&&(n.container.clearCustomData(),n.container.remove(),i.show()),n.element.clearCustomData(),delete n.element}),n},CKEDITOR.inlineAll=function(){var t,e,n;for(n in CKEDITOR.dtd.$editable)for(var i=CKEDITOR.document.getElementsByTag(n),o=0,r=i.count();o<r;o++)"true"==(t=i.getItem(o)).getAttribute("contenteditable")&&(!(e={element:t,config:{}})!==CKEDITOR.fire("inline",e)&&CKEDITOR.inline(t,e.config))},CKEDITOR.domReady(function(){CKEDITOR.disableAutoInline||CKEDITOR.inlineAll()}),CKEDITOR.replaceClass="ckeditor",CKEDITOR.replace=function(t,e){return ge(t,e,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(t,e,n){return ge(t,e,n,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(){for(var t=document.getElementsByTagName("textarea"),e=0;e<t.length;e++){var n=null,i=t[e];if(i.name||i.id){if("string"==typeof arguments[0]){if(!new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(i.className))continue}else if("function"==typeof arguments[0]&&!(n={})===arguments[0](i,n))continue;this.replace(i,n)}}},CKEDITOR.editor.prototype.addMode=function(t,e){(this._.modes||(this._.modes={}))[t]=e},CKEDITOR.editor.prototype.setMode=function(t,e){var n=this,i=this._.modes;if(t!=n.mode&&i&&i[t]){if(n.fire("beforeSetMode",t),n.mode){var o,r=n.checkDirty(),a=(i=n._.previousModeData,0);n.fire("beforeModeUnload"),n.editable(0),n._.previousMode=n.mode,n._.previousModeData=o=n.getData(1),"source"==n.mode&&i==o&&(n.fire("lockSnapshot",{forceUpdate:!0}),a=1),n.ui.space("contents").setHtml(""),n.mode=""}else n._.previousModeData=n.getData(1);this._.modes[t](function(){n.mode=t,void 0===r||r||n.resetDirty(),a?n.fire("unlockSnapshot"):"wysiwyg"==t&&n.fire("saveSnapshot"),setTimeout(function(){n.fire("mode"),e&&e.call(n)},0)})}},CKEDITOR.editor.prototype.resize=function(t,e,n,i){var o=this.container,r=this.ui.space("contents"),a=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;(i=i?this.container.getFirst(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")}):o).setSize("width",t,!0),a&&(a.style.width="1%");var s=(i.$.offsetHeight||0)-(r.$.clientHeight||0);o=Math.max(e-(n?0:s),0),e=n?e+s:e,r.setStyle("height",o+"px"),a&&(a.style.width="100%"),this.fire("resize",{outerHeight:e,contentsHeight:o,outerWidth:t||i.getSize("width")})},CKEDITOR.editor.prototype.getResizable=function(t){return t?this.ui.space("contents"):this.container},CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)}),CKEDITOR.config.startupMode="wysiwyg",CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(t,e){this.base(e.$||e),this.editor=t,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var t;if(CKEDITOR.env.webkit&&!this.hasFocus&&(t=this.editor._.previousActive||this.getDocument().getActive(),this.contains(t)))t.focus();else{CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var e=this.$.scrollTop;this.$.focus(),this.$.scrollTop=e}else this.$.focus();else this.$.setActive()}catch(t){if(!CKEDITOR.env.ie)throw t}CKEDITOR.env.safari&&!this.isInline()&&((t=CKEDITOR.document.getActive()).equals(this.getWindow().getFrame())||this.getWindow().focus())}},on:function(t,e){var n=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(t)&&(t="focus"==t?"focusin":"focusout",e=function(n,i){return function(t){var e=t.data.$.toElement||t.data.$.fromElement||t.data.$.relatedTarget;(e=e&&e.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(e):null)&&(i.equals(e)||i.contains(e))||n.call(this,t)}}(e,this),n[0]=t,n[1]=e),CKEDITOR.dom.element.prototype.on.apply(this,n)},attachListener:function(t){this._.listeners||(this._.listeners=[]);var e=Array.prototype.slice.call(arguments,1);return e=t.on.apply(t,e),this._.listeners.push(e),e},clearListeners:function(){var t=this._.listeners;try{for(;t.length;)t.pop().removeListener()}catch(t){}},restoreAttrs:function(){var t,e,n=this._.attrChanges;for(e in n)n.hasOwnProperty(e)&&(null!==(t=n[e])?this.setAttribute(e,t):this.removeAttribute(e))},attachClass:function(t){var e=this.getCustomData("classes");this.hasClass(t)||((e=e||[]).push(t),this.setCustomData("classes",e),this.addClass(t))},changeAttr:function(t,e){var n=this.getAttribute(t);e!==n&&(this._.attrChanges||(this._.attrChanges={}),t in this._.attrChanges||(this._.attrChanges[t]=n),this.setAttribute(t,e))},insertText:function(t){this.editor.focus(),this.insertHtml(this.transformPlainTextToHtml(t),"text")},transformPlainTextToHtml:function(t){var e=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(t,e)},insertHtml:function(t,e,n){var i=this.editor;i.focus(),i.fire("saveSnapshot"),n=n||i.getSelection().getRanges()[0],st(this,e||"html",t,n),n.select(),we(this),this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(t,e,n){st(this,n||"html",t,e),this.editor.fire("afterInsertHtml",{intoRange:e})},insertElement:function(t,e){(i=this.editor).focus(),i.fire("saveSnapshot");var n=i.activeEnterMode,i=i.getSelection(),o=t.getName();o=CKEDITOR.dtd.$block[o],e=e||i.getRanges()[0],this.insertElementIntoRange(t,e)&&(e.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),o&&((o=t.getNext(function(t){return be(t)&&!rt(t)}))&&o.type==CKEDITOR.NODE_ELEMENT&&o.is(CKEDITOR.dtd.$block)?o.getDtd()["#"]?e.moveToElementEditStart(o):e.moveToElementEditEnd(t):o||n==CKEDITOR.ENTER_BR||(o=e.fixBlock(!0,n==CKEDITOR.ENTER_DIV?"div":"p"),e.moveToElementEditStart(o)))),i.selectRanges([e]),we(this)},insertElementIntoSelection:function(t){this.insertElement(t)},insertElementIntoRange:function(t,e){var n,i,o=this.editor,r=o.config.enterMode,a=t.getName(),s=CKEDITOR.dtd.$block[a];if(e.checkReadOnly())return!1;if(e.deleteContents(1),e.startContainer.type==CKEDITOR.NODE_ELEMENT&&(e.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?lt(e):e.startContainer.is(CKEDITOR.dtd.$list)&&ct(e)),s)for(;(n=e.getCommonAncestor(0,1))&&(i=CKEDITOR.dtd[n.getName()])&&(!i||!i[a]);)n.getName()in CKEDITOR.dtd.span?e.splitElement(n):e.checkStartOfBlock()&&e.checkEndOfBlock()?(e.setStartBefore(n),e.collapse(!0),n.remove()):e.splitBlock(r==CKEDITOR.ENTER_DIV?"div":"p",o.editable());return e.insertNode(t),!0},setData:function(t,e){e||(t=this.editor.dataProcessor.toHtml(t)),this.setHtml(t),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(t){var e=this.getHtml();return t||(e=this.editor.dataProcessor.toDataFormat(e)),e},setReadOnly:function(t){this.setAttribute("contenteditable",!t)},detach:function(){this.removeClass("cke_editable"),this.status="detached";var t=this.editor;this._.detach(),delete t.document,delete t.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function t(){var t,e=o.getDocument().$,n=e.getSelection();t:if(n.anchorNode&&n.anchorNode==o.$)t=!0;else{if(CKEDITOR.env.webkit&&(t=o.getDocument().getActive())&&t.equals(o)&&!n.anchorNode){t=!0;break t}t=void 0}t&&((t=new CKEDITOR.dom.range(o)).moveToElementEditStart(o),(e=e.createRange()).setStart(t.startContainer.$,t.startOffset),e.collapse(!0),n.removeAllRanges(),n.addRange(e))}var e,n,i,o=this;CKEDITOR.env.ie&&(CKEDITOR.env.version<9||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),e=o.getDocument().$,n=e.selection,i=o.getDocument().getActive(),"None"==n.type&&i.equals(o)&&(n=new CKEDITOR.dom.range(o),e=e.body.createTextRange(),n.moveToElementEditStart(o),(n=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(n=n.getParent()),e.moveToElementText(n.$),e.collapse(!0),e.select())):this.hasFocus?(this.focus(),t()):this.once("focus",function(){t()},null,null,-999)},getHtmlFromRange:function(t){return t.collapsed?new CKEDITOR.dom.documentFragment(t.document):(t={doc:this.getDocument(),range:t.clone()},ut.eol.detect(t,this),ut.bogus.exclude(t),ut.cell.shrink(t),t.fragment=t.range.cloneContents(),ut.tree.rebuild(t,this),ut.eol.fix(t,this),new CKEDITOR.dom.documentFragment(t.fragment.$))},extractHtmlFromRange:function(t,e){var n=dt,i={range:t,doc:t.document},o=this.getHtmlFromRange(t);if(t.collapsed)return t.optimize(),o;if(t.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.table.detectPurge(i),i.bookmark=t.createBookmark(),delete i.range,(a=this.editor.createRange()).moveToPosition(i.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START),i.targetBookmark=a.createBookmark(),n.list.detectMerge(i,this),n.table.detectRanges(i,this),n.block.detectMerge(i,this),i.tableContentsRanges?(n.table.deleteRanges(i),t.moveToBookmark(i.bookmark),i.range=t):(t.moveToBookmark(i.bookmark),(i.range=t).extractContents(n.detectExtractMerge(i))),t.moveToBookmark(i.targetBookmark),t.optimize(),n.fixUneditableRangePosition(t),n.list.merge(i,this),n.table.purge(i,this),n.block.merge(i,this),e){if(n=t.startPath(),i=t.checkStartOfBlock()&&t.checkEndOfBlock()&&n.block&&!t.root.equals(n.block)){t:{var r,a=0;if(i=n.block.getElementsByTag("span"))for(;r=i.getItem(a++);)if(!it(r)){i=!0;break t}i=!1}i=!i}i&&(t.moveToPosition(n.block,CKEDITOR.POSITION_BEFORE_START),n.block.remove())}else n.autoParagraph(this.editor,t),ot(t.startContainer)&&t.startContainer.appendBogus();return t.startContainer.mergeSiblings(),o},setup:function(){var c=this.editor;if(this.attachListener(c,"beforeGetData",function(){var t=this.getData();this.is("textarea")||!1!==c.config.ignoreEmptyParagraph&&(t=t.replace(at,function(t,e){return e})),c.setData(t,null,1)},this),this.attachListener(c,"getSnapshot",function(t){t.data=this.getData(1)},this),this.attachListener(c,"afterSetData",function(){this.setData(c.getData(1))},this),this.attachListener(c,"loadSnapshot",function(t){this.setData(t.data,1)},this),this.attachListener(c,"beforeFocus",function(){var t=c.getSelection();(t=t&&t.getNative())&&"Control"==t.type||this.focus()},this),this.attachListener(c,"insertHtml",function(t){this.insertHtml(t.data.dataValue,t.data.mode,t.data.range)},this),this.attachListener(c,"insertElement",function(t){this.insertElement(t.data)},this),this.attachListener(c,"insertText",function(t){this.insertText(t.data)},this),this.setReadOnly(c.readOnly),this.attachClass("cke_editable"),c.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):c.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&c.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed"),this.attachClass("cke_contents_"+c.config.contentsLangDirection),c.keystrokeHandler.blockedKeystrokes[8]=+c.readOnly,c.keystrokeHandler.attach(this),this.on("blur",function(){this.hasFocus=!1},null,null,-1),this.on("focus",function(){this.hasFocus=!0},null,null,-1),CKEDITOR.env.webkit&&this.on("scroll",function(){c._.previousScrollTop=c.editable().$.scrollTop},null,null,-1),CKEDITOR.env.edge&&14<CKEDITOR.env.version){var e=function(){var t=c.editable();null!=c._.previousScrollTop&&t.getDocument().equals(CKEDITOR.document)&&(t.$.scrollTop=c._.previousScrollTop,c._.previousScrollTop=null,this.removeListener("scroll",e))};this.on("scroll",e)}if(c.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,c.once("contentDom",function(){c.focusManager.focus(this)},this)),this.isInline()&&this.changeAttr("tabindex",c.tabIndex),!this.is("textarea")){c.document=this.getDocument(),c.window=this.getWindow();var t=c.document;this.changeAttr("spellcheck",!c.config.disableNativeSpellChecker);var n=c.config.contentsLangDirection;this.getDirection(1)!=n&&this.changeAttr("dir",n);var i=CKEDITOR.getCss();if(i){var o=(n=t.getHead()).getCustomData("stylesheet");o?i!=o.getText()&&(CKEDITOR.env.ie&&CKEDITOR.env.version<9?o.$.styleSheet.cssText=i:o.setText(i)):(i=t.appendStyleText(i),i=new CKEDITOR.dom.element(i.ownerNode||i.owningElement),n.setCustomData("stylesheet",i),i.data("cke-temp",1))}n=t.getCustomData("stylesheet_ref")||0,t.setCustomData("stylesheet_ref",n+1),this.setCustomData("cke_includeReadonly",!c.config.disableReadonlyStyling),this.attachListener(this,"click",function(t){t=t.data;var e=new CKEDITOR.dom.elementPath(t.getTarget(),this).contains("a");e&&2!=t.$.button&&e.isReadOnly()&&t.preventDefault()});var u={8:1,46:1};this.attachListener(c,"key",function(t){if(c.readOnly)return!0;var e,n=t.data.domEvent.getKey();if(0!==(t=c.getSelection()).getRanges().length){if(n in u){var i,o,r,a,s=t.getRanges()[0],l=s.startPath();n=8==n,CKEDITOR.env.ie&&CKEDITOR.env.version<11&&(i=t.getSelectedElement())||(i=function(t){function e(n){return function(t,e){if(e&&t.type==CKEDITOR.NODE_ELEMENT&&t.is(o)&&(i=t),!(e||!be(t)||n&&rt(t)))return!1}}var i,n=t.getRanges()[0];t=t.root;var o={table:1,ul:1,ol:1,dl:1};if(n.startPath().contains(o)){var r=n.clone();if(r.collapse(1),r.setStartAt(t,CKEDITOR.POSITION_AFTER_START),(t=new CKEDITOR.dom.walker(r)).guard=e(),t.checkBackward(),i)return(r=n.clone()).collapse(),r.setEndAt(i,CKEDITOR.POSITION_AFTER_END),(t=new CKEDITOR.dom.walker(r)).guard=e(!0),i=!1,t.checkForward(),i}return null}(t))?(c.fire("saveSnapshot"),s.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove(),s.select(),c.fire("saveSnapshot"),e=1):s.collapsed&&((o=l.block)&&(a=o[n?"getPrevious":"getNext"](nt))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("table")&&s[n?"checkStartOfBlock":"checkEndOfBlock"]()?(c.fire("saveSnapshot"),s[n?"checkEndOfBlock":"checkStartOfBlock"]()&&o.remove(),s["moveToElementEdit"+(n?"End":"Start")](a),s.select(),c.fire("saveSnapshot"),e=1):l.blockLimit&&l.blockLimit.is("td")&&(r=l.blockLimit.getAscendant("table"))&&s.checkBoundaryOfElement(r,n?CKEDITOR.START:CKEDITOR.END)&&(a=r[n?"getPrevious":"getNext"](nt))?(c.fire("saveSnapshot"),s["moveToElementEdit"+(n?"End":"Start")](a),s.checkStartOfBlock()&&s.checkEndOfBlock()?a.remove():s.select(),c.fire("saveSnapshot"),e=1):(r=l.contains(["td","th","caption"]))&&s.checkBoundaryOfElement(r,n?CKEDITOR.START:CKEDITOR.END)&&(e=1))}return!e}}),c.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(t){t.data.getKeystroke()in u&&!this.getFirst(be)&&(this.appendBogus(),(t=c.createRange()).moveToPosition(this,CKEDITOR.POSITION_AFTER_START),t.select())}),this.attachListener(this,"dblclick",function(t){if(c.readOnly)return!1;t={element:t.data.getTarget()},c.fire("doubleclick",t)}),CKEDITOR.env.ie&&this.attachListener(this,"click",ye),CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",function(t){var e=t.data.getTarget();e.is("img","hr","input","textarea","select")&&!e.isReadOnly()&&(c.getSelection().selectElement(e),e.is("input","textarea","select")&&t.data.preventDefault())}),CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(t){(t=t.data.getTarget())&&t.is("img")&&c.getSelection().selectElement(t)}),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(t){if(2==t.data.$.button&&!(t=t.data.getTarget()).getOuterHtml().replace(at,"")){var e=c.createRange();e.moveToElementEditStart(t),e.select(!0)}}),CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(t){t.data.getTarget().is("input","select")&&t.data.preventDefault()}),this.attachListener(this,"mouseup",function(t){t.data.getTarget().is("input","textarea")&&t.data.preventDefault()})),CKEDITOR.env.webkit&&this.attachListener(c,"key",function(t){if(c.readOnly)return!0;if((e=t.data.domEvent.getKey())in u&&0!==(t=c.getSelection()).getRanges().length){var e=8==e,n=t.getRanges()[0];if(t=n.startPath(),n.collapsed)t:{var i=t.block;if(i&&n[e?"checkStartOfBlock":"checkEndOfBlock"]()&&n.moveToClosestEditablePosition(i,!e)&&n.collapsed){if(n.startContainer.type==CKEDITOR.NODE_ELEMENT){var o=n.startContainer.getChild(n.startOffset-(e?1:0));if(o&&o.type==CKEDITOR.NODE_ELEMENT&&o.is("hr")){c.fire("saveSnapshot"),o.remove(),t=!0;break t}}var r;t=!(n=n.startPath().block)||n&&n.contains(i)?void 0:(c.fire("saveSnapshot"),(r=(e?n:i).getBogus())&&r.remove(),o=(r=c.getSelection()).createBookmarks(),(e?i:n).moveChildren(e?n:i,!1),t.lastElement.mergeSiblings(),Te(i,n,!e),r.selectBookmarks(o),!0)}else t=!1}else e=n,r=t.block,n=e.endPath().block,t=!(!r||!n||r.equals(n)||(c.fire("saveSnapshot"),(i=r.getBogus())&&i.remove(),e.enlarge(CKEDITOR.ENLARGE_INLINE),e.deleteContents(),n.getParent()&&(n.moveChildren(r,!1),t.lastElement.mergeSiblings(),Te(r,n,!0)),(e=c.getSelection().getRanges()[0]).collapse(1),e.optimize(),""===e.startContainer.getHtml()&&e.startContainer.appendBogus(),e.select(),0));if(!t)return;return c.getSelection().scrollIntoView(),c.fire("saveSnapshot"),!1}},this,null,100)}}},_:{detach:function(){var t;if(this.editor.setData(this.editor.getData(),0,1),this.clearListeners(),this.restoreAttrs(),t=this.removeCustomData("classes"))for(;t.length;)this.removeClass(t.pop());if(!this.is("textarea")){var e=(t=this.getDocument()).getHead();if(e.getCustomData("stylesheet")){var n=t.getCustomData("stylesheet_ref");--n?t.setCustomData("stylesheet_ref",n):(t.removeCustomData("stylesheet_ref"),e.removeCustomData("stylesheet").remove())}}this.editor.fire("contentDomUnload"),delete this.editor}}}),CKEDITOR.editor.prototype.editable=function(t){var e=this._.editable;return e&&t?0:(arguments.length&&(e=this._.editable=t?t instanceof CKEDITOR.editable?t:new CKEDITOR.editable(this,t):(e&&e.detach(),null)),e)},CKEDITOR.on("instanceLoaded",function(t){var n=t.editor;n.on("insertElement",function(t){(t=t.data).type==CKEDITOR.NODE_ELEMENT&&(t.is("input")||t.is("textarea"))&&("false"!=t.getAttribute("contentEditable")&&t.data("cke-editable",t.hasAttribute("contenteditable")?"true":"1"),t.setAttribute("contentEditable",!1))}),n.on("selectionChange",function(t){if(!n.readOnly){var e=n.getSelection();e&&!e.isLocked&&(e=n.checkDirty(),n.fire("lockSnapshot"),ve(t),n.fire("unlockSnapshot"),e||n.resetDirty())}})}),CKEDITOR.on("instanceCreated",function(t){var o=t.editor;o.on("mode",function(){var t=o.editable();if(t&&t.isInline()){var e=o.title;if(t.changeAttr("role","textbox"),t.changeAttr("aria-label",e),e&&t.changeAttr("title",e),(i=o.fire("ariaEditorHelpLabel",{}).label)&&(e=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var n=CKEDITOR.tools.getNextId(),i=CKEDITOR.dom.element.createFromHtml('<span id="'+n+'" class="cke_voice_label">'+i+"</span>");e.append(i),t.changeAttr("aria-describedby",n)}}})}),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"),nt=CKEDITOR.dom.walker.whitespaces(!0),it=CKEDITOR.dom.walker.bookmark(!1,!0),ot=CKEDITOR.dom.walker.empty(),rt=CKEDITOR.dom.walker.bogus(),at=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,ht=CKEDITOR.dtd,ft={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},pt={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},delete(gt=CKEDITOR.tools.extend({},ht.$inline)).br,st=function(t,e,n,i){var o=t.editor,r=!1;if("unfiltered_html"==e&&(e="html",r=!0),!i.checkReadOnly()){var a,s,l;if(e=(t={type:e,dontFilter:r,editable:t,editor:o,range:i,blockLimit:b=new CKEDITOR.dom.elementPath(i.startContainer,i.root).blockLimit||i.root,mergeCandidates:[],zombies:[]}).range,i=t.mergeCandidates,"text"==t.type&&e.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(a=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",e.document),e.insertNode(a),e.setStartAfter(a)),r=new CKEDITOR.dom.elementPath(e.startContainer),t.endPath=b=new CKEDITOR.dom.elementPath(e.endContainer),!e.collapsed){o=b.block||b.blockLimit;var c=e.getCommonAncestor();o&&!o.equals(c)&&!o.contains(c)&&e.checkEndOfBlock()&&t.zombies.push(o),e.deleteContents()}for(;(s=De(e))&&Ce(s)&&s.isBlockBoundary()&&r.contains(s);)e.moveToPosition(s,CKEDITOR.POSITION_BEFORE_END);for(function t(e,n,i,o){var r,a,s=e.clone();s.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),(r=new CKEDITOR.dom.walker(s).next())&&Ce(r)&&ft[r.getName()]&&(a=r.getPrevious())&&Ce(a)&&!a.getParent().equals(e.startContainer)&&i.contains(a)&&o.contains(r)&&r.isIdentical(a)&&(r.moveChildren(a),r.remove(),t(e,n,i,o))}(e,t.blockLimit,r,b),a&&(e.setEndBefore(a),e.collapse(),a.remove()),(o=(a=e.startPath()).contains(Oe,!1,1))&&(e.splitElement(o),t.inlineStylesRoot=o,t.inlineStylesPeak=a.lastElement),(o=(a=e.createBookmark()).startNode.getPrevious(be))&&Ce(o)&&Oe(o)&&i.push(o),(o=a.startNode.getNext(be))&&Ce(o)&&Oe(o)&&i.push(o),o=a.startNode;(o=o.getParent())&&Oe(o);)i.push(o);if(e.moveToBookmark(a),a=n){if(a=t.range,"text"==t.type&&t.inlineStylesRoot){for(e=(s=t.inlineStylesPeak).getDocument().createText("{cke-peak}"),i=t.inlineStylesRoot.getParent();!s.equals(i);)e=e.appendTo(s.clone()),s=s.getParent();n=e.getOuterHtml().split("{cke-peak}").join(n)}if(s=t.blockLimit.getName(),/^\s+|\s+$/.test(n)&&"span"in CKEDITOR.dtd[s]&&(n=(v='<span data-cke-marker="1">&nbsp;</span>')+n+v),n=t.editor.dataProcessor.toHtml(n,{context:null,fixForBody:!1,protectedWhitespaces:!!v,dontFilter:t.dontFilter,filter:t.editor.activeFilter,enterMode:t.editor.activeEnterMode}),(s=a.document.createElement("body")).setHtml(n),v&&(s.getFirst().remove(),s.getLast().remove()),(v=a.startPath().block)&&(1!=v.getChildCount()||!v.getBogus()))t:{var u;if(1==s.getChildCount()&&Ce(u=s.getFirst())&&u.is(pt)&&!u.hasAttribute("contenteditable")){for(a=0,i=(v=u.getElementsByTag("*")).count();a<i;a++)if(!(e=v.getItem(a)).is(gt))break t;u.moveChildren(u.getParent(1)),u.remove()}}t.dataWrapper=s,a=n}if(a){var d;a=(u=t.range).document,s=t.blockLimit;var h,f,p,g,m,v=[];n=o=i=0,e=u.startContainer;var y,b=(r=t.endPath.elements[0]).getPosition(e);for(c=!(!r.getCommonAncestor(e)||b==CKEDITOR.POSITION_IDENTICAL||b&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED),function(t,e){function n(t,e){if(e.isBlock&&e.isElement&&!e.node.is("br")&&Ce(t)&&t.is("br"))return t.remove(),1}var i=e.endContainer.getChild(e.endOffset),o=e.endContainer.getChild(e.endOffset-1);i&&n(i,t[t.length-1]),o&&n(o,t[0])&&(e.setEnd(e.endContainer,e.endOffset-1),e.collapse())}(e=function t(e,n){var i,o,r,a,s=[],l=n.range.startContainer;i=n.range.startPath(),l=ht[l.getName()];for(var c=0,u=e.getChildren(),d=u.count(),h=-1,f=-1,p=0,g=i.contains(ht.$list);c<d;++c)Ce(i=u.getItem(c))?(r=i.getName(),g&&r in CKEDITOR.dtd.$list?s=s.concat(t(i,n)):(a=!!l[r],"br"!=r||!i.data("cke-eol")||c&&c!=d-1||(p=(o=c?s[c-1].node:u.getItem(c+1))&&(!Ce(o)||!o.is("br")),o=o&&Ce(o)&&ht.$block[o.getName()]),-1!=h||a||(h=c),a||(f=c),s.push({isElement:1,isLineBreak:p,isBlock:i.isBlockBoundary(),hasBlockSibling:o,node:i,name:r,allowed:a}),o=p=0)):s.push({isElement:0,node:i,allowed:1});return-1<h&&(s[h].firstNotAllowed=1),-1<f&&(s[f].lastNotAllowed=1),s}(t.dataWrapper,t),u);i<e.length;i++){if(d=(b=e[i]).isLineBreak){d=u,g=s;var _=void 0,E=void 0;d=b.hasBlockSibling?1:(_=d.startContainer.getAscendant(ht.$block,1))&&_.is({div:1,p:1})?(E=_.getPosition(g))==CKEDITOR.POSITION_IDENTICAL||E==CKEDITOR.POSITION_CONTAINS?0:(g=d.splitElement(_),d.moveToPosition(g,CKEDITOR.POSITION_AFTER_START),1):0}if(d)n=0<i;else{if(d=u.startPath(),!b.isBlock&&_e(t.editor,d.block,d.blockLimit)&&(p=Ee(t.editor))&&((p=a.createElement(p)).appendBogus(),u.insertNode(p),CKEDITOR.env.needsBrFiller&&(h=p.getBogus())&&h.remove(),u.moveToPosition(p,CKEDITOR.POSITION_BEFORE_END)),(d=u.startPath().block)&&!d.equals(f)&&((h=d.getBogus())&&(h.remove(),v.push(d)),f=d),b.firstNotAllowed&&(o=1),o&&b.isElement){for(d=u.startContainer,g=null;d&&!ht[d.getName()][b.name];){if(d.equals(s)){d=null;break}d=(g=d).getParent()}if(d)g&&(m=u.splitElement(g),t.zombies.push(m),t.zombies.push(g));else{g=s.getName(),y=!i,d=i==e.length-1,_=[],E=(g=xe(b.node,g)).length;for(var w=0,T=void 0,C=0,x=-1;w<E;w++)C=" "==(T=g[w])?(C||y&&!w||(_.push(new CKEDITOR.dom.text(" ")),x=_.length),1):(_.push(T),0);d&&x==_.length&&_.pop(),y=_}}if(y){for(;d=y.pop();)u.insertNode(d);y=0}else u.insertNode(b.node);b.lastNotAllowed&&i<e.length-1&&((m=c?r:m)&&u.setEndAt(m,CKEDITOR.POSITION_AFTER_START),o=0),u.collapse()}}(h=1==e.length&&(h=e[0]).isElement&&"false"==h.node.getAttribute("contenteditable"))&&(n=!0,d=e[0].node,u.setStartAt(d,CKEDITOR.POSITION_BEFORE_START),u.setEndAt(d,CKEDITOR.POSITION_AFTER_END)),t.dontMoveCaret=n,t.bogusNeededBlocks=v}for(h=t.range,m=t.bogusNeededBlocks,y=h.createBookmark();f=t.zombies.pop();)f.getParent()&&((p=h.clone()).moveToElementEditStart(f),p.removeEmptyBlocksAtEnd());if(m)for(;f=m.pop();)CKEDITOR.env.needsBrFiller?f.appendBogus():f.append(h.document.createText(""));for(;f=t.mergeCandidates.pop();)f.mergeSiblings();if(h.moveToBookmark(y),!t.dontMoveCaret){for(f=De(h);f&&Ce(f)&&!f.is(ht.$empty);){if(f.isBlockBoundary())h.moveToPosition(f,CKEDITOR.POSITION_BEFORE_END);else{if(Oe(f)&&f.getHtml().match(/(\s|&nbsp;)$/g)){l=null;break}(l=h.clone()).moveToPosition(f,CKEDITOR.POSITION_BEFORE_END)}f=f.getLast(be)}l&&h.moveToRange(l)}}},lt=function(t){var e=t.startContainer,n=e.getAscendant("table",1),i=!1;Se(n.getElementsByTag("td")),Se(n.getElementsByTag("th")),(n=t.clone()).setStart(e,0),(n=Ie(n).lastBackward())||((n=t.clone()).setEndAt(e,CKEDITOR.POSITION_BEFORE_END),n=Ie(n).lastForward(),i=!0),(n=n||e).is("table")?(t.setStartAt(n,CKEDITOR.POSITION_BEFORE_START),t.collapse(!0),n.remove()):(n.is({tbody:1,thead:1,tfoot:1})&&(n=ke(n,"tr",i)),n.is("tr")&&(n=ke(n,n.getParent().is("thead")?"th":"td",i)),(e=n.getBogus())&&e.remove(),t.moveToPosition(n,i?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))},ct=function(t){var e,n=t.startContainer,i=!1;(e=t.clone()).setStart(n,0),(e=Re(e).lastBackward())||((e=t.clone()).setEndAt(n,CKEDITOR.POSITION_BEFORE_END),e=Re(e).lastForward(),i=!0),(e=e||n).is(CKEDITOR.dtd.$list)?(t.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),t.collapse(!0),e.remove()):((n=e.getBogus())&&n.remove(),t.moveToPosition(e,i?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),t.select())},ut={eol:{detect:function(t,e){var n=t.range,i=n.clone(),o=n.clone(),r=new CKEDITOR.dom.elementPath(n.startContainer,e),a=new CKEDITOR.dom.elementPath(n.endContainer,e);i.collapse(1),o.collapse(),r.block&&i.checkBoundaryOfElement(r.block,CKEDITOR.END)&&(n.setStartAfter(r.block),t.prependEolBr=1),a.block&&o.checkBoundaryOfElement(a.block,CKEDITOR.START)&&(n.setEndBefore(a.block),t.appendEolBr=1)},fix:function(t,e){var n,i=e.getDocument();t.appendEolBr&&(n=this.createEolBr(i),t.fragment.append(n)),!t.prependEolBr||n&&!n.getPrevious()||t.fragment.append(this.createEolBr(i),1)},createEolBr:function(t){return t.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(t){var e,n=(e=t.range.getBoundaryNodes()).startNode;!(e=e.endNode)||!rt(e)||n&&n.equals(e)||t.range.setEndBefore(e)}},tree:{rebuild:function(t,e){var n,i=(a=t.range).getCommonAncestor(),o=new CKEDITOR.dom.elementPath(i,e),r=new CKEDITOR.dom.elementPath(a.startContainer,e),a=new CKEDITOR.dom.elementPath(a.endContainer,e);if(i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),o.blockLimit.is({tr:1,table:1})){var s=o.contains("table").getParent();n=function(t){return!t.equals(s)}}else if(o.block&&o.block.is(CKEDITOR.dtd.$listItem)&&(r=r.contains(CKEDITOR.dtd.$list),a=a.contains(CKEDITOR.dtd.$list),!r.equals(a))){var l=o.contains(CKEDITOR.dtd.$list).getParent();n=function(t){return!t.equals(l)}}n=n||function(t){return!t.equals(o.block)&&!t.equals(o.blockLimit)},this.rebuildFragment(t,e,i,n)},rebuildFragment:function(t,e,n,i){for(var o;n&&!n.equals(e)&&i(n);)o=n.clone(0,1),t.fragment.appendTo(o),t.fragment=o,n=n.getParent()}},cell:{shrink:function(t){var e=(t=t.range).startContainer,n=t.endContainer,i=t.startOffset,o=t.endOffset;e.type==CKEDITOR.NODE_ELEMENT&&e.equals(n)&&e.is("tr")&&++i==o&&t.shrink(CKEDITOR.SHRINK_TEXT)}}},dt={list:{detectMerge:function(t,e){var n=Ne(e,t.bookmark),i=n.startPath(),o=n.endPath(),r=i.contains(CKEDITOR.dtd.$list),a=o.contains(CKEDITOR.dtd.$list);t.mergeList=r&&a&&r.getParent().equals(a.getParent())&&!r.equals(a),t.mergeListItems=i.block&&o.block&&i.block.is(CKEDITOR.dtd.$listItem)&&o.block.is(CKEDITOR.dtd.$listItem),(t.mergeList||t.mergeListItems)&&((n=n.clone()).setStartBefore(t.bookmark.startNode),n.setEndAfter(t.bookmark.endNode),t.mergeListBookmark=n.createBookmark())},merge:function(t,e){if(t.mergeListBookmark){var n=t.mergeListBookmark.startNode,i=t.mergeListBookmark.endNode,o=new CKEDITOR.dom.elementPath(n,e),r=new CKEDITOR.dom.elementPath(i,e);if(t.mergeList){var a=o.contains(CKEDITOR.dtd.$list),s=r.contains(CKEDITOR.dtd.$list);a.equals(s)||(s.moveChildren(a),s.remove())}t.mergeListItems&&(o=o.contains(CKEDITOR.dtd.$listItem),r=r.contains(CKEDITOR.dtd.$listItem),o.equals(r)||Me(r,n,i)),n.remove(),i.remove()}}},block:{detectMerge:function(t,e){if(!t.tableContentsRanges&&!t.mergeListBookmark){var n=new CKEDITOR.dom.range(e);n.setStartBefore(t.bookmark.startNode),n.setEndAfter(t.bookmark.endNode),t.mergeBlockBookmark=n.createBookmark()}},merge:function(t,e){if(t.mergeBlockBookmark&&!t.purgeTableBookmark){var n=t.mergeBlockBookmark.startNode,i=t.mergeBlockBookmark.endNode,o=new CKEDITOR.dom.elementPath(n,e),r=new CKEDITOR.dom.elementPath(i,e);o=o.block,r=r.block,o&&r&&!o.equals(r)&&Me(r,n,i),n.remove(),i.remove()}}},table:(mt={td:1,th:1,caption:1},{detectPurge:function(t){var e=t.range;(n=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT);var n=new CKEDITOR.dom.walker(n),i=0;if(n.evaluator=function(t){t.type==CKEDITOR.NODE_ELEMENT&&t.is(mt)&&++i},n.checkForward(),1<i){n=e.startPath().contains("table");var o=e.endPath().contains("table");n&&o&&e.checkBoundaryOfElement(n,CKEDITOR.START)&&e.checkBoundaryOfElement(o,CKEDITOR.END)&&((e=t.range.clone()).setStartBefore(n),e.setEndAfter(o),t.purgeTableBookmark=e.createBookmark())}},detectRanges:function(t,e){var n,i,o=Ne(e,t.bookmark),r=o.clone(),a=o.getCommonAncestor();a.is(CKEDITOR.dtd.$tableContent)&&!a.is(mt)&&(a=a.getAscendant("table",!0)),i=a,a=new CKEDITOR.dom.elementPath(o.startContainer,i),i=new CKEDITOR.dom.elementPath(o.endContainer,i),a=a.contains("table"),i=i.contains("table"),(a||i)&&(a&&i&&Pe(a,i)?((t.tableSurroundingRange=r).setStartAt(a,CKEDITOR.POSITION_AFTER_END),r.setEndAt(i,CKEDITOR.POSITION_BEFORE_START),(r=o.clone()).setEndAt(a,CKEDITOR.POSITION_AFTER_END),(n=o.clone()).setStartAt(i,CKEDITOR.POSITION_BEFORE_START),n=Ke(r).concat(Ke(n))):a?i||((t.tableSurroundingRange=r).setStartAt(a,CKEDITOR.POSITION_AFTER_END),o.setEndAt(a,CKEDITOR.POSITION_AFTER_END)):((t.tableSurroundingRange=r).setEndAt(i,CKEDITOR.POSITION_BEFORE_START),o.setStartAt(i,CKEDITOR.POSITION_AFTER_START)),t.tableContentsRanges=n||Ke(o))},deleteRanges:function(t){for(var e;e=t.tableContentsRanges.pop();)e.extractContents(),ot(e.startContainer)&&e.startContainer.appendBogus();t.tableSurroundingRange&&t.tableSurroundingRange.extractContents()},purge:function(t){if(t.purgeTableBookmark){var e=t.doc,n=t.range.clone();(e=e.createElement("p")).insertBefore(t.purgeTableBookmark.startNode),n.moveToBookmark(t.purgeTableBookmark),n.deleteContents(),t.range.moveToPosition(e,CKEDITOR.POSITION_AFTER_START)}}}),detectExtractMerge:function(t){return!(t.range.startPath().contains(CKEDITOR.dtd.$listItem)&&t.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(t){t.startContainer.getDtd()["#"]||t.moveToClosestEditablePosition(null,!0)},autoParagraph:function(t,e){var n,i=e.startPath();_e(t,i.block,i.blockLimit)&&(n=Ee(t))&&((n=e.document.createElement(n)).appendBogus(),e.insertNode(n),e.moveToPosition(n,CKEDITOR.POSITION_AFTER_START))}},function(){function u(t){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(t)}function h(t,e){if(0===t.length||u(t[0].getEnclosedNode()))return!1;var n,i;if((n=!e&&1===t.length)&&!(n=t[0].collapsed)){var o=t[0];n=o.startContainer.getAscendant({td:1,th:1},!0);var r=o.endContainer.getAscendant({td:1,th:1},!0);i=CKEDITOR.tools.trim,n=!(!n||!n.equals(r)||n.findOne("td, th, tr, tbody, table"))&&(!(o=o.cloneContents()).getFirst()||i(o.getFirst().getText())!==i(n.getText()))}if(n)return!1;for(i=0;i<t.length;i++)if(!(n=t[i]._getTableElement()))return!1;return!0}function f(t){var e=this.root.editor,n=e.getSelection(1);this.reset(),b=!0,n.root.once("selectionchange",function(t){t.cancel()},null,null,0),n.selectRanges([t[0]]),(n=this._.cache).ranges=new CKEDITOR.dom.rangeList(t),n.type=CKEDITOR.SELECTION_TEXT,n.selectedElement=t[0]._getTableElement(),n.selectedText=function(t){t=function(t){function e(t){t=t.find("td, th");var e,n=[];for(e=0;e<t.count();e++)n.push(t.getItem(e));return n}var n,i,o=[];for(i=0;i<t.length;i++)(n=t[i]._getTableElement()).is&&n.is({td:1,th:1})?o.push(n):o=o.concat(e(n));return o}(t);var e,n,i="",o=[];for(n=0;n<t.length;n++)e&&!e.equals(t[n].getAscendant("tr"))?(i+=o.join("\t")+"\n",e=t[n].getAscendant("tr"),o=[]):0===n&&(e=t[n].getAscendant("tr")),o.push(t[n].getText());return i+o.join("\t")}(t),n.nativeSel=null,this.isFake=1,this.rev=a++,e._.fakeSelection=this,b=!1,this.root.fire("selectionchange")}function m(){var t,e=this._.fakeSelection;if(e){var n;if(!(n=!(t=this.getSelection(1)))&&(n=!t.isHidden())){n=e;var i=t.getRanges(),o=n.getRanges(),r=i.length&&i[0]._getTableElement()&&i[0]._getTableElement().getAscendant("table",!0),a=o.length&&o[0]._getTableElement()&&o[0]._getTableElement().getAscendant("table",!0),s=1===i.length&&i[0]._getTableElement()&&i[0]._getTableElement().is("table"),l=1===o.length&&o[0]._getTableElement()&&o[0]._getTableElement().is("table");if(u(n.getSelectedElement()))n=!1;else{var c=1===i.length&&i[0].collapsed;o=h(i,!!CKEDITOR.env.webkit)&&h(o);n=!(!(r=!(!r||!a)&&(r.equals(a)||a.contains(r)))||!c&&!o)&&(s&&!l&&n.selectRanges(i),!0)}n=!n}n&&(e.reset(),e=0)}(e||(e=t||this.getSelection(1))&&e.getType()!=CKEDITOR.SELECTION_NONE)&&(this.fire("selectionCheck",e),(t=this.elementPath()).compare(this._.selectionPreviousPath)||(n=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(t.blockLimit),CKEDITOR.env.webkit&&!n&&(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=t,this.fire("selectionChange",{selection:e,path:t})))}function v(){n=!0,e||(t.call(this),e=CKEDITOR.tools.setTimeout(t,200,this))}function t(){e=null,n&&(CKEDITOR.tools.setTimeout(m,0,this),n=!1)}function r(t){return!(!d(t)&&(t.type!=CKEDITOR.NODE_ELEMENT||t.is(CKEDITOR.dtd.$empty)))}function p(n){function t(t,e){return!(!t||t.type==CKEDITOR.NODE_TEXT)&&n.clone()["moveToElementEdit"+(e?"End":"Start")](t)}if(!(n.root instanceof CKEDITOR.editable))return!1;var e=n.startContainer,i=n.getPreviousNode(r,null,e),o=n.getNextNode(r,null,e);return!(!t(i)&&!t(o,1)&&(i||o||e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()&&e.getBogus()))}function g(t){y(t,!1);var e=t.getDocument().createText(l);return t.setCustomData("cke-fillingChar",e),e}function y(t,e){var n=t&&t.removeCustomData("cke-fillingChar");if(n){if(!1!==e){var i=t.getDocument().getSelection().getNative(),o=i&&"None"!=i.type&&i.getRangeAt(0),r=l.length;if(n.getLength()>r&&o&&o.intersectsNode(n.$)){var a=[{node:i.anchorNode,offset:i.anchorOffset},{node:i.focusNode,offset:i.focusOffset}];i.anchorNode==n.$&&i.anchorOffset>r&&(a[0].offset-=r),i.focusNode==n.$&&i.focusOffset>r&&(a[1].offset-=r)}}n.setText(s(n.getText(),1)),a&&(i=(n=t.getDocument().$).getSelection(),(n=n.createRange()).setStart(a[0].node,a[0].offset),n.collapse(!0),i.removeAllRanges(),i.addRange(n),i.extend(a[1].node,a[1].offset))}}function s(t,e){return e?t.replace(c,function(t,e){return e?"":""}):t.replace(l,"")}var b,e,n,i,o,_="function"!=typeof window.getSelection,a=1,l=CKEDITOR.tools.repeat("",7),c=new RegExp(l+"( )?","g"),d=CKEDITOR.dom.walker.invisible(1),E=(i=w(),o=w(1),{37:i,38:i,39:o,40:o,8:T(),46:T(1)});function w(n){return function(t){var e=t.editor.createRange();return e.moveToClosestEditablePosition(t.selected,n)&&t.editor.getSelection().selectRanges([e]),!1}}function T(o){return function(t){var e,n=t.editor,i=n.createRange();return(e=i.moveToClosestEditablePosition(t.selected,o))||(e=i.moveToClosestEditablePosition(t.selected,!o)),e&&n.getSelection().selectRanges([i]),n.fire("saveSnapshot"),t.selected.remove(),e||(i.moveToElementEditablePosition(n.editable()),n.getSelection().selectRanges([i])),n.fire("saveSnapshot"),!1}}CKEDITOR.on("instanceCreated",function(t){function e(){var t=g.getSelection();t&&t.removeAllRanges()}var g=t.editor;g.on("contentDom",function(){function t(){(o=new CKEDITOR.dom.selection(g.getSelection())).lock()}function n(){l.removeListener("mouseup",n),d.removeListener("mouseup",n);var t=CKEDITOR.document.$.selection,e=t.createRange();"None"!=t.type&&e.parentElement()&&e.parentElement().ownerDocument==s.$&&e.select()}function i(t){if(CKEDITOR.env.ie){var e=(t=t.getRanges()[0])?t.startContainer.getAscendant(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&("false"==t.getAttribute("contenteditable")||"true"==t.getAttribute("contenteditable"))},!0):null;return t&&"false"==e.getAttribute("contenteditable")&&e}}var e,o,r,a,s=g.document,l=CKEDITOR.document,c=g.editable(),u=s.getBody(),d=s.getDocumentElement(),h=c.isInline();if((CKEDITOR.env.gecko&&c.attachListener(c,"focus",function(t){t.removeListener(),0!==e&&(t=g.getSelection().getNative())&&t.isCollapsed&&t.anchorNode==c.$&&((t=g.createRange()).moveToElementEditStart(c),t.select())},null,null,-2),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){e&&CKEDITOR.env.webkit&&(e=g._.previousActive&&g._.previousActive.equals(s.getActive()))&&null!=g._.previousScrollTop&&g._.previousScrollTop!=c.$.scrollTop&&(c.$.scrollTop=g._.previousScrollTop),g.unlockSelection(e),e=0},null,null,-1),c.attachListener(c,"mousedown",function(){e=0}),(CKEDITOR.env.ie||h)&&(_?c.attachListener(c,"beforedeactivate",t,null,null,-1):c.attachListener(g,"selectionCheck",t,null,null,-1),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusOut":"blur",function(){g.lockSelection(o),e=1},null,null,-1),c.attachListener(c,"mousedown",function(){e=0})),CKEDITOR.env.ie&&!h)&&(c.attachListener(c,"mousedown",function(t){2==t.data.$.button&&((t=g.document.getSelection())&&t.getType()!=CKEDITOR.SELECTION_NONE||(r=g.window.getScrollPosition()))}),c.attachListener(c,"mouseup",function(t){2==t.data.$.button&&r&&(g.document.$.documentElement.scrollLeft=r.x,g.document.$.documentElement.scrollTop=r.y),r=null}),"BackCompat"!=s.$.compatMode)){var f,p;if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)d.on("mousedown",function(t){function e(t){if(t=t.data.$,f){var e=u.$.createTextRange();try{e.moveToPoint(t.clientX,t.clientY)}catch(t){}f.setEndPoint(p.compareEndPoints("StartToStart",e)<0?"EndToEnd":"StartToStart",e),f.select()}}function n(){d.removeListener("mousemove",e),l.removeListener("mouseup",n),d.removeListener("mouseup",n),f.select()}if((t=t.data).getTarget().is("html")&&t.$.y<d.$.clientHeight&&t.$.x<d.$.clientWidth){f=u.$.createTextRange();try{f.moveToPoint(t.$.clientX,t.$.clientY)}catch(t){}p=f.duplicate(),d.on("mousemove",e),l.on("mouseup",n),d.on("mouseup",n)}});7<CKEDITOR.env.version&&CKEDITOR.env.version<11&&d.on("mousedown",function(t){t.data.getTarget().is("html")&&(l.on("mouseup",n),d.on("mouseup",n))})}(c.attachListener(c,"selectionchange",m,g),c.attachListener(c,"keyup",v,g),c.attachListener(c,"keydown",function(t){var e=this.getSelection(1);i(e)&&(e.selectElement(i(e)),t.data.preventDefault())},g),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){g.forceNextSelectionCheck(),g.selectionChange(1)}),h&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko))?(c.attachListener(c,"mousedown",function(){a=1}),c.attachListener(s.getDocumentElement(),"mouseup",function(){a&&v.call(g),a=0})):c.attachListener(CKEDITOR.env.ie?c:s.getDocumentElement(),"mouseup",v,g);CKEDITOR.env.webkit&&c.attachListener(s,"keydown",function(t){switch(t.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:c.hasFocus&&y(c)}},null,null,-1),c.attachListener(c,"keydown",function(o){var r={37:1,39:1,8:1,46:1};return function(t){var e=t.data.getKeystroke();if(r[e]){var n=o.getSelection().getRanges(),i=n[0];1==n.length&&i.collapsed&&(e=i[e<38?"getPreviousEditableNode":"getNextEditableNode"]())&&e.type==CKEDITOR.NODE_ELEMENT&&"false"==e.getAttribute("contenteditable")&&(o.getSelection().fake(e),t.data.preventDefault(),t.cancel())}}}(g),null,null,-1)}),g.on("setData",function(){g.unlockSelection(),CKEDITOR.env.webkit&&e()}),g.on("contentDomUnload",function(){g.unlockSelection()}),CKEDITOR.env.ie9Compat&&g.on("beforeDestroy",e,null,null,9),g.on("dataReady",function(){delete g._.fakeSelection,delete g._.hiddenSelectionContainer,g.selectionChange(1)}),g.on("loadSnapshot",function(){var t=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),e=g.editable().getLast(t);e&&e.hasAttribute("data-cke-hidden-sel")&&(e.remove(),CKEDITOR.env.gecko&&(t=g.editable().getFirst(t))&&t.is("br")&&t.getAttribute("_moz_editor_bogus_node")&&t.remove())},null,null,100),g.on("key",function(t){if("wysiwyg"==g.mode){var e=g.getSelection();if(e.isFake){var n=E[t.data.keyCode];if(n)return n({editor:g,selected:e.getSelectedElement(),selection:e,keyEvent:t})}}})}),CKEDITOR.env.webkit&&CKEDITOR.on("instanceReady",function(t){var n=t.editor;n.on("selectionChange",function(){var t=n.editable(),e=t.getCustomData("cke-fillingChar");e&&(e.getCustomData("ready")?(y(t),t.editor.fire("selectionCheck")):e.setCustomData("ready",1))},null,null,-1),n.on("beforeSetMode",function(){y(n.editable())},null,null,-1),n.on("getSnapshot",function(t){t.data&&(t.data=s(t.data))},n,null,20),n.on("toDataFormat",function(t){t.data.dataValue=s(t.data.dataValue)},null,null,0)}),CKEDITOR.editor.prototype.selectionChange=function(t){(t?m:v).call(this)},CKEDITOR.editor.prototype.getSelection=function(t){return!this._.savedSelection&&!this._.fakeSelection||t?(t=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(t):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.lockSelection=function(t){return(t=t||this.getSelection(1)).getType()!=CKEDITOR.SELECTION_NONE&&(t.isLocked||t.lock(),this._.savedSelection=t,!0)},CKEDITOR.editor.prototype.unlockSelection=function(t){var e=this._.savedSelection;return!!e&&(e.unlock(t),delete this._.savedSelection,!0)},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var t=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return t.selectRanges([this]),t},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3,CKEDITOR.dom.selection=function(t){if(t instanceof CKEDITOR.dom.selection){var e=t;t=t.root}var n,i,o=t instanceof CKEDITOR.dom.element;if(this.rev=e?e.rev:a++,this.document=t instanceof CKEDITOR.dom.document?t:t.getDocument(),this.root=o?t:this.document.getBody(),this.isLocked=0,this._={cache:{}},e)return CKEDITOR.tools.extend(this._.cache,e._.cache),this.isFake=e.isFake,this.isLocked=e.isLocked,this;if(t=this.getNative())if(t.getRangeAt)n=(i=t.rangeCount&&t.getRangeAt(0))&&new CKEDITOR.dom.node(i.commonAncestorContainer);else{try{i=t.createRange()}catch(t){}n=i&&CKEDITOR.dom.element.get(i.item&&i.item(0)||i.parentElement())}return n&&(n.type==CKEDITOR.NODE_ELEMENT||n.type==CKEDITOR.NODE_TEXT)&&(this.root.equals(n)||this.root.contains(n))||(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var C,x={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};function D(t){return new CKEDITOR.dom.node(t).getIndex()}function O(t,e){(t=t.duplicate()).collapse(e);var n=t.parentElement();if(!n.hasChildNodes())return{container:n,offset:0};for(var i,o,r,a,s=n.children,l=t.duplicate(),c=0,u=s.length-1,d=-1;c<=u;)if(i=s[d=Math.floor((c+u)/2)],l.moveToElementText(i),0<(r=l.compareEndPoints("StartToStart",t)))u=d-1;else{if(!(r<0))return{container:n,offset:D(i)};c=d+1}if(-1==d||d==s.length-1&&r<0){if(l.moveToElementText(n),l.setEndPoint("StartToStart",t),l=l.text.replace(/(\r\n|\r)/g,"\n").length,s=n.childNodes,!l)return(i=s[s.length-1]).nodeType!=CKEDITOR.NODE_TEXT?{container:n,offset:s.length}:{container:i,offset:i.nodeValue.length};for(n=s.length;0<l&&0<n;)(o=s[--n]).nodeType==CKEDITOR.NODE_TEXT&&(l-=(a=o).nodeValue.length);return{container:a,offset:-l}}if(l.collapse(0<r),l.setEndPoint(0<r?"StartToStart":"EndToStart",t),!(l=l.text.replace(/(\r\n|\r)/g,"\n").length))return{container:n,offset:D(i)+(0<r?0:1)};for(;0<l;)try{(o=i[0<r?"previousSibling":"nextSibling"]).nodeType==CKEDITOR.NODE_TEXT&&(l-=o.nodeValue.length,a=o),i=o}catch(t){return{container:n,offset:D(i)}}return{container:a,offset:0<r?-l:a.nodeValue.length+l}}CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:s,_createFillingCharSequenceNode:g,FILLING_CHAR_SEQUENCE:l}),CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=_?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:_?function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_NONE;try{var n=this.getNative(),i=n.type;"Text"==i&&(e=CKEDITOR.SELECTION_TEXT),"Control"==i&&(e=CKEDITOR.SELECTION_ELEMENT),n.createRange().parentElement()&&(e=CKEDITOR.SELECTION_TEXT)}catch(t){}return t.type=e}:function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_TEXT;if((n=this.getNative())&&n.rangeCount){if(1==n.rangeCount){var n,i=(n=n.getRangeAt(0)).startContainer;i==n.endContainer&&1==i.nodeType&&1==n.endOffset-n.startOffset&&x[i.childNodes[n.startOffset].nodeName.toLowerCase()]&&(e=CKEDITOR.SELECTION_ELEMENT)}}else e=CKEDITOR.SELECTION_NONE;return t.type=e},getRanges:(C=_?function(){var t=(a=this.getNative())&&a.createRange(),e=this.getType();if(!a)return[];if(e==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),e=O(t,!0),a.setStart(new CKEDITOR.dom.node(e.container),e.offset),e=O(t),a.setEnd(new CKEDITOR.dom.node(e.container),e.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse(),[a];if(e!=CKEDITOR.SELECTION_ELEMENT)return[];e=[];for(var n=0;n<t.length;n++){for(var i=t.item(n),o=i.parentNode,r=0,a=new CKEDITOR.dom.range(this.root);r<o.childNodes.length&&o.childNodes[r]!=i;r++);a.setStart(new CKEDITOR.dom.node(o),r),a.setEnd(new CKEDITOR.dom.node(o),r+1),e.push(a)}return e}:function(){var t,e=[],n=this.getNative();if(!n)return e;for(var i=0;i<n.rangeCount;i++){var o=n.getRangeAt(i);(t=new CKEDITOR.dom.range(this.root)).setStart(new CKEDITOR.dom.node(o.startContainer),o.startOffset),t.setEnd(new CKEDITOR.dom.node(o.endContainer),o.endOffset),e.push(t)}return e},function(t){var e=this._.cache,n=e.ranges;return n||(e.ranges=n=new CKEDITOR.dom.rangeList(C.call(this))),t?function(n){for(var i=0;i<n.length;i++){var o=n[i];if(o.getCommonAncestor().isReadOnly()&&n.splice(i,1),!o.collapsed){if(o.startContainer.isReadOnly())for(var t,e=o.startContainer;e&&!((t=e.type==CKEDITOR.NODE_ELEMENT)&&e.is("body")||!e.isReadOnly());)t&&"false"==e.getAttribute("contentEditable")&&o.setStartAfter(e),e=e.getParent();e=o.startContainer,t=o.endContainer;var r=o.startOffset,a=o.endOffset,s=o.clone();e&&e.type==CKEDITOR.NODE_TEXT&&(r>=e.getLength()?s.setStartAfter(e):s.setStartBefore(e)),t&&t.type==CKEDITOR.NODE_TEXT&&(a?s.setEndAfter(t):s.setEndBefore(t)),(e=new CKEDITOR.dom.walker(s)).evaluator=function(t){if(t.type==CKEDITOR.NODE_ELEMENT&&t.isReadOnly()){var e=o.clone();return o.setEndBefore(t),o.collapsed&&n.splice(i--,1),t.getPosition(s.endContainer)&CKEDITOR.POSITION_CONTAINS||(e.setStartAfter(t),e.collapsed||n.splice(i+1,0,e)),!0}return!1},e.next()}}return n}(new CKEDITOR.dom.rangeList(n.slice())):n}),getStartElement:function(){var t,e=this._.cache;if(void 0!==e.startElement)return e.startElement;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var n=this.getRanges()[0];if(n){if(n.collapsed)(t=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent());else{for(n.optimize();t=n.startContainer,n.startOffset==(t.getChildCount?t.getChildCount():t.getLength())&&!t.isBlockBoundary();)n.setStartAfter(t);if((t=n.startContainer).type!=CKEDITOR.NODE_ELEMENT)return t.getParent();if((t=t.getChild(n.startOffset))&&t.type==CKEDITOR.NODE_ELEMENT)for(n=t.getFirst();n&&n.type==CKEDITOR.NODE_ELEMENT;)n=(t=n).getFirst();else t=n.startContainer}t=t.$}}return e.startElement=t?new CKEDITOR.dom.element(t):null},getSelectedElement:function(){var t=this._.cache;if(void 0!==t.selectedElement)return t.selectedElement;var o=this,e=CKEDITOR.tools.tryThese(function(){return o.getNative().createRange().item(0)},function(){for(var t,e,n=o.getRanges()[0].clone(),i=2;i&&!((t=n.getEnclosedNode())&&t.type==CKEDITOR.NODE_ELEMENT&&x[t.getName()]&&(e=t));i--)n.shrink(CKEDITOR.SHRINK_ELEMENT);return e&&e.$});return t.selectedElement=e?new CKEDITOR.dom.element(e):null},getSelectedText:function(){var t=this._.cache;if(void 0!==t.selectedText)return t.selectedText;var e=this.getNative();e=_?"Control"==e.type?"":e.createRange().text:e.toString();return t.selectedText=e},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(t){if(this.isLocked){if(t)var e=this.getSelectedElement(),n=this.getRanges(),i=this.isFake;this.isLocked=0,this.reset(),(t=t&&(e||n[0]&&n[0].getCommonAncestor()))&&t.getAscendant("body",1)&&(h(n)?f.call(this,n):i?this.fake(e):e?this.selectElement(e):this.selectRanges(n))}},reset:function(){this._.cache={},this.isFake=0;var t=this.root.editor;if(t&&t._.fakeSelection)if(this.rev==t._.fakeSelection.rev){delete t._.fakeSelection;var e=t._.hiddenSelectionContainer;if(e){var n=t.checkDirty();t.fire("lockSnapshot"),e.remove(),t.fire("unlockSnapshot"),n||t.resetDirty()}delete t._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=a++},selectElement:function(t){var e=new CKEDITOR.dom.range(this.root);e.setStartBefore(t),e.setEndAfter(t),this.selectRanges([e])},selectRanges:function(t){var e=this.root.editor,n=e&&e._.hiddenSelectionContainer;if(this.reset(),n){n=this.root;for(var i,o=0;o<t.length;++o)(i=t[o]).endContainer.equals(n)&&(i.endOffset=Math.min(i.endOffset,n.getChildCount()))}if(t.length)if(this.isLocked){var r=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(t),this.lock(),r&&!r.equals(this.root)&&r.focus()}else{var a,s,l;if(1==t.length&&!(l=t[0]).collapsed&&(a=l.getEnclosedNode())&&a.type==CKEDITOR.NODE_ELEMENT&&((l=l.clone()).shrink(CKEDITOR.SHRINK_ELEMENT,!0),(s=l.getEnclosedNode())&&s.type==CKEDITOR.NODE_ELEMENT&&(a=s),"false"==a.getAttribute("contenteditable"))||(a=void 0),a)this.fake(a);else if(e&&e.plugins.tableselection&&CKEDITOR.plugins.tableselection.isSupportedEnvironment&&h(t)&&!b)f.call(this,t);else{if(_){var c,u,d;if(s=CKEDITOR.dom.walker.whitespaces(!0),a=/\ufeff|\u00a0/,l={table:1,tbody:1,tr:1},1<t.length&&(e=t[t.length-1],t[0].setEnd(e.endContainer,e.endOffset)),t=(e=t[0]).collapsed,(n=e.getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in x&&(!n.is("a")||!n.getText()))try{return(d=n.$.createControlRange()).addElement(n.$),void d.select()}catch(t){}(e.startContainer.type==CKEDITOR.NODE_ELEMENT&&e.startContainer.getName()in l||e.endContainer.type==CKEDITOR.NODE_ELEMENT&&e.endContainer.getName()in l)&&(e.shrink(CKEDITOR.NODE_ELEMENT,!0),t=e.collapsed),l=(d=e.createBookmark()).startNode,t||(r=d.endNode),(d=e.document.$.body.createTextRange()).moveToElementText(l.$),d.moveStart("character",1),r?((a=e.document.$.body.createTextRange()).moveToElementText(r.$),d.setEndPoint("EndToEnd",a),d.moveEnd("character",-1)):(c=l.getNext(s),u=l.hasAscendant("pre"),c=!(c&&c.getText&&c.getText().match(a))&&(u||!l.hasPrevious()||l.getPrevious().is&&l.getPrevious().is("br")),(u=e.document.createElement("span")).setHtml("&#65279;"),u.insertBefore(l),c&&e.document.createText("\ufeff").insertBefore(l)),e.setStartBefore(l),l.remove(),t?(c?(d.moveStart("character",-1),d.select(),e.document.$.selection.clear()):d.select(),e.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START),u.remove()):(e.setEndBefore(r),r.remove(),d.select())}else{if(!(r=this.getNative()))return;for(this.removeAllRanges(),d=0;d<t.length;d++)if(d<t.length-1&&(c=t[d],u=t[d+1],(a=c.clone()).setStart(c.endContainer,c.endOffset),a.setEnd(u.startContainer,u.startOffset),!a.collapsed&&(a.shrink(CKEDITOR.NODE_ELEMENT,!0),e=a.getCommonAncestor(),a=a.getEnclosedNode(),e.isReadOnly()||a&&a.isReadOnly())))u.setStart(c.startContainer,c.startOffset),t.splice(d--,1);else{e=t[d],u=this.document.$.createRange(),e.collapsed&&CKEDITOR.env.webkit&&p(e)&&(a=g(this.root),e.insertNode(a),(c=a.getNext())&&!a.getPrevious()&&c.type==CKEDITOR.NODE_ELEMENT&&"br"==c.getName()?(y(this.root),e.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START)):e.moveToPosition(a,CKEDITOR.POSITION_AFTER_END)),u.setStart(e.startContainer.$,e.startOffset);try{u.setEnd(e.endContainer.$,e.endOffset)}catch(t){if(!(0<=t.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")))throw t;e.collapse(1),u.setEnd(e.endContainer.$,e.endOffset)}r.addRange(u)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(t,e){var n=this.root.editor;void 0===e&&t.hasAttribute("aria-label")&&(e=t.getAttribute("aria-label")),this.reset(),function(t,e){var n=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie&&CKEDITOR.env.version<14?"display:none":"position:fixed;top:0;left:-1000px")+'">'+(e||"&nbsp;")+"</div>",t.document);t.fire("lockSnapshot"),t.editable().append(n);var i=t.getSelection(1),o=t.createRange(),r=i.root.on("selectionchange",function(t){t.cancel()},null,null,0);o.setStartAt(n,CKEDITOR.POSITION_AFTER_START),o.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),i.selectRanges([o]),r.removeListener(),t.fire("unlockSnapshot"),t._.hiddenSelectionContainer=n}(n,e);var i=this._.cache,o=new CKEDITOR.dom.range(this.root);o.setStartBefore(t),o.setEndAfter(t),i.ranges=new CKEDITOR.dom.rangeList(o),i.selectedElement=i.startElement=t,i.type=CKEDITOR.SELECTION_ELEMENT,i.selectedText=i.nativeSel=null,this.isFake=1,this.rev=a++,(n._.fakeSelection=this).root.fire("selectionchange")},isHidden:function(){var t=this.getCommonAncestor();return t&&t.type==CKEDITOR.NODE_TEXT&&(t=t.getParent()),!(!t||!t.data("cke-hidden-sel"))},isInTable:function(t){return h(this.getRanges(),t)},isCollapsed:function(){var t=this.getRanges();return 1===t.length&&t[0].collapsed},createBookmarks:function(t){return t=this.getRanges().createBookmarks(t),this.isFake&&(t.isFake=1),t},createBookmarks2:function(t){return t=this.getRanges().createBookmarks2(t),this.isFake&&(t.isFake=1),t},selectBookmarks:function(t){for(var e,n=[],i=0;i<t.length;i++){var o=new CKEDITOR.dom.range(this.root);o.moveToBookmark(t[i]),n.push(o)}return t.isFake&&((e=h(n)?n[0]._getTableElement():n[0].getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),t.isFake=0)),t.isFake&&!h(n)?this.fake(e):this.selectRanges(n),this},getCommonAncestor:function(){var t=this.getRanges();return t.length?t[0].startContainer.getCommonAncestor(t[t.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var t=this.getNative();try{t&&t[_?"empty":"removeAllRanges"]()}catch(t){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function D(t,e){for(var n,i;(t=t.getParent())&&!t.equals(e);)if(t.getAttribute("data-nostyle"))n=t;else if(!i){var o=t.getAttribute("contentEditable");"false"==o?n=t:"true"==o&&(i=1)}return n}function O(t,e,n,i){return(t.getPosition(e)|i)==i&&(!n.childRule||n.childRule(t))}function I(t){var e=t.document;if(t.collapsed)e=R(this,e),t.insertNode(e),t.moveToPosition(e,CKEDITOR.POSITION_BEFORE_END);else{var n,i=this.element,o=this._.definition,r=(h=o.ignoreReadonly)||o.includeReadonly;null==r&&(r=t.root.getCustomData("cke_includeReadonly"));var a=CKEDITOR.dtd[i];a||(n=!0,a=CKEDITOR.dtd.span),t.enlarge(CKEDITOR.ENLARGE_INLINE,1),t.trim();var s,l=t.createBookmark(),c=l.startNode,u=l.endNode,d=c;if(!h){var h=D(c,f=t.getCommonAncestor()),f=D(u,f);h&&(d=h.getNextSourceNode(!0)),f&&(u=f)}for(d.getPosition(u)==CKEDITOR.POSITION_FOLLOWING&&(d=0);d;){if(h=!1,d.equals(u))h=!(d=null);else{f=(_=d.type==CKEDITOR.NODE_ELEMENT?d.getName():null)&&"false"==d.getAttribute("contentEditable");var p=_&&d.getAttribute("data-nostyle");if(_&&d.data("cke-bookmark")){d=d.getNextSourceNode(!0);continue}if(f&&r&&CKEDITOR.dtd.$block[_])for(var g=void 0,m=0,v=(x=(C=k(v=d)).length)&&new CKEDITOR.dom.range(v.getDocument());m<x;++m){g=C[m];var y=CKEDITOR.filter.instances[g.data("cke-filter")];y&&!y.check(this)||(v.selectNodeContents(g),I.call(this,v))}if(C=_?!a[_]||p?0:f&&!r?0:O(d,u,o,M):1){if(C=o,x=i,m=n,!(g=d.getParent())||!(g.getDtd()||CKEDITOR.dtd.span)[x]&&!m||C.parentRule&&!C.parentRule(g))h=!0;else if(s||_&&CKEDITOR.dtd.$removeEmpty[_]&&(d.getPosition(u)|M)!=M||(s=t.clone()).setStartBefore(d),(_=d.type)==CKEDITOR.NODE_TEXT||f||_==CKEDITOR.NODE_ELEMENT&&!d.getChildCount()){for(var b,_=d;(h=!_.getNext(A))&&a[(b=_.getParent()).getName()]&&O(b,c,o,N);)_=b;s.setEndAfter(_)}}else h=!0;d=d.getNextSourceNode(p||f)}if(h&&s&&!s.collapsed){f=(h=R(this,e)).hasAttributes(),p=s.getCommonAncestor(),_={};for(var E,w,T,C={},x=(g={},{});h&&p;){if(p.getName()==i){for(E in o.attributes)!x[E]&&(T=p.getAttribute(w))&&(h.getAttribute(E)==T?C[E]=1:x[E]=1);for(w in o.styles)!g[w]&&(T=p.getStyle(w))&&(h.getStyle(w)==T?_[w]=1:g[w]=1)}p=p.getParent()}for(E in C)h.removeAttribute(E);for(w in _)h.removeStyle(w);f&&!h.hasAttributes()&&(h=null),h?(s.extractContents().appendTo(h),s.insertNode(h),S.call(this,h),h.mergeSiblings(),CKEDITOR.env.ie||h.$.normalize()):(h=new CKEDITOR.dom.element("span"),s.extractContents().appendTo(h),s.insertNode(h),S.call(this,h),h.remove(!0)),s=null}}t.moveToBookmark(l),t.shrink(CKEDITOR.SHRINK_TEXT),t.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function e(t){function e(){for(var t=new CKEDITOR.dom.elementPath(a.getParent()),e=new CKEDITOR.dom.elementPath(u.getParent()),n=null,i=null,o=0;o<t.elements.length;o++){var r=t.elements[o];if(r==t.block||r==t.blockLimit)break;d.checkElementRemovable(r,!0)&&(n=r)}for(o=0;o<e.elements.length&&((r=e.elements[o])!=e.block&&r!=e.blockLimit);o++)d.checkElementRemovable(r,!0)&&(i=r);i&&u.breakParent(i),n&&a.breakParent(n)}t.enlarge(CKEDITOR.ENLARGE_INLINE,1);var n=t.createBookmark(),a=n.startNode,i=this._.definition.alwaysRemoveElement;if(t.collapsed){for(var o,r,s=new CKEDITOR.dom.elementPath(a.getParent(),t.root),l=0;l<s.elements.length&&(r=s.elements[l])&&r!=s.block&&r!=s.blockLimit;l++)if(this.checkElementRemovable(r)){var c;!i&&t.collapsed&&(t.checkBoundaryOfElement(r,CKEDITOR.END)||(c=t.checkBoundaryOfElement(r,CKEDITOR.START)))?(o=r).match=c?"start":"end":(r.mergeSiblings(),r.is(this.element)?h.call(this,r):f(r,p(this)[r.getName()]))}if(o){for(i=a,l=0;!(r=s.elements[l]).equals(o);l++)r.match||((r=r.clone()).append(i),i=r);i["start"==o.match?"insertBefore":"insertAfter"](o)}}else{var u=n.endNode,d=this;for(e(),s=a;!s.equals(u);)o=s.getNextSourceNode(),s.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(s)&&(s.getName()==this.element?h.call(this,s):f(s,p(this)[s.getName()]),o.type==CKEDITOR.NODE_ELEMENT&&o.contains(a)&&(e(),o=a.getNext())),s=o}t.moveToBookmark(n),t.shrink(CKEDITOR.NODE_ELEMENT,!0)}function k(t){var e=[];return t.forEach(function(t){if("true"==t.getAttribute("contenteditable"))return e.push(t),!1},CKEDITOR.NODE_ELEMENT,!0),e}function n(t){var e=t.getEnclosedNode()||t.getCommonAncestor(!1,!0);(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1))&&!t.isReadOnly()&&s(t,this)}function i(t){var e=t.getCommonAncestor(!0,!0);if(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1)){var n=(e=this._.definition).attributes;if(n)for(var i in n)t.removeAttribute(i,n[i]);if(e.styles)for(var o in e.styles)e.styles.hasOwnProperty(o)&&t.removeStyle(o)}}function o(t){var e=t.createBookmark(!0),n=t.createIterator();n.enforceRealBlocks=!0,this._.enterMode&&(n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var i,o=t.document;i=n.getNextParagraph();)i.isReadOnly()||n.activeFilter&&!n.activeFilter.check(this)||a(i,R(this,o,i));t.moveToBookmark(e)}function r(t){var e,n,i=t.createBookmark(1),o=t.createIterator();for(o.enforceRealBlocks=!0,o.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;e=o.getNextParagraph();)this.checkElementRemovable(e)&&(e.is("pre")?((n=this._.enterMode==CKEDITOR.ENTER_BR?null:t.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&e.copyAttributes(n),a(e,n)):h.call(this,e));t.moveToBookmark(i)}function a(t,e){(n=!e)&&(e=t.getDocument().createElement("div"),t.copyAttributes(e));var n,i,o=e&&e.is("pre"),r=t.is("pre"),a=!o&&r;if(o&&!r){if(r=e,(a=t.getBogus())&&a.remove(),a=(a=(a=(a=l(a=t.getHtml(),/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")).replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1")).replace(/([ \t\n\r]+|&nbsp;)/g," ")).replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var s=t.getDocument().createElement("div");s.append(r),r.$.outerHTML="<pre>"+a+"</pre>",r.copyAttributes(s.getFirst()),r=s.getFirst().remove()}else r.setHtml(a);e=r}else a?e=function(t,e){var n;1<t.length&&(n=new CKEDITOR.dom.documentFragment(e.getDocument()));for(var i=0;i<t.length;i++){var o=(o=(o=l(o=l(o=l(o=(o=t[i]).replace(/(\r\n|\r)/g,"\n"),/^[ \t]*\n/,""),/\n$/,""),/^[ \t]+|[ \t]+$/g,function(t,e){return 1==t.length?"&nbsp;":e?" "+CKEDITOR.tools.repeat("&nbsp;",t.length-1):CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "})).replace(/\n/g,"<br>")).replace(/[ \t]{2,}/g,function(t){return CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "});if(n){var r=e.clone();r.setHtml(o),n.append(r)}else e.setHtml(o)}return n||e}(n?[t.getHtml()]:function(t){var n=[];return l(t.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(t,e,n){return e+"</pre>"+n+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(t,e){n.push(e)}),n}(t),e):t.moveChildren(e);(e.replace(t),o)?(i=(n=e).getPrevious(E))&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("pre")&&(o=l(i.getHtml(),/\n$/,"")+"\n\n"+l(n.getHtml(),/^\n/,""),CKEDITOR.env.ie?n.$.outerHTML="<pre>"+o+"</pre>":n.setHtml(o),i.remove()):n&&c(e)}function l(t,e,n){var i="",o="";return t=t.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(t,e,n){return e&&(i=e),n&&(o=n),""}),i+t.replace(e,n)+o}function h(t,e){var n,i=(o=this._.definition).attributes,o=o.styles,r=p(this)[t.getName()],a=CKEDITOR.tools.isEmpty(i)&&CKEDITOR.tools.isEmpty(o);for(n in i)("class"==n||this._.definition.fullMatch)&&t.getAttribute(n)!=d(n,i[n])||e&&"data-"==n.slice(0,5)||(a=t.hasAttribute(n),t.removeAttribute(n));for(var s in o)this._.definition.fullMatch&&t.getStyle(s)!=d(s,o[s],!0)||(a=a||!!t.getStyle(s),t.removeStyle(s));f(t,r,v[t.getName()]),a&&(this._.definition.alwaysRemoveElement?c(t,1):!CKEDITOR.dtd.$block[t.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!t.hasAttributes()?c(t):t.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function S(t){for(var e,n=p(this),i=t.getElementsByTag(this.element),o=i.count();0<=--o;)(e=i.getItem(o)).isReadOnly()||h.call(this,e,!0);for(var r in n)if(r!=this.element)for(o=(i=t.getElementsByTag(r)).count()-1;0<=o;o--)(e=i.getItem(o)).isReadOnly()||f(e,n[r])}function f(t,e,n){if(e=e&&e.attributes)for(var i=0;i<e.length;i++){var o,r=e[i][0];if(o=t.getAttribute(r)){var a=e[i][1];(null===a||a.test&&a.test(o)||"string"==typeof a&&o==a)&&t.removeAttribute(r)}}n||c(t)}function c(t,e){if(!t.hasAttributes()||e)if(CKEDITOR.dtd.$block[t.getName()]){var n=t.getPrevious(E),i=t.getNext(E);!n||n.type!=CKEDITOR.NODE_TEXT&&n.isBlockBoundary({br:1})||t.append("br",1),!i||i.type!=CKEDITOR.NODE_TEXT&&i.isBlockBoundary({br:1})||t.append("br"),t.remove(!0)}else n=t.getFirst(),i=t.getLast(),t.remove(!0),n&&(n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings(),i&&!n.equals(i)&&i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings())}function R(t,e,n){var i;return"*"==(i=t.element)&&(i="span"),i=new CKEDITOR.dom.element(i,e),n&&n.copyAttributes(i),i=s(i,t),e.getCustomData("doc_processing_style")&&i.hasAttribute("id")?i.removeAttribute("id"):e.setCustomData("doc_processing_style",1),i}function s(t,e){var n=(i=e._.definition).attributes,i=CKEDITOR.style.getStyleText(i);if(n)for(var o in n)t.setAttribute(o,n[o]);return i&&t.setAttribute("style",i),t}function u(t,n){for(var e in t)t[e]=t[e].replace(_,function(t,e){return n[e]})}function p(t){if(t._.overrides)return t._.overrides;var e=t._.overrides={},n=t._.definition.overrides;if(n){CKEDITOR.tools.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){var o,r;if("string"==typeof(s=n[i])?o=s.toLowerCase():(o=s.element?s.element.toLowerCase():t.element,r=s.attributes),s=e[o]||(e[o]={}),r){var a,s=s.attributes=s.attributes||[];for(a in r)s.push([a.toLowerCase(),r[a]])}}}return e}function d(t,e,n){var i=new CKEDITOR.dom.element("span");return i[n?"setStyle":"setAttribute"](t,e),i[n?"getStyle":"getAttribute"](t)}function g(t,e){function n(t,e){return"font-family"==e.toLowerCase()?t.replace(/["']/g,""):t}for(var i in"string"==typeof t&&(t=CKEDITOR.tools.parseCssText(t)),"string"==typeof e&&(e=CKEDITOR.tools.parseCssText(e,!0)),t)if(!(i in e)||n(e[i],i)!=n(t[i],i)&&"inherit"!=t[i]&&"inherit"!=e[i])return!1;return!0}function m(t,e,n){var i,o,r=t.document,a=t.getRanges();if(e=e?this.removeFromRange:this.applyToRange,t.isFake&&t.isInTable())for(i=[],o=0;o<a.length;o++)i.push(a[o].clone());for(var s=a.createIterator();o=s.getNextRange();)e.call(this,o,n);t.selectRanges(i||a),r.removeCustomData("doc_processing_style")}var v={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},y={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},b=/\s*(?:;\s*|$)/,_=/#\((.+?)\)/g,A=CKEDITOR.dom.walker.bookmark(0,1),E=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(t,e){if("string"==typeof t.type)return new CKEDITOR.style.customHandlers[t.type](t);var n=t.attributes;n&&n.style&&(t.styles=CKEDITOR.tools.extend({},t.styles,CKEDITOR.tools.parseCssText(n.style)),delete n.style),e&&(u((t=CKEDITOR.tools.clone(t)).attributes,e),u(t.styles,e)),n=this.element=t.element?"string"==typeof t.element?t.element.toLowerCase():t.element:"*",this.type=t.type||(v[n]?CKEDITOR.STYLE_BLOCK:y[n]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:t}},CKEDITOR.style.prototype={apply:function(t){if(t instanceof CKEDITOR.dom.document)return m.call(this,t.getSelection());if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),m.call(this,t.getSelection(),0,t),this._.enterMode=e}},remove:function(t){if(t instanceof CKEDITOR.dom.document)return m.call(this,t.getSelection(),1);if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),m.call(this,t.getSelection(),1,t),this._.enterMode=e}},applyToRange:function(t){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?I:this.type==CKEDITOR.STYLE_BLOCK?o:this.type==CKEDITOR.STYLE_OBJECT?n:null,this.applyToRange(t)},removeFromRange:function(t){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?e:this.type==CKEDITOR.STYLE_BLOCK?r:this.type==CKEDITOR.STYLE_OBJECT?i:null,this.removeFromRange(t)},applyToObject:function(t){s(t,this)},checkActive:function(t,e){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(t.block||t.blockLimit,!0,e);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var n,i=t.elements,o=0;o<i.length;o++)if(n=i[o],this.type!=CKEDITOR.STYLE_INLINE||n!=t.block&&n!=t.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var r=n.getName();if(!("string"==typeof this.element?r==this.element:r in this.element))continue}if(this.checkElementRemovable(n,!0,e))return!0}}return!1},checkApplicable:function(t,e,n){if(e&&e instanceof CKEDITOR.filter&&(n=e),n&&!n.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!t.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!t.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(t,e){var n=this._.definition;if(!t||!n.ignoreReadonly&&t.isReadOnly())return!1;var i=t.getName();if("string"==typeof this.element?i==this.element:i in this.element){if(!e&&!t.hasAttributes())return!0;if(i=n._AC)n=i;else{i={};var o=0,r=n.attributes;if(r)for(var a in r)o++,i[a]=r[a];(a=CKEDITOR.style.getStyleText(n))&&(i.style||o++,i.style=a),i._length=o,n=n._AC=i}if(!n._length)return!0;for(var s in n)if("_length"!=s)if(i=t.getAttribute(s)||"","style"==s?g(n[s],i):n[s]==i){if(!e)return!0}else if(e)return!1;if(e)return!0}return!1},checkElementRemovable:function(t,e,n){if(this.checkElementMatch(t,e,n))return!0;if(e=p(this)[t.getName()]){var i;if(!(e=e.attributes))return!0;for(n=0;n<e.length;n++)if(i=e[n][0],i=t.getAttribute(i)){var o=e[n][1];if(null===o)return!0;if("string"==typeof o){if(i==o)return!0}else if(o.test(i))return!0}}return!1},buildPreview:function(t){var e=this._.definition,n=[],i=e.element;"bdo"==i&&(i="span");n=["<",i];var o=e.attributes;if(o)for(var r in o)n.push(" ",r,'="',o[r],'"');return(o=CKEDITOR.style.getStyleText(e))&&n.push(' style="',o,'"'),n.push(">",t||e.name,"</",i,">"),n.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(t){if(e=t._ST)return e;var e=t.styles,n=t.attributes&&t.attributes.style||"",i="";for(var o in n.length&&(n=n.replace(b,";")),e){var r=e[o],a=(o+":"+r).replace(b,";");"inherit"==r?i+=a:n+=a}return n.length&&(n=CKEDITOR.tools.normalizeCssText(n,!0)),t._ST=n+i},CKEDITOR.style.customHandlers={},CKEDITOR.style.addCustomHandler=function(t){function e(t){this._={definition:t},this.setup&&this.setup(t)}return e.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},t,!0),this.customHandlers[t.type]=e};var M=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,N=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(t,e){this.requiredContent=this.allowedContent=this.style=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.styleCommand.prototype.exec=function(t){t.focus(),this.state==CKEDITOR.TRISTATE_OFF?t.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&t.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(t,e,n){CKEDITOR.stylesSet.addExternal(t,e,""),CKEDITOR.stylesSet.load(t,n)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(t,e){var o=this._.styleStateChangeCallbacks;o||(o=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(t){for(var e=0;e<o.length;e++){var n=o[e],i=n.style.checkActive(t.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;n.fn.call(this,i)}})),o.push({style:t,fn:e})},applyStyle:function(t){t.apply(this)},removeStyle:function(t){t.remove(this)},getStylesSet:function(e){if(this._.stylesDefinitions)e(this._.stylesDefinitions);else{var n=this;if(!1===(t=n.config.stylesCombo_stylesSet||n.config.stylesSet))e(null);else if(t instanceof Array)n._.stylesDefinitions=t,e(t);else{var t,i=(t=(t=t||"default").split(":"))[0];CKEDITOR.stylesSet.addExternal(i,t[1]?t.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(i,function(t){n._.stylesDefinitions=t[i],e(n._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createComment(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"\x3c!--"+this.$.nodeValue+"--\x3e"}}),function(){var t,u={},d={};for(t in CKEDITOR.dtd.$blockLimit)t in CKEDITOR.dtd.$list||(u[t]=1);for(t in CKEDITOR.dtd.$block)t in CKEDITOR.dtd.$blockLimit||t in CKEDITOR.dtd.$empty||(d[t]=1);CKEDITOR.dom.elementPath=function(t,e){var n,i=null,o=null,r=[],a=t;e=e||t.getDocument().getBody(),a=a||e;do{if(a.type==CKEDITOR.NODE_ELEMENT){if(r.push(a),!this.lastElement&&((this.lastElement=a).is(CKEDITOR.dtd.$object)||"false"==a.getAttribute("contenteditable")))continue;if(a.equals(e))break;if(!o&&(n=a.getName(),"true"==a.getAttribute("contenteditable")?o=a:!i&&d[n]&&(i=a),u[n])){if(n=!i&&"div"==n){t:{for(var s=0,l=(n=a.getChildren()).count();s<l;s++){var c=n.getItem(s);if(c.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[c.getName()]){n=!0;break t}}n=!1}n=!n}n?i=a:o=a}}}while(a=a.getParent());o=o||e,this.block=i,this.blockLimit=o,this.root=e,this.elements=r}}(),CKEDITOR.dom.elementPath.prototype={compare:function(t){var e=this.elements;if(!(t=t&&t.elements)||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0},contains:function(e,t,n){var i,o=0;"string"==typeof e&&(i=function(t){return t.getName()==e}),e instanceof CKEDITOR.dom.element?i=function(t){return t.equals(e)}:CKEDITOR.tools.isArray(e)?i=function(t){return-1<CKEDITOR.tools.indexOf(e,t.getName())}:"function"==typeof e?i=e:"object"==typeof e&&(i=function(t){return t.getName()in e});var r=this.elements,a=r.length;for(t&&(n?o+=1:--a),n&&(r=Array.prototype.slice.call(r,0)).reverse();o<a;o++)if(i(r[o]))return r[o];return null},isContextFor:function(t){return!(t in CKEDITOR.dtd.$block)||!!(this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit).getDtd()[t]},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createTextNode(t)),this.$=t},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(t){this.$.nodeValue=t},split:function(t){var e=this.$.parentNode,n=e.childNodes.length,i=this.getLength(),o=this.getDocument(),r=new CKEDITOR.dom.text(this.$.splitText(t),o);return e.childNodes.length==n&&(i<=t?(r=o.createText("")).insertAfter(this):((t=o.createText("")).insertAfter(r),t.remove())),r},substring:function(t,e){return"number"!=typeof e?this.$.nodeValue.substr(t):this.$.nodeValue.substring(t,e)}}),function(){function r(t,e,n){var i=t.serializable,o=e[n?"endContainer":"startContainer"],r=n?"endOffset":"startOffset",a=i?e.document.getById(t.startNode):t.startNode;return t=i?e.document.getById(t.endNode):t.endNode,o.equals(a.getPrevious())?(e.startOffset=e.startOffset-o.getLength()-t.getPrevious().getLength(),o=t.getNext()):o.equals(t.getPrevious())&&(e.startOffset-=o.getLength(),o=t.getNext()),o.equals(a.getParent())&&e[r]++,o.equals(t.getParent())&&e[r]++,e[n?"endContainer":"startContainer"]=o,e}CKEDITOR.dom.rangeList=function(t){return t instanceof CKEDITOR.dom.rangeList?t:(t?t instanceof CKEDITOR.dom.range&&(t=[t]):t=[],CKEDITOR.tools.extend(t,e))};var e={createIterator:function(){var r,a=this,s=CKEDITOR.dom.walker.bookmark(),l=[];return{getNextRange:function(t){var e=a[r=void 0===r?0:r+1];if(e&&1<a.length){if(!r)for(var n=a.length-1;0<=n;n--)l.unshift(a[n].createBookmark(!0));if(t)for(var i=0;a[r+i+1];){var o=e.document;for(t=0,n=o.getById(l[i].endNode),o=o.getById(l[i+1].startNode);;){if(n=n.getNextSourceNode(!1),o.equals(n))t=1;else if(s(n)||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary())continue;break}if(!t)break;i++}for(e.moveToBookmark(l.shift());i--;)(n=a[++r]).moveToBookmark(l.shift()),e.setEnd(n.endContainer,n.endOffset)}return e}}},createBookmarks:function(t){for(var e,n=[],i=0;i<this.length;i++){n.push(e=this[i].createBookmark(t,!0));for(var o=i+1;o<this.length;o++)this[o]=r(e,this[o]),this[o]=r(e,this[o],!0)}return n},createBookmarks2:function(t){for(var e=[],n=0;n<this.length;n++)e.push(this[n].createBookmark2(t));return e},moveToBookmarks:function(t){for(var e=0;e<this.length;e++)this[e].moveToBookmark(t[e])}}}(),function(){function r(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function n(t){var e=CKEDITOR.skin["ua_"+t],n=CKEDITOR.env;if(e){e=e.split(",").sort(function(t,e){return e<t?-1:1});for(var i,o=0;o<e.length;o++)if(i=e[o],n.ie&&(i.replace(/^ie/,"")==n.version||n.quirks&&"iequirks"==i)&&(i="ie"),n[i]){t+="_"+e[o];break}}return CKEDITOR.getUrl(r()+t+".css")}function i(t,e){o[t]||(CKEDITOR.document.appendStyleSheet(n(t)),o[t]=1),e&&e()}function a(t){var e=t.getById(l);return e||((e=t.getHead().append("style")).setAttribute("id",l),e.setAttribute("type","text/css")),e}function s(t,e,n){var i,o,r;if(CKEDITOR.env.webkit)for(e=e.split("}").slice(0,-1),o=0;o<e.length;o++)e[o]=e[o].split("{");for(var a=0;a<t.length;a++)if(CKEDITOR.env.webkit)for(o=0;o<e.length;o++){for(r=e[o][1],i=0;i<n.length;i++)r=r.replace(n[i][0],n[i][1]);t[a].$.sheet.addRule(e[o][0],r)}else{for(r=e,i=0;i<n.length;i++)r=r.replace(n[i][0],n[i][1]);CKEDITOR.env.ie&&CKEDITOR.env.version<11?t[a].$.styleSheet.cssText+=r:t[a].$.innerHTML+=r}}var o={};CKEDITOR.skin={path:r,loadPart:function(t,e){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(r()+"skin.js"),function(){i(t,e)}):i(t,e)},getPath:function(t){return CKEDITOR.getUrl(n(t))},icons:{},addIcon:function(t,e,n,i){t=t.toLowerCase(),this.icons[t]||(this.icons[t]={path:e,offset:n||0,bgsize:i||"16px"})},getIconStyle:function(t,e,n,i,o){var r;return t&&(t=t.toLowerCase(),e&&(r=this.icons[t+"-rtl"]),r=r||this.icons[t]),t=n||r&&r.path||"",i=i||r&&r.offset,o=o||r&&r.bgsize||"16px",(t=t&&t.replace(/'/g,"\\'"))&&"background-image:url('"+CKEDITOR.getUrl(t)+"');background-position:0 "+i+"px;background-size:"+o+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(t){var o=a(CKEDITOR.document);return(this.setUiColor=function(t){this.uiColor=t;var e=CKEDITOR.skin.chameleon,n="",i="";"function"==typeof e&&(n=e(this,"editor"),i=e(this,"panel")),s([o],n,t=[[u,t]]),s(c,i,t)}).call(this,t)}});var l="cke_ui_color",c=[],u=/\$color/g;CKEDITOR.on("instanceLoaded",function(t){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var n=t.editor;t=function(t){if(!(t=(t.data[0]||t.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument()).getById("cke_ui_color")){t=a(t),c.push(t);var e=n.getUiColor();e&&s([t],CKEDITOR.skin.chameleon(n,"panel"),[[u,e]])}},n.on("panelShow",t),n.on("menuShow",t),n.config.uiColor&&n.setUiColor(n.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var t=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);t.appendTo(CKEDITOR.document.getHead());try{var e=t.getComputedStyle("border-top-color"),n=t.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!e||e!=n)}catch(t){CKEDITOR.env.hc=!1}t.remove()}if(CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),t=CKEDITOR._.pending)for(delete CKEDITOR._.pending,e=0;e<t.length;e++)CKEDITOR.editor.prototype.constructor.apply(t[e][0],t[e][1]),CKEDITOR.add(t[e][0])}(),CKEDITOR.skin.name="moono-lisa",CKEDITOR.skin.ua_editor="ie,iequirks,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie8",CKEDITOR.skin.chameleon=(vt=function(t,e){for(var n=t.match(/[^#]./g),i=0;i<3;i++){var o,r=i;o=parseInt(n[i],16),o=("0"+(e<0?0|o*(1+e):0|o+(255-o)*e).toString(16)).slice(-2),n[r]=o}return"#"+n.join("")},yt={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")},function(t,e){var n=vt(t.uiColor,.4);return n={id:"."+t.id,defaultBorder:vt(n,-.2),toolbarElementsBorder:vt(n,-.25),defaultBackground:n,lightBackground:vt(n,.8),darkBackground:vt(n,-.15),ckeButtonOn:vt(n,.4),ckeResizer:vt(n,-.4),ckeColorauto:vt(n,.8),dialogBody:vt(n,.7),dialogTab:vt(n,.65),dialogTabSelected:"#FFF",dialogTabSelectedBorder:"#FFF",elementsPathColor:vt(n,-.6),menubuttonHover:vt(n,.1),menubuttonIcon:vt(n,.5),menubuttonIconHover:vt(n,.3)},yt[e].output(n).replace(/\[/g,"{").replace(/\]/g,"}")}),CKEDITOR.plugins.add("dialogui",{onLoad:function(){function c(t){this._||(this._={}),this._.default=this._.initValue=t.default||"",this._.required=t.required||!1;for(var e=[this._],n=1;n<arguments.length;n++)e.push(arguments[n]);return e.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,e),this._}function g(t){for(var e in t)!o.test(e)&&"title"!=e&&"type"!=e||delete t[e];return t}function s(t){(t=t.data.getKeystroke())==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):t==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")}var l,u,d,t={build:function(t,e,n){return new CKEDITOR.ui.dialog.textInput(t,e,n)}},e={build:function(t,e,n){return new CKEDITOR.ui.dialog[e.type](t,e,n)}},n={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(t){this.setValue(this.getInitValue(),t)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._.default},getInitValue:function(){return this._.initValue}},i=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(t,e){this._.domOnChangeRegistered||(t.on("load",function(){this.getInputElement().on("change",function(){t.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",e)}},!0),o=/^on([A-Z]\w+)/;CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(n,i,t,o){if(!(arguments.length<4)){var r=c.call(this,i);r.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var e={role:i.role||"presentation"};i.includeLabel&&(e["aria-labelledby"]=r.labelId),CKEDITOR.ui.dialog.uiElement.call(this,n,i,t,"div",null,e,function(){var t=[],e=i.required?" cke_required":"";return"horizontal"!=i.labelLayout?t.push('<label class="cke_dialog_ui_labeled_label'+e+'" ',' id="'+r.labelId+'"',r.inputId?' for="'+r.inputId+'"':"",(i.labelStyle?' style="'+i.labelStyle+'"':"")+">",i.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',i.controlStyle?' style="'+i.controlStyle+'"':"",' role="presentation">',o.call(this,n,i),"</div>"):(e={type:"hbox",widths:i.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+e+'" id="'+r.labelId+'" for="'+r.inputId+'"'+(i.labelStyle?' style="'+i.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(i.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(i.controlStyle?' style="'+i.controlStyle+'"':"")+">"+o.call(this,n,i)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(n,e,t)),t.join("")})}},textInput:function(e,n,t){if(!(arguments.length<3)){c.call(this,n);var i=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",o={class:"cke_dialog_ui_input_"+n.type,id:i,type:n.type};n.validate&&(this.validate=n.validate),n.maxLength&&(o.maxlength=n.maxLength),n.size&&(o.size=n.size),n.inputStyle&&(o.style=n.inputStyle);var r=this,a=!1;e.on("load",function(){r.getInputElement().on("keydown",function(t){13==t.data.getKeystroke()&&(a=!0)}),r.getInputElement().on("keyup",function(t){13==t.data.getKeystroke()&&a&&(e.getButton("ok")&&setTimeout(function(){e.getButton("ok").click()},0),a=!1),r.bidi&&s.call(r,t)},null,null,1e3)}),CKEDITOR.ui.dialog.labeledElement.call(this,e,n,t,function(){var t=['<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'];for(var e in n.width&&t.push('style="width:'+n.width+'" '),t.push("><input "),o["aria-labelledby"]=this._.labelId,this._.required&&(o["aria-required"]=this._.required),o)t.push(e+'="'+o[e]+'" ');return t.push(" /></div>"),t.join("")})}},textarea:function(t,e,n){if(!(arguments.length<3)){c.call(this,e);var i=this,o=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",r={};e.validate&&(this.validate=e.validate),r.rows=e.rows||5,r.cols=e.cols||20,r.class="cke_dialog_ui_input_textarea "+(e.class||""),void 0!==e.inputStyle&&(r.style=e.inputStyle),e.dir&&(r.dir=e.dir),i.bidi&&t.on("load",function(){i.getInputElement().on("keyup",s)},i),CKEDITOR.ui.dialog.labeledElement.call(this,t,e,n,function(){r["aria-labelledby"]=this._.labelId,this._.required&&(r["aria-required"]=this._.required);var t,e=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',o,'" '];for(t in r)e.push(t+'="'+CKEDITOR.tools.htmlEncode(r[t])+'" ');return e.push(">",CKEDITOR.tools.htmlEncode(i._.default),"</textarea></div>"),e.join("")})}},checkbox:function(o,r,t){if(!(arguments.length<3)){var a=c.call(this,r,{default:!!r.default});r.validate&&(this.validate=r.validate),CKEDITOR.ui.dialog.uiElement.call(this,o,r,t,"span",null,null,function(){var t=CKEDITOR.tools.extend({},r,{id:r.id?r.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),e=[],n=CKEDITOR.tools.getNextId()+"_label",i={class:"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":n};return g(t),r.default&&(i.checked="checked"),void 0!==t.inputStyle&&(t.style=t.inputStyle),a.checkbox=new CKEDITOR.ui.dialog.uiElement(o,t,e,"input",null,i),e.push(' <label id="',n,'" for="',i.id,'"'+(r.labelStyle?' style="'+r.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(r.label),"</label>"),e.join("")})}},radio:function(d,h,t){if(!(arguments.length<3)){c.call(this,h),this._.default||(this._.default=this._.initValue=h.items[0][1]),h.validate&&(this.validate=h.validate);var f=[],p=this;h.role="radiogroup",h.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,d,h,t,function(){for(var t=[],e=[],n=(h.id?h.id:CKEDITOR.tools.getNextId())+"_radio",i=0;i<h.items.length;i++){var o=h.items[i],r=void 0!==o[2]?o[2]:o[0],a=void 0!==o[1]?o[1]:o[0],s=(l=CKEDITOR.tools.getNextId()+"_radio_input")+"_label",l=CKEDITOR.tools.extend({},h,{id:l,title:null,type:null},!0),c=(r=CKEDITOR.tools.extend({},l,{title:r},!0),{type:"radio",class:"cke_dialog_ui_radio_input",name:n,value:a,"aria-labelledby":s}),u=[];p._.default==a&&(c.checked="checked"),g(l),g(r),void 0!==l.inputStyle&&(l.style=l.inputStyle),l.keyboardFocusable=!0,f.push(new CKEDITOR.ui.dialog.uiElement(d,l,u,"input",null,c)),u.push(" "),new CKEDITOR.ui.dialog.uiElement(d,r,u,"label",null,{id:s,for:c.id},o[0]),t.push(u.join(""))}return new CKEDITOR.ui.dialog.hbox(d,f,t,e),e.join("")}),this._.children=f}},button:function(t,e,n){if(arguments.length){"function"==typeof e&&(e=e(t.getParentEditor())),c.call(this,e,{disabled:e.disabled||!1}),CKEDITOR.event.implementOn(this);var i=this;t.on("load",function(){var t=this.getElement();t.on("click",function(t){i.click(),t.data.preventDefault()}),t.on("keydown",function(t){t.data.getKeystroke()in{32:1}&&(i.click(),t.data.preventDefault())}),t.unselectable()},this);var o=CKEDITOR.tools.extend({},e);delete o.style;var r=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,t,o,n,"a",null,{style:e.style,href:"javascript:void(0)",title:e.label,hidefocus:"true",class:e.class,role:"button","aria-labelledby":r},'<span id="'+r+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(e.label)+"</span>")}},select:function(a,s,t){if(!(arguments.length<3)){var l=c.call(this,s);s.validate&&(this.validate=s.validate),l.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,a,s,t,function(){var t=CKEDITOR.tools.extend({},s,{id:s.id?s.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),e=[],n=[],i={id:l.inputId,class:"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};e.push('<div class="cke_dialog_ui_input_',s.type,'" role="presentation"'),s.width&&e.push('style="width:'+s.width+'" '),e.push(">"),void 0!==s.size&&(i.size=s.size),void 0!==s.multiple&&(i.multiple=s.multiple),g(t);for(var o,r=0;r<s.items.length&&(o=s.items[r]);r++)n.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==o[1]?o[1]:o[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(o[0]));return void 0!==t.inputStyle&&(t.style=t.inputStyle),l.select=new CKEDITOR.ui.dialog.uiElement(a,t,e,"select",null,i,n.join("")),e.push("</div>"),e.join("")})}},file:function(t,e,n){if(!(arguments.length<3)){void 0===e.default&&(e.default="");var i=CKEDITOR.tools.extend(c.call(this,e),{definition:e,buttons:[]});e.validate&&(this.validate=e.validate),t.on("load",function(){CKEDITOR.document.getById(i.frameId).getParent().addClass("cke_dialog_ui_input_file")}),CKEDITOR.ui.dialog.labeledElement.call(this,t,e,n,function(){i.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var t=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',i.frameId,'" title="',e.label,'" src="javascript:void('];return t.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),t.push(')"></iframe>'),t.join("")})}},fileButton:function(n,i,t){var e=this;if(!(arguments.length<3)){c.call(this,i),i.validate&&(this.validate=i.validate);var o=CKEDITOR.tools.extend({},i),r=o.onClick;o.className=(o.className?o.className+" ":"")+"cke_dialog_ui_button",o.onClick=function(t){var e=i.for;r&&!1===r.call(this,t)||(n.getContentElement(e[0],e[1]).submit(),this.disable())},n.on("load",function(){n.getContentElement(i.for[0],i.for[1])._.buttons.push(e)}),CKEDITOR.ui.dialog.button.call(this,n,o,t)}},html:(l=/^\s*<[\w:]+\s+([^>]*)?>/,u=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,d=/\/$/,function(t,e,n){if(!(arguments.length<3)){var i=[],o=e.html;"<"!=o.charAt(0)&&(o="<span>"+o+"</span>");var r=e.focus;if(r){var a=this.focus;this.focus=function(){("function"==typeof r?r:a).call(this),this.fire("focus")},e.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,t,e,i,"span",null,null,""),i=i.join("").match(l),o=o.match(u)||["","",""],d.test(o[1])&&(o[1]=o[1].slice(0,-1),o[2]="/"+o[2]),n.push([o[1]," ",i[1]||"",o[2]].join(""))}}),fieldset:function(t,e,n,i,o){var r=o.label;this._={children:e},CKEDITOR.ui.dialog.uiElement.call(this,t,o,i,"fieldset",null,null,function(){var t=[];r&&t.push("<legend"+(o.labelStyle?' style="'+o.labelStyle+'"':"")+">"+r+"</legend>");for(var e=0;e<n.length;e++)t.push(n[e]);return t.join("")})}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(t){var e=CKEDITOR.document.getById(this._.labelId);return e.getChildCount()<1?new CKEDITOR.dom.text(t,CKEDITOR.document).appendTo(e):e.getChild(0).$.nodeValue=t,this},getLabel:function(){var t=CKEDITOR.document.getById(this._.labelId);return!t||t.getChildCount()<1?"":t.getChild(0).getText()},eventProcessors:i},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled&&this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var t=this.getElement();t&&t.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(t,e){this.on("click",function(){e.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&t.$.focus()},0)},select:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&(t.$.focus(),t.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(t){if(this.bidi){var e=t&&t.charAt(0);(e=""==e?"ltr":""==e?"rtl":null)&&(t=t.slice(1)),this.setDirectionMarker(e)}return t=t||"",CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var t=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&t){var e=this.getDirectionMarker();e&&(t=("ltr"==e?"":"")+t)}return t},setDirectionMarker:function(t){var e=this.getInputElement();t?e.setAttributes({dir:t,"data-cke-dir-marker":t}):this.getDirectionMarker()&&e.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(t,e,n){var i=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),o=this.getInputElement().$;return i.$.text=t,i.$.value=null==e?t:e,null==n?CKEDITOR.env.ie?o.add(i.$):o.add(i.$,null):o.add(i.$,n),this},remove:function(t){return this.getInputElement().$.remove(t),this},clear:function(){for(var t=this.getInputElement().$;0<t.length;)t.remove(0);return this},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(t,e){this.getInputElement().$.checked=t,e||this.fire("change",{value:t})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?i.onChange.apply(this,arguments):(t.on("load",function(){var e=this._.checkbox.getElement();e.on("propertychange",function(t){"checked"==(t=t.data.$).propertyName&&this.fire("change",{value:e.$.checked})},this)},this),this.on("change",e),null)}},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(t,e){for(var n,i=this._.children,o=0;o<i.length&&(n=i[o]);o++)n.getElement().$.checked=n.getValue()==t;e||this.fire("change",{value:t})},getValue:function(){for(var t=this._.children,e=0;e<t.length;e++)if(t[e].getElement().$.checked)return t[e].getValue();return null},accessKeyUp:function(){var t,e=this._.children;for(t=0;t<e.length;t++)if(e[t].getElement().$.checked)return void e[t].getElement().focus();e[0].getElement().focus()},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?i.onChange.apply(this,arguments):(t.on("load",function(){for(var t=this._.children,e=this,n=0;n<t.length;n++)t[n].getElement().on("propertychange",function(t){"checked"==(t=t.data.$).propertyName&&this.$.checked&&e.fire("change",{value:this.getAttribute("value")})})},this),this.on("change",e),null)}}},n,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,n,{getInputElement:function(){var t=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<t.$.forms.length?new CKEDITOR.dom.element(t.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(t){function e(t,e,n,i){t.on("formLoaded",function(){t.getInputElement().on(n,i,t)})}var n,i,o=/^on([A-Z]\w+)/;for(i in t)(n=i.match(o))&&(this.eventProcessors[i]?this.eventProcessors[i].call(this,this._.dialog,t[i]):e(this,this._.dialog,n[1].toLowerCase(),t[i]));return this},reset:function(){function t(){i.$.open();var t="";o.size&&(t=o.size-(CKEDITOR.env.ie?7:0));var e=n.frameId+"_input";for(i.$.write(['<html dir="'+l+'" lang="'+c+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+l+'" lang="'+c+'" action="',CKEDITOR.tools.htmlEncode(o.action),'"><label id="',n.labelId,'" for="',e,'" style="display:none">',CKEDITOR.tools.htmlEncode(o.label),'</label><input style="width:100%" id="',e,'" aria-labelledby="',n.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(o.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(0<t?t:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+a+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+s+")}","<\/script>"].join("")),i.$.close(),t=0;t<r.length;t++)r[t].enable()}var n=this._,i=CKEDITOR.document.getById(n.frameId).getFrameDocument(),o=n.definition,r=n.buttons,a=this.formLoadedNumber,s=this.formUnloadNumber,l=n.dialog._.editor.lang.dir,c=n.dialog._.editor.langCode;a||(a=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),s=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(a),CKEDITOR.tools.removeFunction(s)})),CKEDITOR.env.gecko?setTimeout(t,500):t()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(t,e){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",e)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",t),CKEDITOR.dialog.addUIElement("password",t),CKEDITOR.dialog.addUIElement("textarea",e),CKEDITOR.dialog.addUIElement("checkbox",e),CKEDITOR.dialog.addUIElement("radio",e),CKEDITOR.dialog.addUIElement("button",e),CKEDITOR.dialog.addUIElement("select",e),CKEDITOR.dialog.addUIElement("file",e),CKEDITOR.dialog.addUIElement("fileButton",e),CKEDITOR.dialog.addUIElement("html",e),CKEDITOR.dialog.addUIElement("fieldset",{build:function(t,e,n){for(var i,o=e.children,r=[],a=[],s=0;s<o.length&&(i=o[s]);s++){var l=[];r.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(t,i,l))}return new CKEDITOR.ui.dialog[e.type](t,a,r,n,e)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function m(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+t,n=e-1;e-t<n;n--)if(this._.tabs[this._.tabIdList[n%t]][0].$.offsetHeight)return this._.tabIdList[n%t];return null}function r(t,e){for(var n=t.$.getElementsByTagName("input"),i=0,o=n.length;i<o;i++){var r=new CKEDITOR.dom.element(n[i]);"text"==r.getAttribute("type").toLowerCase()&&(e?(r.setAttribute("value",r.getCustomData("fake_value")||""),r.removeCustomData("fake_value")):(r.setCustomData("fake_value",r.getAttribute("value")),r.setAttribute("value","")))}}function i(t,e,n){this.element=e,this.focusIndex=n,this.tabIndex=0,this.isFocusable=function(){return!e.getAttribute("disabled")&&e.isVisible()},this.focus=function(){t._.currentFocusIndex=this.focusIndex,this.element.focus()},e.on("keydown",function(t){t.data.getKeystroke()in{32:1,13:1}&&this.fire("click")}),e.on("focus",function(){this.fire("mouseover")}),e.on("blur",function(){this.fire("mouseout")})}function a(t,e){this._={dialog:t},CKEDITOR.tools.extend(this,e)}function c(t){t.data.preventDefault(1)}function l(t){var n=CKEDITOR.document.getWindow(),e=t.config,i=CKEDITOR.skinName||t.config.skin,o=e.dialog_backgroundCoverColor||("moono-lisa"==i?"black":"white"),r=(i=e.dialog_backgroundCoverOpacity,e.baseFloatZIndex),a=(e=CKEDITOR.tools.genKey(o,i,r),D[e]);a?a.show():(r=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",r,"; top: 0px; left: 0px; ",CKEDITOR.env.ie6Compat?"":"background-color: "+o,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(o="<html><body style=\\'background-color:"+o+";\\'></body></html>",r.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),r.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+o+"' );document.close();")+"})())"),r.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),r.push("</div>"),(a=CKEDITOR.dom.element.createFromHtml(r.join(""))).setOpacity(void 0!==i?i:.5),a.on("keydown",c),a.on("keypress",c),a.on("keyup",c),a.appendTo(CKEDITOR.document.getBody()),D[e]=a),t.focusManager.add(a),_=a;function s(){var t=n.getScrollPosition(),e=CKEDITOR.dialog._.currentTop;if(a.setStyles({left:t.x+"px",top:t.y+"px"}),e)for(;t=e.getPosition(),e.move(t.x,t.y),e=e._.parentDialog;);}if(p=t=function(){var t=n.getViewPaneSize();a.setStyles({width:t.width+"px",height:t.height+"px"})},n.on("resize",t),t(),CKEDITOR.env.mac&&CKEDITOR.env.webkit||a.focus(),CKEDITOR.env.ie6Compat){function l(){s(),arguments.callee.prevScrollHandler.apply(this,arguments)}n.$.setTimeout(function(){l.prevScrollHandler=window.onscroll||function(){},window.onscroll=l},0),s()}}function o(t){_&&(t.focusManager.remove(_),t=CKEDITOR.document.getWindow(),_.hide(),t.removeListener("resize",p),CKEDITOR.env.ie6Compat&&t.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),p=null)}var u=CKEDITOR.tools.cssLength,v='<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';function t(t){t.reset&&t.reset(1)}function n(t,e){return e=e||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:t.lang.common.cancel,class:"cke_dialog_ui_button_cancel",onClick:function(t){!1!==(t=t.data.dialog).fire("cancel",{hide:!0}).hide&&t.hide()}},e,!0)}function s(t,e){return e=e||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:t.lang.common.ok,class:"cke_dialog_ui_button_ok",onClick:function(t){!1!==(t=t.data.dialog).fire("ok",{hide:!0}).hide&&t.hide()}},e,!0)}CKEDITOR.dialog=function(i,t){function o(t){var e=p._.focusList;if(t=t||0,!(e.length<1)){var n=p._.currentFocusIndex;p._.tabBarMode&&t<0&&(n=0);try{e[n].getInputElement().$.blur()}catch(t){}var i=n,o=1<p._.pageCount;do{if(i+=t,o&&!p._.tabBarMode&&(i==e.length||-1==i))return p._.tabBarMode=!0,p._.tabs[p._.currentTabId][0].focus(),void(p._.currentFocusIndex=-1);if((i=(i+e.length)%e.length)==n)break}while(t&&!e[i].isFocusable());e[i].focus(),"text"==e[i].type&&e[i].select()}}function e(t){if(p==CKEDITOR.dialog._.currentTop){var e=t.data.getKeystroke(),n="rtl"==i.lang.dir;if(a=s=0,9==e||e==CKEDITOR.SHIFT+9)o(e==CKEDITOR.SHIFT+9?-1:1),a=1;else if(e==CKEDITOR.ALT+121&&!p._.tabBarMode&&1<p.getPageCount())p._.tabBarMode=!0,p._.tabs[p._.currentTabId][0].focus(),p._.currentFocusIndex=-1,a=1;else if(-1!=CKEDITOR.tools.indexOf([37,38,39,40],e)&&p._.tabBarMode)e=-1!=CKEDITOR.tools.indexOf([n?39:37,38],e)?m.call(p):function(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),n=e+1;n<e+t;n++)if(this._.tabs[this._.tabIdList[n%t]][0].$.offsetHeight)return this._.tabIdList[n%t];return null}.call(p),p.selectPage(e),p._.tabs[e][0].focus(),a=1;else if(13!=e&&32!=e||!p._.tabBarMode)if(13==e)(e=t.data.getTarget()).is("a","button","select","textarea")||e.is("input")&&"button"==e.$.type||((e=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(e.click,0,e),a=1),s=1;else{if(27!=e)return;(e=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(e.click,0,e):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),s=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,o(1),a=1;r(t)}}function r(t){a?t.data.preventDefault(1):s&&t.data.stopPropagation()}var a,s,n=CKEDITOR.dialog._.dialogDefinitions[t],l=CKEDITOR.tools.clone(y),c=i.config.dialog_buttonsOrder||"OS",u=i.lang.dir,d={};if(("OS"==c&&CKEDITOR.env.mac||"rtl"==c&&"ltr"==u||"ltr"==c&&"rtl"==u)&&l.buttons.reverse(),n=CKEDITOR.tools.extend(n(i),l),n=CKEDITOR.tools.clone(n),n=new b(this,n),l=function(t){var e=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",v).output({id:CKEDITOR.tools.getNextNumber(),editorId:t.id,langDir:t.lang.dir,langCode:t.langCode,editorDialogClass:"cke_editor_"+t.name.replace(/\./g,"\\.")+"_dialog",closeTitle:t.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),n=e.getChild([0,0,0,0,0]),i=n.getChild(0),o=n.getChild(1);return t.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(n),!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(t="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+t+'" tabIndex="-1"></iframe>').appendTo(n.getParent())),i.unselectable(),o.unselectable(),{element:e,parts:{dialog:e.getChild(0),title:i,close:o,tabs:n.getChild(2),contents:n.getChild([3,0,0,0]),footer:n.getChild([3,0,1,0])}}}(i),this._={editor:i,element:l.element,name:t,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=l.parts,CKEDITOR.tools.setTimeout(function(){i.fire("ariaWidget",this.parts.contents)},0,this),(l={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"})["rtl"==u?"right":"left"]=0,this.parts.dialog.setStyles(l),CKEDITOR.event.call(this),this.definition=n=CKEDITOR.fire("dialogDefinition",{name:t,definition:n},i).definition,!("removeDialogTabs"in i._)&&i.config.removeDialogTabs){for(l=i.config.removeDialogTabs.split(";"),u=0;u<l.length;u++)if(2==(c=l[u].split(":")).length){var h=c[0];d[h]||(d[h]=[]),d[h].push(c[1])}i._.removeDialogTabs=d}if(i._.removeDialogTabs&&(d=i._.removeDialogTabs[t]))for(u=0;u<d.length;u++)n.removeContents(d[u]);n.onLoad&&this.on("load",n.onLoad),n.onShow&&this.on("show",n.onShow),n.onHide&&this.on("hide",n.onHide),n.onOk&&this.on("ok",function(t){i.fire("saveSnapshot"),setTimeout(function(){i.fire("saveSnapshot")},0),!1===n.onOk.call(this,t)&&(t.data.hide=!1)}),this.state=CKEDITOR.DIALOG_STATE_IDLE,n.onCancel&&this.on("cancel",function(t){!1===n.onCancel.call(this,t)&&(t.data.hide=!1)});function f(t){var e,n=p._.contents;for(e in n)for(var i in n[e])if(t.call(this,n[e][i]))return}var p=this;this.on("ok",function(i){f(function(t){if(t.validate){var e=t.validate(this),n="string"==typeof e||!1===e;return n&&(i.data.hide=!1,i.stop()),function(t,e){var n=this.getInputElement();n&&(t?n.removeAttribute("aria-invalid"):n.setAttribute("aria-invalid",!0)),t||(this.select?this.select():this.focus()),e&&alert(e),this.fire("validated",{valid:t,msg:e})}.call(t,!n,"string"==typeof e?e:void 0),n}})},this,null,0),this.on("cancel",function(e){f(function(t){if(t.isChanged())return i.config.dialog_noConfirmCancel||confirm(i.lang.common.confirmCancel)||(e.data.hide=!1),!0})},this,null,0),this.parts.close.on("click",function(t){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),t.data.preventDefault()},this),this.changeFocus=o;var g=this._.element;for(i.focusManager.add(g,1),this.on("show",function(){g.on("keydown",e,this),CKEDITOR.env.gecko&&g.on("keypress",r,this)}),this.on("hide",function(){g.removeListener("keydown",e),CKEDITOR.env.gecko&&g.removeListener("keypress",r),f(function(t){(function(){var t=this.getInputElement();t&&t.removeAttribute("aria-invalid")}).apply(t)})}),this.on("iframeAdded",function(t){new CKEDITOR.dom.document(t.data.iframe.$.contentWindow.document).on("keydown",e,this,null,0)}),this.on("show",function(){!function(){var t=p._.focusList;t.sort(function(t,e){return t.tabIndex!=e.tabIndex?e.tabIndex-t.tabIndex:t.focusIndex-e.focusIndex});for(var e=t.length,n=0;n<e;n++)t[n].focusIndex=n}();var t=1<p._.pageCount;i.config.dialog_startupFocusTab&&t?(p._.tabBarMode=!0,p._.tabs[p._.currentTabId][0].focus(),p._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=t?-1:this._.focusList.length-1,n.onFocus?(t=n.onFocus.call(this))&&t.focus():o(1))},this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",function(){var t=this.getElement(),e=t.getFirst();e.remove(),e.appendTo(t)},this),function(s){function n(t){var e=s.getSize(),n=CKEDITOR.document.getWindow().getViewPaneSize(),i=t.data.$.screenX,o=t.data.$.screenY,r=i-l.x,a=o-l.y;l={x:i,y:o},c.x+=r,c.y+=a,s.move(c.x+h[3]<d?-h[3]:c.x-h[1]>n.width-e.width-d?n.width-e.width+("rtl"==u.lang.dir?0:h[1]):c.x,c.y+h[0]<d?-h[0]:c.y-h[2]>n.height-e.height-d?n.height-e.height+h[2]:c.y,1),t.data.preventDefault()}function i(){if(CKEDITOR.document.removeListener("mousemove",n),CKEDITOR.document.removeListener("mouseup",i),CKEDITOR.env.ie6Compat){var t=_.getChild(0).getFrameDocument();t.removeListener("mousemove",n),t.removeListener("mouseup",i)}}var l=null,c=null,u=s.getParentEditor(),d=u.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];void 0===d&&(d=20),s.parts.title.on("mousedown",function(t){if(l={x:t.data.$.screenX,y:t.data.$.screenY},CKEDITOR.document.on("mousemove",n),CKEDITOR.document.on("mouseup",i),c=s.getPosition(),CKEDITOR.env.ie6Compat){var e=_.getChild(0).getFrameDocument();e.on("mousemove",n),e.on("mouseup",i)}t.data.preventDefault()},s)}(this),function(l){function n(t){var e="rtl"==m.lang.dir,n=g.width,i=g.height,o=n+(t.data.$.screenX-p.x)*(e?-1:1)*(l._.moved?1:2),r=i+(t.data.$.screenY-p.y)*(l._.moved?1:2),a=l._.element.getFirst(),s=(a=e&&a.getComputedStyle("right"),l.getPosition());s.y+r>f.height&&(r=f.height-s.y),(e?a:s.x)+o>f.width&&(o=f.width-(e?a:s.x)),u!=CKEDITOR.DIALOG_RESIZE_WIDTH&&u!=CKEDITOR.DIALOG_RESIZE_BOTH||(n=Math.max(c.minWidth||0,o-d)),u!=CKEDITOR.DIALOG_RESIZE_HEIGHT&&u!=CKEDITOR.DIALOG_RESIZE_BOTH||(i=Math.max(c.minHeight||0,r-h)),l.resize(n,i),l._.moved||l.layout(),t.data.preventDefault()}function i(){if(CKEDITOR.document.removeListener("mouseup",i),CKEDITOR.document.removeListener("mousemove",n),o&&(o.remove(),o=null),CKEDITOR.env.ie6Compat){var t=_.getChild(0).getFrameDocument();t.removeListener("mouseup",i),t.removeListener("mousemove",n)}}var c=l.definition,u=c.resizable;if(u!=CKEDITOR.DIALOG_RESIZE_NONE){var d,h,f,p,g,o,m=l.getParentEditor(),e=CKEDITOR.tools.addFunction(function(t){g=l.getSize();var e=l.parts.contents;e.$.getElementsByTagName("iframe").length&&(o=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'),e.append(o)),h=g.height-l.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks)),d=g.width-l.parts.contents.getSize("width",1),p={x:t.screenX,y:t.screenY},f=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",n),CKEDITOR.document.on("mouseup",i),CKEDITOR.env.ie6Compat&&((e=_.getChild(0).getFrameDocument()).on("mousemove",n),e.on("mouseup",i)),t.preventDefault&&t.preventDefault()});l.on("load",function(){var t="";u==CKEDITOR.DIALOG_RESIZE_WIDTH?t=" cke_resizer_horizontal":u==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(t=" cke_resizer_vertical"),t=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+t+" cke_resizer_"+m.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(m.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+e+', event )">'+("ltr"==m.lang.dir?"":"")+"</div>"),l.parts.footer.append(t,1)}),m.on("destroy",function(){CKEDITOR.tools.removeFunction(e)})}}(this),new CKEDITOR.dom.text(n.title,CKEDITOR.document).appendTo(this.parts.title),u=0;u<n.contents.length;u++)(d=n.contents[u])&&this.addPage(d);for(this.parts.tabs.on("click",function(t){var e=t.data.getTarget();e.hasClass("cke_dialog_tab")&&(e=e.$.id,this.selectPage(e.substring(4,e.lastIndexOf("_"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,o(1)),t.data.preventDefault())},this),u=[],d=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:n.buttons},u).getChild(),this.parts.footer.setHtml(u.join("")),u=0;u<d.length;u++)this._.buttons[d[u].id]=d[u]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(t,e){this._.contentSize&&this._.contentSize.width==t&&this._.contentSize.height==e||(CKEDITOR.dialog.fire("resize",{dialog:this,width:t,height:e},this._.editor),this.fire("resize",{width:t,height:e},this._.editor),this.parts.contents.setStyles({width:t+"px",height:e+"px"}),"rtl"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)),this._.contentSize={width:t,height:e})},getSize:function(){var t=this._.element.getFirst();return{width:t.$.offsetWidth||0,height:t.$.offsetHeight||0}},move:function(t,e,n){var i=this._.element.getFirst(),o="rtl"==this._.editor.lang.dir,r="fixed"==i.getComputedStyle("position");CKEDITOR.env.ie&&i.setStyle("zoom","100%"),r&&this._.position&&this._.position.x==t&&this._.position.y==e||(this._.position={x:t,y:e},r||(t+=(r=CKEDITOR.document.getWindow().getScrollPosition()).x,e+=r.y),o&&(r=this.getSize(),t=CKEDITOR.document.getWindow().getViewPaneSize().width-r.width-t),(e={top:(0<e?e:0)+"px"})[o?"right":"left"]=(0<t?t:0)+"px",i.setStyles(e),n&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var t=this._.element,e=this.definition;for(var n in t.getParent()&&t.getParent().equals(CKEDITOR.document.getBody())?t.setStyle("display","block"):t.appendTo(CKEDITOR.document.getBody()),this.resize(this._.contentSize&&this._.contentSize.width||e.width||e.minWidth,this._.contentSize&&this._.contentSize.height||e.height||e.minHeight),this.reset(),null===this._.currentTabId&&this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10),null===CKEDITOR.dialog._.currentTop?((CKEDITOR.dialog._.currentTop=this)._.parentDialog=null,l(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this),t.on("keydown",I),t.on("keyup",k),this._.hasFocus=!1,e.contents)if(e.contents[n]){t=e.contents[n];var i=this._.tabs[t.id],o=t.requiredContent,r=0;if(i){for(var a in this._.contents[t.id]){var s=this._.contents[t.id][a];"hbox"!=s.type&&"vbox"!=s.type&&s.getInputElement()&&(s.requiredContent&&!this._.editor.activeFilter.check(s.requiredContent)?s.disable():(s.enable(),r++))}!r||o&&!this._.editor.activeFilter.check(o)?i[0].addClass("cke_dialog_tab_disabled"):i[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout(),function(t){function e(){t.layout()}var n=CKEDITOR.document.getWindow();n.on("resize",e),t.on("hide",function(){n.removeListener("resize",e)})}(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach(function(t){t.setInitValue&&t.setInitValue()})},100,this)},layout:function(){var t=this.parts.dialog,e=this.getSize(),n=CKEDITOR.document.getWindow().getViewPaneSize(),i=(n.width-e.width)/2,o=(n.height-e.height)/2;CKEDITOR.env.ie6Compat||(e.height+(0<o?o:0)>n.height||e.width+(0<i?i:0)>n.width?t.setStyle("position","absolute"):t.setStyle("position","fixed")),this.move(this._.moved?this._.position.x:i,this._.moved?this._.position.y:o)},foreach:function(t){for(var e in this._.contents)for(var n in this._.contents[e])t.call(this,this._.contents[e][n]);return this},reset:function(){return this.foreach(t),this},setupContent:function(){var e=arguments;this.foreach(function(t){t.setup&&t.setup.apply(t,e)})},commitContent:function(){var e=arguments;this.foreach(function(t){CKEDITOR.env.ie&&this._.currentFocusIndex==t.focusIndex&&t.getInputElement().$.blur(),t.commit&&t.commit.apply(t,e)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var t=this._.element;for(t.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),R(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var e=this._.parentDialog.getElement().getFirst();e.setStyle("z-index",parseInt(e.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else o(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null,t.removeListener("keydown",I),t.removeListener("keyup",k);var n=this._.editor;n.focus(),setTimeout(function(){n.focusManager.unlock(),CKEDITOR.env.iOS&&n.window.focus()},0)}delete this._.parentDialog,this.foreach(function(t){t.resetInitValue&&t.resetInitValue()}),this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(t){if(!t.requiredContent||this._.editor.filter.check(t.requiredContent)){for(var e=[],n=t.label?' title="'+CKEDITOR.tools.htmlEncode(t.label)+'"':"",i=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:t.elements,expand:!!t.expand,padding:t.padding,style:t.style||"width: 100%;"},e),o=this._.contents[t.id]={},r=i.getChild(),a=0;i=r.shift();)i.notAllowed||"hbox"==i.type||"vbox"==i.type||a++,"function"==typeof(o[i.id]=i).getChild&&r.push.apply(r,i.getChild());a||(t.hidden=!0),(e=CKEDITOR.dom.element.createFromHtml(e.join(""))).setAttribute("role","tabpanel"),i=CKEDITOR.env,o="cke_"+t.id+"_"+CKEDITOR.tools.getNextNumber(),n=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",n,t.hidden?' style="display:none"':"",' id="',o,'"',i.gecko&&!i.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',t.label,"</a>"].join("")),e.setAttribute("aria-labelledby",o),this._.tabs[t.id]=[n,e],this._.tabIdList.push(t.id),t.hidden||this._.pageCount++,this._.lastTab=n,this.updateStyle(),e.setAttribute("name",t.id),e.appendTo(this.parts.contents),n.unselectable(),this.parts.tabs.append(n),t.accessKey&&(S(this,this,"CTRL+"+t.accessKey,M,A),this._.accessKeyMap["CTRL+"+t.accessKey]=t.id)}},selectPage:function(t){if(this._.currentTabId!=t&&!this._.tabs[t][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:t,currentPage:this._.currentTabId})){for(var e in this._.tabs){var n=this._.tabs[e][0],i=this._.tabs[e][1];e!=t&&(n.removeClass("cke_dialog_tab_selected"),i.hide()),i.setAttribute("aria-hidden",e!=t)}var o=this._.tabs[t];o[0].addClass("cke_dialog_tab_selected"),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(r(o[1]),o[1].show(),setTimeout(function(){r(o[1],1)},0)):o[1].show(),this._.currentTabId=t,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,t)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(t){var e=this._.tabs[t]&&this._.tabs[t][0];e&&1!=this._.pageCount&&e.isVisible()&&(t==this._.currentTabId&&this.selectPage(m.call(this)),e.hide(),this._.pageCount--,this.updateStyle())},showPage:function(t){(t=this._.tabs[t]&&this._.tabs[t][0])&&(t.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(t,e){var n=this._.contents[t];return n&&n[e]},getValueOf:function(t,e){return this.getContentElement(t,e).getValue()},setValueOf:function(t,e,n){return this.getContentElement(t,e).setValue(n)},getButton:function(t){return this._.buttons[t]},click:function(t){return this._.buttons[t].click()},disableButton:function(t){return this._.buttons[t].disable()},enableButton:function(t){return this._.buttons[t].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(t,e){if(void 0===e)e=this._.focusList.length,this._.focusList.push(new i(this,t,e));else{this._.focusList.splice(e,0,new i(this,t,e));for(var n=e+1;n<this._.focusList.length;n++)this._.focusList[n].focusIndex++}},setState:function(t){if(this.state!=t){if((this.state=t)==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var e=this.getParentEditor().lang.dir,n={attributes:{class:"cke_dialog_spinner"},styles:{float:"rtl"==e?"right":"left"}};n.styles["margin-"+("rtl"==e?"left":"right")]="8px",this.parts.spinner=CKEDITOR.document.createElement("div",n),this.parts.spinner.setHtml("&#8987;"),this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show(),this.getButton("ok").disable()}else t==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok").enable());this.fire("state",t)}}},CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(t,e){this._.dialogDefinitions[t]&&"function"!=typeof e||(this._.dialogDefinitions[t]=e)},exists:function(t){return!!this._.dialogDefinitions[t]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(t,e,n){return!((t=t.config.removeDialogTabs)&&t.match(new RegExp("(?:^|;)"+e+":"+n+"(?:$|;)","i")))},okButton:(s.type="button",s.override=function(e){return CKEDITOR.tools.extend(function(t){return s(t,e)},{type:"button"},!0)},s),cancelButton:(n.type="button",n.override=function(e){return CKEDITOR.tools.extend(function(t){return n(t,e)},{type:"button"},!0)},n),addUIElement:function(t,e){this._.uiElementBuilders[t]=e}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var y={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},d=function(t,e,n){for(var i,o=0;i=t[o];o++)if(i.id==e||n&&i[n]&&(i=d(i[n],e,n)))return i;return null},h=function(t,e,n,i,o){if(n){for(var r,a=0;r=t[a];a++){if(r.id==n)return t.splice(a,0,e),e;if(i&&r[i]&&(r=h(r[i],e,n,i,!0)))return r}if(o)return null}return t.push(e),e},f=function(t,e,n){for(var i,o=0;i=t[o];o++){if(i.id==e)return t.splice(o,1);if(n&&i[n]&&(i=f(i[n],e,n)))return i}return null},b=function(t,e){this.dialog=t;for(var n,i=e.contents,o=0;n=i[o];o++)i[o]=n&&new a(t,n);CKEDITOR.tools.extend(this,e)};b.prototype={getContents:function(t){return d(this.contents,t)},getButton:function(t){return d(this.buttons,t)},addContents:function(t,e){return h(this.contents,t,e)},addButton:function(t,e){return h(this.buttons,t,e)},removeContents:function(t){f(this.contents,t)},removeButton:function(t){f(this.buttons,t)}},a.prototype={get:function(t){return d(this.elements,t,"children")},add:function(t,e){return h(this.elements,t,e,"children")},remove:function(t){f(this.elements,t,"children")}};var p,_,e,g,E,w,T,C,x,D={},O={},I=function(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,n=t.data.$.altKey,i=t.data.$.shiftKey,o=String.fromCharCode(t.data.$.keyCode);(e=O[(e?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&e.length&&((e=e[e.length-1]).keydown&&e.keydown.call(e.uiElement,e.dialog,e.key),t.data.preventDefault())},k=function(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,n=t.data.$.altKey,i=t.data.$.shiftKey,o=String.fromCharCode(t.data.$.keyCode);(e=O[(e?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&e.length&&((e=e[e.length-1]).keyup&&(e.keyup.call(e.uiElement,e.dialog,e.key),t.data.preventDefault()))},S=function(t,e,n,i,o){(O[n]||(O[n]=[])).push({uiElement:t,dialog:e,key:n,keyup:o||t.accessKeyUp,keydown:i||t.accessKeyDown})},R=function(t){for(var e in O){for(var n=O[e],i=n.length-1;0<=i;i--)n[i].dialog!=t&&n[i].uiElement!=t||n.splice(i,1);0===n.length&&delete O[e]}},A=function(t,e){t._.accessKeyMap[e]&&t.selectPage(t._.accessKeyMap[e])},M=function(){};CKEDITOR.ui.dialog={uiElement:function(n,i,t,e,o,r,a){if(!(arguments.length<4)){var s=(e.call?e(i):e)||"div",l=["<",s," "],c=(o&&o.call?o(i):o)||{},u=(r&&r.call?r(i):r)||{},d=(a&&a.call?a.call(this,n,i):a)||"",h=this.domId=u.id||CKEDITOR.tools.getNextId()+"_uiElement";i.requiredContent&&!n.getParentEditor().filter.check(i.requiredContent)&&(c.display="none",this.notAllowed=!0),u.id=h;var f={};i.type&&(f["cke_dialog_ui_"+i.type]=1),i.className&&(f[i.className]=1),i.disabled&&(f.cke_disabled=1);var p=u.class&&u.class.split?u.class.split(" "):[];for(h=0;h<p.length;h++)p[h]&&(f[p[h]]=1);for(h in p=[],f)p.push(h);for(h in u.class=p.join(" "),i.title&&(u.title=i.title),f=(i.style||"").split(";"),i.align&&(p=i.align,c["margin-left"]="left"==p?0:"auto",c["margin-right"]="right"==p?0:"auto"),c)f.push(h+":"+c[h]);for(i.hidden&&f.push("display:none"),h=f.length-1;0<=h;h--)""===f[h]&&f.splice(h,1);for(h in 0<f.length&&(u.style=(u.style?u.style+"; ":"")+f.join("; ")),u)l.push(h+'="'+CKEDITOR.tools.htmlEncode(u[h])+'" ');l.push(">",d,"</",s,">"),t.push(l.join("")),(this._||(this._={})).dialog=n,"boolean"==typeof i.isChanged&&(this.isChanged=function(){return i.isChanged}),"function"==typeof i.isChanged&&(this.isChanged=i.isChanged),"function"==typeof i.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(e){return function(t){e.call(this,i.setValue.call(this,t))}})),"function"==typeof i.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(t){return function(){return i.getValue.call(this,t.call(this))}})),CKEDITOR.event.implementOn(this),this.registerEvents(i),this.accessKeyUp&&this.accessKeyDown&&i.accessKey&&S(this,n,"CTRL+"+i.accessKey);var g=this;n.on("load",function(){var t=g.getInputElement();if(t){var e=g.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?"cke_dialog_ui_focused":"";t.on("focus",function(){n._.tabBarMode=!1,n._.hasFocus=!0,g.fire("focus"),e&&this.addClass(e)}),t.on("blur",function(){g.fire("blur"),e&&this.removeClass(e)})}}),CKEDITOR.tools.extend(this,i),this.keyboardFocusable&&(this.tabIndex=i.tabIndex||0,this.focusIndex=n._.focusList.push(this)-1,this.on("focus",function(){n._.currentFocusIndex=g.focusIndex}))}},hbox:function(t,e,i,n,o){if(!(arguments.length<4)){this._||(this._={});var r,a=this._.children=e,s=o&&o.widths||null,l=o&&o.height||null,c={role:"presentation"};o&&o.align&&(c.align=o.align),CKEDITOR.ui.dialog.uiElement.call(this,t,o||{type:"hbox"},n,"table",{},c,function(){var t=['<tbody><tr class="cke_dialog_ui_hbox">'];for(r=0;r<i.length;r++){var e="cke_dialog_ui_hbox_child",n=[];0===r&&(e="cke_dialog_ui_hbox_first"),r==i.length-1&&(e="cke_dialog_ui_hbox_last"),t.push('<td class="',e,'" role="presentation" '),s?s[r]&&n.push("width:"+u(s[r])):n.push("width:"+Math.floor(100/i.length)+"%"),l&&n.push("height:"+u(l)),o&&void 0!==o.padding&&n.push("padding:"+u(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a[r].align&&n.push("text-align:"+a[r].align),0<n.length&&t.push('style="'+n.join("; ")+'" '),t.push(">",i[r],"</td>")}return t.push("</tr></tbody>"),t.join("")})}},vbox:function(i,t,o,e,r){if(!(arguments.length<3)){this._||(this._={});var a=this._.children=t,s=r&&r.width||null,l=r&&r.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,i,r||{type:"vbox"},e,"div",null,{role:"presentation"},function(){var t=['<table role="presentation" cellspacing="0" border="0" '];t.push('style="'),r&&r.expand&&t.push("height:100%;"),t.push("width:"+u(s||"100%"),";"),CKEDITOR.env.webkit&&t.push("float:none;"),t.push('"'),t.push('align="',CKEDITOR.tools.htmlEncode(r&&r.align||("ltr"==i.getParentEditor().lang.dir?"left":"right")),'" '),t.push("><tbody>");for(var e=0;e<o.length;e++){var n=[];t.push('<tr><td role="presentation" '),s&&n.push("width:"+u(s||"100%")),l?n.push("height:"+u(l[e])):r&&r.expand&&n.push("height:"+Math.floor(100/o.length)+"%"),r&&void 0!==r.padding&&n.push("padding:"+u(r.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a[e].align&&n.push("text-align:"+a[e].align),0<n.length&&t.push('style="',n.join("; "),'" '),t.push(' class="cke_dialog_ui_vbox_child">',o[e],"</td></tr>")}return t.push("</tbody></table>"),t.join("")})}}},CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(t,e){return this.getInputElement().setValue(t),e||this.fire("change",{value:t}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var t=this.getInputElement();(t=t.getParent())&&-1==t.$.className.search("cke_dialog_page_contents"););return t&&(t=t.getAttribute("name"),this._.dialog._.currentTabId!=t&&this._.dialog.selectPage(t)),this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(t){function e(t,e,n,i){e.on("load",function(){t.getInputElement().on(n,i,t)})}var n,i,o=/^on([A-Z]\w+)/;for(i in t)(n=i.match(o))&&(this.eventProcessors[i]?this.eventProcessors[i].call(this,this._.dialog,t[i]):e(this,this._.dialog,n[1].toLowerCase(),t[i]));return this},eventProcessors:{onLoad:function(t,e){t.on("load",e,this)},onShow:function(t,e){t.on("show",e,this)},onHide:function(t,e){t.on("hide",e,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var t=this.getElement();this.getInputElement().setAttribute("disabled","true"),t.addClass("cke_disabled")},enable:function(){var t=this.getElement();this.getInputElement().removeAttribute("disabled"),t.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!(!this.isEnabled()||!this.isVisible())}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(t){return arguments.length<1?this._.children.concat():(t.splice||(t=[t]),t.length<2?this._.children[t[0]]:this._.children[t[0]]&&this._.children[t[0]].getChild?this._.children[t[0]].getChild(t.slice(1,t.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,e={build:function(t,e,n){for(var i,o=e.children,r=[],a=[],s=0;s<o.length&&(i=o[s]);s++){var l=[];r.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(t,i,l))}return new CKEDITOR.ui.dialog[e.type](t,a,r,n,e)}},CKEDITOR.dialog.addUIElement("hbox",e),CKEDITOR.dialog.addUIElement("vbox",e),CKEDITOR.dialogCommand=function(t,e){this.dialogName=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.dialogCommand.prototype={exec:function(t){var e=this.tabId;t.openDialog(this.dialogName,function(t){e&&t.selectPage(e)})},canUndo:!1,editorFocus:1},g=/^([a]|[^a])+$/,E=/^\d*$/,w=/^\d*(?:\.\d+)?$/,T=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,C=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,x=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/,CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var t,e,n=this&&this.getValue?this.getValue():a[0],i=CKEDITOR.VALIDATE_AND,o=[];for(e=0;e<a.length&&"function"==typeof a[e];e++)o.push(a[e]);e<a.length&&"string"==typeof a[e]&&(t=a[e],e++),e<a.length&&"number"==typeof a[e]&&(i=a[e]);var r=i==CKEDITOR.VALIDATE_AND;for(e=0;e<o.length;e++)r=i==CKEDITOR.VALIDATE_AND?r&&o[e](n):r||o[e](n);return!!r||t}},regex:function(e,n){return function(t){return t=this&&this.getValue?this.getValue():t,!!e.test(t)||n}},notEmpty:function(t){return this.regex(g,t)},integer:function(t){return this.regex(E,t)},number:function(t){return this.regex(w,t)},cssLength:function(t){return this.functions(function(t){return C.test(CKEDITOR.tools.trim(t))},t)},htmlLength:function(t){return this.functions(function(t){return T.test(CKEDITOR.tools.trim(t))},t)},inlineStyle:function(t){return this.functions(function(t){return x.test(CKEDITOR.tools.trim(t))},t)},equals:function(e,t){return this.functions(function(t){return t==e},t)},notEqual:function(e,t){return this.functions(function(t){return t!=e},t)}},CKEDITOR.on("instanceDestroyed",function(t){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var e;e=CKEDITOR.dialog._.currentTop;)e.hide();for(var n in D)D[n].remove();D={}}for(var i in t=t.editor._.storedDialogs)t[i].destroy()}),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(t,e){var n=null,i=CKEDITOR.dialog._.dialogDefinitions[t];if(null===CKEDITOR.dialog._.currentTop&&l(this),"function"==typeof i)n=(n=this._.storedDialogs||(this._.storedDialogs={}))[t]||(n[t]=new CKEDITOR.dialog(this,t)),e&&e.call(n,n),n.show();else{if("failed"==i)throw o(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+t+'" failed when loading definition.');"string"==typeof i&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(i),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[t]&&(CKEDITOR.dialog._.dialogDefinitions[t]="failed"),this.openDialog(t,e)},this,0,1)}return CKEDITOR.skin.loadPart("dialog"),n}})}(),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(e){e.on("doubleclick",function(t){t.data.dialog&&e.openDialog(t.data.dialog)},null,null,999)}}),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(t){var e=t.addCommand("about",new CKEDITOR.dialogCommand("about"));e.modes={wysiwyg:1,source:1},e.canUndo=!1,e.readOnly=1,t.ui.addButton&&t.ui.addButton("About",{label:t.lang.about.dlgTitle,command:"about",toolbar:"about"}),CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(e){var n=this;e.addCommand("a11yHelp",{exec:function(){var t=e.langCode;t=n.availableLangs[t]?t:n.availableLangs[t.replace(/-.*/,"")]?t.replace(/-.*/,""):"en",CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(n.path+"dialogs/lang/"+t+".js"),function(){e.lang.a11yhelp=n.langEntries[t],e.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),e.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),e.on("ariaEditorHelpLabel",function(t){t.data.label=e.lang.common.editorHelp})}}),CKEDITOR.plugins.add("basicstyles",{init:function(r){function t(t,e,n,i){if(i){i=new CKEDITOR.style(i);var o=s[n];o.unshift(i),r.attachStyleStateChange(i,function(t){r.readOnly||r.getCommand(n).setState(t)}),r.addCommand(n,new CKEDITOR.styleCommand(i,{contentForms:o})),r.ui.addButton&&r.ui.addButton(t,{label:e,command:n,toolbar:"basicstyles,"+(a+=10)})}}var a=0,s={bold:["strong","b",["span",function(t){return"bold"==(t=t.styles["font-weight"])||700<=+t}]],italic:["em","i",["span",function(t){return"italic"==t.styles["font-style"]}]],underline:["u",["span",function(t){return"underline"==t.styles["text-decoration"]}]],strike:["s","strike",["span",function(t){return"line-through"==t.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},e=r.config,n=r.lang.basicstyles;t("Bold",n.bold,"bold",e.coreStyles_bold),t("Italic",n.italic,"italic",e.coreStyles_italic),t("Underline",n.underline,"underline",e.coreStyles_underline),t("Strike",n.strike,"strike",e.coreStyles_strike),t("Subscript",n.subscript,"subscript",e.coreStyles_subscript),t("Superscript",n.superscript,"superscript",e.coreStyles_superscript),r.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},bt={exec:function(t){var e=t.getCommand("blockquote").state,n=t.getSelection(),i=n&&n.getRanges()[0];if(i){var o=n.createBookmarks();if(CKEDITOR.env.ie){var r,a=o[0].startNode,s=o[0].endNode;if(a&&"blockquote"==a.getParent().getName())for(r=a;r=r.getNext();)if(r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary()){a.move(r,!0);break}if(s&&"blockquote"==s.getParent().getName())for(r=s;r=r.getPrevious();)if(r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary()){s.move(r);break}}if((l=i.createIterator()).enlargeBr=t.config.enterMode!=CKEDITOR.ENTER_BR,e==CKEDITOR.TRISTATE_OFF){for(a=[];e=l.getNextParagraph();)a.push(e);for(a.length<1&&(e=t.document.createElement(t.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),s=o.shift(),i.insertNode(e),e.append(new CKEDITOR.dom.text("\ufeff",t.document)),i.moveToBookmark(s),i.selectNodeContents(e),i.collapse(!0),s=i.createBookmark(),a.push(e),o.unshift(s)),r=a[0].getParent(),i=[],s=0;s<a.length;s++)e=a[s],r=r.getCommonAncestor(e.getParent());for(e={table:1,tbody:1,tr:1,ol:1,ul:1};e[r.getName()];)r=r.getParent();for(s=null;0<a.length;){for(e=a.shift();!e.getParent().equals(r);)e=e.getParent();e.equals(s)||i.push(e),s=e}for(;0<i.length;)if("blockquote"==(e=i.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(t.document);e.getFirst();)s.append(e.getFirst().remove()),a.push(s.getLast());s.replace(e)}else a.push(e);for((i=t.document.createElement("blockquote")).insertBefore(a[0]);0<a.length;)e=a.shift(),i.append(e)}else if(e==CKEDITOR.TRISTATE_ON){for(s=[],r={};e=l.getNextParagraph();){for(a=i=null;e.getParent();){if("blockquote"==e.getParent().getName()){i=e.getParent(),a=e;break}e=e.getParent()}i&&a&&!a.getCustomData("blockquote_moveout")&&(s.push(a),CKEDITOR.dom.element.setMarker(r,a,"blockquote_moveout",!0))}for(CKEDITOR.dom.element.clearAllMarkers(r),e=[],a=[],r={};0<s.length;)i=(l=s.shift()).getParent(),l.getPrevious()?l.getNext()?(l.breakParent(l.getParent()),a.push(l.getNext())):l.remove().insertAfter(i):l.remove().insertBefore(i),i.getCustomData("blockquote_processed")||(a.push(i),CKEDITOR.dom.element.setMarker(r,i,"blockquote_processed",!0)),e.push(l);for(CKEDITOR.dom.element.clearAllMarkers(r),s=a.length-1;0<=s;s--){t:{for(var l=0,c=(r=i=a[s]).getChildCount(),u=void 0;l<c&&(u=r.getChild(l));l++)if(u.type==CKEDITOR.NODE_ELEMENT&&u.isBlockBoundary()){r=!1;break t}r=!0}r&&i.remove()}if(t.config.enterMode==CKEDITOR.ENTER_BR)for(i=!0;e.length;)if("div"==(l=e.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(t.document),!i||!l.getPrevious()||l.getPrevious().type==CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary()||s.append(t.document.createElement("br")),i=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(s);i&&s.append(t.document.createElement("br")),s.replace(l),i=!1}}n.selectBookmarks(o),t.focus()}},refresh:function(t,e){this.setState(t.elementPath(e.block||e.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"},CKEDITOR.plugins.add("blockquote",{init:function(t){t.blockless||(t.addCommand("blockquote",bt),t.ui.addButton&&t.ui.addButton("Blockquote",{label:t.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}}),CKEDITOR.plugins.add("notification",{init:function(r){r._.notificationArea=new Fe(r),r.showNotification=function(t,e,n){var i,o;return"progress"==e?i=n:o=n,(t=new CKEDITOR.plugins.notification(r,{message:t,type:e,progress:i,duration:o})).show(),t},r.on("key",function(t){if(27==t.data.keyCode){var e=r._.notificationArea.notifications;e.length&&(function(t){var e=new CKEDITOR.dom.element("div");e.setStyles({position:"fixed","margin-left":"-9999px"}),e.setAttributes({"aria-live":"assertive","aria-atomic":"true"}),e.setText(t),CKEDITOR.document.getBody().append(e),setTimeout(function(){e.remove()},100)}(r.lang.notification.closed),e[e.length-1].hide(),t.cancel())}})}}),Le.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(t){var e=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:t})&&(e=!1);var n=this.element,i=n.findOne(".cke_notification_message"),o=n.findOne(".cke_notification_progress"),r=t.type;n.removeAttribute("role"),t.progress&&"progress"!=this.type&&(r="progress"),r&&(n.removeClass(this._getClass()),n.removeAttribute("aria-label"),this.type=r,n.addClass(this._getClass()),n.setAttribute("aria-label",this.type),"progress"!=this.type||o?"progress"!=this.type&&o&&o.remove():(o=this._createProgressElement()).insertBefore(i)),void 0!==t.message&&(this.message=t.message,i.setHtml(this.message)),void 0!==t.progress&&(this.progress=t.progress,o&&o.setStyle("width",this._getPercentageProgress())),e&&t.important&&(n.setAttribute("role","alert"),this.isVisible()||this.area.add(this)),this.duration=t.duration,this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var t,e,n=this,i=this.editor.lang.common.close;return(t=new CKEDITOR.dom.element("div")).addClass("cke_notification"),t.addClass(this._getClass()),t.setAttributes({id:this.id,role:"alert","aria-label":this.type}),"progress"==this.type&&t.append(this._createProgressElement()),(e=new CKEDITOR.dom.element("p")).addClass("cke_notification_message"),e.setHtml(this.message),t.append(e),e=CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="'+i+'" role="button" tabindex="-1"><span class="cke_label">X</span></a>'),t.append(e),e.on("click",function(){n.editor.focus(),n.hide()}),t},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var t=new CKEDITOR.dom.element("span");return t.addClass("cke_notification_progress"),t.setStyle("width",this._getPercentageProgress()),t},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var t,e=this;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),"number"==typeof this.duration?t=this.duration:"info"!=this.type&&"success"!=this.type||(t="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5e3),t&&(e._hideTimeoutId=setTimeout(function(){e.hide()},t))}},Fe.prototype={add:function(t){this.notifications.push(t),this.element.append(t.element),1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners()),this._layout()},remove:function(t){var e=CKEDITOR.tools.indexOf(this.notifications,t);e<0||(this.notifications.splice(e,1),t.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var t=this.editor,e=t.config,n=new CKEDITOR.dom.element("div");return n.addClass("cke_notifications_area"),n.setAttribute("id","cke_notifications_area_"+t.name),n.setStyle("z-index",e.baseFloatZIndex-2),n},_attachListeners:function(){var t=CKEDITOR.document.getWindow(),e=this.editor;t.on("scroll",this._uiBuffer.input),t.on("resize",this._uiBuffer.input),e.on("change",this._changeBuffer.input),e.on("floatingSpaceLayout",this._layout,this,null,20),e.on("blur",this._layout,this,null,20)},_removeListeners:function(){var t=CKEDITOR.document.getWindow(),e=this.editor;t.removeListener("scroll",this._uiBuffer.input),t.removeListener("resize",this._uiBuffer.input),e.removeListener("change",this._changeBuffer.input),e.removeListener("floatingSpaceLayout",this._layout),e.removeListener("blur",this._layout)},_layout:function(){function t(){o.setStyle("left",g(m+a.width-c-u))}var e,n,i,o=this.element,r=this.editor,a=r.ui.contentsElement.getClientRect(),s=r.ui.contentsElement.getDocumentPosition(),l=o.getClientRect(),c=this._notificationWidth,u=this._notificationMargin,d=(i=CKEDITOR.document.getWindow()).getScrollPosition(),h=i.getViewPaneSize(),f=CKEDITOR.document.getBody(),p=f.getDocumentPosition(),g=CKEDITOR.tools.cssLength;c&&u||(i=this.element.getChild(0),c=this._notificationWidth=i.getClientRect().width,u=this._notificationMargin=parseInt(i.getComputedStyle("margin-left"),10)+parseInt(i.getComputedStyle("margin-right"),10)),r.toolbar&&(n=(e=r.ui.space("top")).getClientRect()),e&&e.isVisible()&&n.bottom>a.top&&n.bottom<a.bottom-l.height?o.setStyles({position:"fixed",top:g(n.bottom)}):0<a.top?o.setStyles({position:"absolute",top:g(s.y)}):s.y+a.height-l.height>d.y?o.setStyles({position:"fixed",top:0}):o.setStyles({position:"absolute",top:g(s.y+a.height-l.height)});var m="fixed"==o.getStyle("position")?a.left:"static"!=f.getComputedStyle("position")?s.x-p.x:s.x;a.width<c+u?s.x+c+u>d.x+h.width?t():o.setStyle("left",g(m)):s.x+c+u>d.x+h.width?o.setStyle("left",g(m)):s.x+a.width/2+c/2+u>d.x+h.width?o.setStyle("left",g(m-s.x+d.x+h.width-c-u)):a.left+a.width-c-u<0?t():a.left+a.width/2-c/2<0?o.setStyle("left",g(m-s.x+d.x)):o.setStyle("left",g(m+a.width/2-c/2-u/2))}},CKEDITOR.plugins.notification=Le,function(){var t='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');t=(t=t+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"')+'>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcut}</span>{arrowHtml}</a>';var m=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),v=CKEDITOR.addTemplate("button",t);CKEDITOR.plugins.add("button",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(e){CKEDITOR.tools.extend(this,e,{title:e.label,click:e.click||function(t){t.execCommand(e.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(t){return new CKEDITOR.ui.button(t)}},CKEDITOR.ui.button.prototype={render:function(i,t){function e(){var t=i.mode;t&&(t=this.modes[t]?void 0!==p[t]?p[t]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,t=i.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:t,this.setState(t),this.refresh&&this.refresh())}var n,o,r,a=CKEDITOR.env,s=this._.id=CKEDITOR.tools.getNextId(),l="",c=this.command;this._.editor=i;var u={id:s,button:this,editor:i,focus:function(){CKEDITOR.document.getById(s).focus()},execute:function(){this.button.click(i)},attach:function(t){this.button.attach(t)}},d=CKEDITOR.tools.addFunction(function(t){if(u.onkey)return t=new CKEDITOR.dom.event(t),!1!==u.onkey(u,t.getKeystroke())}),h=CKEDITOR.tools.addFunction(function(t){var e;return u.onfocus&&(e=!1!==u.onfocus(u,new CKEDITOR.dom.event(t))),e}),f=0;if(u.clickFn=n=CKEDITOR.tools.addFunction(function(){f&&(i.unlockSelection(1),f=0),u.execute(),a.iOS&&i.focus()}),this.modes){var p={};i.on("beforeModeUnload",function(){i.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(p[i.mode]=this._.state)},this),i.on("activeFilterChange",e,this),i.on("mode",e,this),this.readOnly||i.on("readOnly",e,this)}else(c=c&&i.getCommand(c))&&(c.on("state",function(){this.setState(c.state)},this),l+=c.state==CKEDITOR.TRISTATE_ON?"on":c.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");this.directional&&i.on("contentDirChanged",function(t){var e=CKEDITOR.document.getById(this._.id),n=e.getFirst();(t=t.data)!=i.lang.dir?e.addClass("cke_"+t):e.removeClass("cke_ltr").removeClass("cke_rtl"),n.setAttribute("style",CKEDITOR.skin.getIconStyle(g,"rtl"==t,this.icon,this.iconOffset))},this),c?(o=i.getCommandKeystroke(c))&&(r=CKEDITOR.tools.keystrokeToString(i.lang.common.keyboard,o)):l+="off";var g=o=this.name||this.command;return this.icon&&!/\./.test(this.icon)&&(g=this.icon,this.icon=null),l={id:s,name:o,iconName:g,label:this.label,cls:this.className||"",state:l,ariaDisabled:"disabled"==l?"true":"false",title:this.title+(r?" ("+r.display+")":""),ariaShortcut:r?i.lang.common.keyboardShortcut+" "+r.aria:"",titleJs:a.gecko&&!a.hc?"":(this.title||"").replace("'",""),hasArrow:this.hasArrow?"true":"false",keydownFn:d,focusFn:h,clickFn:n,style:CKEDITOR.skin.getIconStyle(g,"rtl"==i.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?m.output():""},v.output(l,t),this.onRender&&this.onRender(),u},setState:function(t){if(this._.state==t)return!1;this._.state=t;var e=CKEDITOR.document.getById(this._.id);return!!e&&(e.setState(t,"cke_button"),t==CKEDITOR.TRISTATE_DISABLED?e.setAttribute("aria-disabled",!0):e.removeAttribute("aria-disabled"),this.hasArrow?(t=t==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+"_label").setText(t)):t==CKEDITOR.TRISTATE_ON?e.setAttribute("aria-pressed",!0):e.removeAttribute("aria-pressed"),!0)},getState:function(){return this._.state},toFeature:function(t){if(this._.feature)return this._.feature;var e=this;return this.allowedContent||this.requiredContent||!this.command||(e=t.getCommand(this.command)||e),this._.feature=e}},CKEDITOR.ui.prototype.addButton=function(t,e){this.add(t,CKEDITOR.UI_BUTTON,e)}}(),function(){function T(s){function l(t,e){if(e.length){t.items?t.items.push(s.ui.create("-")):t.items=[];for(var n;n=e.shift();)n="string"==typeof n?n:n.name,i&&-1!=CKEDITOR.tools.indexOf(i,n)||(n=s.ui.create(n))&&s.addFeature(n)&&t.items.push(n)}}var i=(i=s.config.removeButtons)&&i.split(","),t=s.config.toolbar;return"string"==typeof t&&(t=s.config["toolbar_"+t]),s.toolbar=t?function(t){var e,n,i,o=[];for(e=0;e<t.length;++e)i={},"/"==(n=t[e])?o.push(n):CKEDITOR.tools.isArray(n)?(l(i,CKEDITOR.tools.clone(n)),o.push(i)):n.items&&(l(i,CKEDITOR.tools.clone(n.items)),i.name=n.name,o.push(i));return o}(t):function(){for(var t=function(){var t,e,n,i={};for(t in s.ui.items)e=s.ui.items[t],n=(n=e.toolbar||"others").split(","),e=n[0],n=parseInt(n[1]||-1,10),i[e]||(i[e]=[]),i[e].push({name:t,order:n});for(e in i)i[e]=i[e].sort(function(t,e){return t.order==e.order?0:e.order<0?-1:t.order<0?1:t.order<e.order?-1:1});return i}(),e=CKEDITOR.tools.clone(s.config.toolbarGroups)||c(s),n=0;n<e.length;n++){var i=e[n];if("/"!=i){"string"==typeof i&&(i=e[n]={name:i});var o,r=i.groups;if(r)for(var a=0;a<r.length;a++)(o=t[o=r[a]])&&l(i,o);(o=t[i.name])&&l(i,o)}}return e}()}function c(t){return t._.toolbarGroups||(t._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}function C(){this.toolbars=[],this.focusCommandExecuted=!1}C.prototype.focus=function(){for(var t,e=0;t=this.toolbars[e++];)for(var n,i=0;n=t.items[i++];)if(n.focus)return void n.focus()};var t={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(t){t.toolbox&&(t.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){t.toolbox.focus()},100):t.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(E){var a,w=function(t,e){var n,i=(o="rtl"==E.lang.dir)?37:39,o=o?39:37,r=void 0===(r=E.config.toolbarGroupCycling)||r;switch(e){case 9:case CKEDITOR.SHIFT+9:for(;!n||!n.items.length;)if((n=9==e?(n?n.next:t.toolbar.next)||E.toolbox.toolbars[0]:(n?n.previous:t.toolbar.previous)||E.toolbox.toolbars[E.toolbox.toolbars.length-1]).items.length)for(t=n.items[a?n.items.length-1:0];t&&!t.focus;)(t=a?t.previous:t.next)||(n=0);return t&&t.focus(),!1;case i:for(n=t;!(n=n.next)&&r&&(n=t.toolbar.items[0]),n&&!n.focus;);return n?n.focus():w(t,9),!1;case 40:return t.button&&t.button.hasArrow?t.execute():w(t,40==e?i:o),!1;case o:case 38:for(n=t;!(n=n.previous)&&r&&(n=t.toolbar.items[t.toolbar.items.length-1]),n&&!n.focus;);return n?n.focus():(a=1,w(t,CKEDITOR.SHIFT+9),a=0),!1;case 27:return E.focus(),!1;case 13:case 32:return t.execute(),!1}return!0};E.on("uiSpace",function(t){if(t.data.space==E.config.toolbarLocation){t.removeListener(),E.toolbox=new C;var e,n,i=['<span id="',o=CKEDITOR.tools.getNextId(),'" class="cke_voice_label">',E.lang.toolbar.toolbars,"</span>",'<span id="'+E.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',o,'" onmousedown="return false;">'],o=!1!==E.config.toolbarStartupExpanded;E.config.toolbarCanCollapse&&E.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&i.push('<span class="cke_toolbox_main"'+(o?">":' style="display:none">'));for(var r=E.toolbox.toolbars,a=T(E),s=a.length,l=0;l<s;l++){var c,u,d,h=0,f=a[l],p="/"!==f&&("/"===a[l+1]||l==s-1);if(f)if(e&&(i.push("</span>"),n=e=0),"/"===f)i.push('<span class="cke_toolbar_break"></span>');else{d=f.items||f;for(var g=0;g<d.length;g++){var m,v=d[g];if(v){function y(t){t=t.render(E,i),0<(b=h.items.push(t)-1)&&(t.previous=h.items[b-1],t.previous.next=t),t.toolbar=h,t.onkey=w,t.onfocus=function(){E.toolbox.focusCommandExecuted||E.focus()}}if(v.type==CKEDITOR.UI_SEPARATOR)n=e&&v;else{if(m=!1!==v.canGroup,!h){c=CKEDITOR.tools.getNextId(),h={id:c,items:[]},u=f.name&&(E.lang.toolbar.toolbarGroups[f.name]||f.name),i.push('<span id="',c,'" class="cke_toolbar'+(p?' cke_toolbar_last"':'"'),u?' aria-labelledby="'+c+'_label"':"",' role="toolbar">'),u&&i.push('<span id="',c,'_label" class="cke_voice_label">',u,"</span>"),i.push('<span class="cke_toolbar_start"></span>');var b=r.push(h)-1;0<b&&(h.previous=r[b-1],h.previous.next=h)}m?e||(i.push('<span class="cke_toolgroup" role="presentation">'),e=1):e&&(i.push("</span>"),e=0),n&&(y(n),n=0),y(v)}}}e&&(i.push("</span>"),n=e=0),h&&i.push('<span class="cke_toolbar_end"></span></span>')}}if(E.config.toolbarCanCollapse&&i.push("</span>"),E.config.toolbarCanCollapse&&E.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var _=CKEDITOR.tools.addFunction(function(){E.execCommand("toolbarCollapse")});E.on("destroy",function(){CKEDITOR.tools.removeFunction(_)}),E.addCommand("toolbarCollapse",{readOnly:1,exec:function(t){var e=t.ui.space("toolbar_collapser"),n=e.getPrevious(),i=t.ui.space("contents"),o=n.getParent(),r=parseInt(i.$.style.height,10),a=o.$.offsetHeight,s=e.hasClass("cke_toolbox_collapser_min");s?(n.show(),e.removeClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarCollapse)):(n.hide(),e.addClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarExpand)),e.getFirst().setText(s?"":""),i.setStyle("height",r-(o.$.offsetHeight-a)+"px"),t.fire("resize",{outerHeight:t.container.$.offsetHeight,contentsHeight:i.$.offsetHeight,outerWidth:t.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}}),E.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),i.push('<a title="'+(o?E.lang.toolbar.toolbarCollapse:E.lang.toolbar.toolbarExpand)+'" id="'+E.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),o||i.push(" cke_toolbox_collapser_min"),i.push('" onclick="CKEDITOR.tools.callFunction('+_+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}i.push("</span>"),t.data.html+=i.join("")}}),E.on("destroy",function(){if(this.toolbox){var t,e,n,i,o=0;for(t=this.toolbox.toolbars;o<t.length;o++)for(n=t[o].items,e=0;e<n.length;e++)(i=n[e]).clickFn&&CKEDITOR.tools.removeFunction(i.clickFn),i.keyDownFn&&CKEDITOR.tools.removeFunction(i.keyDownFn)}}),E.on("uiReady",function(){var t=E.ui.space("toolbox");t&&E.focusManager.add(t,1)}),E.addCommand("toolbarFocus",t),E.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),E.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),E.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(t,e){return e.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(t,e,n){var i=c(this.editor),o=0===e,r={name:t};if(n){if(n=CKEDITOR.tools.search(i,function(t){return t.name==n}))return n.groups||(n.groups=[]),e&&0<=(e=CKEDITOR.tools.indexOf(n.groups,e))?void n.groups.splice(e+1,0,t):void(o?n.groups.splice(0,0,t):n.groups.push(t));e=null}e=e&&CKEDITOR.tools.indexOf(i,function(t){return t.name==e}),o?i.splice(0,0,t):"number"==typeof e?i.splice(e+1,0,r):i.push(t)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",CKEDITOR.plugins.add("clipboard",{requires:"notification,toolbar",init:function(a){var t,s=ze();if(a.config.forcePasteAsPlainText?t="plain-text":a.config.pasteFilter?t=a.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in a.config||(t="semantic-content"),a.pasteFilter=s.get(t),$e(a),We(a),CKEDITOR.env.gecko){var o,r=["image/png","image/jpeg","image/gif"];a.on("paste",function(t){var e=t.data,n=e.dataTransfer;if(!e.dataValue&&"paste"==e.method&&n&&1==n.getFilesCount()&&o!=n.id&&(n=n.getFile(0),-1!=CKEDITOR.tools.indexOf(r,n.type))){var i=new FileReader;i.addEventListener("load",function(){t.data.dataValue='<img src="'+i.result+'" />',a.fire("paste",t.data)},!1),i.addEventListener("abort",function(){a.fire("paste",t.data)},!1),i.addEventListener("error",function(){a.fire("paste",t.data)},!1),i.readAsDataURL(n),o=e.dataTransfer.id,t.stop()}},null,null,1)}a.on("paste",function(t){if(t.data.dataTransfer||(t.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer),!t.data.dataValue){var e=t.data.dataTransfer,n=e.getData("text/html");n?(t.data.dataValue=n,t.data.type="html"):(n=e.getData("text/plain"))&&(t.data.dataValue=a.editable().transformPlainTextToHtml(n),t.data.type="text")}},null,null,1),a.on("paste",function(n){var t=n.data.dataValue,i=CKEDITOR.dtd.$block;if(-1<t.indexOf("Apple-")&&(t=t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=n.data.type&&(t=t.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(t,e){return e.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")})),-1<t.indexOf('<br class="Apple-interchange-newline">')&&(n.data.startsWithEOL=1,n.data.preSniffing="html",t=t.replace(/<br class="Apple-interchange-newline">/,"")),t=t.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),t.match(/^<[^<]+cke_(editable|contents)/i)){var e,o,r=new CKEDITOR.dom.element("div");for(r.setHtml(t);1==r.getChildCount()&&(e=r.getFirst())&&e.type==CKEDITOR.NODE_ELEMENT&&(e.hasClass("cke_editable")||e.hasClass("cke_contents"));)r=o=e;o&&(t=o.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?t=t.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(t,e){return e.toLowerCase()in i?(n.data.preSniffing="html","<"+e):t}):CKEDITOR.env.webkit?t=t.replace(/<\/(\w+)><div><br><\/div>$/,function(t,e){return e in i?(n.data.endsWithEOL=1,"</"+e+">"):t}):CKEDITOR.env.gecko&&(t=t.replace(/(\s)<br>$/,"$1")),n.data.dataValue=t},null,null,3),a.on("paste",function(t){t=t.data;var e,n=a._.nextPasteType||t.type,i=t.dataValue,o=a.config.clipboard_defaultContentType||"html",r=t.dataTransfer.getTransferType(a);e="html"==n||"html"==t.preSniffing?"html":function(t){if(CKEDITOR.env.webkit){if(!t.match(/^[^<]*$/g)&&!t.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!t.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}(i),delete a._.nextPasteType,"htmlifiedtext"==e&&(i=He(a.config,i)),"text"==n&&"html"==e?i=je(a,i,s.get("plain-text")):r==CKEDITOR.DATA_TRANSFER_EXTERNAL&&a.pasteFilter&&!t.dontFilter&&(i=je(a,i,a.pasteFilter)),t.startsWithEOL&&(i='<br data-cke-eol="1">'+i),t.endsWithEOL&&(i+='<br data-cke-eol="1">'),"auto"==n&&(n="html"==e||"html"==o?"html":"text"),t.type=n,t.dataValue=i,delete t.preSniffing,delete t.startsWithEOL,delete t.endsWithEOL},null,null,6),a.on("paste",function(t){(t=t.data).dataValue&&(a.insertHtml(t.dataValue,t.type,t.range),setTimeout(function(){a.fire("afterPaste")},0))},null,null,1e3)}}),CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:(!CKEDITOR.env.ie||16<=CKEDITOR.env.version)&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",canClipboardApiBeTrusted:function(t,e){return!!(t.getTransferType(e)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!t.isEmpty()||CKEDITOR.env.gecko&&(t.getData("text/html")||t.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.edge&&16<=CKEDITOR.env.version)},getDropTarget:function(t){var e=t.editable();return CKEDITOR.env.ie&&CKEDITOR.env.version<9||e.isInline()?e:t.document},fixSplitNodesAfterDrop:function(t,o,e,n){function i(t,e,n){var i=t;if(i.type==CKEDITOR.NODE_TEXT&&(i=t.getParent()),i.equals(e)&&n!=e.getChildCount())return t=o.startContainer.getChild(o.startOffset-1),e=o.startContainer.getChild(o.startOffset),t&&t.type==CKEDITOR.NODE_TEXT&&e&&e.type==CKEDITOR.NODE_TEXT&&(n=t.getLength(),t.setText(t.getText()+e.getText()),e.remove(),o.setStart(t,n),o.collapse(!0)),!0}var r=o.startContainer;"number"==typeof n&&"number"==typeof e&&r.type==CKEDITOR.NODE_ELEMENT&&(i(t.startContainer,r,e)||i(t.endContainer,r,n))},isDropRangeAffectedByDragRange:function(t,e){var n=e.startContainer,i=e.endOffset;return!!(t.endContainer.equals(n)&&t.endOffset<=i||t.startContainer.getParent().equals(n)&&t.startContainer.getIndex()<i||t.endContainer.getParent().equals(n)&&t.endContainer.getIndex()<i)},internalDrop:function(t,e,n,i){var o,r,a=CKEDITOR.plugins.clipboard,s=i.editable();i.fire("saveSnapshot"),i.fire("lockSnapshot",{dontUpdate:1}),CKEDITOR.env.ie&&CKEDITOR.env.version<10&&this.fixSplitNodesAfterDrop(t,e,a.dragStartContainerChildCount,a.dragEndContainerChildCount),(r=this.isDropRangeAffectedByDragRange(t,e))||(o=t.createBookmark(!1)),a=e.clone().createBookmark(!1),r&&(o=t.createBookmark(!1)),t=o.startNode,e=o.endNode,r=a.startNode,e&&t.getPosition(r)&CKEDITOR.POSITION_PRECEDING&&e.getPosition(r)&CKEDITOR.POSITION_FOLLOWING&&r.insertBefore(t),(t=i.createRange()).moveToBookmark(o),s.extractHtmlFromRange(t,1),(e=i.createRange()).moveToBookmark(a),Be(i,{dataTransfer:n,method:"drop",range:e},1),i.fire("unlockSnapshot")},getRangeAtDropPosition:function(t,e){var n=t.data.$,i=n.clientX,o=n.clientY,r=e.getSelection(!0).getRanges()[0],a=e.createRange();if(t.data.testRange)return t.data.testRange;if(document.caretRangeFromPoint&&e.document.$.caretRangeFromPoint(i,o))n=e.document.$.caretRangeFromPoint(i,o),a.setStart(CKEDITOR.dom.node(n.startContainer),n.startOffset),a.collapse(!0);else if(n.rangeParent)a.setStart(CKEDITOR.dom.node(n.rangeParent),n.rangeOffset),a.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&r&&e.editable().hasFocus)return r;if(!document.body.createTextRange)return null;e.focus(),n=e.document.getBody().$.createTextRange();try{for(var s=!1,l=0;l<20&&!s;l++){if(!s)try{n.moveToPoint(i,o-l),s=!0}catch(t){}if(!s)try{n.moveToPoint(i,o+l),s=!0}catch(t){}}if(s){var c="cke-temp-"+(new Date).getTime();n.pasteHTML('<span id="'+c+'"></span>');var u=e.document.getById(c);a.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START),u.remove()}else{var d=e.document.$.elementFromPoint(i,o),h=new CKEDITOR.dom.element(d);if(h.equals(e.editable())||"html"==h.getName())return r&&r.startContainer&&!r.startContainer.equals(e.editable())?r:null;i<h.getClientRect().left?a.setStartAt(h,CKEDITOR.POSITION_AFTER_START):a.setStartAt(h,CKEDITOR.POSITION_BEFORE_END),a.collapse(!0)}}catch(t){return null}}return a},initDragDataTransfer:function(t,e){var n=t.data.$?t.data.$.dataTransfer:null,i=new this.dataTransfer(n,e);"dragstart"===t.name&&i.storeId(),n?this.dragData&&i.id==this.dragData.id?i=this.dragData:this.dragData=i:this.dragData?i=this.dragData:this.dragData=i,t.data.dataTransfer=i},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(t,e){if(this.isCustomCopyCutSupported){if(t&&t.data&&t.data.$){var n=t.data.$.clipboardData,i=new this.dataTransfer(n,e);return"copy"!==t.name&&"cut"!==t.name||i.storeId(),this.copyCutData&&i.id==this.copyCutData.id?(i=this.copyCutData).$=n:this.copyCutData=i,i}return new this.dataTransfer(null,e)}return new this.dataTransfer(CKEDITOR.env.edge&&t&&t.data.$&&t.data.$.clipboardData||null,e)},preventDefaultDropOnElement:function(t){t&&t.on("dragover",Ve)}},_t=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text",CKEDITOR.plugins.clipboard.dataTransfer=function(t,e){t&&(this.$=t),this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\x3c!--(?:Start|End)Fragment--\x3e/g,data:{},files:[],nativeHtmlCache:"",normalizeType:function(t){return"text"==(t=t.toLowerCase())||"text/plain"==t?"Text":"url"==t?"URL":t}},this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this),this.id=this.getData(_t),this.id||(this.id="Text"==_t?"":"cke-"+CKEDITOR.tools.getUniqueId()),e&&(this.sourceEditor=e,this.setData("text/html",e.getSelectedHtml(1)),"Text"==_t||this.getData("text/plain")||this.setData("text/plain",e.getSelection().getSelectedText()))},CKEDITOR.DATA_TRANSFER_INTERNAL=1,CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2,CKEDITOR.DATA_TRANSFER_EXTERNAL=3,CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(t,e){if(null==(i="text/html"==(t=this._.normalizeType(t))&&e?this._.nativeHtmlCache:this._.data[t])||""===i){if(this._.fallbackDataTransfer.isRequired())i=this._.fallbackDataTransfer.getData(t,e);else try{i=this.$.getData(t)||""}catch(t){i=""}"text/html"!=t||e||(i=this._stripHtml(i))}if("Text"==t&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==i.substring(0,7)&&(i=""),"string"==typeof i)var n=i.indexOf("</html>"),i=-1!==n?i.substring(0,n+7):i;return i},setData:function(t,e){if("text/html"==(t=this._.normalizeType(t))?(this._.data[t]=this._stripHtml(e),this._.nativeHtmlCache=e):this._.data[t]=e,CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==t||"Text"==t)if("Text"==_t&&"Text"==t&&(this.id=e),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(t,e);else try{this.$.setData(t,e)}catch(t){}},storeId:function(){"Text"!=_t&&this.setData(_t,this.id)},getTransferType:function(t){return this.sourceEditor?this.sourceEditor==t?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function t(t){t=i._.normalizeType(t);var e=i.getData(t);"text/html"==t&&(i._.nativeHtmlCache=i.getData(t,!0),e=i._stripHtml(e)),e&&(i._.data[t]=e)}if(this.$){var e,n,i=this;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(e=0;e<this.$.types.length;e++)t(this.$.types[e])}else t("Text"),t("URL");if(n=this._getImageFromClipboard(),this.$&&this.$.files||n){if(this._.files=[],this.$.files&&this.$.files.length)for(e=0;e<this.$.files.length;e++)this._.files.push(this.$.files[e]);0===this._.files.length&&n&&this._.files.push(n)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(t){return this._.files.length?this._.files[t]:this.$&&this.$.files&&this.$.files.length?this.$.files[t]:0===t?this._getImageFromClipboard():void 0},isEmpty:function(){var t,e={};if(this.getFilesCount())return!1;if(CKEDITOR.tools.array.forEach(CKEDITOR.tools.objectKeys(this._.data),function(t){e[t]=1}),this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var n=0;n<this.$.types.length;n++)e[this.$.types[n]]=1}else e.Text=1,e.URL=1;for(t in"Text"!=_t&&(e[_t]=0),e)if(e[t]&&""!==this.getData(t))return!1;return!0},_getImageFromClipboard:function(){var t;if(this.$&&this.$.items&&this.$.items[0])try{if((t=this.$.items[0].getAsFile())&&t.type)return t}catch(t){}},_stripHtml:function(t){if(t&&t.length){t=t.replace(this._.metaRegExp,"");var e=this._.bodyRegExp.exec(t);e&&e.length&&(t=(t=e[1]).replace(this._.fragmentRegExp,""))}return t}},CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(t){this._dataTransfer=t,this._customDataFallbackType="text/html"},CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=null,CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[],CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:function(){var t=CKEDITOR.plugins.clipboard.fallbackDataTransfer,e=this._dataTransfer.$;if(null===t._isCustomMimeTypeSupported){if(!e)return!1;t._isCustomMimeTypeSupported=!1;try{e.setData("cke/mimetypetest","cke test value"),t._isCustomMimeTypeSupported="cke test value"===e.getData("cke/mimetypetest"),e.clearData("cke/mimetypetest")}catch(t){}}return!t._isCustomMimeTypeSupported},getData:function(t,e){var n=this._getData(this._customDataFallbackType,!0);if(e)return n;n=this._extractDataComment(n);var i=null;return null!==(i=t===this._customDataFallbackType?n.content:n.data&&n.data[t]?n.data[t]:this._getData(t,!0))?i:""},setData:function(e,t){(o=e===this._customDataFallbackType)&&(t=this._applyDataComment(t,this._getFallbackTypeData()));var n=t,i=this._dataTransfer.$;try{i.setData(e,n),o&&(this._dataTransfer._.nativeHtmlCache=n)}catch(t){if(this._isUnsupportedMimeTypeError(t)){o=CKEDITOR.plugins.clipboard.fallbackDataTransfer,-1===CKEDITOR.tools.indexOf(o._customTypes,e)&&o._customTypes.push(e);var o=this._getFallbackTypeContent(),r=this._getFallbackTypeData();r[e]=n;try{n=this._applyDataComment(o,r),i.setData(this._customDataFallbackType,n),this._dataTransfer._.nativeHtmlCache=n}catch(t){n=""}}}return n},_getData:function(t,e){var n=this._dataTransfer._.data;if(!e&&n[t])return n[t];try{return this._dataTransfer.$.getData(t)}catch(t){return null}},_getFallbackTypeContent:function(){var t=this._dataTransfer._.data[this._customDataFallbackType];return t=t||this._extractDataComment(this._getData(this._customDataFallbackType,!0)).content},_getFallbackTypeData:function(){var t=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,e=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},n=this._dataTransfer._.data;return CKEDITOR.tools.array.forEach(t,function(t){void 0!==n[t]?e[t]=n[t]:void 0!==e[t]&&(e[t]=e[t])},this),e},_isUnsupportedMimeTypeError:function(t){return t.message&&-1!==t.message.search(/element not found/gi)},_extractDataComment:function(t){var e,n={data:null,content:t||""};return t&&16<t.length&&(e=/\x3c!--cke-data:(.*?)--\x3e/g.exec(t))&&e[1]&&(n.data=JSON.parse(decodeURIComponent(e[1])),n.content=t.replace(e[0],"")),n},_applyDataComment:function(t,e){var n="";return e&&CKEDITOR.tools.objectKeys(e).length&&(n="\x3c!--cke-data:"+encodeURIComponent(JSON.stringify(e))+"--\x3e"),n+(t&&t.length?t:"")}},CKEDITOR.config.clipboard_notificationDuration=1e4,function(){CKEDITOR.plugins.add("panel",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(t,e){e&&CKEDITOR.tools.extend(this,e),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),this.document=t,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(t){return new CKEDITOR.ui.panel(t)}};var o=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),r=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),a=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(t,e){this.getHolderElement=function(){if(!(e=this._.holder)){if(this.isFramed){var t=(e=this.document.getById(this.id+"_frame")).getParent(),e=e.getFrameDocument();CKEDITOR.env.iOS&&t.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),t=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0,this.onLoad&&this.onLoad()},this)),e.write(a.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+t+");"},n))),e.getWindow().$.CKEDITOR=CKEDITOR,e.on("keydown",function(t){var e=t.data.getKeystroke(),n=this.document.getById(this.id).getAttribute("dir");this._.onKeyDown&&!1===this._.onKeyDown(e)?t.data.preventDefault():27!=e&&e!=("rtl"==n?39:37)||!this.onEscape||!1!==this.onEscape(e)||t.data.preventDefault()},this),(e=e.getBody()).unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(t)}else e=this.document.getById(this.id);this._.holder=e}return e};var n={editorId:t.id,id:this.id,langCode:t.langCode,dir:t.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":t.config.baseFloatZIndex+1};if(this.isFramed){var i=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";n.frame=r.output({id:this.id+"_frame",src:i})}return i=o.output(n),e&&e.push(i),i},addBlock:function(t,e){return e=this._.blocks[t]=e instanceof CKEDITOR.ui.panel.block?e:new CKEDITOR.ui.panel.block(this.getHolderElement(),e),this._.currentBlock||this.showBlock(t),e},getBlock:function(t){return this._.blocks[t]},showBlock:function(t){t=this._.blocks[t];var e=this._.currentBlock,n=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return e&&e.hide(),this._.currentBlock=t,CKEDITOR.fire("ariaWidget",n),t._.focusIndex=-1,this._.onKeyDown=t.onKeyDown&&CKEDITOR.tools.bind(t.onKeyDown,t),t.show(),t},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(t,e){this.element=t.append(t.getDocument().createElement("div",{attributes:{tabindex:-1,class:"cke_panel_block"},styles:{display:"none"}})),e&&CKEDITOR.tools.extend(this,e),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(t){-1!=t&&(t=this.element.getElementsByTag("a").getItem(this._.focusIndex=t),CKEDITOR.env.webkit&&t.getDocument().getWindow().focus(),t.focus(),this.onMark&&this.onMark(t))},markFirstDisplayed:function(t){function e(t){return t.type==CKEDITOR.NODE_ELEMENT&&"none"==t.getStyle("display")}for(var n,i,o=this._.getItems(),r=o.count()-1;0<=r;r--)if((n=o.getItem(r)).getAscendant(e)||(i=n,this._.focusIndex=r),"true"==n.getAttribute("aria-selected")){i=n,this._.focusIndex=r;break}i&&(t&&t(),CKEDITOR.env.webkit&&i.getDocument().getWindow().focus(),i.focus(),this.onMark&&this.onMark(i))},getItems:function(){return this.element.getElementsByTag("a")}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(t,e){switch(o=this.keys[t]){case"next":for(var n,i=this._.focusIndex,o=this.element.getElementsByTag("a");n=o.getItem(++i);)if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus();break}return!n&&!e&&(this._.focusIndex=-1,this.onKeyDown(t,1));case"prev":for(i=this._.focusIndex,o=this.element.getElementsByTag("a");0<i&&(n=o.getItem(--i));){if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus();break}n=null}return!n&&!e&&(this._.focusIndex=o.count(),this.onKeyDown(t,1));case"click":case"mouseup":return(n=0<=(i=this._.focusIndex)&&this.element.getElementsByTag("a").getItem(i))&&(n.$[o]?n.$[o]():n.$["on"+o]()),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),Et={},CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(t,e,n,i){function o(){l.hide()}n.forceIFrame=1,n.toolbarRelated&&t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(e=CKEDITOR.document.getById("cke_"+t.name));var r=e.getDocument(),a=(i=function(t,e,n,i,o){o=CKEDITOR.tools.genKey(e.getUniqueId(),n.getUniqueId(),t.lang.dir,t.uiColor||"",i.css||"",o||"");var r=Et[o];return r||((r=Et[o]=new CKEDITOR.ui.panel(e,i)).element=n.append(CKEDITOR.dom.element.createFromHtml(r.render(t),e)),r.element.setStyles({display:"none",position:"absolute"})),r}(t,r,e,n,i||0)).element,s=a.getFirst(),l=this;a.disableContextMenu(),this.element=a,this._={editor:t,panel:i,parentElement:e,definition:n,document:r,iframe:s,children:[],dir:t.lang.dir,showBlockParams:null},t.on("mode",o),t.on("resize",o),r.getWindow().on("resize",function(){this.reposition()},this)},proto:{addBlock:function(t,e){return this._.panel.addBlock(t,e)},addListBlock:function(t,e){return this._.panel.addListBlock(t,e)},getBlock:function(t){return this._.panel.getBlock(t)},showBlock:function(t,e,n,i,o,s){var l=this._.panel,c=l.showBlock(t);this._.showBlockParams=[].slice.call(arguments),this.allowBlur(!1);var r=this._.editor.editable();this._.returnFocus=r.hasFocus?r:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var u=this.element,a=(r=this._.iframe,r=CKEDITOR.env.ie&&!CKEDITOR.env.edge?r:new CKEDITOR.dom.window(r.$.contentWindow),u.getDocument()),d=this._.parentElement.getPositionedAncestor(),h=e.getDocumentPosition(a),f=(a=d?d.getDocumentPosition(a):{x:0,y:0},"rtl"==this._.dir),p=h.x+(i||0)-a.x,g=h.y+(o||0)-a.y;!f||1!=n&&4!=n?f||2!=n&&3!=n||(p+=e.$.offsetWidth-1):p+=e.$.offsetWidth,3!=n&&4!=n||(g+=e.$.offsetHeight-1),this._.panel._.offsetParentId=e.getId(),u.setStyles({top:g+"px",left:0,display:""}),u.setOpacity(0),u.getFirst().removeStyle("width"),this._.editor.focusManager.add(r),this._.blurSet||(CKEDITOR.event.useCapture=!0,r.on("blur",function(t){function e(){delete this._.returnFocus,this.hide()}this.allowBlur()&&t.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(e,0,this)):e.call(this))},this),r.on("focus",function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(r.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),r.on("touchend",function(){this._.hideTimeout=0,this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),l.onEscape=CKEDITOR.tools.bind(function(t){if(this.onEscape&&!1===this.onEscape(t))return!1},this),CKEDITOR.tools.setTimeout(function(){var t=CKEDITOR.tools.bind(function(){if((n=u).removeStyle("width"),c.autoSize){var t=c.element.getDocument();t=(CKEDITOR.env.webkit||CKEDITOR.env.edge?c.element:t.getBody()).$.scrollWidth,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<t&&(t+=(n.$.offsetWidth||0)-(n.$.clientWidth||0)+3),n.setStyle("width",t+10+"px"),t=c.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<t&&(t+=(n.$.offsetHeight||0)-(n.$.clientHeight||0)+3),n.setStyle("height",t+"px"),l._.currentBlock.element.setStyle("display","none").removeStyle("display")}else n.removeStyle("height");f&&(p-=u.$.offsetWidth),u.setStyle("left",p+"px"),t=l.element.getWindow();var e,n=u.$.getBoundingClientRect(),i=(t=t.getViewPaneSize(),n.width||n.right-n.left),o=n.height||n.bottom-n.top,r=f?n.right:t.width-n.left,a=f?t.width-n.right:n.left;f?r<i&&(p=i<a?p+i:t.width>i?p-n.left:p-n.right+t.width):r<i&&(p=i<a?p-i:t.width>i?p-n.right+t.width:p-n.left),i=n.top,t.height-n.top<o&&(g=o<i?g-o:t.height>o?g-n.bottom+t.height:g-n.top),CKEDITOR.env.ie&&("html"==(t=n=new CKEDITOR.dom.element(u.$.offsetParent)).getName()&&(t=t.getDocument().getBody()),"rtl"==t.getComputedStyle("direction")&&(p=CKEDITOR.env.ie8Compat?p-2*u.getDocument().getDocumentElement().$.scrollLeft:p-(n.$.scrollWidth-n.$.clientWidth))),(e=(n=u.getFirst()).getCustomData("activePanel"))&&e.onHide&&e.onHide.call(this,1),n.setCustomData("activePanel",this),u.setStyles({top:g+"px",left:p+"px"}),u.setOpacity(1),s&&s()},this);l.isLoaded?t():l.onLoad=t,CKEDITOR.tools.setTimeout(function(){var t=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),c.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=t),this.allowBlur(!0),CKEDITOR.env.ie?CKEDITOR.tools.setTimeout(function(){c.markFirstDisplayed?c.markFirstDisplayed():c._.markFirstDisplayed()},0):c.markFirstDisplayed?c.markFirstDisplayed():c._.markFirstDisplayed(),this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},reposition:function(){var t=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,t))},focus:function(){if(CKEDITOR.env.webkit){var t=CKEDITOR.document.getActive();t&&!t.equals(this._.iframe)&&t.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var t=this._.iframe.getFrameDocument().getActive();t&&t.is("a")&&(this._.lastFocused=t)},hide:function(t){!this.visible||this.onHide&&!0===this.onHide.call(this)||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(t=t&&this._.returnFocus)&&(CKEDITOR.env.webkit&&t.type&&t.getWindow().$.focus(),t.focus()),delete this._.lastFocused,this._.showBlockParams=null,this._.editor.fire("panelHide",this))},allowBlur:function(t){var e=this._.panel;return void 0!==t&&(e.allowBlur=t),e.allowBlur},showAsChild:function(t,e,n,i,o,r){this._.activeChild==t&&t._.panel._.offsetParentId==n.getId()||(this.hideChild(),t.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=t,this._.focused=!1,t.showBlock(e,n,i,o,r),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){t.element.getChild(0).$.style.cssText+=""},100))},hideChild:function(t){var e=this._.activeChild;e&&(delete e.onHide,delete this._.activeChild,e.hide(),t&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",function(){var t,e=CKEDITOR.tools.isEmpty(CKEDITOR.instances);for(t in Et){var n=Et[t];e?n.destroy():n.element.hide()}e&&(Et={})}),CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(t){for(var e=t.config.menu_groups.split(","),n=t._.menuGroups={},i=t._.menuItems={},o=0;o<e.length;o++)n[e[o]]=o+1;t.addMenuGroup=function(t,e){n[t]=e||100},t.addMenuItem=function(t,e){n[e.group]&&(i[t]=new CKEDITOR.menuItem(this,t,e))},t.addMenuItems=function(t){for(var e in t)this.addMenuItem(e,t[e])},t.getMenuItem=function(t){return i[t]},t.removeMenuItem=function(t){delete i[t]}}}),function(){var t='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1" _cke_focus=1 hidefocus="true" role="{role}" aria-label="{label}" aria-describedby="{id}_description" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked} draggable="false"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;" ondragstart="return false;"');t=t+' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">';var f=CKEDITOR.addTemplate("menuItem",t+'<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{shortcutHtml}{arrowHtml}</span></a><span id="{id}_description" class="cke_voice_label" aria-hidden="false">{ariaShortcut}</span></span>'),p=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>'),g=CKEDITOR.addTemplate("menuShortcut",'<span class="cke_menubutton_label cke_menubutton_shortcut">{shortcut}</span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(t,e){e=this._.definition=e||{},this.id=CKEDITOR.tools.getNextId(),this.editor=t,this.items=[],this._.listeners=[],this._.level=e.level||1;var n=CKEDITOR.tools.extend({},e.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),i=n.block.attributes=n.attributes||{};i.role||(i.role="menu"),this._.panelDefinition=n},_:{onShow:function(){var t=this.editor.getSelection(),e=t&&t.getStartElement(),n=this.editor.elementPath(),i=this._.listeners;this.removeAll();for(var o=0;o<i.length;o++){var r=i[o](e,t,n);if(r)for(var a in r){var s=this.editor.getMenuItem(a);!s||s.command&&!this.editor.getCommand(s.command).state||(s.state=r[a],this.add(s))}}},onClick:function(t){this.hide(),t.onClick?t.onClick():t.command&&this.editor.execCommand(t.command)},onEscape:function(t){var e=this.parent;return e?e._.panel.hideChild(1):27==t&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(t){var e=this._.subMenu,n=this.items[t];if(n=n.getItems&&n.getItems()){for(var i in e?e.removeAll():((e=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0))).parent=this,e._.onClick=CKEDITOR.tools.bind(this._.onClick,this)),n){var o=this.editor.getMenuItem(i);o&&(o.state=n[i],e.add(o))}var r=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(t));setTimeout(function(){e.show(r,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(t){t.order||(t.order=this.items.length),this.items.push(t)},removeAll:function(){this.items=[]},show:function(t,e,n,i){if(this.parent||(this._.onShow(),this.items.length)){e=e||("rtl"==this.editor.lang.dir?2:1);var o=this.items,r=this.editor,a=this._.panel,s=this._.element;if(!a)(a=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level)).onEscape=CKEDITOR.tools.bind(function(t){if(!1===this._.onEscape(t))return!1},this),a.onShow=function(){a._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")},a.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this),(s=a.addBlock(this.id,this._.panelDefinition.block)).autoSize=!0,(l=s.keys)[40]="next",l[9]="next",l[38]="prev",l[CKEDITOR.SHIFT+9]="prev",l["rtl"==r.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",l[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(l[13]="mouseup"),(l=(s=this._.element=s.element).getDocument()).getBody().setStyle("overflow","hidden"),l.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction(function(t){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,r.config.menu_subMenuDelay||400,this,[t])},this),this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this),this._.itemClickFn=CKEDITOR.tools.addFunction(function(t){var e=this.items[t];e.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):e.getItems?this._.showSubMenu(t):this._.onClick(e)},this);!function(t){t.sort(function(t,e){return t.group<e.group?-1:t.group>e.group?1:t.order<e.order?-1:t.order>e.order?1:0})}(o);for(var l=['<div class="cke_menu'+((l=r.elementPath())&&l.direction()!=r.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],c=o.length,u=c&&o[0].group,d=0;d<c;d++){var h=o[d];u!=h.group&&(l.push('<div class="cke_menuseparator" role="separator"></div>'),u=h.group),h.render(this,d,l)}l.push("</div>"),s.setHtml(l.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(a,this.id,t,e,n,i):a.showBlock(this.id,t,e,n,i),r.fire("menuShow",[a])}},addListener:function(t){this._.listeners.push(t)},hide:function(t){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(t)}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(t,e,n){CKEDITOR.tools.extend(this,n,{order:0,className:"cke_menubutton__"+e}),this.group=t._.menuGroups[this.group],this.editor=t,this.name=e},proto:{render:function(t,e,n){var i,o,r=t.id+String(e),a=void 0===this.state?CKEDITOR.TRISTATE_OFF:this.state,s="",l=this.editor,c=a==CKEDITOR.TRISTATE_ON?"on":a==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(s=' aria-checked="'+(a==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var u=this.getItems,d="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",h=this.name;this.icon&&!/\./.test(this.icon)&&(h=this.icon),this.command&&(i=l.getCommand(this.command),(i=l.getCommandKeystroke(i))&&(o=CKEDITOR.tools.keystrokeToString(l.lang.common.keyboard,i))),t={id:r,name:this.name,iconName:h,label:this.label,cls:this.className||"",state:c,hasPopup:u?"true":"false",disabled:a==CKEDITOR.TRISTATE_DISABLED,title:this.label+(o?" ("+o.display+")":""),ariaShortcut:o?l.lang.common.keyboardShortcut+" "+o.aria:"",href:"javascript:void('"+(this.label||"").replace("'")+"')",hoverFn:t._.itemOverFn,moveOutFn:t._.itemOutFn,clickFn:t._.itemClickFn,index:e,iconStyle:CKEDITOR.skin.getIconStyle(h,"rtl"==this.editor.lang.dir,h==this.icon?null:this.icon,this.iconOffset),shortcutHtml:o?g.output({shortcut:o.display}):"",arrowHtml:u?p.output({label:d}):"",role:this.role?this.role:"menuitem",ariaChecked:s},f.output(t,n)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(t){this.base.call(this,t,{panel:{className:"cke_menu_panel",attributes:{"aria-label":t.lang.contextmenu.options}}})},proto:{addTarget:function(t,a){if(t.on("contextmenu",function(t){t=t.data;var e=CKEDITOR.env.webkit?s:CKEDITOR.env.mac?t.$.metaKey:t.$.ctrlKey;if(!a||!e){if(t.preventDefault(),CKEDITOR.env.mac&&CKEDITOR.env.webkit){e=this.editor;(n=new CKEDITOR.dom.elementPath(t.getTarget(),e.editable()).contains(function(t){return t.hasAttribute("contenteditable")},!0))&&"false"==n.getAttribute("contenteditable")&&e.getSelection().fake(n)}var n=t.getTarget().getDocument(),i=t.getTarget().getDocument().getDocumentElement(),o=(e=!n.equals(CKEDITOR.document),n=n.getWindow().getScrollPosition(),e?t.$.clientX:t.$.pageX||n.x+t.$.clientX),r=e?t.$.clientY:t.$.pageY||n.y+t.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(i,null,o,r)},CKEDITOR.env.ie?200:0,this)}},this),CKEDITOR.env.webkit){function e(){s=0}var s;t.on("keydown",function(t){s=CKEDITOR.env.mac?t.data.$.metaKey:t.data.$.ctrlKey}),t.on("keyup",e),t.on("contextmenu",e)}},open:function(t,e,n,i){!1!==this.editor.config.enableContextMenu&&(this.editor.focus(),t=t||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(t,e,n,i))}}})},beforeInit:function(t){var e=t.contextMenu=new CKEDITOR.plugins.contextMenu(t);t.on("contentDom",function(){e.addTarget(t.editable(),!1!==t.config.browserContextMenuOnCtrl)}),t.addCommand("contextMenu",{exec:function(){t.contextMenu.open(t.document.getBody())}}),t.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),t.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),CKEDITOR.plugins.add("resize",{init:function(o){function e(t){var e=l.width,n=l.height,i=e+(t.data.$.screenX-s.x)*("rtl"==a?-1:1);t=n+(t.data.$.screenY-s.y),u&&(e=Math.max(r.resize_minWidth,Math.min(i,r.resize_maxWidth))),d&&(n=Math.max(r.resize_minHeight,Math.min(t,r.resize_maxHeight))),o.resize(u?e:null,n)}function n(){CKEDITOR.document.removeListener("mousemove",e),CKEDITOR.document.removeListener("mouseup",n),o.document&&(o.document.removeListener("mousemove",e),o.document.removeListener("mouseup",n))}var r=o.config,i=o.ui.spaceId("resizer"),a=o.element?o.element.getDirection(1):"ltr";if(r.resize_dir||(r.resize_dir="vertical"),void 0===r.resize_maxWidth&&(r.resize_maxWidth=3e3),void 0===r.resize_maxHeight&&(r.resize_maxHeight=3e3),void 0===r.resize_minWidth&&(r.resize_minWidth=750),void 0===r.resize_minHeight&&(r.resize_minHeight=250),!1!==r.resize_enabled){var s,l,c=null,u=("both"==r.resize_dir||"horizontal"==r.resize_dir)&&r.resize_minWidth!=r.resize_maxWidth,d=("both"==r.resize_dir||"vertical"==r.resize_dir)&&r.resize_minHeight!=r.resize_maxHeight,h=CKEDITOR.tools.addFunction(function(t){c=c||o.getResizable(),l={width:c.$.offsetWidth||0,height:c.$.offsetHeight||0},s={x:t.screenX,y:t.screenY},r.resize_minWidth>l.width&&(r.resize_minWidth=l.width),r.resize_minHeight>l.height&&(r.resize_minHeight=l.height),CKEDITOR.document.on("mousemove",e),CKEDITOR.document.on("mouseup",n),o.document&&(o.document.on("mousemove",e),o.document.on("mouseup",n)),t.preventDefault&&t.preventDefault()});o.on("destroy",function(){CKEDITOR.tools.removeFunction(h)}),o.on("uiSpace",function(t){if("bottom"==t.data.space){var e="";u&&!d&&(e=" cke_resizer_horizontal"),!u&&d&&(e=" cke_resizer_vertical");var n='<span id="'+i+'" class="cke_resizer'+e+" cke_resizer_"+a+'" title="'+CKEDITOR.tools.htmlEncode(o.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+h+', event)">'+("ltr"==a?"":"")+"</span>";"ltr"==a&&"ltr"==e?t.data.html+=n:t.data.html=n+t.data.html}},o,null,100),o.on("maximize",function(t){o.ui.space("resizer")[t.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}}),function(){var n={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(t){(t=CKEDITOR.document.getById(t._.elementsPath.idBase+"0"))&&t.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},t="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');var b=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+t+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(e){e._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},e.on("uiSpace",function(t){"bottom"==t.data.space&&function(h,t){function o(t){var e;(t=g.list[t]).equals(h.editable())||"true"==t.getAttribute("contenteditable")?((e=h.createRange()).selectNodeContents(t),e=e.select()):(e=h.getSelection()).selectElement(t),CKEDITOR.env.ie&&h.fire("selectionChange",{selection:e,path:new CKEDITOR.dom.elementPath(t)}),h.focus()}function e(){f&&f.setHtml('<span class="cke_path_empty">&nbsp;</span>'),delete g.list}var f,p=h.ui.spaceId("path"),g=h._.elementsPath,m=g.idBase;t.html+='<span id="'+p+'_label" class="cke_voice_label">'+h.lang.elementspath.eleLabel+'</span><span id="'+p+'" class="cke_path" role="group" aria-labelledby="'+p+'_label"><span class="cke_path_empty">&nbsp;</span></span>',h.on("uiReady",function(){var t=h.ui.space("path");t&&h.focusManager.add(t,1)}),g.onClick=o;var v=CKEDITOR.tools.addFunction(o),y=CKEDITOR.tools.addFunction(function(t,e){var n,i=g.idBase;switch(e=new CKEDITOR.dom.event(e),n="rtl"==h.lang.dir,e.getKeystroke()){case n?39:37:case 9:return(n=CKEDITOR.document.getById(i+(t+1)))||(n=CKEDITOR.document.getById(i+"0")),n.focus(),!1;case n?37:39:case CKEDITOR.SHIFT+9:return(n=CKEDITOR.document.getById(i+(t-1)))||(n=CKEDITOR.document.getById(i+(g.list.length-1))),n.focus(),!1;case 27:return h.focus(),!1;case 13:case 32:return o(t),!1}return!0});h.on("selectionChange",function(t){for(var e=[],n=g.list=[],i=[],o=g.filters,r=!0,a=t.data.path.elements,s=a.length;s--;){var l=a[s],c=0;t=l.data("cke-display-name")?l.data("cke-display-name"):l.data("cke-real-element-type")?l.data("cke-real-element-type"):l.getName(),(r=l.hasAttribute("contenteditable")?"true"==l.getAttribute("contenteditable"):r)||l.hasAttribute("contenteditable")||(c=1);for(var u=0;u<o.length;u++){var d=o[u](l,t);if(!1===d){c=1;break}t=d||t}c||(n.unshift(l),i.unshift(t))}for(n=n.length,o=0;o<n;o++)t=i[o],r=h.lang.elementspath.eleTitle.replace(/%1/,t),t=b.output({id:m+o,label:r,text:t,jsTitle:"javascript:void('"+t+"')",index:o,keyDownFn:y,clickFn:v}),e.unshift(t);(i=f=f||CKEDITOR.document.getById(p)).setHtml(e.join("")+'<span class="cke_path_empty">&nbsp;</span>'),h.fire("elementsPathUpdate",{space:i})}),h.on("readOnly",e),h.on("contentDomUnload",e),h.addCommand("elementsPathFocus",n.toolbarFocus),h.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}(e,t.data)})}})}(),function(){function e(t,e,n){if(n=t.config.forceEnterMode||n,"wysiwyg"==t.mode){e=e||t.activeEnterMode;var i=t.elementPath();i&&!i.isContextFor("p")&&(e=CKEDITOR.ENTER_BR,n=1),t.fire("saveSnapshot"),e==CKEDITOR.ENTER_BR?y(t,e,null,n):c(t,e,null,n),t.fire("saveSnapshot")}}function g(t){for(var e=(t=t.getSelection().getRanges(!0)).length-1;0<e;e--)t[e].deleteContents();return t[0]}CKEDITOR.plugins.add("enterkey",{init:function(t){t.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t)}}),t.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t,t.activeShiftEnterMode,1)}}),t.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var m=CKEDITOR.dom.walker.whitespaces(),v=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(t,e,n,i){if(n=n||g(t)){var o,r=(n=function(t){var e=t.startContainer.getAscendant(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&"true"==t.getAttribute("contenteditable")},!0);return t.root.equals(e)?t:((e=new CKEDITOR.dom.range(e)).moveToRange(t),e)}(n)).document,a=n.checkStartOfBlock(),s=n.checkEndOfBlock(),l=t.elementPath(n.startContainer),c=l.block,u=e==CKEDITOR.ENTER_DIV?"div":"p";if(a&&s){if(c&&(c.is("li")||c.getParent().is("li"))){c.is("li")||(c=c.getParent()),o=(n=c.getParent()).getParent(),i=!c.hasPrevious();var d=!c.hasNext(),h=(u=t.getSelection()).createBookmarks(),f=(a=c.getDirection(1),s=c.getAttribute("class"),c.getAttribute("style")),p=o.getDirection(1)!=a;if(t=t.enterMode!=CKEDITOR.ENTER_BR||p||f||s,o.is("li"))i||d?(i&&d&&n.remove(),c[d?"insertAfter":"insertBefore"](o)):c.breakParent(o);else{if(t)l.block.is("li")?(o=r.createElement(e==CKEDITOR.ENTER_P?"p":"div"),p&&o.setAttribute("dir",a),f&&o.setAttribute("style",f),s&&o.setAttribute("class",s),c.moveChildren(o)):o=l.block,i||d?o[i?"insertBefore":"insertAfter"](n):(c.breakParent(n),o.insertAfter(n));else if(c.appendBogus(!0),i||d)for(;r=c[i?"getFirst":"getLast"]();)r[i?"insertBefore":"insertAfter"](n);else for(c.breakParent(n);r=c.getLast();)r.insertAfter(n);c.remove()}return void u.selectBookmarks(h)}if(c&&c.getParent().is("blockquote"))return c.breakParent(c.getParent()),c.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getPrevious().remove(),c.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getNext().remove(),n.moveToElementEditStart(c),void n.select()}else if(c&&c.is("pre")&&!s)return void y(t,e,n,i);if(a=n.splitBlock(u)){if(e=a.previousBlock,c=a.nextBlock,l=a.wasStartOfBlock,t=a.wasEndOfBlock,c?(h=c.getParent()).is("li")&&(c.breakParent(h),c.move(c.getNext(),1)):e&&(h=e.getParent())&&h.is("li")&&(e.breakParent(h),h=e.getNext(),n.moveToElementEditStart(h),e.move(e.getPrevious())),l||t){if(e?!e.is("li")&&(b.test(e.getName())||e.is("pre"))||(o=e.clone()):c&&(o=c.clone()),o?i&&!o.is("li")&&o.renameNode(u):h&&h.is("li")?o=h:(o=r.createElement(u),e&&(d=e.getDirection())&&o.setAttribute("dir",d)),r=a.elementPath)for(i=0,u=r.elements.length;i<u&&(!(h=r.elements[i]).equals(r.block)&&!h.equals(r.blockLimit));i++)CKEDITOR.dtd.$removeEmpty[h.getName()]&&(h=h.clone(),o.moveChildren(h),o.append(h));o.appendBogus(),o.getParent()||n.insertNode(o),o.is("li")&&o.removeAttribute("value"),!CKEDITOR.env.ie||!l||t&&e.getChildCount()||(n.moveToElementEditStart(t?e:o),n.select()),n.moveToElementEditStart(l&&!t?c:o)}else c.is("li")&&((o=n.clone()).selectNodeContents(c),(o=new CKEDITOR.dom.walker(o)).evaluator=function(t){return!(v(t)||m(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in CKEDITOR.dtd.$inline&&!(t.getName()in CKEDITOR.dtd.$empty))},(h=o.next())&&h.type==CKEDITOR.NODE_ELEMENT&&h.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?r.createElement("br"):r.createText("")).insertBefore(h)),c&&n.moveToElementEditStart(c);n.select(),n.scrollIntoView()}}},enterBr:function(t,e,n,i){if(n=n||g(t)){var o=n.document,r=n.checkEndOfBlock(),a=new CKEDITOR.dom.elementPath(t.getSelection().getStartElement()),s=a.block,l=s&&a.block.getName();i||"li"!=l?(!i&&r&&b.test(l)?(r=s.getDirection())?((o=o.createElement("div")).setAttribute("dir",r),o.insertAfter(s),n.setStart(o,0)):(o.createElement("br").insertAfter(s),CKEDITOR.env.gecko&&o.createText("").insertAfter(s),n.setStartAt(s.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(t="pre"==l&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?o.createText("\r"):o.createElement("br"),n.deleteContents(),n.insertNode(t),CKEDITOR.env.needsBrFiller?(o.createText("\ufeff").insertAfter(t),r&&(s||a.blockLimit).appendBogus(),t.getNext().$.nodeValue="",n.setStartAt(t.getNext(),CKEDITOR.POSITION_AFTER_START)):n.setStartAt(t,CKEDITOR.POSITION_AFTER_END)),n.collapse(!0),n.select(),n.scrollIntoView()):c(t,e,n,i)}}};var t=CKEDITOR.plugins.enterkey,y=t.enterBr,c=t.enterBlock,b=/^h[1-6]$/}(),CKEDITOR.plugins.add("entities",{afterInit:function(t){function e(t){return s[t]}function n(t){return"force"!=i.entities_processNumerical&&r[t]?r[t]:"&#"+t.charCodeAt(0)+";"}var i=t.config;if(t=(t=t.dataProcessor)&&t.htmlFilter){var o=[];!1!==i.basicEntities&&o.push("nbsp,gt,lt,amp"),i.entities&&(o.length&&o.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),i.entities_latin&&o.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),i.entities_greek&&o.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),i.entities_additional&&o.push(i.entities_additional));var r=qe(o.join(",")),a=r.regex?"["+r.regex+"]":"a^";delete r.regex,i.entities&&i.entities_processNumerical&&(a="[^ -~]|"+a),a=new RegExp(a,"g");var s=qe("nbsp,gt,lt,amp,shy",!0),l=new RegExp(s.regex,"g");t.addRules({text:function(t){return t.replace(l,e).replace(a,n)}},{applyToAll:!0,excludeNestedEditable:!0})}}}),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(e,t,n,i){n=n||"70%","string"==typeof(t=t||"80%")&&1<t.length&&"%"==t.substr(t.length-1,1)&&(t=parseInt(window.screen.width*parseInt(t,10)/100,10)),"string"==typeof n&&1<n.length&&"%"==n.substr(n.length-1,1)&&(n=parseInt(window.screen.height*parseInt(n,10)/100,10)),t<640&&(t=640),n<420&&(n=420);var o=parseInt((window.screen.height-n)/2,10),r=parseInt((window.screen.width-t)/2,10);i=(i||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+t+",height="+n+",top="+o+",left="+r;var a=window.open("",null,i,!0);if(!a)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(a.moveTo(r,o),a.resizeTo(t,n)),a.focus(),a.location.href=e}catch(t){window.open(e,null,i,!0)}return!0}}),CKEDITOR.plugins.add("filebrowser",{requires:"popup",init:function(t){t._.filebrowserFn=CKEDITOR.tools.addFunction(Je,t),t.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}}),CKEDITOR.on("dialogDefinition",function(t){if(t.editor.plugins.filebrowser)for(var e,n=t.data.definition,i=0;i<n.contents.length;++i)(e=n.contents[i])&&(Ze(t.editor,t.data.name,n,e.elements),e.hidden&&e.filebrowser&&(e.hidden=!Qe(n,e.id,e.filebrowser)))}),wt=CKEDITOR.document.getWindow(),Tt=CKEDITOR.tools.cssLength,CKEDITOR.plugins.add("floatingspace",{init:function(t){t.on("loaded",function(){!function(n){var i,o,r,a,s,l,c,u,d,h,f,p=n.config,t=n.fire("uiSpace",{space:"top",html:""}).html,g=(u=p.floatSpaceDockedOffsetX||0,d=p.floatSpaceDockedOffsetY||0,h=p.floatSpacePinnedOffsetX||0,f=p.floatSpacePinnedOffsetY||0,function(t){if(o=n.editable()){var e=t&&"focus"==t.name;e&&y.show(),n.fire("floatingSpaceLayout",{show:e}),y.removeStyle("left"),y.removeStyle("right"),r=y.getClientRect(),a=o.getClientRect(),s=wt.getViewPaneSize(),l=r.height,c="pageXOffset"in wt.$?wt.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,i?(l+d<=a.top?v("top"):l+d>s.height-a.bottom?v("pin"):v("bottom"),t=s.width/2,t=p.floatSpacePreferRight?"right":0<a.left&&a.right<s.width&&a.width>r.width?"rtl"==p.contentsLangDirection?"right":"left":t-a.left>a.right-t?"left":"right",r.width>s.width?(t="left",e=0):(e="left"==t?0<a.left?a.left:0:a.right<s.width?s.width-a.right:0)+r.width>s.width&&(t="left"==t?"right":"left",e=0),y.setStyle(t,Tt(("pin"==i?h:u)+e+("pin"==i?0:"left"==t?c:-c)))):(v(i="pin"),g(t))}});function m(t,e,n){y.setStyle(e,Tt(n)),y.setStyle("position",t)}function v(t){var e=o.getDocumentPosition();switch(t){case"top":m("absolute","top",e.y-l-d);break;case"pin":m("fixed","top",f);break;case"bottom":m("absolute","top",e.y+(a.height||a.bottom-a.top)+d)}i=t}if(t){var e=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(n.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(n.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),y=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(e.output({content:t,id:n.id,langDir:n.lang.dir,langCode:n.langCode,name:n.name,style:"display:none;z-index:"+(p.baseFloatZIndex-1),topId:n.ui.spaceId("top"),voiceLabel:n.title}))),b=CKEDITOR.tools.eventsBuffer(500,g),_=CKEDITOR.tools.eventsBuffer(100,g);y.unselectable(),y.on("mousedown",function(t){(t=t.data).getTarget().hasAscendant("a",1)||t.preventDefault()}),n.on("focus",function(t){g(t),n.on("change",b.input),wt.on("scroll",_.input),wt.on("resize",_.input)}),n.on("blur",function(){y.hide(),n.removeListener("change",b.input),wt.removeListener("scroll",_.input),wt.removeListener("resize",_.input)}),n.on("destroy",function(){wt.removeListener("scroll",_.input),wt.removeListener("resize",_.input),y.clearCustomData(),y.remove()}),n.focusManager.hasFocus&&y.show(),n.focusManager.add(y,1)}}(this)},null,null,20)}}),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var e=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),o=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),n=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),r=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(t,e){return this.addBlock(t,new CKEDITOR.ui.listBlock(this.getHolderElement(),e))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(t,e){var n=(e=e||{}).attributes||(e.attributes={});(this.multiSelect=!!e.multiSelect)&&(n["aria-multiselectable"]=!0),n.role||(n.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",n.role),(n=this.keys)[40]="next",n[9]="next",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(n[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var t=e.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(t),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction(function(t){var e=this.toggle(t);this.onClick&&this.onClick(t,e)},this)),this._.click}},proto:{add:function(t,e,n){var i=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),t={id:this._.items[t]=i,val:CKEDITOR.tools.htmlEncodeAttr(t).replace(r,"\\'"),onclick:CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(n||t),text:e||t},this._.pendingList.push(o.output(t))},startGroup:function(t){this._.close();var e=CKEDITOR.tools.getNextId();this._.groups[t]=e,this._.pendingHtml.push(n.output({id:e,label:t}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(t){var e=this.isMarked(t);return e?this.unmark(t):this.mark(t),!e},hideGroup:function(t){var e=(t=this.element.getDocument().getById(this._.groups[t]))&&t.getNext();t&&(t.setStyle("display","none"),e&&"ul"==e.getName()&&e.setStyle("display","none"))},hideItem:function(t){this.element.getDocument().getById(this._.items[t]).setStyle("display","none")},showAll:function(){var t,e=this._.items,n=this._.groups,i=this.element.getDocument();for(t in e)i.getById(e[t]).setStyle("display","");for(var o in n)t=(e=i.getById(n[o])).getNext(),e.setStyle("display",""),t&&"ul"==t.getName()&&t.setStyle("display","")},mark:function(t){this.multiSelect||this.unmarkAll(),t=this._.items[t];var e=this.element.getDocument().getById(t);e.addClass("cke_selected"),this.element.getDocument().getById(t+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(e)},markFirstDisplayed:function(){var t=this;this._.markFirstDisplayed(function(){t.multiSelect||t.unmarkAll()})},unmark:function(t){var e=this.element.getDocument();t=this._.items[t];var n=e.getById(t);n.removeClass("cke_selected"),e.getById(t+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(n)},unmarkAll:function(){var t,e=this._.items,n=this.element.getDocument();for(t in e){var i=e[t];n.getById(i).removeClass("cke_selected"),n.getById(i+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(t){return this.element.getDocument().getById(this._.items[t]).hasClass("cke_selected")},focus:function(t){this._.focusIndex=-1;var e,n=this.element.getElementsByTag("a"),i=-1;if(t){for(e=this.element.getDocument().getById(this._.items[t]).getFirst();t=n.getItem(++i);)if(t.equals(e)){this._.focusIndex=i;break}}else this.element.focus();e&&setTimeout(function(){e.focus()},0)}}})}}),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var t='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');t=t+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>";var d=CKEDITOR.addTemplate("combo",t);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(t){CKEDITOR.tools.extend(this,t,{canGroup:!1,title:t.label,modes:{wysiwyg:1},editorFocus:1}),t=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=t.parent&&t.parent.getDocument()||CKEDITOR.document,t.className="cke_combopanel",t.block={multiSelect:t.multiSelect,attributes:t.attributes},t.toolbarRelated=!0,this._={panelDefinition:t,items:{}}},proto:{renderHtml:function(t){var e=[];return this.render(t,e),e.join("")},render:function(i,t){function e(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var t=this.modes[i.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;i.readOnly&&!this.readOnly&&(t=CKEDITOR.TRISTATE_DISABLED),this.setState(t),this.setValue(""),t!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var n=CKEDITOR.env,o="cke_"+this.id,r=CKEDITOR.tools.addFunction(function(t){u&&(i.unlockSelection(1),u=0),s.execute(t)},this),a=this,s={id:o,combo:this,focus:function(){CKEDITOR.document.getById(o).getChild(1).focus()},execute:function(t){var e=a._;if(e.state!=CKEDITOR.TRISTATE_DISABLED)if(a.createPanel(i),e.on)e.panel.hide();else{a.commit();var n=a.getValue();n?e.list.mark(n):e.list.unmarkAll(),e.panel.showBlock(a.id,new CKEDITOR.dom.element(t),4)}},clickFn:r};i.on("activeFilterChange",e,this),i.on("mode",e,this),i.on("selectionChange",e,this),this.readOnly||i.on("readOnly",e,this);var l=CKEDITOR.tools.addFunction(function(t,e){var n=(t=new CKEDITOR.dom.event(t)).getKeystroke();switch(n){case 13:case 32:case 40:CKEDITOR.tools.callFunction(r,e);break;default:s.onkey(s,n)}t.preventDefault()}),c=CKEDITOR.tools.addFunction(function(){s.onfocus&&s.onfocus()}),u=0;return s.keyDownFn=l,n={id:o,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:n.gecko&&!n.hc?"":(this.title||"").replace("'",""),keydownFn:l,focusFn:c,clickFn:r},d.output(n,t),this.onRender&&this.onRender(),s},createPanel:function(e){if(!this._.panel){var t=this._.panelDefinition,n=this._.panelDefinition.block,i=t.parent||CKEDITOR.document.getBody(),o="cke_combopanel__"+this.name,r=new CKEDITOR.ui.floatPanel(e,i,t),a=(t=r.addListBlock(this.id,n),this);r.onShow=function(){this.element.addClass(o),a.setState(CKEDITOR.TRISTATE_ON),a._.on=1,a.editorFocus&&!e.focusManager.hasFocus&&e.focus(),a.onOpen&&a.onOpen()},r.onHide=function(t){this.element.removeClass(o),a.setState(a.modes&&a.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a._.on=0,!t&&a.onClose&&a.onClose()},r.onEscape=function(){r.hide(1)},t.onClick=function(t,e){a.onClick&&a.onClick.call(a,t,e),r.hide()},this._.panel=r,this._.list=t,r.getBlock(this.id).onHide=function(){a._.on=0,a.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(t,e){this._.value=t;var n=this.document.getById("cke_"+this.id+"_text");n&&(t||e?n.removeClass("cke_combo_inlinelabel"):(e=this.label,n.addClass("cke_combo_inlinelabel")),n.setText(void 0!==e?e:t))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(t){this._.list.mark(t)},hideItem:function(t){this._.list.hideItem(t)},hideGroup:function(t){this._.list.hideGroup(t)},showAll:function(){this._.list.showAll()},add:function(t,e,n){this._.items[t]=n||t,this._.list.add(t,e,n)},startGroup:function(t){this._.list.startGroup(t)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(t){if(this._.state!=t){var e=this.document.getById("cke_"+this.id);e.setState(t,"cke_combo"),t==CKEDITOR.TRISTATE_DISABLED?e.setAttribute("aria-disabled",!0):e.removeAttribute("aria-disabled"),this._.state=t}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},statics:{handler:{create:function(t){return new CKEDITOR.ui.richCombo(t)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(t,e){this.add(t,CKEDITOR.UI_RICHCOMBO,e)}}(),CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(i){if(!i.blockless){for(var t=i.config,n=i.lang.format,e=t.format_tags.split(";"),o={},r=0,a=[],s=0;s<e.length;s++){var l=e[s],c=new CKEDITOR.style(t["format_"+l]);i.filter.customConfig&&!i.filter.check(c)||(r++,o[l]=c,o[l]._.enterMode=i.config.enterMode,a.push(c))}0!==r&&i.ui.addRichCombo("Format",{label:n.label,title:n.panelTitle,toolbar:"styles,20",allowedContent:a,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){for(var t in this.startGroup(n.panelTitle),o){var e=n["tag_"+t];this.add(t,o[t].buildPreview(e),e)}},onClick:function(t){i.focus(),i.fire("saveSnapshot"),t=o[t];var e=i.elementPath();t.checkActive(e,i)||i.applyStyle(t),setTimeout(function(){i.fire("saveSnapshot")},0)},onRender:function(){i.on("selectionChange",function(t){var e=this.getValue();for(var n in t=t.data.path,this.refresh(),o)if(o[n].checkActive(t,i))return void(n!=e&&this.setValue(n,i.lang.format["tag_"+n]));this.setValue("")},this)},onOpen:function(){for(var t in this.showAll(),o)i.activeFilter.check(o[t])||this.hideItem(t)},refresh:function(){var t=i.elementPath();if(t){if(t.isContextFor("p"))for(var e in o)if(i.activeFilter.check(o[e]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},Ct={canUndo:!1,exec:function(t){var e=t.document.createElement("hr");t.insertElement(e)},allowedContent:"hr",requiredContent:"hr"},CKEDITOR.plugins.add("horizontalrule",{init:function(t){t.blockless||(t.addCommand("horizontalrule",Ct),t.ui.addButton&&t.ui.addButton("HorizontalRule",{label:t.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}}),CKEDITOR.plugins.add("htmlwriter",{init:function(t){var e=new CKEDITOR.htmlWriter;e.forceSimpleAmpersand=t.config.forceSimpleAmpersand,e.indentationChars=t.config.dataIndentationChars||"\t",t.dataProcessor.writer=e}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="\t",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var t,e=CKEDITOR.dtd;for(t in CKEDITOR.tools.extend({},e.$nonBodyContent,e.$block,e.$listItem,e.$tableContent))this.setRules(t,{indent:!e[t]["#"],breakBeforeOpen:1,breakBeforeClose:!e[t]["#"],breakAfterClose:1,needsSpace:t in e.$block&&!(t in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(t){var e=this._.rules[t];this._.afterCloser&&e&&e.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():e&&e.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",t),this._.afterCloser=0},openTagClose:function(t,e){var n=this._.rules[t];e?(this._.output.push(this.selfClosingEnd),n&&n.breakAfterClose&&(this._.needsSpace=n.needsSpace)):(this._.output.push(">"),n&&n.indent&&(this._.indentation+=this.indentationChars)),n&&n.breakAfterOpen&&this.lineBreak(),"pre"==t&&(this._.inPre=1)},attribute:function(t,e){"string"==typeof e&&(this.forceSimpleAmpersand&&(e=e.replace(/&amp;/g,"&")),e=CKEDITOR.tools.htmlEncodeAttr(e)),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){var e=this._.rules[t];e&&e.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():e&&e.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",t,">"),"pre"==t&&(this._.inPre=0),e&&e.breakAfterClose&&(this.lineBreak(),this._.needsSpace=e.needsSpace),this._.afterCloser=1},text:function(t){this._.indent&&(this.indentation(),this._.inPre||(t=CKEDITOR.tools.ltrim(t))),this._.output.push(t)},comment:function(t){this._.indent&&this.indentation(),this._.output.push("\x3c!--",t,"--\x3e")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0,this._.needsSpace=0},setRules:function(t,e){var n=this._.rules[t];n?CKEDITOR.tools.extend(n,e,!0):this._.rules[t]=e}}}),CKEDITOR.plugins.add("wysiwygarea",{init:function(l){l.config.fullPage&&l.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),l.addMode("wysiwyg",function(e){function t(t){t&&t.removeListener(),l.editable(new xt(l,i.$.contentWindow.document.body)),l.setData(l.getData(1),e)}var n="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",i=(n=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(n)+"}())":"",CKEDITOR.dom.element.createFromHtml('<iframe src="'+n+'" frameBorder="0"></iframe>'));i.setStyles({width:"100%",height:"100%"}),i.addClass("cke_wysiwyg_frame").addClass("cke_reset"),(n=l.ui.space("contents")).append(i);var o=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;o&&i.on("load",t);var r=l.title,a=l.fire("ariaEditorHelpLabel",{}).label;if(r&&(CKEDITOR.env.ie&&a&&(r+=", "+a),i.setAttribute("title",r)),a){r=CKEDITOR.tools.getNextId();var s=CKEDITOR.dom.element.createFromHtml('<span id="'+r+'" class="cke_voice_label">'+a+"</span>");n.append(s,1),i.setAttribute("aria-describedby",r)}l.on("beforeModeUnload",function(t){t.removeListener(),s&&s.remove()}),i.setAttributes({tabIndex:l.tabIndex,allowTransparency:"true"}),o||t(),l.fire("ariaWidget",i)})}}),CKEDITOR.editor.prototype.addContentsCss=function(t){var e=this.config,n=e.contentsCss;CKEDITOR.tools.isArray(n)||(e.contentsCss=n?[n]:[]),e.contentsCss.push(t)},xt=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(t){CKEDITOR.tools.setTimeout(tn,0,this,t)},this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(e,t){var n=this.editor;if(t)this.setHtml(e),this.fixInitialSelection(),n.fire("dataReady");else{this._.isLoadingData=!0,n._.dataStore={id:1};var i=n.config,o=i.fullPage,r=i.docType,a=CKEDITOR.tools.buildStyleHtml(function(){var t=[];if(8<=CKEDITOR.document.$.documentMode){t.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var e,n=[];for(e in CKEDITOR.dtd.$removeEmpty)n.push("html.CSS1Compat "+e+"[contenteditable=false]");t.push(n.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(t.push("html{height:100% !important}"),t.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return t.push("html{cursor:text;*cursor:auto}"),t.push("img,input,textarea{cursor:default}"),t.join("\n")}()).replace(/<style>/,'<style data-cke-temp="1">');o||(a+=CKEDITOR.tools.buildStyleHtml(n.config.contentsCss));var s=i.baseHref?'<base href="'+i.baseHref+'" data-cke-temp="1" />':"";o&&(e=e.replace(/<!DOCTYPE[^>]*>/i,function(t){return n.docType=r=t,""}).replace(/<\?xml\s[^\?]*\?>/i,function(t){return n.xmlDeclaration=t,""})),e=n.dataProcessor.toHtml(e),e=o?(/<body[\s|>]/.test(e)||(e="<body>"+e),/<html[\s|>]/.test(e)||(e="<html>"+e+"</html>"),/<head[\s|>]/.test(e)?/<title[\s|>]/.test(e)||(e=e.replace(/<head[^>]*>/,"$&<title></title>")):e=e.replace(/<html[^>]*>/,"$&<head><title></title></head>"),s&&(e=e.replace(/<head[^>]*?>/,"$&"+s)),e=e.replace(/<\/head\s*>/,a+"$&"),r+e):i.docType+'<html dir="'+i.contentsLangDirection+'" lang="'+(i.contentsLanguage||n.langCode)+'"><head><title>'+this._.docTitle+"</title>"+s+a+"</head><body"+(i.bodyId?' id="'+i.bodyId+'"':"")+(i.bodyClass?' class="'+i.bodyClass+'"':"")+">"+e+"</body></html>",CKEDITOR.env.gecko&&(e=e.replace(/<body/,'<body contenteditable="true" '),CKEDITOR.env.version<2e4&&(e=e.replace(/<body[^>]*>/,"$&\x3c!-- cke-content-start --\x3e"))),i='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"<\/script>",CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(i+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)<\/script>'),s&&CKEDITOR.env.ie&&CKEDITOR.env.version<10&&(i+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;<\/script>'),e=e.replace(/(?=\s*<\/(:?head)>)/,i),this.clearCustomData(),this.clearListeners(),n.fire("contentDomUnload");var l=this.getDocument();try{l.write(e)}catch(t){setTimeout(function(){l.write(e)},0)}}},getData:function(t){if(t)return this.getHtml();var e=(t=this.editor).config,n=(r=e.fullPage)&&t.docType,i=r&&t.xmlDeclaration,o=this.getDocument(),r=r?o.getDocumentElement().getOuterHtml():o.getBody().getHtml();return CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(r=r.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),r=t.dataProcessor.toDataFormat(r),i&&(r=i+"\n"+r),n&&(r=n+"\n"+r),r},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:xt.baseProto.focus.call(this)},detach:function(){var t,e=this.editor,n=e.document;try{t=e.window.getFrame()}catch(t){}xt.baseProto.detach.call(this),this.clearCustomData(),n.getDocumentElement().clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),t&&t.getParent()?(t.clearCustomData(),(e=t.removeCustomData("onResize"))&&e.removeListener(),t.remove()):CKEDITOR.warn("editor-destroy-iframe")}}}),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.plugins.add("image",{requires:"dialog",init:function(e){if(!e.plugins.image2){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var t="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(e,"image","advanced")&&(t="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),e.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:t,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),e.ui.addButton&&e.ui.addButton("Image",{label:e.lang.common.image,command:"image",toolbar:"insert,10"}),e.on("doubleclick",function(t){var e=t.data.element;!e.is("img")||e.data("cke-realelement")||e.isReadOnly()||(t.data.dialog="image")}),e.addMenuItems&&e.addMenuItems({image:{label:e.lang.image.menu,command:"image",group:"image"}}),e.contextMenu&&e.contextMenu.addListener(function(t){if(en(e,t))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(i){function t(n){var t=i.getCommand("justify"+n);t&&("left"!=n&&"right"!=n||t.on("exec",function(t){var e=en(i);e&&(nn(e)==n?(e.removeStyle("float"),n==nn(e)&&e.removeAttribute("align")):e.setStyle("float",n),t.cancel())}),t.on("refresh",function(t){var e=en(i);e&&(e=nn(e),this.setState(e==n?CKEDITOR.TRISTATE_ON:"right"==n||"left"==n?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),t.cancel())}))}i.plugins.image2||(t("left"),t("right"),t("center"),t("block"))}}),CKEDITOR.config.image_removeLinkByEmptyURL=!0,Dt=CKEDITOR.TRISTATE_DISABLED,Ot=CKEDITOR.TRISTATE_OFF,CKEDITOR.plugins.add("indent",{init:function(l){var t=CKEDITOR.plugins.indent.genericDefinition;on(l,l.addCommand("indent",new t(!0))),on(l,l.addCommand("outdent",new t)),l.ui.addButton&&(l.ui.addButton("Indent",{label:l.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),l.ui.addButton("Outdent",{label:l.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),l.on("dirChanged",function(t){var e=l.createRange(),n=t.data.node;e.setStartBefore(n),e.setEndAfter(n);for(var i,o=new CKEDITOR.dom.walker(e);i=o.next();)if(i.type==CKEDITOR.NODE_ELEMENT)if(!i.equals(n)&&i.getDirection())e.setStartAfter(i),o=new CKEDITOR.dom.walker(e);else{var r=l.config.indentClasses;if(r)for(var a="ltr"==t.data.dir?["_rtl",""]:["","_rtl"],s=0;s<r.length;s++)i.hasClass(r[s]+a[0])&&(i.removeClass(r[s]+a[0]),i.addClass(r[s]+a[1]));r=i.getStyle("margin-right"),a=i.getStyle("margin-left"),r?i.setStyle("margin-left",r):i.removeStyle("margin-left"),a?i.setStyle("margin-right",a):i.removeStyle("margin-right")}})}}),CKEDITOR.plugins.indent={genericDefinition:function(t){this.isIndent=!!t,this.startDisabled=!this.isIndent},specificDefinition:function(t,e,n){this.name=e,this.editor=t,this.jobs={},this.enterBr=t.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!n,this.relatedGlobal=n?"indent":"outdent",this.indentKey=n?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(t,e){t.on("pluginsLoaded",function(){for(var t in e)!function(e,n){var i,t=e.getCommand(n.relatedGlobal);for(i in n.jobs)t.on("exec",function(t){t.data.done||(e.fire("lockSnapshot"),n.execJob(e,i)&&(t.data.done=!0),e.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(n.database))},this,null,i),t.on("refresh",function(t){t.data.states||(t.data.states={}),t.data.states[n.name+"@"+i]=n.refreshJob(e,i,t.data.path)},this,null,i);e.addFeature(n)}(this,e[t])})}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(t,e){var n=this.jobs[e];if(n.state!=Dt)return n.exec.call(this,t)},refreshJob:function(t,e,n){return e=this.jobs[e],t.activeFilter.checkFeature(this)?e.state=e.refresh.call(this,t,n):e.state=Dt,e.state},getContext:function(t){return t.contains(this.context)}},It=CKEDITOR.dom.walker.whitespaces(!0),kt=CKEDITOR.dom.walker.bookmark(!1,!0),St=CKEDITOR.TRISTATE_DISABLED,Rt=CKEDITOR.TRISTATE_OFF,CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(t){function e(i){n.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],i.on("key",function(t){var e=i.elementPath();if("wysiwyg"==i.mode&&t.data.keyCode==this.indentKey&&e){var n=this.getContext(e);!n||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,e,n)||(i.execCommand(this.relatedGlobal),t.cancel())}},this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(t,e){var n=this.getContext(e),i=CKEDITOR.plugins.indentList.firstItemInPath(this.context,e,n);return n&&this.isIndent&&!i?Rt:St}:function(t,e){return!this.getContext(e)||this.isIndent?St:Rt},exec:CKEDITOR.tools.bind(rn,this)}}var n=CKEDITOR.plugins.indent;n.registerCommands(t,{indentlist:new e(t,"indentlist",!0),outdentlist:new e(t,"outdentlist")}),CKEDITOR.tools.extend(e.prototype,n.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(t,e,n){var i=e.contains(an);return(n=n||e.contains(t))&&i&&i.equals(n.getFirst(an))},At=CKEDITOR.htmlParser.cssStyle,Mt=CKEDITOR.tools.cssLength,Nt=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,Kt={elements:{$:function(t){var e=t.attributes;if((e=(e=(e=e&&e["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(e)))&&e.children[0])&&t.attributes["data-cke-resizable"]){var n=new At(t).rules;t=e.attributes;var i=n.width;n=n.height;i&&(t.width=ln(t.width,i)),n&&(t.height=ln(t.height,n))}return e}}},CKEDITOR.plugins.add("fakeobjects",{init:function(t){t.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(t){(t=(t=t.dataProcessor)&&t.htmlFilter)&&t.addRules(Kt,{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(t,e,n,i){var o=(o=this.lang.fakeobjects)[n]||o.unknown;return e={class:e,"data-cke-realelement":encodeURIComponent(t.getOuterHtml()),"data-cke-real-node-type":t.type,alt:o,title:o,align:t.getAttribute("align")||""},CKEDITOR.env.hc||(e.src=CKEDITOR.tools.transparentImageData),n&&(e["data-cke-real-element-type"]=n),i&&(e["data-cke-resizable"]=i,n=new At,i=t.getAttribute("width"),t=t.getAttribute("height"),i&&(n.rules.width=Mt(i)),t&&(n.rules.height=Mt(t)),n.populate(e)),this.document.createElement("img",{attributes:e})},CKEDITOR.editor.prototype.createFakeParserElement=function(t,e,n,i){var o,r=(r=this.lang.fakeobjects)[n]||r.unknown;return o=new CKEDITOR.htmlParser.basicWriter,t.writeHtml(o),o=o.getHtml(),e={class:e,"data-cke-realelement":encodeURIComponent(o),"data-cke-real-node-type":t.type,alt:r,title:r,align:t.attributes.align||""},CKEDITOR.env.hc||(e.src=CKEDITOR.tools.transparentImageData),n&&(e["data-cke-real-element-type"]=n),i&&(e["data-cke-resizable"]=i,i=t.attributes,t=new At,n=i.width,i=i.height,void 0!==n&&(t.rules.width=Mt(n)),void 0!==i&&(t.rules.height=Mt(i)),t.populate(e)),new CKEDITOR.htmlParser.element("img",e)},CKEDITOR.editor.prototype.restoreRealElement=function(t){if(t.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var e=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(t.data("cke-realelement")),this.document);if(t.data("cke-resizable")){var n=t.getStyle("width");t=t.getStyle("height"),n&&e.setAttribute("width",ln(e.getAttribute("width"),n)),t&&e.setAttribute("height",ln(e.getAttribute("height"),t))}return e},function(){function d(t){return t.replace(/'/g,"\\$&")}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function t(t){return n.replace(/%1/g,"rtl"==t?"right":"left").replace(/%2/g,"cke_contents_"+t)}var e="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",n=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+e+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+e+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(t("ltr")+t("rtl"))},init:function(n){var t="a[!href]";CKEDITOR.dialog.isTabEnabled(n,"link","advanced")&&(t=t.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)")),CKEDITOR.dialog.isTabEnabled(n,"link","target")&&(t=t.replace("]",",target,onclick]")),n.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:t,requiredContent:"a[href]"})),n.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),n.addCommand("unlink",new CKEDITOR.unlinkCommand),n.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),n.setKeystroke(CKEDITOR.CTRL+76,"link"),n.ui.addButton&&(n.ui.addButton("Link",{label:n.lang.link.toolbar,command:"link",toolbar:"links,10"}),n.ui.addButton("Unlink",{label:n.lang.link.unlink,command:"unlink",toolbar:"links,20"}),n.ui.addButton("Anchor",{label:n.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),n.on("doubleclick",function(t){var e=t.data.element.getAscendant({a:1,img:1},!0);e&&!e.isReadOnly()&&(e.is("a")?(t.data.dialog=!e.getAttribute("name")||e.getAttribute("href")&&e.getChildCount()?"link":"anchor",t.data.link=e):CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,e)&&(t.data.dialog="anchor"))},null,null,0),n.on("doubleclick",function(t){t.data.dialog in{link:1,anchor:1}&&t.data.link&&n.getSelection().selectElement(t.data.link)},null,null,20),n.addMenuItems&&n.addMenuItems({anchor:{label:n.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:n.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:n.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:n.lang.link.unlink,command:"unlink",group:"link",order:5}}),n.contextMenu&&n.contextMenu.addListener(function(t){if(!t||t.isReadOnly())return null;if(!(t=CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,t))&&!(t=CKEDITOR.plugins.link.getSelectedLink(n)))return null;var e={};return t.getAttribute("href")&&t.getChildCount()&&(e={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),t&&t.hasAttribute("name")&&(e.anchor=e.removeAnchor=CKEDITOR.TRISTATE_OFF),e}),this.compiledProtectionFunction=function(t){var i;return(t=t.config.emailProtection||"")&&"encode"!=t&&(i={},t.replace(/^([^(]+)\(([^)]+)\)$/,function(t,e,n){i.name=e,i.params=[],n.replace(/[^,\s]+/g,function(t){i.params.push(t)})})),i}(n)},afterInit:function(n){n.dataProcessor.dataFilter.addRules({elements:{a:function(t){return t.attributes.name?t.children.length?null:n.createFakeParserElement(t,"cke_anchor","anchor"):null}}});var t=n._.elementsPath&&n._.elementsPath.filters;t&&t.push(function(t,e){if("a"==e&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,t)||t.getAttribute("name")&&(!t.getAttribute("href")||!t.getChildCount())))return"anchor"})}});var c=/^javascript:/,u=/^mailto:([^?]+)(?:\?(.+))?$/,h=/subject=([^;?:@&=$,\/]*)/i,f=/body=([^;?:@&=$,\/]*)/i,p=/^#(.*)$/,g=/^((?:http|https|ftp|news):\/\/)?(.*)$/,m=/^(_(?:self|top|parent|blank))$/,v=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,y=/^javascript:([^(]+)\(([^)]+)\)$/,b=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,_=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,E={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType",class:"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(t,e){var n,i=t.getSelection(),o=i.getSelectedElement(),r=i.getRanges(),a=[];if(!e&&o&&o.is("a"))return o;for(o=0;o<r.length;o++)if((n=i.getRanges()[o]).shrink(CKEDITOR.SHRINK_TEXT,!1,{skipBogus:!0}),(n=t.elementPath(n.getCommonAncestor()).contains("a",1))&&e)a.push(n);else if(n)return n;return e?a:null},getEditorAnchors:function(t){for(var e,n=(i=(n=t.editable()).isInline()&&!t.plugins.divarea?t.document:n).getElementsByTag("a"),i=i.getElementsByTag("img"),o=[],r=0;e=n.getItem(r++);)(e.data("cke-saved-name")||e.hasAttribute("name"))&&o.push({name:e.data("cke-saved-name")||e.getAttribute("name"),id:e.getAttribute("id")});for(r=0;e=i.getItem(r++);)(e=this.tryRestoreFakeAnchor(t,e))&&o.push({name:e.getAttribute("name"),id:e.getAttribute("id")});return o},fakeAnchor:!0,tryRestoreFakeAnchor:function(t,e){if(e&&e.data("cke-real-element-type")&&"anchor"==e.data("cke-real-element-type")){var n=t.restoreRealElement(e);if(n.data("cke-saved-name"))return n}},parseLinkAttributes:function(t,e){var n,i=e&&(e.data("cke-saved-href")||e.getAttribute("href"))||"",a=t.plugins.link.compiledProtectionFunction,o=t.config.emailProtection,s={};if(i.match(c)&&("encode"==o?i=i.replace(v,function(t,e,n){return n=n||"","mailto:"+String.fromCharCode.apply(String,e.split(","))+n.replace(/\\'/g,"'")}):o&&i.replace(y,function(t,e,n){if(e==a.name){s.type="email",t=s.email={},e=/(^')|('$)/g;for(var i,o=(n=n.match(/[^,\s]+/g)).length,r=0;r<o;r++)i=decodeURIComponent(i=n[r].replace(e,"").replace(/\\'/g,"'")),t[a.params[r].toLowerCase()]=i;t.address=[t.name,t.domain].join("@")}})),!s.type)if(o=i.match(p))s.type="anchor",s.anchor={},s.anchor.name=s.anchor.id=o[1];else if(o=i.match(u)){n=i.match(h),i=i.match(f),s.type="email";var r=s.email={};r.address=o[1],n&&(r.subject=decodeURIComponent(n[1])),i&&(r.body=decodeURIComponent(i[1]))}else i&&(n=i.match(g))&&(s.type="url",s.url={},s.url.protocol=n[1],s.url.url=n[2]);if(e){if(i=e.getAttribute("target"))s.target={type:i.match(m)?i:"frame",name:i};else if(i=(i=e.data("cke-pa-onclick")||e.getAttribute("onclick"))&&i.match(b))for(s.target={type:"popup",name:i[1]};o=_.exec(i[2]);)"yes"!=o[2]&&"1"!=o[2]||o[1]in{height:1,width:1,top:1,left:1}?isFinite(o[2])&&(s.target[o[1]]=o[2]):s.target[o[1]]=!0;null!==e.getAttribute("download")&&(s.download=!0);var l;i={};for(l in E)(o=e.getAttribute(l))&&(i[E[l]]=o);(l=e.data("cke-saved-name")||i.advName)&&(i.advName=l),CKEDITOR.tools.isEmpty(i)||(s.advanced=i)}return s},getLinkAttributes:function(t,e){var n=t.config.emailProtection||"",i={};switch(e.type){case"url":n=e.url&&void 0!==e.url.protocol?e.url.protocol:"http://";var o=e.url&&CKEDITOR.tools.trim(e.url.url)||"";i["data-cke-saved-href"]=0===o.indexOf("/")?o:n+o;break;case"anchor":n=e.anchor&&e.anchor.id,i["data-cke-saved-href"]="#"+(e.anchor&&e.anchor.name||n||"");break;case"email":o=(s=e.email).address;switch(n){case"":case"encode":var r=encodeURIComponent(s.subject||""),a=encodeURIComponent(s.body||""),s=[];r&&s.push("subject="+r),a&&s.push("body="+a),s=s.length?"?"+s.join("&"):"","encode"==n?(n=["javascript:void(location.href='mailto:'+",function(t){for(var e,n=t.length,i=[],o=0;o<n;o++)e=t.charCodeAt(o),i.push(e);return"String.fromCharCode("+i.join(",")+")"}(o)],s&&n.push("+'",d(s),"'"),n.push(")")):n=["mailto:",o,s];break;default:n=o.split("@",2),s.name=n[0],s.domain=n[1],n=["javascript:",function(t,e){var n,i,o=t.plugins.link,r=o.compiledProtectionFunction.params;i=[o.compiledProtectionFunction.name,"("];for(var a=0;a<r.length;a++)n=e[o=r[a].toLowerCase()],0<a&&i.push(","),i.push("'",n?d(encodeURIComponent(e[o])):"","'");return i.push(")"),i.join("")}(t,s)]}i["data-cke-saved-href"]=n.join("")}if(e.target)if("popup"==e.target.type){n=["window.open(this.href, '",e.target.name||"","', '"];var l="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" ");for(o=l.length,r=function(t){e.target[t]&&l.push(t+"="+e.target[t])},s=0;s<o;s++)l[s]+=e.target[l[s]]?"=yes":"=no";r("width"),r("left"),r("height"),r("top"),n.push(l.join(","),"'); return false;"),i["data-cke-pa-onclick"]=n.join("")}else"notSet"!=e.target.type&&e.target.name&&(i.target=e.target.name);if(e.download&&(i.download=""),e.advanced){for(var c in E)(n=e.advanced[E[c]])&&(i[c]=n);i.name&&(i["data-cke-saved-name"]=i.name)}for(var u in i["data-cke-saved-href"]&&(i.href=i["data-cke-saved-href"]),c={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1},e.advanced&&CKEDITOR.tools.extend(c,E),i)delete c[u];return{set:i,removed:CKEDITOR.tools.objectKeys(c)}},showDisplayTextForElement:function(t,e){var n=e.getSelection();return!(e.widgets&&e.widgets.focused||n&&1<n.getRanges().length)&&(!t||!t.getName||!t.is({img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1}))}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(t){if(CKEDITOR.env.ie){var e,n=t.getSelection().getRanges()[0],i=n.getPreviousEditableNode()&&n.getPreviousEditableNode().getAscendant("a",!0)||n.getNextEditableNode()&&n.getNextEditableNode().getAscendant("a",!0);n.collapsed&&i&&(e=n.createBookmark(),n.selectNodeContents(i),n.select())}i=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1}),t.removeStyle(i),e&&(n.moveToBookmark(e),n.select())},refresh:function(t,e){var n=e.lastElement&&e.lastElement.getAscendant("a",!0);n&&"a"==n.getName()&&n.getAttribute("href")&&n.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]",editorFocus:1},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(t){var e,n=t.getSelection(),i=n.createBookmarks();n&&(e=n.getSelectedElement())&&(e.getChildCount()?e.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,e))?e.remove(1):(e=CKEDITOR.plugins.link.getSelectedLink(t))&&(e.hasAttribute("href")?(e.removeAttributes({name:1,"data-cke-saved-name":1}),e.removeClass("cke_anchor")):e.remove(1)),n.selectBookmarks(i)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),function(){function v(e,n,t){function i(t){!(l=u[t?"getFirst":"getLast"]())||l.is&&l.isBlockBoundary()||!(c=n.root[t?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||c.is&&c.isBlockBoundary({br:1})||e.document.createElement("br")[t?"insertBefore":"insertAfter"](l)}for(var o=CKEDITOR.plugins.list.listToArray(n.root,t),r=[],a=0;a<n.contents.length;a++){var s=n.contents[a];(s=s.getAscendant("li",!0))&&!s.getCustomData("list_item_processed")&&(r.push(s),CKEDITOR.dom.element.setMarker(t,s,"list_item_processed",!0))}for(s=null,a=0;a<r.length;a++)o[s=r[a].getCustomData("listarray_index")].indent=-1;for(a=s+1;a<o.length;a++)if(o[a].indent>o[a-1].indent+1){for(r=o[a-1].indent+1-o[a].indent,s=o[a].indent;o[a]&&o[a].indent>=s;)o[a].indent+=r,a++;a--}var l,c,u=CKEDITOR.plugins.list.arrayToList(o,t,null,e.config.enterMode,n.root.getAttribute("dir")).listNode;i(!0),i(),u.replace(n.root),e.fire("contentDomInvalidated")}function t(t,e){this.name=t,this.context=this.type=e,this.allowedContent=e+" li",this.requiredContent=e}function c(t,e,n,i){for(var o,r;o=t[i?"getLast":"getFirst"](a);)(r=o.getDirection(1))!==e.getDirection(1)&&o.setAttribute("dir",r),o.remove(),n?o[i?"insertBefore":"insertAfter"](n):e.append(o,i)}function y(n){function t(t){var e=n[t?"getPrevious":"getNext"](D);e&&e.type==CKEDITOR.NODE_ELEMENT&&e.is(n.getName())&&(c(n,e,null,!t),n.remove(),n=e)}t(),t(1)}function d(t){return t.type==CKEDITOR.NODE_ELEMENT&&(t.getName()in CKEDITOR.dtd.$block||t.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[t.getName()]["#"]}function h(t,e,n){t.fire("saveSnapshot"),n.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var i=n.extractContents();e.trim(!1,!0);var o=e.createBookmark(),r=(a=new CKEDITOR.dom.elementPath(e.startContainer)).block,a=a.lastElement.getAscendant("li",1)||r,s=(l=new CKEDITOR.dom.elementPath(n.startContainer)).contains(CKEDITOR.dtd.$listItem),l=l.contains(CKEDITOR.dtd.$list);for(r?(r=r.getBogus())&&r.remove():l&&(r=l.getPrevious(D))&&p(r)&&r.remove(),(r=i.getLast())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("br")&&r.remove(),(r=e.startContainer.getChild(e.startOffset))?i.insertBefore(r):e.startContainer.append(i),s&&(i=f(s))&&(a.contains(s)?(c(i,s.getParent(),s),i.remove()):a.append(i));n.checkStartOfBlock()&&n.checkEndOfBlock()&&(i=(l=n.startPath()).block);)i.is("li")&&(a=i.getParent(),i.equals(a.getLast(D))&&i.equals(a.getFirst(D))&&(i=a)),n.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove();n=n.clone(),i=t.editable(),n.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).evaluator=function(t){return D(t)&&!p(t)},(n=n.next())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in CKEDITOR.dtd.$list&&y(n),e.moveToBookmark(o),e.select(),t.fire("saveSnapshot")}function f(t){return(t=t.getLast(D))&&t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in C?t:null}var C={ol:1,ul:1},e=CKEDITOR.dom.walker.whitespaces(),x=CKEDITOR.dom.walker.bookmark(),D=function(t){return!(e(t)||x(t))},p=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(t,e,n,i,o){if(!C[t.getName()])return[];i=i||0,n=n||[];for(var r=0,a=t.getChildCount();r<a;r++){var s=t.getChild(r);if(s.type==CKEDITOR.NODE_ELEMENT&&s.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(s,e,n,i+1),"li"==s.$.nodeName.toLowerCase()){var l={parent:t,indent:i,element:s,contents:[]};o?l.grandparent=o:(l.grandparent=t.getParent(),l.grandparent&&"li"==l.grandparent.$.nodeName.toLowerCase()&&(l.grandparent=l.grandparent.getParent())),e&&CKEDITOR.dom.element.setMarker(e,s,"listarray_index",n.length),n.push(l);for(var c,u=0,d=s.getChildCount();u<d;u++)(c=s.getChild(u)).type==CKEDITOR.NODE_ELEMENT&&C[c.getName()]?CKEDITOR.plugins.list.listToArray(c,e,n,i+1,l.grandparent):l.contents.push(c)}}return n},arrayToList:function(t,e,n,i,o){if(n=n||0,!t||t.length<n+1)return null;for(var r,a,s,l=t[n].parent.getDocument(),c=new CKEDITOR.dom.documentFragment(l),u=null,d=n,h=Math.max(t[n].indent,0),f=null,p=i==CKEDITOR.ENTER_P?"p":"div";;){var g=t[d];if(r=g.grandparent,a=g.element.getDirection(1),g.indent==h){for(u&&t[d].parent.getName()==u.getName()||(u=t[d].parent.clone(!1,1),o&&u.setAttribute("dir",o),c.append(u)),f=u.append(g.element.clone(0,1)),a!=u.getDirection(1)&&f.setAttribute("dir",a),r=0;r<g.contents.length;r++)f.append(g.contents[r].clone(1,1));d++}else if(g.indent==Math.max(h,0)+1)g=t[d-1].element.getDirection(1),d=CKEDITOR.plugins.list.arrayToList(t,null,d,i,g!=a?a:null),!f.getChildCount()&&CKEDITOR.env.needsNbspFiller&&l.$.documentMode<=7&&f.append(l.createText("")),f.append(d.listNode),d=d.nextIndex;else{if(-1!=g.indent||n||!r)return null;C[r.getName()]?(f=g.element.clone(!1,!0),a!=r.getDirection(1)&&f.setAttribute("dir",a)):f=new CKEDITOR.dom.documentFragment(l);u=r.getDirection(1)!=a;var m,v,y=g.element,b=y.getAttribute("class"),_=y.getAttribute("style"),E=f.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(i!=CKEDITOR.ENTER_BR||u||_||b),w=g.contents.length;for(r=0;r<w;r++)if(m=g.contents[r],x(m)&&1<w)E?v=m.clone(1,1):f.append(m.clone(1,1));else if(m.type==CKEDITOR.NODE_ELEMENT&&m.isBlockBoundary()){u&&!m.getDirection()&&m.setAttribute("dir",a),s=m;var T=y.getAttribute("style");T&&s.setAttribute("style",T.replace(/([^;])$/,"$1;")+(s.getAttribute("style")||"")),b&&m.addClass(b),s=null,v&&(f.append(v),v=null),f.append(m.clone(1,1))}else E?(s||(s=l.createElement(p),f.append(s),u&&s.setAttribute("dir",a)),_&&s.setAttribute("style",_),b&&s.setAttribute("class",b),v&&(s.append(v),v=null),s.append(m.clone(1,1))):f.append(m.clone(1,1));v&&((s||f).append(v),v=null),f.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&d!=t.length-1&&(CKEDITOR.env.needsBrFiller&&(a=f.getLast())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("br")&&a.remove(),(a=f.getLast(D))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$block)||f.append(l.createElement("br"))),"div"!=(a=f.$.nodeName.toLowerCase())&&"p"!=a||f.appendBogus(),c.append(f),u=null,d++}if(s=null,t.length<=d||Math.max(t[d].indent,0)<h)break}if(e)for(t=c.getFirst();t;){if(t.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(e,t),t.getName()in CKEDITOR.dtd.$listItem&&(l=o=i=void 0,i=(n=t).getDirection()))){for(o=n.getParent();o&&!(l=o.getDirection());)o=o.getParent();i==l&&n.removeAttribute("dir")}t=t.getNextSourceNode()}return{listNode:c,nextIndex:d}}};var b=/^h[1-6]$/,a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);t.prototype={exec:function(t){this.refresh(t,t.elementPath());var e=t.config,n=t.getSelection(),i=n&&n.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF)if((r=t.editable()).getFirst(D)){var o=1==i.length&&i[0];(e=o&&o.getEnclosedNode())&&e.is&&this.type==e.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else e.enterMode==CKEDITOR.ENTER_BR?r.appendBogus():i[0].fixBlock(1,e.enterMode==CKEDITOR.ENTER_P?"p":"div"),n.selectRanges(i);e=n.createBookmarks(!0);for(var r=[],a={},s=(i=i.createIterator(),0);(o=i.getNextRange())&&++s;){var l=(g=o.getBoundaryNodes()).startNode,c=g.endNode;for(l.type==CKEDITOR.NODE_ELEMENT&&"td"==l.getName()&&o.setStartAt(g.startNode,CKEDITOR.POSITION_AFTER_START),c.type==CKEDITOR.NODE_ELEMENT&&"td"==c.getName()&&o.setEndAt(g.endNode,CKEDITOR.POSITION_BEFORE_END),(o=o.createIterator()).forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;g=o.getNextParagraph();)if(!g.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(a,g,"list_block",1);l=(d=t.elementPath(g)).elements,c=0;for(var u,d=d.blockLimit,h=l.length-1;0<=h&&(u=l[h]);h--)if(C[u.getName()]&&d.contains(u)){d.removeCustomData("list_group_object_"+s),(l=u.getCustomData("list_group_object"))?l.contents.push(g):(l={root:u,contents:[g]},r.push(l),CKEDITOR.dom.element.setMarker(a,u,"list_group_object",l)),c=1;break}c||((c=d).getCustomData("list_group_object_"+s)?c.getCustomData("list_group_object_"+s).contents.push(g):(l={root:c,contents:[g]},CKEDITOR.dom.element.setMarker(a,c,"list_group_object_"+s,l),r.push(l)))}}for(u=[];0<r.length;)if(l=r.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(C[l.root.getName()]){for(i=t,s=l,l=a,o=u,c=CKEDITOR.plugins.list.listToArray(s.root,l),d=[],g=0;g<s.contents.length;g++)(h=(h=s.contents[g]).getAscendant("li",!0))&&!h.getCustomData("list_item_processed")&&(d.push(h),CKEDITOR.dom.element.setMarker(l,h,"list_item_processed",!0));h=s.root.getDocument();for(var f=void 0,p=void 0,g=0;g<d.length;g++){var m=d[g].getCustomData("listarray_index");(f=c[m].parent).is(this.type)||(p=h.createElement(this.type),f.copyAttributes(p,{start:1,type:1}),p.removeStyle("list-style-type"),c[m].parent=p)}for(l=CKEDITOR.plugins.list.arrayToList(c,l,null,i.config.enterMode),c=void 0,d=l.listNode.getChildCount(),g=0;g<d&&(c=l.listNode.getChild(g));g++)c.getName()==this.type&&o.push(c);l.listNode.replace(s.root),i.fire("contentDomInvalidated")}else{for(c=t,g=u,d=(o=l).contents,i=o.root.getDocument(),s=[],1==d.length&&d[0].equals(o.root)&&(l=i.createElement("div"),d[0].moveChildren&&d[0].moveChildren(l),d[0].append(l),d[0]=l),o=o.contents[0].getParent(),h=0;h<d.length;h++)o=o.getCommonAncestor(d[h].getParent());for(f=c.config.useComputedState,c=l=void 0,f=void 0===f||f,h=0;h<d.length;h++)for(p=d[h];m=p.getParent();){if(m.equals(o)){s.push(p),!c&&p.getDirection()&&(c=1),p=p.getDirection(f),null!==l&&(l=l&&l!=p?null:p);break}p=m}if(!(s.length<1)){for(d=s[s.length-1].getNext(),h=i.createElement(this.type),g.push(h),f=g=void 0;s.length;)g=s.shift(),f=i.createElement("li"),(p=g).is("pre")||b.test(p.getName())||"false"==p.getAttribute("contenteditable")?g.appendTo(f):(g.copyAttributes(f),l&&g.getDirection()&&(f.removeStyle("direction"),f.removeAttribute("dir")),g.moveChildren(f),g.remove()),f.appendTo(h);l&&c&&h.setAttribute("dir",l),d?h.insertBefore(d):h.appendTo(o)}}else this.state==CKEDITOR.TRISTATE_ON&&C[l.root.getName()]&&v.call(this,t,l,a);for(h=0;h<u.length;h++)y(u[h]);CKEDITOR.dom.element.clearAllMarkers(a),n.selectBookmarks(e),t.focus()},refresh:function(t,e){var n=e.contains(C,1),i=e.blockLimit||e.root;n&&i.contains(n)?this.setState(n.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(u){u.blockless||(u.addCommand("numberedlist",new t("numberedlist","ol")),u.addCommand("bulletedlist",new t("bulletedlist","ul")),u.ui.addButton&&(u.ui.addButton("NumberedList",{label:u.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),u.ui.addButton("BulletedList",{label:u.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),u.on("key",function(t){var e,n=t.data.domEvent.getKey();if("wysiwyg"==u.mode&&n in{8:1,46:1}){var i=u.getSelection().getRanges()[0],o=i&&i.startPath();if(i&&i.collapsed){var r,a=8==n,s=u.editable(),l=new CKEDITOR.dom.walker(i.clone());if(l.evaluator=function(t){return D(t)&&!p(t)},l.guard=function(t,e){return!(e&&t.type==CKEDITOR.NODE_ELEMENT&&t.is("table"))},n=i.clone(),a)if((r=o.contains(C))&&i.checkBoundaryOfElement(r,CKEDITOR.START)&&(r=r.getParent())&&r.is("li")&&(r=f(r))?(r=(e=r).getPrevious(D),n.moveToPosition(r&&p(r)?r:e,CKEDITOR.POSITION_BEFORE_START)):(l.range.setStartAt(s,CKEDITOR.POSITION_AFTER_START),l.range.setEnd(i.startContainer,i.startOffset),(r=l.previous())&&r.type==CKEDITOR.NODE_ELEMENT&&(r.getName()in C||r.is("li"))&&(r.is("li")||(l.range.selectNodeContents(r),l.reset(),l.evaluator=d,r=l.previous()),e=r,n.moveToElementEditEnd(e),n.moveToPosition(n.endPath().block,CKEDITOR.POSITION_BEFORE_END))),e)h(u,n,i),t.cancel();else{var c=o.contains(C);c&&i.checkBoundaryOfElement(c,CKEDITOR.START)&&(e=c.getFirst(D),i.checkBoundaryOfElement(e,CKEDITOR.START)&&(r=c.getPrevious(D),f(e)?r&&(i.moveToElementEditEnd(r),i.select()):u.execCommand("outdent"),t.cancel()))}else if(e=o.contains("li")){if(l.range.setEndAt(s,CKEDITOR.POSITION_BEFORE_END),a=(s=e.getLast(D))&&d(s)?s:e,o=0,(r=l.next())&&r.type==CKEDITOR.NODE_ELEMENT&&r.getName()in C&&r.equals(s)?(o=1,r=l.next()):i.checkBoundaryOfElement(a,CKEDITOR.END)&&(o=2),o&&r){if((i=i.clone()).moveToElementEditStart(r),1==o&&(n.optimize(),!n.startContainer.equals(e))){for(e=n.startContainer;e.is(CKEDITOR.dtd.$inline);)e=(c=e).getParent();c&&n.moveToPosition(c,CKEDITOR.POSITION_AFTER_END)}2==o&&(n.moveToPosition(n.endPath().block,CKEDITOR.POSITION_BEFORE_END),i.endPath().block&&i.moveToPosition(i.endPath().block,CKEDITOR.POSITION_AFTER_START)),h(u,n,i),t.cancel()}}else l.range.setEndAt(s,CKEDITOR.POSITION_BEFORE_END),(r=l.next())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is(C)&&(r=r.getFirst(D),o.block&&i.checkStartOfBlock()&&i.checkEndOfBlock()?(o.block.remove(),i.moveToElementEditStart(r),i.select()):f(r)?(i.moveToElementEditStart(r),i.select()):((i=i.clone()).moveToElementEditStart(r),h(u,n,i)),t.cancel());setTimeout(function(){u.selectionChange(1)})}}}))}})}(),function(){function h(t,e,n){return v(e)&&v(n)&&n.equals(e.getNext(function(t){return!(Y(t)||X(t)||y(t))}))}function f(t){this.upper=t[0],this.lower=t[1],this.set.apply(this,t.slice(2))}function c(t){var e=t.element;if(e&&v(e)&&(e=e.getAscendant(t.triggers,!0))&&t.editable.contains(e)){var n=a(e);if("true"==n.getAttribute("contenteditable"))return e;if(n.is(t.triggers))return n}return null}function u(e,t,n){return t[n?"getPrevious":"getNext"](function(t){return t&&t.type==CKEDITOR.NODE_TEXT&&!Y(t)||v(t)&&!y(t)&&!m(e,t)})}function p(t,e,n){return e<t&&t<n}function a(t,e){if(t.data("cke-editable"))return null;for(e||(t=t.getParent());t&&!t.data("cke-editable");){if(t.hasAttribute("contenteditable"))return t;t=t.getParent()}return null}function d(t,e,n){var i,o=new CKEDITOR.dom.range(t.doc),r=t.editor;R.ie&&t.enterMode==CKEDITOR.ENTER_BR?i=t.doc.createText(l):(i=(i=a(t.element,!0))&&i.data("cke-enter-mode")||t.enterMode,(i=new k(s[i],t.doc)).is("br")||t.doc.createText(l).appendTo(i)),n&&r.fire("saveSnapshot"),e(i),o.moveToPosition(i,CKEDITOR.POSITION_AFTER_START),r.getSelection().selectRanges([o]),t.hotNode=i,n&&r.fire("saveSnapshot")}function g(i,o){return{canUndo:!0,modes:{wysiwyg:1},exec:function(t){var e,n;t=(t=t.getSelection().getStartElement()).getAscendant(V,1),E(i,t)||!t||t.equals(i.editable)||t.contains(i.editable)||((e=a(t))&&"false"==e.getAttribute("contenteditable")&&(t=e),i.element=t,v(e=u(i,t,!o))&&e.is(i.triggers)&&e.is(j)&&(!u(i,e,!o)||(n=u(i,e,!o))&&v(n)&&n.is(i.triggers))?r(e):v(n=c(i))&&(u(i,n,!o)?(t=u(i,n,!o))&&v(t)&&t.is(i.triggers)&&r(n):r(n)))}};function r(e){var t=R.ie&&R.version<9?" ":l,n=i.hotNode&&i.hotNode.getText()==t&&i.element.equals(i.hotNode)&&i.lastCmdDirection===!!o;d(i,function(t){n&&i.hotNode&&i.hotNode.remove(),t[o?"insertAfter":"insertBefore"](e),t.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!o}),i.lastCmdDirection=!!o}),R.ie||i.enterMode==CKEDITOR.ENTER_BR||i.hotNode.scrollIntoView(),i.line.detach()}}function m(t,e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||!e.$)return!1;var n=t.line;return n.wrap.equals(e)||n.wrap.contains(e)}function v(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.$}function y(t){return!!v(t)&&((e=b(t))||(e=!!v(t)&&!(!(e={left:1,right:1,center:1})[t.getComputedStyle("float")]&&!e[t.getAttribute("align")])),e);var e}function b(t){return!!{absolute:1,fixed:1}[t.getComputedStyle("position")]}function _(t,e){return v(e)?e.is(t.triggers):null}function E(t,e){if(!e)return!1;for(var n=e.getParents(1),i=n.length;i--;)for(var o=t.tabuList.length;o--;)if(n[i].hasAttribute(t.tabuList[o]))return!0;return!1}function w(t){var e=t.editable,n=t.mouse,i=t.view,o=t.triggerOffset;D(t);var r=n.y>(t.inInlineMode?i.editable.top+i.editable.height/2:Math.min(i.editable.height,i.pane.height)/2);return(e=e[r?"getLast":"getFirst"](function(t){return!(Y(t)||X(t))}))?(m(t,e)&&(e=t.line.wrap[r?"getPrevious":"getNext"](function(t){return!(Y(t)||X(t))})),v(e)&&!y(e)&&_(t,e)?(x(t,e),!r&&0<=e.size.top&&p(n.y,0,e.size.top+o)?(t=t.inInlineMode||0===i.scroll.y?F:$,new f([null,e,N,L,t])):r&&e.size.bottom<=i.pane.height&&p(n.y,e.size.bottom-o,i.pane.height)?(t=t.inInlineMode||p(e.size.bottom,i.pane.height-o,i.pane.height)?B:$,new f([e,null,K,L,t])):null):null):null}function T(t){var e=t.mouse,n=t.view,i=t.triggerOffset,o=c(t);if(!o)return null;x(t,o);i=Math.min(i,0|o.size.outerHeight/2);var r,a,s=[];if(p(e.y,o.size.top-1,o.size.top+i))a=!1;else{if(!p(e.y,o.size.bottom-i,o.size.bottom+1))return null;a=!0}if(y(o)||function(e,t,n){return!!(t=t[n?"getLast":"getFirst"](function(t){return e.isRelevant(t)&&!t.is(z)}))&&(x(e,t),n?t.size.top>e.mouse.y:t.size.bottom<e.mouse.y)}(t,o,a)||o.getParent().is(H))return null;var l=u(t,o,!a);if(l){if(l&&l.type==CKEDITOR.NODE_TEXT)return null;if(v(l)){if(y(l)||!_(t,l)||l.getParent().is(H))return null;s=[l,o][a?"reverse":"concat"]().concat([P,L])}}else o.equals(t.editable[a?"getLast":"getFirst"](t.isRelevant))?(D(t),a&&p(e.y,o.size.bottom-i,n.pane.height)&&p(o.size.bottom,n.pane.height-i,n.pane.height)?r=B:p(e.y,0,o.size.top+i)&&(r=F)):r=$,s=[null,o][a?"reverse":"concat"]().concat([a?K:N,L,r,o.equals(t.editable[a?"getLast":"getFirst"](t.isRelevant))?a?B:F:$]);return 0 in s?new f(s):null}function C(t,e,n,i){for(var o=e.getDocumentPosition(),r={},a={},s={},l={},c=Q.length;c--;)r[Q[c]]=parseInt(e.getComputedStyle.call(e,"border-"+Q[c]+"-width"),10)||0,s[Q[c]]=parseInt(e.getComputedStyle.call(e,"padding-"+Q[c]),10)||0,a[Q[c]]=parseInt(e.getComputedStyle.call(e,"margin-"+Q[c]),10)||0;return n&&!i||O(t,i),l.top=o.y-(n?0:t.view.scroll.y),l.left=o.x-(n?0:t.view.scroll.x),l.outerWidth=e.$.offsetWidth,l.outerHeight=e.$.offsetHeight,l.height=l.outerHeight-(s.top+s.bottom+r.top+r.bottom),l.width=l.outerWidth-(s.left+s.right+r.left+r.right),l.bottom=l.top+l.outerHeight,l.right=l.left+l.outerWidth,t.inInlineMode&&(l.scroll={top:e.$.scrollTop,left:e.$.scrollLeft}),I({border:r,padding:s,margin:a,ignoreScroll:n},l,!0)}function x(t,e,n){if(!v(e))return e.size=null;if(e.size){if(e.size.ignoreScroll==n&&e.size.date>new Date-o)return null}else e.size={};return I(e.size,C(t,e,n),{date:+new Date},!0)}function D(t,e){t.view.editable=C(t,t.editable,e,!0)}function O(t,e){t.view||(t.view={});var n=t.view;if(!(!e&&n&&n.date>new Date-o)){n=(i=t.win).getScrollPosition();var i=i.getViewPaneSize();I(t.view,{scroll:{x:n.x,y:n.y,width:t.doc.$.documentElement.scrollWidth-i.width,height:t.doc.$.documentElement.scrollHeight-i.height},pane:{width:i.width,height:i.height,bottom:i.height+n.y},date:+new Date},!0)}}CKEDITOR.plugins.add("magicline",{init:function(o){var i,r,a,s=o.config,t=s.magicline_triggerOffset||30,l={editor:o,enterMode:s.enterMode,triggerOffset:t,holdDistance:0|t*(s.magicline_holdDistance||.5),boxColor:s.magicline_color||"#ff0000",rtl:"rtl"==s.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(s.magicline_tabuList||[]),triggers:s.magicline_everywhere?V:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}};l.isRelevant=function(t){return v(t)&&!m(l,t)&&!y(t)},o.on("contentDom",function(){var t=o.editable(),e=o.document,n=o.window;I(l,{editable:t,inInlineMode:t.isInline(),doc:e,win:n,hotNode:null},!0),l.boundary=l.inInlineMode?l.editable:l.doc.getDocumentElement(),t.is(M.$inline)||(l.inInlineMode&&!b(t)&&t.setStyles({position:"relative",top:null,left:null}),function(c){var t=c.doc,e=S('<span contenteditable="false" style="'+W+"position:absolute;border-top:1px dashed "+c.boxColor+'"></span>',t),n=CKEDITOR.getUrl(this.path+"images/"+(R.hidpi?"hidpi/":"")+"icon"+(c.rtl?"-rtl":"")+".png");for(I(e,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo(c.editable,!0),this},lineChildren:[I(S('<span title="'+c.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',t),{base:W+"height:17px;width:17px;"+(c.rtl?"left":"right")+":17px;background:url("+n+") center no-repeat "+c.boxColor+";cursor:pointer;"+(R.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(R.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),I(S(G,t),{base:q+"left:0px;border-left-color:"+c.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),I(S(G,t),{base:q+"right:0px;border-right-color:"+c.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){x(c,this);var t=c.holdDistance,e=this.size;return!!(e&&p(c.mouse.y,e.top-t,e.bottom+t)&&p(c.mouse.x,e.left-t,e.right+t))},place:function(){var t=c.view,e=c.editable,n=c.trigger,i=n.upper,o=n.lower,r=i||o,a=r.getParent(),s={};for(var l in this.trigger=n,i&&x(c,i,!0),o&&x(c,o,!0),x(c,a,!0),c.inInlineMode&&D(c,!0),a.equals(e)?(s.left=t.scroll.x,s.right=-t.scroll.x,s.width=""):(s.left=r.size.left-r.size.margin.left+t.scroll.x-(c.inInlineMode?t.editable.left+t.editable.border.left:0),s.width=r.size.outerWidth+r.size.margin.left+r.size.margin.right+t.scroll.x,s.right=""),i&&o?s.top=i.size.margin.bottom===o.size.margin.top?0|i.size.bottom+i.size.margin.bottom/2:i.size.margin.bottom<o.size.margin.top?i.size.bottom+i.size.margin.bottom:i.size.bottom+i.size.margin.bottom-o.size.margin.top:i?o||(s.top=i.size.bottom+i.size.margin.bottom):s.top=o.size.top-o.size.margin.top,n.is(F)||p(s.top,t.scroll.y-15,t.scroll.y+5)?(s.top=c.inInlineMode?0:t.scroll.y,this.look(F)):n.is(B)||p(s.top,t.pane.bottom-5,t.pane.bottom+15)?(s.top=c.inInlineMode?t.editable.height+t.editable.padding.top+t.editable.padding.bottom:t.pane.bottom-1,this.look(B)):(c.inInlineMode&&(s.top-=t.editable.top+t.editable.border.top),this.look($)),c.inInlineMode&&(s.top--,s.top+=t.editable.scroll.top,s.left+=t.editable.scroll.left),s)s[l]=CKEDITOR.tools.cssLength(s[l]);this.setStyles(s)},look:function(t){if(this.oldLook!=t){for(var e,n=this.lineChildren.length;n--;)(e=this.lineChildren[n]).setAttribute("style",e.base+e.looks[0|t/2]);this.oldLook=t}},wrap:new k("span",c.doc)}),t=e.lineChildren.length;t--;)e.lineChildren[t].appendTo(e);e.look($),e.appendTo(e.wrap),e.unselectable(),e.lineChildren[0].on("mouseup",function(t){e.detach(),d(c,function(t){var e=c.line.trigger;t[e.is(N)?"insertBefore":"insertAfter"](e.is(N)?e.lower:e.upper)},!0),c.editor.focus(),R.ie||c.enterMode==CKEDITOR.ENTER_BR||c.hotNode.scrollIntoView(),t.data.preventDefault(!0)}),e.on("mousedown",function(t){t.data.preventDefault(!0)}),c.line=e}.call(this,l),O(l),t.attachListener(o,"beforeUndoImage",function(){l.line.detach()}),t.attachListener(o,"beforeGetData",function(){l.line.wrap.getParent()&&(l.line.detach(),o.once("getData",function(){l.line.attach()},null,null,1e3))},null,null,0),t.attachListener(l.inInlineMode?e:e.getWindow().getFrame(),"mouseout",function(t){if("wysiwyg"==o.mode)if(l.inInlineMode){var e=t.data.$.clientX;t=t.data.$.clientY,O(l),D(l,!0);var n=l.view.editable,i=l.view.scroll;e>n.left-i.x&&e<n.right-i.x&&t>n.top-i.y&&t<n.bottom-i.y||(clearTimeout(a),a=null,l.line.detach())}else clearTimeout(a),a=null,l.line.detach()}),t.attachListener(t,"keyup",function(){l.hiddenMode=0}),t.attachListener(t,"keydown",function(t){if("wysiwyg"==o.mode)switch(t.data.getKeystroke()){case 2228240:case 16:l.hiddenMode=1,l.line.detach()}}),t.attachListener(l.inInlineMode?t:e,"mousemove",function(t){if(r=!0,"wysiwyg"==o.mode&&!o.readOnly&&!a){var e={x:t.data.$.clientX,y:t.data.$.clientY};a=setTimeout(function(){l.mouse=e,a=l.trigger=null,O(l),r&&!l.hiddenMode&&o.focusManager.hasFocus&&!l.line.mouseNear()&&(l.element=U(l,!0))&&((l.trigger=w(l)||T(l)||Z(l))&&!E(l,l.trigger.upper||l.trigger.lower)?l.line.attach().place():(l.trigger=null,l.line.detach()),r=!1)},30)}}),t.attachListener(n,"scroll",function(){"wysiwyg"==o.mode&&(l.line.detach(),R.webkit&&(l.hiddenMode=1,clearTimeout(i),i=setTimeout(function(){l.mouseDown||(l.hiddenMode=0)},50)))}),t.attachListener(A?e:n,"mousedown",function(){"wysiwyg"==o.mode&&(l.line.detach(),l.hiddenMode=1,l.mouseDown=1)}),t.attachListener(A?e:n,"mouseup",function(){l.hiddenMode=0,l.mouseDown=0}),o.addCommand("accessPreviousSpace",g(l)),o.addCommand("accessNextSpace",g(l,!0)),o.setKeystroke([[s.magicline_keystrokePrevious,"accessPreviousSpace"],[s.magicline_keystrokeNext,"accessNextSpace"]]),o.on("loadSnapshot",function(){var t,e,n,i;for(i in{p:1,br:1,div:1})for(n=(t=o.document.getElementsByTag(i)).count();n--;)if((e=t.getItem(n)).data("cke-magicline-hot"))return l.hotNode=e,void(l.lastCmdDirection="true"===e.data("cke-magicline-dir"))}),this.backdoor={accessFocusSpace:d,boxTrigger:f,isLine:m,getAscendantTrigger:c,getNonEmptyNeighbour:u,getSize:C,that:l,triggerEdge:T,triggerEditable:w,triggerExpand:Z})},this)}});var I=CKEDITOR.tools.extend,k=CKEDITOR.dom.element,S=k.createFromHtml,R=CKEDITOR.env,A=CKEDITOR.env.ie&&CKEDITOR.env.version<9,M=CKEDITOR.dtd,s={},N=128,K=64,P=32,L=16,F=4,B=2,$=1,l="",H=M.$listItem,z=M.$tableContent,j=I({},M.$nonEditable,M.$empty),V=M.$block,o=100,W="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",q=W+"border-color:transparent;display:block;border-style:solid;",G="<span>"+l+"</span>";s[CKEDITOR.ENTER_BR]="br",s[CKEDITOR.ENTER_P]="p",s[CKEDITOR.ENTER_DIV]="div",f.prototype={set:function(t,e,n){return this.properties=t+e+(n||$),this},is:function(t){return(this.properties&t)==t}};var U=function(t,e,n){if(!t.mouse)return null;var i=t.doc,o=t.line.wrap,r=tt(i,n=n||t.mouse);return e&&m(t,r)&&(o.hide(),r=tt(i,n),o.show()),!r||r.type!=CKEDITOR.NODE_ELEMENT||!r.$||R.ie&&R.version<9&&!t.boundary.equals(r)&&!t.boundary.contains(r)?null:r},Y=CKEDITOR.dom.walker.whitespaces(),X=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),Z=function(t){var e,n=r(t);if(e=n){e=n.upper;var i=n.lower;e=!(!e||!i||y(i)||y(e)||i.equals(e)||e.equals(i)||i.contains(e)||e.contains(i)||!(_(t,e)&&_(t,i)&&h(0,e,i)))}return e?n:null},Q=["top","left","right","bottom"];function r(e){var t,n,i,o,r,a;if(!v(d=e.element)||d.contains(e.editable)||d.isReadOnly())return null;if(h(0,t=(i=function(t,e,n,i){for(var o=i,r=i,a=0,s=!1,l=!1,c=t.view.pane.height,u=t.mouse;u.y+a<c&&0<u.y-a&&(s=s||e(o,i),l=l||e(r,i),!s&&0<u.y-a&&(o=n(t,{x:u.x,y:u.y-a})),!l&&u.y+a<c&&(r=n(t,{x:u.x,y:u.y+a})),!s||!l);)a+=2;return new f([o,r,null,null])}(e,function(t,e){return!e.equals(t)},function(t,e){return U(t,!0,e)},d)).upper,n=i.lower))return i.set(P,8);if(t&&d.contains(t))for(;!t.getParent().equals(d);)t=t.getParent();else t=d.getFirst(function(t){return J(e,t)});if(n&&d.contains(n))for(;!n.getParent().equals(d);)n=n.getParent();else n=d.getLast(function(t){return J(e,t)});if(!t||!n)return null;if(x(e,t),x(e,n),!p(e.mouse.y,t.size.top,n.size.bottom))return null;for(var s,l,c,u,d=Number.MAX_VALUE;n&&!n.equals(t)&&(l=t.getNext(e.isRelevant));)(s=Math.abs((a=l,x(o=e,r=t),x(o,a),o=r.size.bottom,a=a.size.top,(o&&a?0|(o+a)/2:o||a)-e.mouse.y)))<d&&(d=s,c=t,u=l),x(e,t=l);return c&&u&&p(e.mouse.y,c.size.top,u.size.bottom)?(i.upper=c,i.lower=u,i.set(P,8)):null}function J(t,e){return!(e&&e.type==CKEDITOR.NODE_TEXT||X(e)||y(e)||m(t,e)||e.type==CKEDITOR.NODE_ELEMENT&&e.$&&e.is("br"))}function tt(t,e){var n=t.$.elementFromPoint(e.x,e.y);return n&&n.nodeType?new CKEDITOR.dom.element(n):null}}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,CKEDITOR.plugins.add("maximize",{init:function(r){function a(){var t=h.getViewPaneSize();r.resize(t.width,t.height,null,!0)}if(r.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var s,l,c,u=r.lang,d=CKEDITOR.document,h=d.getWindow(),f=CKEDITOR.TRISTATE_OFF;r.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var t=r.container.getFirst(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")}),e=r.ui.space("contents");if("wysiwyg"==r.mode){var n=r.getSelection();s=n&&n.getRanges(),l=h.getScrollPosition()}else{var i=r.editable().$;s=!CKEDITOR.env.ie&&[i.selectionStart,i.selectionEnd],l=[i.scrollLeft,i.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(h.on("resize",a),c=h.getScrollPosition(),n=r.container;n=n.getParent();)n.setCustomData("maximize_saved_styles",dn(n)),n.setStyle("z-index",r.config.baseFloatZIndex-5);e.setCustomData("maximize_saved_styles",dn(e,!0)),t.setCustomData("maximize_saved_styles",dn(t,!0)),e={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},d.getDocumentElement().setStyles(e),CKEDITOR.env.gecko||d.getDocumentElement().setStyle("position","fixed"),CKEDITOR.env.gecko&&CKEDITOR.env.quirks||d.getBody().setStyles(e),CKEDITOR.env.ie?setTimeout(function(){h.$.scrollTo(0,0)},0):h.$.scrollTo(0,0),t.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),t.$.offsetLeft,t.setStyles({"z-index":r.config.baseFloatZIndex-5,left:"0px",top:"0px"}),t.addClass("cke_maximized"),a(),e=t.getDocumentPosition(),t.setStyles({left:-1*e.x+"px",top:-1*e.y+"px"}),CKEDITOR.env.gecko&&fn(r)}else if(this.state==CKEDITOR.TRISTATE_ON){h.removeListener("resize",a),n=[e,t];for(var o=0;o<n.length;o++)hn(n[o],n[o].getCustomData("maximize_saved_styles")),n[o].removeCustomData("maximize_saved_styles");for(n=r.container;n=n.getParent();)hn(n,n.getCustomData("maximize_saved_styles")),n.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){h.$.scrollTo(c.x,c.y)},0):h.$.scrollTo(c.x,c.y),t.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(t.setStyle("display","inline"),setTimeout(function(){t.setStyle("display","block")},0)),r.fire("resize",{outerHeight:r.container.$.offsetHeight,contentsHeight:e.$.offsetHeight,outerWidth:r.container.$.offsetWidth})}this.toggleState(),(n=this.uiItems[0])&&(e=this.state==CKEDITOR.TRISTATE_OFF?u.maximize.maximize:u.maximize.minimize,(n=CKEDITOR.document.getById(n._.id)).getChild(1).setHtml(e),n.setAttribute("title",e),n.setAttribute("href",'javascript:void("'+e+'");')),"wysiwyg"==r.mode?s?(CKEDITOR.env.gecko&&fn(r),r.getSelection().selectRanges(s),(i=r.getSelection().getStartElement())&&i.scrollIntoView(!0)):h.$.scrollTo(l.x,l.y):(s&&(i.selectionStart=s[0],i.selectionEnd=s[1]),i.scrollLeft=l[0],i.scrollTop=l[1]),s=l=null,f=this.state,r.fire("maximize",this.state)},canUndo:!1}),r.ui.addButton&&r.ui.addButton("Maximize",{label:u.maximize.maximize,command:"maximize",toolbar:"tools,10"}),r.on("mode",function(){var t=r.getCommand("maximize");t.setState(t.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:f)},null,null,100)}}}),Pt={canUndo:!1,async:!0,exec:function(t,e){var n=t.lang,i=CKEDITOR.tools.keystrokeToString(n.common.keyboard,t.getCommandKeystroke(CKEDITOR.env.ie?t.commands.paste:this)),o=e&&void 0!==e.notification?e.notification:!e||!e.from||"keystrokeHandler"===e.from&&CKEDITOR.env.ie;n=o&&"string"==typeof o?o:n.pastetext.pasteNotification.replace(/%1/,'<kbd aria-label="'+i.aria+'">'+i.display+"</kbd>");t.execCommand("paste",{type:"text",notification:!!o&&n})}},CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(e){var t=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;e.addCommand("pastetext",Pt),e.setKeystroke(t,"pastetext"),e.ui.addButton&&e.ui.addButton("PasteText",{label:e.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),e.config.forcePasteAsPlainText&&e.on("beforePaste",function(t){"html"!=t.data.type&&(t.data.type="text")}),e.on("pasteState",function(t){e.getCommand("pastetext").setState(t.data)})}}),CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(a){var s=0,l=this.path,t=void 0===a.config.pasteFromWord_inlineImages||a.config.pasteFromWord_inlineImages;a.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(t,e){s=1,t.execCommand("paste",{type:"html",notification:!e||void 0===e.notification||e.notification})}}),a.ui.addButton&&a.ui.addButton("PasteFromWord",{label:a.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),a.on("paste",function(t){var e=t.data,n=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?e.dataTransfer.getData("text/html",!0):null,i=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?e.dataTransfer.getData("text/rtf"):null,o={dataValue:n=n||e.dataValue,dataTransfer:{"text/rtf":i}};if(i=/(class=\"?Mso|style=(?:\"|\')[^\"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/,i=/<meta\s*name=(?:\"|\')?generator(?:\"|\')?\s*content=(?:\"|\')?microsoft/gi.test(n)||i.test(n),n&&(s||i)&&(!1!==a.fire("pasteFromWord",o)||s)){e.dontFilter=!0;var r=function(t,e,n){var i=CKEDITOR.cleanWord;return i?n():(t=CKEDITOR.getUrl(t.config.pasteFromWordCleanupFile||e+"filter/default.js"),CKEDITOR.scriptLoader.load(t,n,null,!0)),!i}(a,l,function(){r?a.fire("paste",e):a.config.pasteFromWordPromptCleanup&&!s&&!confirm(a.lang.pastefromword.confirmCleanup)||(o.dataValue=CKEDITOR.cleanWord(o.dataValue,a),a.fire("afterPasteFromWord",o),e.dataValue=o.dataValue),s=0});r&&t.cancel()}},null,null,3),CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&t&&a.on("afterPasteFromWord",function(t){var e,n=CKEDITOR.plugins.pastefromword&&CKEDITOR.plugins.pastefromword.images,i=[];if(n&&t.editor.filter.check("img[src]")&&0!==(e=n.extractTagsFromHtml(t.data.dataValue)).length&&0!==(n=n.extractFromRtf(t.data.dataTransfer["text/rtf"])).length&&(CKEDITOR.tools.array.forEach(n,function(t){i.push(t.type?"data:"+t.type+";base64,"+CKEDITOR.tools.convertBytesToBase64(CKEDITOR.tools.convertHexStringToBytes(t.hex)):null)},this),e.length===i.length))for(n=0;n<e.length;n++)0===e[n].indexOf("file://")&&i[n]&&(t.data.dataValue=t.data.dataValue.replace(e[n],i[n]))})}}),CKEDITOR.plugins.add("removeformat",{init:function(t){t.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),t.ui.addButton&&t.ui.addButton("RemoveFormat",{label:t.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(r){function t(t){return t.type==CKEDITOR.NODE_ELEMENT}for(var e,a=r._.removeFormatRegex||(r._.removeFormatRegex=new RegExp("^(?:"+r.config.removeFormatTags.replace(/,/g,"|")+")$","i")),n=r._.removeAttributes||(r._.removeAttributes=r.config.removeFormatAttributes.split(",")),s=CKEDITOR.plugins.removeformat.filter,i=r.getSelection().getRanges(),o=i.createIterator();e=o.getNextRange();){e.collapsed||e.enlarge(CKEDITOR.ENLARGE_ELEMENT);var l=e.createBookmark(),c=l.startNode,u=l.endNode,d=function(t){for(var e,n=r.elementPath(t),i=n.elements,o=1;(e=i[o])&&!e.equals(n.block)&&!e.equals(n.blockLimit);o++)a.test(e.getName())&&s(r,e)&&t.breakParent(e)};if(d(c),u)for(d(u),c=c.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);c&&!c.equals(u);)if(c.isReadOnly()){if(c.getPosition(u)&CKEDITOR.POSITION_CONTAINS)break;c=c.getNext(t)}else d=c.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==c.getName()&&c.data("cke-realelement")||!s(r,c)||(a.test(c.getName())?c.remove(1):(c.removeAttributes(n),r.fire("removeFormatCleanup",c))),c=d;e.moveToBookmark(l)}r.forceNextSelectionCheck(),r.getSelection().selectRanges(i)}}},filter:function(t,e){for(var n=t._.removeFormatFilters||[],i=0;i<n.length;i++)if(!1===n[i](e))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(t){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(t)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",Lt={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(t){this.toggleState(),this.refresh(t)},refresh:function(t){if(t.document){var e=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";t.editable()[e]("cke_show_borders")}}},CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var t;t=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders "),CKEDITOR.addCss(t)},init:function(e){var t=e.addCommand("showborders",Lt);(t.canUndo=!1)!==e.config.startupShowBorders&&t.setState(CKEDITOR.TRISTATE_ON),e.on("mode",function(){t.state!=CKEDITOR.TRISTATE_DISABLED&&t.refresh(e)},null,null,100),e.on("contentDom",function(){t.state!=CKEDITOR.TRISTATE_DISABLED&&t.refresh(e)}),e.on("removeFormatCleanup",function(t){t=t.data,e.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&t.is("table")&&(!t.hasAttribute("border")||parseInt(t.getAttribute("border"),10)<=0)&&t.addClass("cke_show_border")})},afterInit:function(t){var e=t.dataProcessor;t=e&&e.dataFilter,e=e&&e.htmlFilter,t&&t.addRules({elements:{table:function(t){var e=(t=t.attributes).class,n=parseInt(t.border,10);n&&!(n<=0)||e&&-1!=e.indexOf("cke_show_border")||(t.class=(e||"")+" cke_show_border")}}}),e&&e.addRules({elements:{table:function(t){var e=(t=t.attributes).class;e&&(t.class=e.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),CKEDITOR.on("dialogDefinition",function(t){var e=t.data.name;"table"!=e&&"tableProperties"!=e||((e=(t=t.data.definition).getContents("info").get("txtBorder")).commit=CKEDITOR.tools.override(e.commit,function(i){return function(t,e){i.apply(this,arguments);var n=parseInt(this.getValue(),10);e[!n||n<=0?"addClass":"removeClass"]("cke_show_border")}}),(t=(t=t.getContents("advanced"))&&t.get("advCSSClasses"))&&(t.setup=CKEDITOR.tools.override(t.setup,function(t){return function(){t.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}}),t.commit=CKEDITOR.tools.override(t.commit,function(n){return function(t,e){n.apply(this,arguments),parseInt(e.getAttribute("border"),10)||e.addClass("cke_show_border")}})))}),function(){CKEDITOR.plugins.add("sourcearea",{init:function(n){function i(){var t=e&&this.equals(CKEDITOR.document.getActive());this.hide(),this.setStyle("height",this.getParent().$.clientHeight+"px"),this.setStyle("width",this.getParent().$.clientWidth+"px"),this.show(),t&&this.focus()}if(n.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var t=CKEDITOR.plugins.sourcearea;n.addMode("source",function(t){var e=n.ui.space("contents").getDocument().createElement("textarea");e.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",n.config.sourceAreaTabSize||4))),e.setAttribute("dir","ltr"),e.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu"),n.ui.space("contents").append(e),(e=n.editable(new o(n,e))).setData(n.getData(1)),CKEDITOR.env.ie&&(e.attachListener(n,"resize",i,e),e.attachListener(CKEDITOR.document.getWindow(),"resize",i,e),CKEDITOR.tools.setTimeout(i,0,e)),n.fire("ariaWidget",this),t()}),n.addCommand("source",t.commands.source),n.ui.addButton&&n.ui.addButton("Source",{label:n.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"}),n.on("mode",function(){n.getCommand("source").setState("source"==n.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var e=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var o=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(t){this.setValue(t),this.status="ready",this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(t){this[(t?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){o.baseProto.detach.call(this),this.clearCustomData(),this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(t){"wysiwyg"==t.mode&&t.fire("saveSnapshot"),t.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED),t.setMode("source"==t.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(e){var n=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),e.addCommand("specialchar",{exec:function(){var t=e.langCode;t=n.availableLangs[t]?t:n.availableLangs[t.replace(/-.*/,"")]?t.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(n.path+"dialogs/lang/"+t+".js"),function(){CKEDITOR.tools.extend(e.lang.specialchar,n.langEntries[t]),e.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1}),e.ui.addButton&&e.ui.addButton("SpecialChar",{label:e.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){function e(e){var n=this._,t=n.menu;n.state!==CKEDITOR.TRISTATE_DISABLED&&(n.on&&t?t.hide():(n.previousState=n.state,t||((t=n.menu=new CKEDITOR.menu(e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.common.options}}})).onHide=CKEDITOR.tools.bind(function(){var t=this.command?e.getCommand(this.command).modes:this.modes;this.setState(!t||t[e.mode]?n.previousState:CKEDITOR.TRISTATE_DISABLED),n.on=0},this),this.onMenu&&t.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),n.on=1,setTimeout(function(){t.show(CKEDITOR.document.getById(n.id),4)},0)))}CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){delete t.panel,this.base(t),this.hasArrow=!0,this.click=e},statics:{handler:{create:function(t){return new CKEDITOR.ui.menuButton(t)}}}})},beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",onLoad:function(t){CKEDITOR.plugins.scayt.onLoadTimestamp=(new Date).getTime(),"moono-lisa"==(CKEDITOR.skinName||t.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/scayt.css"),CKEDITOR.document.appendStyleSheet(this.path+"dialogs/dialog.css")},init:function(r){var a=this,n=CKEDITOR.plugins.scayt;this.bindEvents(r),this.parseConfig(r),this.addRule(r),CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js")),this.addMenuItems(r);var t=r.lang.scayt,e=CKEDITOR.env;r.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:t.text_title,title:r.plugins.wsc?r.lang.wsc.title:t.text_title,modes:{wysiwyg:!(e.ie&&(e.version<8||e.quirks))},toolbar:"spellchecker,20",refresh:function(){var t=r.ui.instances.Scayt.getState();r.scayt&&(t=n.state.scayt[r.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),r.fire("scaytButtonState",t)},onRender:function(){var e=this;r.on("scaytButtonState",function(t){t.data,e.setState(t.data)})},onMenu:function(){var t=r.scayt;r.getMenuItem("scaytToggle").label=r.lang.scayt[t&&n.state.scayt[r.name]?"btn_disable":"btn_enable"];var e={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:r.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};return r.config.scayt_uiTabs[0]||delete e.scaytOptions,r.config.scayt_uiTabs[1]||delete e.scaytLangs,r.config.scayt_uiTabs[2]||delete e.scaytDict,t&&!CKEDITOR.plugins.scayt.isNewUdSupported(t)&&(delete e.scaytDict,r.config.scayt_uiTabs[2]=0,CKEDITOR.plugins.scayt.alarmCompatibilityMessage()),e}}),r.contextMenu&&r.addMenuItems&&(r.contextMenu.addListener(function(t,e){var n,i,o=r.scayt;return o&&(i=o.getSelectionNode())&&(n=a.menuGenerator(r,i),o.showBanner("."+r.contextMenu._.definition.panel.className.split(" ").join(" ."))),n}),r.contextMenu._.onHide=CKEDITOR.tools.override(r.contextMenu._.onHide,function(e){return function(){var t=r.scayt;return t&&t.hideBanner(),e.apply(this)}}))},addMenuItems:function(i){var e=this,n=CKEDITOR.plugins.scayt;i.addMenuGroup("scaytButton");for(var t=i.config.scayt_contextMenuItemsOrder.split("|"),o=0;o<t.length;o++)t[o]="scayt_"+t[o];if((t=["grayt_description","grayt_suggest","grayt_control"].concat(t))&&t.length)for(o=0;o<t.length;o++)i.addMenuGroup(t[o],o-10);i.addCommand("scaytToggle",{exec:function(t){var e=t.scayt;n.state.scayt[t.name]=!n.state.scayt[t.name],!0===n.state.scayt[t.name]?e||n.createScayt(t):e&&n.destroy(t)}}),i.addCommand("scaytAbout",{exec:function(t){t.scayt.tabToOpen="about",t.lockSelection(),t.openDialog(e.dialogName)}}),i.addCommand("scaytOptions",{exec:function(t){t.scayt.tabToOpen="options",t.lockSelection(),t.openDialog(e.dialogName)}}),i.addCommand("scaytLangs",{exec:function(t){t.scayt.tabToOpen="langs",t.lockSelection(),t.openDialog(e.dialogName)}}),i.addCommand("scaytDict",{exec:function(t){t.scayt.tabToOpen="dictionaries",t.lockSelection(),t.openDialog(e.dialogName)}}),t={scaytToggle:{label:i.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:i.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:i.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:i.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:i.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}},i.plugins.wsc&&(t.WSC={label:i.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var t=CKEDITOR.plugins.scayt,e=i.scayt,n=i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?i.container.getText():i.document.getBody().getText();(n=n.replace(/\s/g,""))?(e&&t.state.scayt[i.name]&&e.setMarkupPaused&&e.setMarkupPaused(!0),i.lockSelection(),i.execCommand("checkspell")):alert("Nothing to check!")}}),i.addMenuItems(t)},bindEvents:function(r){function e(){a.destroy(r)}function o(){!a.state.scayt[r.name]||r.readOnly||r.scayt||a.createScayt(r)}function t(){s?r.config.scayt_inlineModeImmediateMarkup?o():(r.on("blur",function(){setTimeout(e,0)}),r.on("focus",o),r.focusManager.hasFocus&&o()):o(),function(){var t=r.editable();t.attachListener(t,"focus",function(t){var e,n;if(CKEDITOR.plugins.scayt&&!r.scayt&&setTimeout(o,0),t=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[r.name]&&r.scayt,(s||t)&&r._.savedSelection){t=!(t=r._.savedSelection.getSelectedElement())&&r._.savedSelection.getRanges();for(var i=0;i<t.length;i++)"string"==typeof(n=t[i]).startContainer.$.nodeValue&&(((e=n.startContainer.getText().length)<n.startOffset||e<n.endOffset)&&r.unlockSelection(!1))}},this,null,-10)}();var t=r.editable();t.attachListener(t,"mousedown",function(t){t=t.data.getTarget();var e=r.widgets&&r.widgets.getByElement(t);e&&(e.wrapper=t.getAscendant(function(t){return t.hasAttribute("data-cke-widget-wrapper")},!0))},this,null,-10)}var a=CKEDITOR.plugins.scayt,s=r.elementMode==CKEDITOR.ELEMENT_MODE_INLINE;r.on("contentDom",t),r.on("beforeCommandExec",function(t){var e=r.scayt,n=!1,i=!1,o=!0;t.data.name in a.options.disablingCommandExec&&"wysiwyg"==r.mode?e&&(a.destroy(r),r.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):"bold"!==t.data.name&&"italic"!==t.data.name&&"underline"!==t.data.name&&"strike"!==t.data.name&&"subscript"!==t.data.name&&"superscript"!==t.data.name&&"enter"!==t.data.name&&"cut"!==t.data.name&&"language"!==t.data.name||!e||("cut"===t.data.name&&(i=!(o=!1)),"language"===t.data.name&&(i=n=!0),r.fire("reloadMarkupScayt",{removeOptions:{removeInside:o,forceBookmark:i,language:n},timeout:0}))}),r.on("beforeSetMode",function(t){"source"==t.data&&((t=r.scayt)&&(a.destroy(r),r.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),r.document&&r.document.getBody().removeAttribute("_jquid"))}),r.on("afterCommandExec",function(t){"wysiwyg"!=r.mode||"undo"!=t.data.name&&"redo"!=t.data.name||setTimeout(function(){a.reloadMarkup(r.scayt)},250)}),r.on("readOnly",function(t){var e;t&&(e=r.scayt,!0===t.editor.readOnly?e&&e.fire("removeMarkupInDocument",{}):e?a.reloadMarkup(e):"wysiwyg"==t.editor.mode&&!0===a.state.scayt[t.editor.name]&&(a.createScayt(r),t.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))}),r.on("beforeDestroy",e),r.on("setData",function(){e(),r.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&!r.plugins.divarea||t()},this,null,50),r.on("reloadMarkupScayt",function(t){var e=t.data&&t.data.removeOptions,n=t.data&&t.data.timeout,i=t.data&&t.data.language,o=r.scayt;o&&setTimeout(function(){i&&(e.selectionNode=r.plugins.language.getCurrentLangElement(r),e.selectionNode=e.selectionNode&&e.selectionNode.$||null),o.removeMarkupInSelectionNode(e),a.reloadMarkup(o)},n||0)}),r.on("insertElement",function(){r.fire("reloadMarkupScayt",{removeOptions:{forceBookmark:!0}})},this,null,50),r.on("insertHtml",function(){r.scayt&&r.scayt.setFocused&&r.scayt.setFocused(!0),r.fire("reloadMarkupScayt")},this,null,50),r.on("insertText",function(){r.scayt&&r.scayt.setFocused&&r.scayt.setFocused(!0),r.fire("reloadMarkupScayt")},this,null,50),r.on("scaytDialogShown",function(t){t.data.selectPage(r.scayt.tabToOpen)})},parseConfig:function(t){if((i=CKEDITOR.plugins.scayt).replaceOldOptionsNames(t.config),"boolean"!=typeof t.config.scayt_autoStartup&&(t.config.scayt_autoStartup=!1),i.state.scayt[t.name]=t.config.scayt_autoStartup,"boolean"!=typeof t.config.grayt_autoStartup&&(t.config.grayt_autoStartup=!1),"boolean"!=typeof t.config.scayt_inlineModeImmediateMarkup&&(t.config.scayt_inlineModeImmediateMarkup=!1),i.state.grayt[t.name]=t.config.grayt_autoStartup,t.config.scayt_contextCommands||(t.config.scayt_contextCommands="ignoreall|add"),t.config.scayt_contextMenuItemsOrder||(t.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control"),t.config.scayt_sLang||(t.config.scayt_sLang="en_US"),(void 0===t.config.scayt_maxSuggestions||"number"!=typeof t.config.scayt_maxSuggestions||t.config.scayt_maxSuggestions<0)&&(t.config.scayt_maxSuggestions=5),(void 0===t.config.scayt_minWordLength||"number"!=typeof t.config.scayt_minWordLength||t.config.scayt_minWordLength<1)&&(t.config.scayt_minWordLength=4),void 0!==t.config.scayt_customDictionaryIds&&"string"==typeof t.config.scayt_customDictionaryIds||(t.config.scayt_customDictionaryIds=""),void 0!==t.config.scayt_userDictionaryName&&"string"==typeof t.config.scayt_userDictionaryName||(t.config.scayt_userDictionaryName=null),"string"==typeof t.config.scayt_uiTabs&&3===t.config.scayt_uiTabs.split(",").length){var e=[],n=[];t.config.scayt_uiTabs=t.config.scayt_uiTabs.split(","),CKEDITOR.tools.search(t.config.scayt_uiTabs,function(t){1===Number(t)||0===Number(t)?(n.push(!0),e.push(Number(t))):n.push(!1)}),null===CKEDITOR.tools.search(n,!1)?t.config.scayt_uiTabs=e:t.config.scayt_uiTabs=[1,1,1]}else t.config.scayt_uiTabs=[1,1,1];if("string"!=typeof t.config.scayt_serviceProtocol&&(t.config.scayt_serviceProtocol=null),"string"!=typeof t.config.scayt_serviceHost&&(t.config.scayt_serviceHost=null),"string"!=typeof t.config.scayt_servicePort&&(t.config.scayt_servicePort=null),"string"!=typeof t.config.scayt_servicePath&&(t.config.scayt_servicePath=null),t.config.scayt_moreSuggestions||(t.config.scayt_moreSuggestions="on"),"string"!=typeof t.config.scayt_customerId&&(t.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"),"string"!=typeof t.config.scayt_customPunctuation&&(t.config.scayt_customPunctuation="-"),"string"!=typeof t.config.scayt_srcUrl&&(i=-1!=(i=document.location.protocol).search(/https?:/)?i:"http:",t.config.scayt_srcUrl=i+"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js"),"boolean"!=typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0),"boolean"!=typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0),CKEDITOR.config.scayt_handleUndoRedo=!!CKEDITOR.plugins.undo&&CKEDITOR.config.scayt_handleUndoRedo,"boolean"!=typeof t.config.scayt_multiLanguageMode&&(t.config.scayt_multiLanguageMode=!1),"object"!=typeof t.config.scayt_multiLanguageStyles&&(t.config.scayt_multiLanguageStyles={}),t.config.scayt_ignoreAllCapsWords&&"boolean"!=typeof t.config.scayt_ignoreAllCapsWords&&(t.config.scayt_ignoreAllCapsWords=!1),t.config.scayt_ignoreDomainNames&&"boolean"!=typeof t.config.scayt_ignoreDomainNames&&(t.config.scayt_ignoreDomainNames=!1),t.config.scayt_ignoreWordsWithMixedCases&&"boolean"!=typeof t.config.scayt_ignoreWordsWithMixedCases&&(t.config.scayt_ignoreWordsWithMixedCases=!1),t.config.scayt_ignoreWordsWithNumbers&&"boolean"!=typeof t.config.scayt_ignoreWordsWithNumbers&&(t.config.scayt_ignoreWordsWithNumbers=!1),t.config.scayt_disableOptionsStorage){var i=CKEDITOR.tools.isArray(t.config.scayt_disableOptionsStorage)?t.config.scayt_disableOptionsStorage:"string"==typeof t.config.scayt_disableOptionsStorage?[t.config.scayt_disableOptionsStorage]:void 0,r="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),a=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],s=CKEDITOR.tools.search,l=CKEDITOR.tools.indexOf;t.config.scayt_disableOptionsStorage=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],o=!!s(t,"options");if(!s(r,i)||o&&s(a,function(t){if("lang"===t)return!1}))return;if(s(a,i)&&a.splice(l(a,i),1),"all"===i||o&&s(t,"lang"))return[];"options"===i&&(a=["lang"])}return e.concat(a)}(i)}},addRule:function(n){var i=CKEDITOR.plugins.scayt,t=(o=n.dataProcessor)&&o.htmlFilter,e=n._.elementsPath&&n._.elementsPath.filters,o=o&&o.dataFilter,r=n.addRemoveFormatFilter;e&&e.push(function(t){if(n.scayt&&(t.hasAttribute(i.options.data_attribute_name)||t.hasAttribute(i.options.problem_grammar_data_attribute)))return!1}),o&&o.addRules({elements:{span:function(t){var e=t.hasClass(i.options.misspelled_word_class)&&t.attributes[i.options.data_attribute_name],n=t.hasClass(i.options.problem_grammar_class)&&t.attributes[i.options.problem_grammar_data_attribute];return i&&(e||n)&&delete t.name,t}}}),t&&t.addRules({elements:{span:function(t){var e=t.hasClass(i.options.misspelled_word_class)&&t.attributes[i.options.data_attribute_name],n=t.hasClass(i.options.problem_grammar_class)&&t.attributes[i.options.problem_grammar_data_attribute];return i&&(e||n)&&delete t.name,t}}}),r&&r.call(n,function(t){var e=!0;return n.scayt&&(t.hasAttribute(i.options.data_attribute_name)||t.hasAttribute(i.options.problem_grammar_data_attribute))&&(e=!1),e})},scaytMenuDefinition:function(t){var e=this;return{scayt:{scayt_ignore:{label:(t=t.scayt).getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(t){t.scayt.ignoreWord()}},scayt_ignoreall:{label:t.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(t){t.scayt.ignoreAllWords()}},scayt_add:{label:t.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(t){var e=t.scayt;setTimeout(function(){e.addWordToUserDictionary()},10)}},scayt_option:{label:t.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(t){t.scayt.tabToOpen="options",t.lockSelection(),t.openDialog(e.dialogName)},verification:function(t){return 1==t.config.scayt_uiTabs[0]}},scayt_language:{label:t.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(t){t.scayt.tabToOpen="langs",t.lockSelection(),t.openDialog(e.dialogName)},verification:function(t){return 1==t.config.scayt_uiTabs[1]}},scayt_dictionary:{label:t.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(t){t.scayt.tabToOpen="dictionaries",t.lockSelection(),t.openDialog(e.dialogName)},verification:function(t){return 1==t.config.scayt_uiTabs[2]}},scayt_about:{label:t.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(t){t.scayt.tabToOpen="about",t.lockSelection(),t.openDialog(e.dialogName)}}},grayt:{grayt_problemdescription:{label:"Grammar problem description",group:"grayt_description",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(t){}},grayt_ignore:{label:t.getLocal("btn_ignore"),group:"grayt_control",order:2,exec:function(t){t.scayt.ignorePhrase()}},grayt_ignoreall:{label:t.getLocal("btn_ignoreAll"),group:"grayt_control",order:3,exec:function(t){t.scayt.ignoreAllPhrases()}}}}},buildSuggestionMenuItems:function(t,e,n){var i={},o={},r=n?"word":"phrase",a=n?"startGrammarCheck":"startSpellCheck",s=t.scayt;if(0<e.length&&"no_any_suggestions"!==e[0])if(n)for(n=0;n<e.length;n++){var l="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_");t.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],r,a)),n<t.config.scayt_maxSuggestions?(t.addMenuItem(l,{label:e[n],command:l,group:"scayt_suggest",order:n+1}),i[l]=CKEDITOR.TRISTATE_OFF):(t.addMenuItem(l,{label:e[n],command:l,group:"scayt_moresuggest",order:n+1}),o[l]=CKEDITOR.TRISTATE_OFF,"on"===t.config.scayt_moreSuggestions&&(t.addMenuItem("scayt_moresuggest",{label:s.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return o}}),i.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(n=0;n<e.length;n++)l="grayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_"),t.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],r,a)),t.addMenuItem(l,{label:e[n],command:l,group:"grayt_suggest",order:n+1}),i[l]=CKEDITOR.TRISTATE_OFF;else i.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,t.addCommand("no_scayt_suggest",{exec:function(){}}),t.addMenuItem("no_scayt_suggest",{label:s.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return i},menuGenerator:function(t,e){var n,i,o,r=t.scayt,a=this.scaytMenuDefinition(t),s={},l=t.config.scayt_contextCommands.split("|"),c=e.getAttribute(r.getLangAttribute())||r.getLang();if(n=r.isScaytNode(e),i=r.isGraytNode(e),n?(a=a.scayt,s=e.getAttribute(r.getScaytNodeAttributeName()),r.fire("getSuggestionsList",{lang:c,word:s}),s=this.buildSuggestionMenuItems(t,CKEDITOR.plugins.scayt.suggestions,n)):i&&(a=a.grayt,s=e.getAttribute(r.getGraytNodeAttributeName()),o=r.getProblemDescriptionText(s,c),a.grayt_problemdescription&&o&&(a.grayt_problemdescription.label=o),r.fire("getGrammarSuggestionsList",{lang:c,phrase:s}),s=this.buildSuggestionMenuItems(t,CKEDITOR.plugins.scayt.suggestions,n)),n&&"off"==t.config.scayt_contextCommands)return s;for(var u in a)n&&-1==CKEDITOR.tools.indexOf(l,u.replace("scayt_",""))&&"all"!=t.config.scayt_contextCommands||i&&"grayt_problemdescription"!==u&&-1==CKEDITOR.tools.indexOf(l,u.replace("grayt_",""))&&"all"!=t.config.scayt_contextCommands||(s[u]=void 0!==a[u].state?a[u].state:CKEDITOR.TRISTATE_OFF,"function"!=typeof a[u].verification||a[u].verification(t)||delete s[u],t.addCommand(u,{exec:a[u].exec}),t.addMenuItem(u,{label:t.lang.scayt[a[u].label]||a[u].label,command:u,group:a[u].group,order:a[u].order}));return s},createCommand:function(n,i,o){return{exec:function(t){t=t.scayt;var e={};e[i]=n,t.replaceSelectionNode(e),"startGrammarCheck"===o&&t.removeMarkupInSelectionNode({grammarOnly:!0}),t.fire(o)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:"cke-fillingChar",charCode:function(){var t;if(n=(n=CKEDITOR.version.match(/^\d(\.\d*)*/))&&n[0]){t="4.5.7";var e,n=n.replace(/\./g,"");t=t.replace(/\./g,""),e=0<=(e=n.length-t.length)?e:0,t=parseInt(n)>=parseInt(t)*Math.pow(10,e)}return t?Array(7).join(String.fromCharCode(8203)):String.fromCharCode(8203)}()}],onLoadTimestamp:"",state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},alarmCompatibilityMessage:function(){this.warningCounter<5&&(console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."),this.warningCounter+=1)},isNewUdSupported:function(t){return!!t.getUserDictionary},reloadMarkup:function(t){var e;t&&(e=t.getScaytLangList(),t.reloadMarkup?t.reloadMarkup():(this.alarmCompatibilityMessage(),e&&e.ltr&&e.rtl&&t.fire("startSpellCheck, startGrammarCheck")))},replaceOldOptionsNames:function(t){for(var e in t)e in this.backCompatibilityMap&&(t[this.backCompatibilityMap[e]]=t[e],delete t[e])},createScayt:function(t){var r=this,a=CKEDITOR.plugins.scayt;this.loadScaytLibrary(t,function(i){function e(t){return new SCAYT.CKSCAYT(t,function(){},function(){})}var n=i.window&&i.window.getFrame()||i.editable();if(n){var o;n={lang:i.config.scayt_sLang,container:n.$,customDictionary:i.config.scayt_customDictionaryIds,userDictionaryName:i.config.scayt_userDictionaryName,localization:i.langCode,customer_id:i.config.scayt_customerId,customPunctuation:i.config.scayt_customPunctuation,debug:i.config.scayt_debug,data_attribute_name:r.options.data_attribute_name,misspelled_word_class:r.options.misspelled_word_class,problem_grammar_data_attribute:r.options.problem_grammar_data_attribute,problem_grammar_class:r.options.problem_grammar_class,"options-to-restore":i.config.scayt_disableOptionsStorage,focused:i.editable().hasFocus,ignoreElementsRegex:i.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:i.config.grayt_elementsToIgnore,minWordLength:i.config.scayt_minWordLength,multiLanguageMode:i.config.scayt_multiLanguageMode,multiLanguageStyles:i.config.scayt_multiLanguageStyles,graytAutoStartup:i.config.grayt_autoStartup,charsToObserve:a.charsToObserve},i.config.scayt_serviceProtocol&&(n.service_protocol=i.config.scayt_serviceProtocol),i.config.scayt_serviceHost&&(n.service_host=i.config.scayt_serviceHost),i.config.scayt_servicePort&&(n.service_port=i.config.scayt_servicePort),i.config.scayt_servicePath&&(n.service_path=i.config.scayt_servicePath),"boolean"==typeof i.config.scayt_ignoreAllCapsWords&&(n["ignore-all-caps-words"]=i.config.scayt_ignoreAllCapsWords),"boolean"==typeof i.config.scayt_ignoreDomainNames&&(n["ignore-domain-names"]=i.config.scayt_ignoreDomainNames),"boolean"==typeof i.config.scayt_ignoreWordsWithMixedCases&&(n["ignore-words-with-mixed-cases"]=i.config.scayt_ignoreWordsWithMixedCases),"boolean"==typeof i.config.scayt_ignoreWordsWithNumbers&&(n["ignore-words-with-numbers"]=i.config.scayt_ignoreWordsWithNumbers);try{o=e(n)}catch(t){r.alarmCompatibilityMessage(),delete n.charsToObserve,o=e(n)}o.subscribe("suggestionListSend",function(t){for(var e={},n=[],i=0;i<t.suggestionList.length;i++)e["word_"+t.suggestionList[i]]||(e["word_"+t.suggestionList[i]]=t.suggestionList[i],n.push(t.suggestionList[i]));CKEDITOR.plugins.scayt.suggestions=n}),o.subscribe("selectionIsChanged",function(t){i.getSelection().isLocked&&i.lockSelection()}),o.subscribe("graytStateChanged",function(t){a.state.grayt[i.name]=t.state}),o.addMarkupHandler&&o.addMarkupHandler(function(t){var e=i.editable(),n=e.getCustomData(t.charName);n&&(n.$=t.node,e.setCustomData(t.charName,n))}),i.scayt=o,i.fire("scaytButtonState",i.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else a.state.scayt[i.name]=!1})},destroy:function(t){t.scayt&&t.scayt.destroy(),delete t.scayt,t.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(t,e){function n(){CKEDITOR.fireOnce("scaytReady"),t.scayt||"function"==typeof e&&e(t)}var i;void 0===window.SCAYT||"function"!=typeof window.SCAYT.CKSCAYT?(i=t.config.scayt_srcUrl+"?"+this.onLoadTimestamp,CKEDITOR.scriptLoader.load(i,function(t){t&&n()})):window.SCAYT&&"function"==typeof window.SCAYT.CKSCAYT&&n()}},CKEDITOR.on("dialogDefinition",function(t){var e=t.data.name;t=t.data.definition.dialog,"scaytDialog"===e&&t.on("cancel",function(t){return!1},this,null,-1),"checkspell"===e&&t.on("cancel",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;n&&e.state.scayt[t.name]&&n.setMarkupPaused&&n.setMarkupPaused(!1),t.unlockSelection()},this,null,-2),"link"===e&&t.on("ok",function(t){var e=t.sender&&t.sender.getParentEditor();e&&setTimeout(function(){e.fire("reloadMarkupScayt",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})},0)}),"replace"===e&&t.on("hide",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;t&&setTimeout(function(){n&&(n.fire("removeMarkupInDocument",{}),e.reloadMarkup(n))},0)})}),CKEDITOR.on("scaytReady",function(){!0===CKEDITOR.config.scayt_handleCheckDirty&&((t=CKEDITOR.editor.prototype).checkDirty=CKEDITOR.tools.override(t.checkDirty,function(i){return function(){var t=null,e=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(t="ready"==this.status){var n=e.removeMarkupFromString(this.getSnapshot());e=e.removeMarkupFromString(this._.previousValue),t=t&&e!==n}}else t=i.call(this);return t}}),t.resetDirty=CKEDITOR.tools.override(t.resetDirty,function(e){return function(){var t=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=t.removeMarkupFromString(this.getSnapshot()):e.call(this)}}));if(!0===CKEDITOR.config.scayt_handleUndoRedo){var t,e="function"==typeof(t=CKEDITOR.plugins.undo.Image.prototype).equalsContent?"equalsContent":"equals";t[e]=CKEDITOR.tools.override(t[e],function(r){return function(t){var e,n=t.editor.scayt,i=this.contents,o=t.contents;return CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[t.editor.name]&&t.editor.scayt&&(this.contents=n.removeMarkupFromString(i)||"",t.contents=n.removeMarkupFromString(o)||""),e=r.apply(this,arguments),this.contents=i,t.contents=o,e}})}}),CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(a){var s=a.config,l=a.lang.stylescombo,c={},u=[],d=[];a.on("stylesSet",function(t){if(t=t.data.styles){for(var e,n,i,o=0,r=t.length;o<r;o++)e=t[o],a.blockless&&e.element in CKEDITOR.dtd.$block||"string"==typeof e.type&&!CKEDITOR.style.customHandlers[e.type]||(n=e.name,e=new CKEDITOR.style(e),a.filter.customConfig&&!a.filter.check(e))||(e._name=n,e._.enterMode=s.enterMode,e._.type=i=e.assignedTo||e.type,e._.weight=o+1e3*(i==CKEDITOR.STYLE_OBJECT?1:i==CKEDITOR.STYLE_BLOCK?2:3),c[n]=e,u.push(e),d.push(e));u.sort(function(t,e){return t._.weight-e._.weight})}}),a.ui.addRichCombo("Styles",{label:l.label,title:l.panelTitle,toolbar:"styles,10",allowedContent:d,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(s.contentsCss),multiSelect:!0,attributes:{"aria-label":l.panelTitle}},init:function(){var t,e,n,i,o,r;for(o=0,r=u.length;o<r;o++)e=(t=u[o])._name,(i=t._.type)!=n&&(this.startGroup(l["panelTitle"+String(i)]),n=i),this.add(e,t.type==CKEDITOR.STYLE_OBJECT?e:t.buildPreview(),e);this.commit()},onClick:function(t){a.focus(),a.fire("saveSnapshot"),t=c[t];var e=a.elementPath();t.group&&t.removeStylesFromSameGroup(a)?a.applyStyle(t):a[t.checkActive(e,a)?"removeStyle":"applyStyle"](t),a.fire("saveSnapshot")},onRender:function(){a.on("selectionChange",function(t){for(var e,n=this.getValue(),i=0,o=(t=t.data.path.elements).length;i<o;i++)for(var r in e=t[i],c)if(c[r].checkElementRemovable(e,!0,a))return void(r!=n&&this.setValue(r));this.setValue("")},this)},onOpen:function(){var t=(t=a.getSelection()).getSelectedElement()||t.getStartElement()||a.editable(),e=(t=a.elementPath(t),[0,0,0,0]);for(var n in this.showAll(),this.unmarkAll(),c){var i=c[n],o=i._.type;i.checkApplicable(t,a,a.activeFilter)?e[o]++:this.hideItem(n),i.checkActive(t,a)&&this.mark(n)}e[CKEDITOR.STYLE_BLOCK]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),e[CKEDITOR.STYLE_INLINE]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),e[CKEDITOR.STYLE_OBJECT]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var t=a.elementPath();if(t){for(var e in c)if(c[e].checkApplicable(t,a,a.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){c={},u=[]}})}}),Ft={editorFocus:!1,modes:{wysiwyg:1,source:1}},Bt={exec:function(t){t.container.focusNext(!0,t.tabIndex)}},$t={exec:function(t){t.container.focusPrevious(!0,t.tabIndex)}},CKEDITOR.plugins.add("tab",{init:function(e){for(var t=!1!==e.config.enableTabKeyTools,n=e.config.tabSpaces||0,i="";n--;)i+="";i&&e.on("key",function(t){9==t.data.keyCode&&(e.insertText(i),t.cancel())}),t&&e.on("key",function(t){(9==t.data.keyCode&&e.execCommand("selectNextCell")||t.data.keyCode==CKEDITOR.SHIFT+9&&e.execCommand("selectPreviousCell"))&&t.cancel()}),e.addCommand("blur",CKEDITOR.tools.extend(Bt,Ft)),e.addCommand("blurBack",CKEDITOR.tools.extend($t,Ft)),e.addCommand("selectNextCell",pn()),e.addCommand("selectPreviousCell",pn(!0))}}),CKEDITOR.dom.element.prototype.focusNext=function(t,e){var n,i,o,r,a,s,l=void 0===e?this.getTabIndex():e;if(l<=0)for(a=this.getNextSourceNode(t,CKEDITOR.NODE_ELEMENT);a;){if(a.isVisible()&&0===a.getTabIndex()){o=a;break}a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(a=this.getDocument().getBody().getFirst();a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!i&&a.equals(this)){if(i=!0,t){if(!(a=a.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else i&&!this.contains(a)&&(n=1);if(a.isVisible()&&!((s=a.getTabIndex())<0)){if(n&&s==l){o=a;break}l<s&&(!o||!r||s<r)?(o=a,r=s):o||0!==s||(o=a,r=s)}}o&&o.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(t,e){for(var n,i,o,r,a=void 0===e?this.getTabIndex():e,s=0,l=this.getDocument().getBody().getLast();l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!i&&l.equals(this)){if(i=!0,t){if(!(l=l.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else i&&!this.contains(l)&&(n=1);if(l.isVisible()&&!((r=l.getTabIndex())<0))if(a<=0){if(n&&0===r){o=l;break}s<r&&(o=l,s=r)}else{if(n&&r==a){o=l;break}r<a&&(!o||s<r)&&(o=l,s=r)}}o&&o.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(t){function e(t){return CKEDITOR.tools.extend(t||{},{contextSensitive:1,refresh:function(t,e){this.setState(e.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!t.blockless){var n=t.lang.table;t.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];"+(t.plugins.dialogadvtab?"table"+t.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"],["td: splitBorderShorthand"],[{element:"table",right:function(t){if(t.styles){var e;if(t.styles.border)e=CKEDITOR.tools.style.parse.border(t.styles.border);else if(CKEDITOR.env.ie&&8===CKEDITOR.env.version){var n=t.styles;n["border-left"]&&n["border-left"]===n["border-right"]&&n["border-right"]===n["border-top"]&&n["border-top"]===n["border-bottom"]&&(e=CKEDITOR.tools.style.parse.border(n["border-top"]))}e&&e.style&&"solid"===e.style&&e.width&&0!==parseFloat(e.width)&&(t.attributes.border=1),"collapse"==t.styles["border-collapse"]&&(t.attributes.cellspacing=0)}}}]]})),t.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",e())),t.addCommand("tableDelete",e({exec:function(t){var e=t.elementPath().contains("table",1);if(e){var n=e.getParent(),i=t.editable();1!=n.getChildCount()||n.is("td","th")||n.equals(i)||(e=n),(t=t.createRange()).moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),t.select()}}})),t.ui.addButton&&t.ui.addButton("Table",{label:n.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),t.addMenuItems&&t.addMenuItems({table:{label:n.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:n.deleteTable,command:"tableDelete",group:"table",order:1}}),t.on("doubleclick",function(t){t.data.element.is("table")&&(t.data.dialog="tableProperties")}),t.contextMenu&&t.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),Ht=/^(?:td|th)$/,zt=CKEDITOR.tools.isArray,CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(i){function t(t){return CKEDITOR.tools.extend(t||{},{contextSensitive:1,refresh:function(t,e){this.setState(e.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function e(t,e){var n=i.addCommand(t,e);i.addFeature(n)}var n=i.lang.table,o=CKEDITOR.tools.style.parse;e("cellProperties",new CKEDITOR.dialogCommand("cellProperties",t({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:"table",contentTransformations:[[{element:"td",left:function(t){return t.styles.background&&o.background(t.styles.background).color},right:function(t){t.styles["background-color"]=o.background(t.styles.background).color}},{element:"td",check:"td{vertical-align}",left:function(t){return t.attributes&&t.attributes.valign},right:function(t){t.styles["vertical-align"]=t.attributes.valign,delete t.attributes.valign}}],[{element:"tr",check:"td{height}",left:function(t){return t.styles&&t.styles.height},right:function(e){CKEDITOR.tools.array.forEach(e.children,function(t){t.name in{td:1,th:1}&&(t.attributes["cke-row-height"]=e.styles.height)}),delete e.styles.height}}],[{element:"td",check:"td{height}",left:function(t){return(t=t.attributes)&&t["cke-row-height"]},right:function(t){t.styles.height=t.attributes["cke-row-height"],delete t.attributes["cke-row-height"]}}]]}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),e("rowDelete",t({requiredContent:"table",exec:function(t){(t=function t(e){if(e instanceof CKEDITOR.dom.selection){var n=e.getRanges(),i=(s=gn(e))[0].getAscendant("table"),o=CKEDITOR.tools.buildTableMap(i),r=s[0].getParent().$.rowIndex,a=(s=s[s.length-1]).getParent().$.rowIndex+s.$.rowSpan-1,s=[];for(e.reset(),e=r;e<=a;e++){for(var l=o[e],c=new CKEDITOR.dom.element(i.$.rows[e]),u=0;u<l.length;u++){var d=new CKEDITOR.dom.element(l[u]),h=d.getParent().$.rowIndex;1==d.$.rowSpan?d.remove():(--d.$.rowSpan,h==e&&((h=o[e+1])[u-1]?d.insertAfter(new CKEDITOR.dom.element(h[u-1])):new CKEDITOR.dom.element(i.$.rows[e+1]).append(d,1))),u+=d.$.colSpan-1}s.push(c)}for(o=i.$.rows,n[0].moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),r=new CKEDITOR.dom.element(o[1+a]||(0<r?o[r-1]:null)||i.$.parentNode),e=s.length;0<=e;e--)t(s[e]);return i.$.parentNode?r:(n[0].select(),null)}return e instanceof CKEDITOR.dom.element&&(1==(i=e.getAscendant("table")).$.rows.length?i.remove():e.remove()),null}(t=t.getSelection()))&&En(t)}})),e("rowInsertBefore",t({requiredContent:"table",exec:function(t){mn(t=gn(t=t.getSelection()),!0)}})),e("rowInsertAfter",t({requiredContent:"table",exec:function(t){mn(t=gn(t=t.getSelection()))}})),e("columnDelete",t({requiredContent:"table",exec:function(t){(t=function(t){CKEDITOR.env.webkit&&!t.isFake&&(t=function(t){var e,n,i;if(1!==(e=t.getRanges()).length)return t;if((e=e[0]).collapsed||0!==e.endOffset)return t;if("td"!==(i=(n=e.endContainer).getName().toLowerCase())&&"th"!==i)return t;for((i=n.getPrevious())||(i=n.getParent().getPrevious().getLast());i.type!==CKEDITOR.NODE_TEXT&&"br"!==i.getName().toLowerCase();)if(!(i=i.getLast()))return t;return e.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),e.select()}(t));var e,n,i=t.getRanges(),o=(a=gn(t))[0],r=a[a.length-1],a=o.getAscendant("table"),s=CKEDITOR.tools.buildTableMap(a),l=[];t.reset();var c=0;for(t=s.length;c<t;c++)for(var u=0,d=s[c].length;u<d;u++)void 0===e&&s[c][u]==o.$&&(e=u),s[c][u]==r.$&&(n=u);for(c=e;c<=n;c++)for(u=0;u<s.length;u++)r=s[u],o=new CKEDITOR.dom.element(a.$.rows[u]),(r=new CKEDITOR.dom.element(r[c])).$&&(1==r.$.colSpan?r.remove():--r.$.colSpan,u+=r.$.rowSpan-1,o.$.cells.length||l.push(o));return e=s[0].length-1>n?new CKEDITOR.dom.element(s[0][n+1]):e&&-1!==s[0][e-1].cellIndex?new CKEDITOR.dom.element(s[0][e-1]):new CKEDITOR.dom.element(a.$.parentNode),l.length==t&&(i[0].moveToPosition(a,CKEDITOR.POSITION_AFTER_END),i[0].select(),a.remove()),e}(t=t.getSelection()))&&En(t,!0)}})),e("columnInsertBefore",t({requiredContent:"table",exec:function(t){bn(t=gn(t=t.getSelection()),!0)}})),e("columnInsertAfter",t({requiredContent:"table",exec:function(t){bn(t=gn(t=t.getSelection()))}})),e("cellDelete",t({requiredContent:"table",exec:function(t){!function t(e){if(e instanceof CKEDITOR.dom.selection){var n,i=e.getRanges(),o=gn(e),r=o[0]&&o[0].getAscendant("table");t:{var a=0;n=o.length-1;for(var s,l,c={};s=o[a++];)CKEDITOR.dom.element.setMarker(c,s,"delete_cell",!0);for(a=0;s=o[a++];)if((l=s.getPrevious())&&!l.getCustomData("delete_cell")||(l=s.getNext())&&!l.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(c),n=l;break t}CKEDITOR.dom.element.clearAllMarkers(c),n=(a=(a=o[0].getParent()).getPrevious())?a.getLast():(a=(a=o[n].getParent()).getNext())?a.getChild(0):null}for(e.reset(),e=o.length-1;0<=e;e--)t(o[e]);n?En(n,!0):r&&(i[0].moveToPosition(r,CKEDITOR.POSITION_BEFORE_START),i[0].select(),r.remove())}else e instanceof CKEDITOR.dom.element&&(1==(i=e.getParent()).getChildCount()?i.remove():e.remove())}(t=t.getSelection())}})),e("cellMerge",t({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(t,e){e.cell=Tn(t.getSelection()),En(e.cell,!0)}})),e("cellMergeRight",t({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(t,e){e.cell=Tn(t.getSelection(),"right"),En(e.cell,!0)}})),e("cellMergeDown",t({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(t,e){e.cell=Tn(t.getSelection(),"down"),En(e.cell,!0)}})),e("cellVerticalSplit",t({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(t){En(xn(t.getSelection()))}})),e("cellHorizontalSplit",t({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(t){En(Cn(t.getSelection()))}})),e("cellInsertBefore",t({requiredContent:"table",exec:function(t){_n(t=t.getSelection(),!0)}})),e("cellInsertAfter",t({requiredContent:"table",exec:function(t){_n(t=t.getSelection())}})),i.addMenuItems&&i.addMenuItems({tablecell:{label:n.cell.menu,group:"tablecell",order:1,getItems:function(){var t=i.getSelection(),e=gn(t);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:Tn(t,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:Tn(t,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:Tn(t,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:xn(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:Cn(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<e.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:n.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:n.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:n.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:n.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:n.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:n.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:n.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:n.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:n.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:n.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:n.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:n.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:n.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:n.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:n.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:n.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:n.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),i.contextMenu&&i.contextMenu.addListener(function(t,e,n){return(t=n.contains({td:1,th:1},1))&&!t.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getCellColIndex:vn,insertRow:mn,insertColumn:bn,getSelectedCells:gn},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools),CKEDITOR.tools.buildTableMap=function(t,e,n,i,o){t=t.$.rows,n=n||0,i="number"==typeof i?i:t.length-1,o="number"==typeof o?o:-1;var r=-1,a=[];for(e=e||0;e<=i;e++){a[++r]||(a[r]=[]);for(var s=-1,l=n;l<=(-1===o?t[e].cells.length-1:o);l++){if(!(u=t[e].cells[l]))break;for(s++;a[r][s];)s++;for(var c=isNaN(u.colSpan)?1:u.colSpan,u=isNaN(u.rowSpan)?1:u.rowSpan,d=0;d<u&&!(i<e+d);d++){a[r+d]||(a[r+d]=[]);for(var h=0;h<c;h++)a[r+d][s+h]=t[e].cells[l]}if(s+=c-1,-1!==o&&o<=s)break}}return a},function(){function d(t){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(t)}function h(t,e){var n,i,o=t.getAscendant("table"),r=e.getAscendant("table"),a=CKEDITOR.tools.buildTableMap(o),s=g(t),l=g(e),c=[],u={};for(o.contains(r)&&(l=g(e=e.getAscendant({td:1,th:1}))),l<s&&(o=s,s=l,l=o,o=t,t=e,e=o),o=0;o<a[s].length;o++)if(t.$===a[s][o]){n=o;break}for(o=0;o<a[l].length;o++)if(e.$===a[l][o]){i=o;break}for(i<n&&(o=n,n=i,i=o),o=s;o<=l;o++)for(s=n;s<=i;s++)(r=new CKEDITOR.dom.element(a[o][s])).$&&!r.getCustomData("selected_cell")&&(c.push(r),CKEDITOR.dom.element.setMarker(u,r,"selected_cell",!0));return CKEDITOR.dom.element.clearAllMarkers(u),c}function f(t,e){var n,i=t.editable().find(".cke_table-faked-selection");for(t.fire("lockSnapshot"),t.editable().removeClass("cke_table-faked-selection-editor"),n=0;n<i.count();n++)i.getItem(n).removeClass("cke_table-faked-selection");0<i.count()&&i.getItem(0).getAscendant("table").data("cke-table-faked-selection-table",!1),t.fire("unlockSnapshot"),e&&(_={active:!1},t.getSelection().isInTable()&&t.getSelection().reset())}function p(t,e){var n,i,o=[];for(i=0;i<e.length;i++)(n=t.createRange()).setStartBefore(e[i]),n.setEndAfter(e[i]),o.push(n);t.getSelection().selectRanges(o)}function o(t){var e,n=(t=t.editor||t.sender.editor)&&t.getSelection(),i=n&&n.getRanges()||[];if(n&&(f(t),n.isInTable()&&n.isFake)){for(1===i.length&&i[0]._getTableElement()&&i[0]._getTableElement().is("table")&&(e=i[0]._getTableElement()),e=y(n,e),t.fire("lockSnapshot"),n=0;n<e.length;n++)e[n].addClass("cke_table-faked-selection");0<e.length&&(t.editable().addClass("cke_table-faked-selection-editor"),e[0].getAscendant("table").data("cke-table-faked-selection-table","")),t.fire("unlockSnapshot")}}function g(t){return t.getAscendant("tr",!0).$.rowIndex}function m(t){function e(t,e){return!(!t||!e)&&(t.equals(e)||t.contains(e)||e.contains(t)||t.getCommonAncestor(e).is(s))}function n(t){return!t.getAscendant("table",!0)&&t.getDocument().equals(i.document)}if(t.data.getTarget().getName&&("mouseup"===t.name||!d(t.data.getTarget()))){var i=t.editor||t.listenerData.editor,o=(i.getSelection(1),function(t){return(t=t.editable().findOne(".cke_table-faked-selection"))&&t.getAscendant("table")}(i)),r=(a=t.data.getTarget())&&a.getAscendant({td:1,th:1},!0),a=a&&a.getAscendant("table",!0),s={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};c=o,u=a,("mousedown"!==(l=t).name||CKEDITOR.tools.getMouseButton(l)!==CKEDITOR.MOUSE_BUTTON_LEFT&&u)&&("mouseup"!==l.name||n(l.data.getTarget())||e(c,u))||f(i,!0),!_.active&&"mousedown"===t.name&&CKEDITOR.tools.getMouseButton(t)===CKEDITOR.MOUSE_BUTTON_LEFT&&a&&(_={active:!0},CKEDITOR.document.on("mouseup",m,null,{editor:i})),(r||a)&&function(t,e,n){var i,o=y(t.getSelection(!0));if(e=e.is("table")?null:e,(i=_.active&&!_.first)&&!(i=e)&&(i=t.getSelection().getRanges(),i=!!(1<o.length||i[0]&&!i[0].collapsed)),i)_.first=e||o[0],_.dirty=!e&&1!==o.length;else if(_.active&&e&&_.first.getAscendant("table").equals(e.getAscendant("table"))){if(o=h(_.first,e),!_.dirty&&1===o.length&&!d(n.data.getTarget()))return f(t,"mouseup"===n.name);_.dirty=!0,_.last=e,p(t,o)}}(i,r||a,t),"mouseup"===t.name&&(CKEDITOR.tools.getMouseButton(t)===CKEDITOR.MOUSE_BUTTON_LEFT&&(n(t.data.getTarget())||e(o,a))&&function(t){var e=t.editable().find(".cke_table-faked-selection");e.count()<1||p(t,e=h(e.getItem(0),e.getItem(e.count()-1)))}(i),_={active:!1},CKEDITOR.document.removeListener("mouseup",m))}var l,c,u}function r(t){var e=t.data.getTarget().getAscendant({td:1,th:1},!0);e&&!e.hasClass("cke_table-faked-selection")&&(t.cancel(),t.data.preventDefault())}function a(t){var e=t.editor||t.sender.editor;e.getSelection().isInTable()&&function(t,e){var n,i,o,r,a=t.getSelection(),s=a.createBookmarks(),l=t.document,c=t.createRange(),u=l.getDocumentElement().$,d=CKEDITOR.env.ie&&CKEDITOR.env.version<9,h=t.blockless||CKEDITOR.env.ie?"span":"div";l.getById("cke_table_copybin")||(n=l.createElement(h),(i=l.createElement(h)).setAttributes({id:"cke_table_copybin","data-cke-temp":"1"}),n.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),n.setStyle("ltr"==t.config.contentsLangDirection?"left":"right","-5000px"),n.setHtml(t.getSelectedHtml(!0)),t.fire("lockSnapshot"),i.append(n),t.editable().append(i),r=t.on("selectionChange",function(t){t.cancel()},null,null,0),d&&(o=u.scrollTop),c.selectNodeContents(n),c.select(),d&&(u.scrollTop=o),setTimeout(function(){i.remove(),a.selectBookmarks(s),r.removeListener(),t.fire("unlockSnapshot"),e&&(t.extractSelectedHtml(),t.fire("saveSnapshot"))},100))}(e,"cut"===t.name)}function v(t){this._reset(),t&&this.setSelectedCells(t)}function t(e,n,i){e.on("beforeCommandExec",function(t){-1!==CKEDITOR.tools.array.indexOf(n,t.data.name)&&(t.data.selectedCells=y(e.getSelection()))}),e.on("afterCommandExec",function(t){-1!==CKEDITOR.tools.array.indexOf(n,t.data.name)&&i(e,t.data)})}var e,y,b,l,s,_={active:!1};(v.prototype={})._reset=function(){this.cells={first:null,last:null,all:[]},this.rows={first:null,last:null}},v.prototype.setSelectedCells=function(t){this._reset(),t=t.slice(0),this._arraySortByDOMOrder(t),this.cells.all=t,this.cells.first=t[0],this.cells.last=t[t.length-1],this.rows.first=t[0].getAscendant("tr"),this.rows.last=this.cells.last.getAscendant("tr")},v.prototype.getTableMap=function(){var t,e=b(this.cells.first);t:{var n,i=(t=this.cells.last).getAscendant("table"),o=g(t);i=CKEDITOR.tools.buildTableMap(i);for(n=0;n<i[o].length;n++)if(new CKEDITOR.dom.element(i[o][n]).equals(t)){t=n;break t}t=void 0}return CKEDITOR.tools.buildTableMap(this._getTable(),g(this.rows.first),e,g(this.rows.last),t)},v.prototype._getTable=function(){return this.rows.first.getAscendant("table")},v.prototype.insertRow=function(t,e,n){if(void 0===t)t=1;else if(t<=0)return;for(var i,o=this.cells.first.$.cellIndex,r=this.cells.last.$.cellIndex,a=n?[]:this.cells.all,s=0;s<t;s++)i=l(n?this.cells.all:a,e),i=CKEDITOR.tools.array.filter(i.find("td, th").toArray(),function(t){return!!n||t.$.cellIndex>=o&&t.$.cellIndex<=r}),a=e?i.concat(a):a.concat(i);this.setSelectedCells(a)},v.prototype.insertColumn=function(t){function e(t){return t=g(t),i<=t&&t<=o}if(void 0===t)t=1;else if(t<=0)return;for(var n=(r=this.cells).all,i=g(r.first),o=g(r.last),r=0;r<t;r++)n=n.concat(CKEDITOR.tools.array.filter(s(n),e));this.setSelectedCells(n)},v.prototype.emptyCells=function(t){t=t||this.cells.all;for(var e=0;e<t.length;e++)t[e].setHtml("")},v.prototype._arraySortByDOMOrder=function(t){t.sort(function(t,e){return t.getPosition(e)&CKEDITOR.POSITION_PRECEDING?-1:1})};var n={onPaste:function(t){function e(t){return Math.max.apply(null,CKEDITOR.tools.array.map(t,function(t){return t.length},0))}var n,i,o,r,a=t.editor,s=a.getSelection(),l=y(s),c=this.findTableInPastedContent(a,t.data.dataValue),u=s.isInTable(!0)&&this.isBoundarySelection(s);!l.length||1===l.length&&!function(t){if(t)return(t=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),(t=t.getEnclosedNode())&&t.is&&t.is(CKEDITOR.dtd.$tableContent)}(s.getRanges()[0])&&!u||u&&!c||(l=l[0].getAscendant("table"),n=new v(y(s,l)),a.once("afterPaste",function(){var t;if(i){t=new CKEDITOR.dom.element(i[0][0]);var e=i[i.length-1];t=h(t,new CKEDITOR.dom.element(e[e.length-1]))}else t=n.cells.all;p(a,t)}),c?(t.stop(),u?(n.insertRow(1,1===u,!0),s.selectElement(n.rows.first)):(n.emptyCells(),p(a,n.cells.all)),t=n.getTableMap(),i=CKEDITOR.tools.buildTableMap(c),n.insertRow(i.length-t.length),n.insertColumn(e(i)-e(t)),t=n.getTableMap(),this.pasteTable(n,t,i),a.fire("saveSnapshot"),setTimeout(function(){a.fire("afterPaste")},0)):(o=n.cells.first,(r=a.createRange()).selectNodeContents(o),r.select(),a.once("afterPaste",function(){a.fire("lockSnapshot"),n.emptyCells(n.cells.all.slice(1)),p(a,n.cells.all),a.fire("unlockSnapshot")})))},isBoundarySelection:function(t){var e=(t=t.getRanges()[0]).endContainer.getAscendant("tr",!0);if(e&&t.collapsed){if(t.checkBoundaryOfElement(e,CKEDITOR.START))return 1;if(t.checkBoundaryOfElement(e,CKEDITOR.END))return 2}return 0},findTableInPastedContent:function(t,e){var n=t.dataProcessor,i=new CKEDITOR.dom.element("body");return n=n||new CKEDITOR.htmlDataProcessor(t),i.setHtml(n.toHtml(e),{fixForBody:!1}),1<i.getChildCount()?null:i.findOne("table")},pasteTable:function(t,e,n){var i,o,r,a,s,l=b(t.cells.first),c=t._getTable(),u={};for(a=0;a<n.length;a++)for(o=new CKEDITOR.dom.element(c.$.rows[t.rows.first.$.rowIndex+a]),s=0;s<n[a].length;s++)r=new CKEDITOR.dom.element(n[a][s]),i=e[a]&&e[a][s]?new CKEDITOR.dom.element(e[a][s]):null,r&&!r.getCustomData("processed")?(i&&i.getParent()?r.replace(i):0!==s&&!n[a][s-1]||((i=0!==s?new CKEDITOR.dom.element(n[a][s-1]):null)&&o.equals(i.getParent())?r.insertAfter(i):0<l?o.$.cells[l]?r.insertAfter(new CKEDITOR.dom.element(o.$.cells[l])):o.append(r):o.append(r,!0)),CKEDITOR.dom.element.setMarker(u,r,"processed",!0)):r.getCustomData("processed")&&i&&i.remove();CKEDITOR.dom.element.clearAllMarkers(u)}};CKEDITOR.plugins.tableselection={getCellsBetween:h,keyboardIntegration:function(o){function s(t){var e=t.getEnclosedNode();e&&e.is({td:1,th:1})?t.getEnclosedNode().setText(""):t.deleteContents(),CKEDITOR.tools.array.forEach(t._find("td"),function(t){t.appendBogus()})}var u,l,d,t=o.editable();t.attachListener(t,"keydown",(u=o,l={37:1,38:1,39:1,40:1,8:1,46:1},delete(d=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent)).td,delete d.th,function(t){var e,n,i,o,r=t.data.getKey(),a=37===r||38==r;if(l[r]&&(e=u.getSelection())&&e.isInTable()&&e.isFake)if(i=(n=e.getRanges())[0]._getTableElement(),o=n[n.length-1]._getTableElement(),t.data.preventDefault(),t.cancel(),8<r&&r<46)n[0].moveToElementEditablePosition(a?i:o,!a),e.selectRanges([n[0]]);else{for(t=0;t<n.length;t++)s(n[t]);(t=function(t,e){if(!e.length)return null;var n=u.createRange(),i=CKEDITOR.dom.range.mergeRanges(e);CKEDITOR.tools.array.forEach(i,function(t){t.enlarge(CKEDITOR.ENLARGE_ELEMENT)});var o,r=(a=i[0].getBoundaryNodes()).startNode,a=a.endNode;if(r&&r.is&&r.is(d)){for(var s=r.getAscendant("table",!0),l=r.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,s),c=!1;l&&(o=l,r.contains(o)||!o.is||!o.is("td","th"));)l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,s);return!l&&a&&a.is&&!a.is("table")&&a.getNext()&&(l=a.getNext().findOne("td, th"),c=!0),l?n["moveToElementEdit"+(c?"Start":"End")](l):(n.setStartBefore(r.getAscendant("table",!0)),n.collapse(!0)),i[0].deleteContents(),[n]}return r?(n.moveToElementEditablePosition(r),[n]):void 0}(0,n))?n=t:n[0].moveToElementEditablePosition(i),e.selectRanges(n),u.fire("saveSnapshot")}}),null,null,-1),t.attachListener(t,"keypress",function(t){var e,n=o.getSelection(),i=t.data.$.charCode||13===t.data.getKey();if(n&&n.isInTable()&&n.isFake&&i&&!(t.data.getKeystroke()&CKEDITOR.CTRL)){for(i=(t=n.getRanges())[0].getEnclosedNode().getAscendant({td:1,th:1},!0),e=0;e<t.length;e++)s(t[e]);i&&(t[0].moveToElementEditablePosition(i),n.selectRanges([t[0]]))}},null,null,-1)},isSupportedEnvironment:!(CKEDITOR.env.ie&&CKEDITOR.env.version<11)},CKEDITOR.plugins.add("tableselection",{requires:"clipboard,tabletools",onLoad:function(){e=CKEDITOR.plugins.tabletools,y=e.getSelectedCells,b=e.getCellColIndex,l=e.insertRow,s=e.insertColumn,CKEDITOR.document.appendStyleSheet(this.path+"styles/tableselection.css")},init:function(i){CKEDITOR.plugins.tableselection.isSupportedEnvironment&&(i.addContentsCss&&i.addContentsCss(this.path+"styles/tableselection.css"),i.on("contentDom",function(){var t=i.editable(),e=t.isInline()?t:i.document,n={editor:i};t.attachListener(e,"mousedown",m,null,n),t.attachListener(e,"mousemove",m,null,n),t.attachListener(e,"mouseup",m,null,n),t.attachListener(t,"dragstart",r),t.attachListener(i,"selectionCheck",o),CKEDITOR.plugins.tableselection.keyboardIntegration(i),CKEDITOR.plugins.clipboard&&!CKEDITOR.plugins.clipboard.isCustomCopyCutSupported&&(t.attachListener(t,"cut",a),t.attachListener(t,"copy",a))}),i.on("paste",n.onPaste,n),t(i,"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "),function(t,e){p(t,e.selectedCells)}),t(i,["cellMerge","cellMergeRight","cellMergeDown"],function(t,e){p(t,[e.commandData.cell])}),t(i,["cellDelete"],function(t){f(t,!0)}))}})}(),function(){var s=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],n={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(t){function e(t){i.enabled&&!1!==t.data.command.canUndo&&i.save()}function n(){i.enabled=!t.readOnly&&"wysiwyg"==t.mode,i.onChange()}var i=t.undoManager=new l(t),o=i.editingHandler=new c(i),r=t.addCommand("undo",{exec:function(){i.undo()&&(t.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),a=t.addCommand("redo",{exec:function(){i.redo()&&(t.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});t.setKeystroke([[s[0],"undo"],[s[1],"redo"],[s[2],"redo"]]),i.onChange=function(){r.setState(i.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a.setState(i.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},t.on("beforeCommandExec",e),t.on("afterCommandExec",e),t.on("saveSnapshot",function(t){i.save(t.data&&t.data.contentOnly)}),t.on("contentDom",o.attachListeners,o),t.on("instanceReady",function(){t.fire("saveSnapshot")}),t.on("beforeModeUnload",function(){"wysiwyg"==t.mode&&i.save(!0)}),t.on("mode",n),t.on("readOnly",n),t.ui.addButton&&(t.ui.addButton("Undo",{label:t.lang.undo.undo,command:"undo",toolbar:"undo,10"}),t.ui.addButton("Redo",{label:t.lang.undo.redo,command:"redo",toolbar:"undo,20"})),t.resetUndo=function(){i.reset(),t.fire("saveSnapshot")},t.on("updateSnapshot",function(){i.currentImage&&i.update()}),t.on("lockSnapshot",function(t){t=t.data,i.lock(t&&t.dontUpdate,t&&t.forceUpdate)}),t.on("unlockSnapshot",i.unlock,i)}}),CKEDITOR.plugins.undo={};var l=CKEDITOR.plugins.undo.UndoManager=function(t){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=t.config.undoStackSize||20,this.strokesLimit=25,this.editor=t,this.reset()};l.prototype={type:function(t,e){var n=l.getKeyGroup(t),i=this.strokesRecorded[n]+1;e=e||i>=this.strokesLimit,this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),e?(i=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[n]=i,this.previousKeyGroup=n},keyGroupChanged:function(t){return l.getKeyGroup(t)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(t,e,n){var i=this.editor;if(this.locked||"ready"!=i.status||"wysiwyg"!=i.mode)return!1;var o=i.editable();if(!o||"ready"!=o.status)return!1;if(o=this.snapshots,!1===(e=e||new r(i)).contents)return!1;if(this.currentImage)if(e.equalsContent(this.currentImage)){if(t||e.equalsSelection(this.currentImage))return!1}else!1!==n&&i.fire("change");return o.splice(this.index+1,o.length-this.index-1),o.length==this.limit&&o.shift(),this.index=o.push(e)-1,this.currentImage=e,!1!==n&&this.refreshState(),!0},restoreImage:function(t){var e,n=this.editor;t.bookmarks&&(n.focus(),e=n.getSelection()),this.locked={level:999},this.editor.loadSnapshot(t.contents),t.bookmarks?e.selectBookmarks(t.bookmarks):CKEDITOR.env.ie&&((e=this.editor.document.getBody().$.createTextRange()).collapse(!0),e.select()),this.locked=null,this.index=t.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),n.fire("change")},getNextImage:function(t){var e,n=this.snapshots,i=this.currentImage;if(i)if(t){for(e=this.index-1;0<=e;e--)if(t=n[e],!i.equalsContent(t))return t.index=e,t}else for(e=this.index+1;e<n.length;e++)if(t=n[e],!i.equalsContent(t))return t.index=e,t;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var t=this.getNextImage(!0);if(t)return this.restoreImage(t),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var t=this.getNextImage(!1);if(t)return this.restoreImage(t),!0}return!1},update:function(t){if(!this.locked){t=t||new r(this.editor);for(var e=this.index,n=this.snapshots;0<e&&this.currentImage.equalsContent(n[e-1]);)--e;n.splice(e,this.index-e+1,t),this.index=e,this.currentImage=t}},updateSelection:function(t){if(!this.snapshots.length)return!1;var e=this.snapshots,n=e[e.length-1];return!(!n.equalsContent(t)||n.equalsSelection(t))&&(this.currentImage=e[e.length-1]=t,!0)},lock:function(t,e){if(this.locked)this.locked.level++;else if(t)this.locked={level:1};else{var n=null;if(e)n=!0;else{var i=new r(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(i)&&(n=i)}this.locked={update:n,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var t=this.locked.update;if(!(this.locked=null)===t)this.update();else if(t){var e=new r(this.editor,!0);t.equalsContent(e)||this.update()}}}},l.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},l.keyGroups={PRINTABLE:0,FUNCTIONAL:1},l.isNavigationKey=function(t){return!!l.navigationKeyCodes[t]},l.getKeyGroup=function(t){var e=l.keyGroups;return n[t]?e.FUNCTIONAL:e.PRINTABLE},l.getOppositeKeyGroup=function(t){var e=l.keyGroups;return t==e.FUNCTIONAL?e.PRINTABLE:e.FUNCTIONAL},l.ieFunctionalKeysBug=function(t){return CKEDITOR.env.ie&&l.getKeyGroup(t)==l.keyGroups.FUNCTIONAL};var r=CKEDITOR.plugins.undo.Image=function(t,e){(this.editor=t).fire("beforeUndoImage");var n=t.getSnapshot();CKEDITOR.env.ie&&n&&(n=n.replace(/\s+data-cke-expando=".*?"/g,"")),this.contents=n,e||(this.bookmarks=(n=n&&t.getSelection())&&n.createBookmarks2(!0)),t.fire("afterUndoImage")},i=/\b(?:href|src|name)="[^"]*?"/gi;r.prototype={equalsContent:function(t){var e=this.contents;return t=t.contents,CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(e=e.replace(i,""),t=t.replace(i,"")),e==t},equalsSelection:function(t){var e=this.bookmarks;if(t=t.bookmarks,e||t){if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i.startOffset!=o.startOffset||i.endOffset!=o.endOffset||!CKEDITOR.tools.arrayCompare(i.start,o.start)||!CKEDITOR.tools.arrayCompare(i.end,o.end))return!1}}return!0}};var c=CKEDITOR.plugins.undo.NativeEditingHandler=function(t){this.undoManager=t,this.ignoreInputEvent=!1,this.keyEventsStack=new e,this.lastKeydownImage=null};c.prototype={onKeydown:function(t){var e=t.data.getKey();229!==e&&(-1<CKEDITOR.tools.indexOf(s,t.data.getKeystroke())?t.data.preventDefault():(this.keyEventsStack.cleanUp(t),t=this.undoManager,this.keyEventsStack.getLast(e)||this.keyEventsStack.push(e),this.lastKeydownImage=new r(t.editor),!l.isNavigationKey(e)&&!this.undoManager.keyGroupChanged(e)||(t.strokesRecorded[0]||t.strokesRecorded[1])&&(t.save(!1,this.lastKeydownImage,!1),t.resetType())))},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var t=this.keyEventsStack.getLast();t=t||this.keyEventsStack.push(0),this.keyEventsStack.increment(t.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(t.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(t){var e=this.undoManager;t=t.data.getKey();var n=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(t),l.ieFunctionalKeysBug(t)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new r(e.editor,!0))||(0<n?e.type(t):l.isNavigationKey(t)&&this.onNavigationKey(!0))},onNavigationKey:function(t){var e=this.undoManager;!t&&e.save(!0,null,!1)||e.updateSelection(new r(e.editor)),e.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=!1},attachListeners:function(){var t=this.undoManager.editor,e=t.editable(),n=this;e.attachListener(e,"keydown",function(t){n.onKeydown(t),l.ieFunctionalKeysBug(t.data.getKey())&&n.onInput()},null,null,999),e.attachListener(e,CKEDITOR.env.ie?"keypress":"input",n.onInput,n,null,999),e.attachListener(e,"keyup",n.onKeyup,n,null,999),e.attachListener(e,"paste",n.ignoreInputEventListener,n,null,999),e.attachListener(e,"drop",n.ignoreInputEventListener,n,null,999),t.on("afterPaste",n.activateInputEventListener,n,null,999),e.attachListener(e.isInline()?e:t.document.getDocumentElement(),"click",function(){n.onNavigationKey()},null,null,999),e.attachListener(this.undoManager.editor,"blur",function(){n.keyEventsStack.remove(9)},null,null,999)}};var e=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};e.prototype={push:function(t){return t=this.stack.push({keyCode:t,inputs:0}),this.stack[t-1]},getLastIndex:function(t){if("number"!=typeof t)return this.stack.length-1;for(var e=this.stack.length;e--;)if(this.stack[e].keyCode==t)return e;return-1},getLast:function(t){return-1!=(t=this.getLastIndex(t))?this.stack[t]:null},increment:function(t){this.getLast(t).inputs++},remove:function(t){-1!=(t=this.getLastIndex(t))&&this.stack.splice(t,1)},resetInputs:function(t){if("number"==typeof t)this.getLast(t).inputs=0;else for(t=this.stack.length;t--;)this.stack[t].inputs=0},getTotalInputs:function(){for(var t=this.stack.length,e=0;t--;)e+=this.stack[t].inputs;return e},cleanUp:function(t){(t=t.data.$).ctrlKey||t.metaKey||this.remove(17),t.shiftKey||this.remove(16),t.altKey||this.remove(18)}}}(),function(){function t(t,e){CKEDITOR.tools.extend(this,{editor:t,editable:t.editable(),doc:t.document,win:t.window},e,!0),this.inline=this.editable.isInline(),this.inline||(this.frame=this.win.getFrame()),this.target=this[this.inline?"editable":"doc"]}function e(t,e){CKEDITOR.tools.extend(this,e,{editor:t},!0)}function n(t,e){var n=t.editable();CKEDITOR.tools.extend(this,{editor:t,editable:n,inline:n.isInline(),doc:t.document,win:t.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},e,!0),this.hidden={},this.visible={},this.inline||(this.frame=this.win.getFrame()),this.queryViewport();var i=CKEDITOR.tools.bind(this.queryViewport,this),o=CKEDITOR.tools.bind(this.hideVisible,this),r=CKEDITOR.tools.bind(this.removeAll,this);n.attachListener(this.winTop,"resize",i),n.attachListener(this.winTop,"scroll",i),n.attachListener(this.winTop,"resize",o),n.attachListener(this.win,"scroll",o),n.attachListener(this.inline?n:this.frame,"mouseout",function(t){var e=t.data.$.clientX;t=t.data.$.clientY,this.queryViewport(),(e<=this.rect.left||e>=this.rect.right||t<=this.rect.top||t>=this.rect.bottom)&&this.hideVisible(),(e<=0||e>=this.winTopPane.width||t<=0||t>=this.winTopPane.height)&&this.hideVisible()},this),n.attachListener(t,"resize",i),n.attachListener(t,"mode",r),t.on("destroy",r),this.lineTpl=new CKEDITOR.template('<div data-cke-lineutils-line="1" class="cke_reset_all" style="{lineStyle}"><span style="{tipLeftStyle}">&nbsp;</span><span style="{tipRightStyle}">&nbsp;</span></div>').output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},p,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},f,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},f,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function s(t){var e;return(e=t&&t.type==CKEDITOR.NODE_ELEMENT)&&(e=!(g[t.getComputedStyle("float")]||g[t.getAttribute("align")])),e&&!m[t.getComputedStyle("position")]}function r(t,e,n,i,o){for(var r,a=0;o(n)&&(n+=i,25!=++a);)if(r=this.doc.$.elementFromPoint(e,n))if(r==t)a=0;else if(l(t,r)&&(a=0,s(r=new CKEDITOR.dom.element(r))))return r}var l,i,o,a,c,u;function d(t,e,n){var i=t.getUniqueId();i in n?n[i].type|=e:n[i]={element:t,type:e}}function h(t,e){var n=t.element[e===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return n&&s(n)?(t.siblingRect=n.getClientRect(),e==CKEDITOR.LINEUTILS_BEFORE?(t.siblingRect.bottom+t.elementRect.top)/2:(t.elementRect.bottom+t.siblingRect.top)/2):e==CKEDITOR.LINEUTILS_BEFORE?t.elementRect.top:t.elementRect.bottom}CKEDITOR.plugins.add("lineutils"),CKEDITOR.LINEUTILS_BEFORE=1,CKEDITOR.LINEUTILS_AFTER=2,CKEDITOR.LINEUTILS_INSIDE=4,t.prototype={start:function(t){var e,n,i,o,r=this,a=this.editor,s=this.doc,l=CKEDITOR.tools.eventsBuffer(50,function(){a.readOnly||"wysiwyg"!=a.mode||(r.relations={},(n=s.$.elementFromPoint(i,o))&&n.nodeType&&(e=new CKEDITOR.dom.element(n),r.traverseSearch(e),isNaN(i+o)||r.pixelSearch(e,i,o),t&&t(r.relations,i,o)))});this.listener=this.editable.attachListener(this.target,"mousemove",function(t){i=t.data.$.clientX,o=t.data.$.clientY,l.input()}),this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",function(){l.reset()})},stop:function(){this.listener&&this.listener.removeListener()},getRange:(i={},i[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START,i[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END,i[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START,function(t){var e=this.editor.createRange();return e.moveToPosition(this.relations[t.uid].element,i[t.type]),e}),store:function(t,e){var n;e&CKEDITOR.LINEUTILS_AFTER&&s(n=t.getNext())&&n.isVisible()&&(d(n,CKEDITOR.LINEUTILS_BEFORE,this.relations),e^=CKEDITOR.LINEUTILS_AFTER),e&CKEDITOR.LINEUTILS_INSIDE&&s(n=t.getFirst())&&n.isVisible()&&(d(n,CKEDITOR.LINEUTILS_BEFORE,this.relations),e^=CKEDITOR.LINEUTILS_INSIDE),d(t,e,this.relations)},traverseSearch:function(t){var e,n,i;do{if(!((i=t.$["data-cke-expando"])&&i in this.relations)){if(t.equals(this.editable))break;if(s(t))for(e in this.lookups)(n=this.lookups[e](t))&&this.store(t,n)}}while((!t||t.type!=CKEDITOR.NODE_ELEMENT||"true"!=t.getAttribute("contenteditable"))&&(t=t.getParent()))},pixelSearch:(l=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(t,e){return t.contains(e)}:function(t,e){return!!(16&t.compareDocumentPosition(e))},function(t,e,n){var i=this.win.getViewPaneSize().height,o=r.call(this,t.$,e,n,-1,function(t){return 0<t});if(e=r.call(this,t.$,e,n,1,function(t){return t<i}),o)for(this.traverseSearch(o);!o.getParent().equals(t);)o=o.getParent();if(e)for(this.traverseSearch(e);!e.getParent().equals(t);)e=e.getParent();for(;(o||e)&&(o=o&&o.getNext(s))&&!o.equals(e)&&(this.traverseSearch(o),(e=e&&e.getPrevious(s))&&!e.equals(o));)this.traverseSearch(e)}),greedySearch:function(){this.relations={};for(var t,e,n,i=this.editable.getElementsByTag("*"),o=0;t=i.getItem(o++);)if(!t.equals(this.editable)&&t.type==CKEDITOR.NODE_ELEMENT&&(t.hasAttribute("contenteditable")||!t.isReadOnly())&&s(t)&&t.isVisible())for(n in this.lookups)(e=this.lookups[n](t))&&this.store(t,e);return this.relations}},e.prototype={locate:function(t){var e;for(var n in this.locations={},t)(e=t[n]).elementRect=e.element.getClientRect(),e.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(n,CKEDITOR.LINEUTILS_BEFORE,h(e,CKEDITOR.LINEUTILS_BEFORE)),e.type&CKEDITOR.LINEUTILS_AFTER&&this.store(n,CKEDITOR.LINEUTILS_AFTER,h(e,CKEDITOR.LINEUTILS_AFTER)),e.type&CKEDITOR.LINEUTILS_INSIDE&&this.store(n,CKEDITOR.LINEUTILS_INSIDE,(e.elementRect.top+e.elementRect.bottom)/2);return this.locations},sort:function(t,e){for(var n in o=this.locations,a=[],o)for(var i in o[n])if(c=Math.abs(t-o[n][i]),a.length){for(u=0;u<a.length;u++)if(c<a[u].dist){a.splice(u,0,{uid:+n,type:i,dist:c});break}u==a.length&&a.push({uid:+n,type:i,dist:c})}else a.push({uid:+n,type:i,dist:c});return void 0!==e?a.slice(0,e):a},store:function(t,e,n){this.locations[t]||(this.locations[t]={}),this.locations[t][e]=n}};var f={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},p={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};n.prototype={removeAll:function(){for(var t in this.hidden)this.hidden[t].remove(),delete this.hidden[t];for(t in this.visible)this.visible[t].remove(),delete this.visible[t]},hideLine:function(t){var e=t.getUniqueId();t.hide(),this.hidden[e]=t,delete this.visible[e]},showLine:function(t){var e=t.getUniqueId();t.show(),this.visible[e]=t,delete this.hidden[e]},hideVisible:function(){for(var t in this.visible)this.hideLine(this.visible[t])},placeLine:function(t,e){var n,i,o;if(n=this.getStyle(t.uid,t.type)){for(o in this.visible)if(this.visible[o].getCustomData("hash")!==this.hash){i=this.visible[o];break}if(!i)for(o in this.hidden)if(this.hidden[o].getCustomData("hash")!==this.hash){this.showLine(i=this.hidden[o]);break}i||this.showLine(i=this.addLine()),i.setCustomData("hash",this.hash),(this.visible[i.getUniqueId()]=i).setStyles(n),e&&e(i)}},getStyle:function(t,e){var n=this.relations[t],i=this.locations[t][e],o={};if(o.width=n.siblingRect?Math.max(n.siblingRect.width,n.elementRect.width):n.elementRect.width,o.top=this.inline?i+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+i,o.top-this.winTopScroll.y<this.rect.top||o.top-this.winTopScroll.y>this.rect.bottom)return!1;for(var r in this.inline?o.left=n.elementRect.left-this.rect.relativeX:(0<n.elementRect.left?o.left=this.rect.left+n.elementRect.left:(o.width+=n.elementRect.left,o.left=this.rect.left),0<(n=o.left+o.width-(this.rect.left+this.winPane.width))&&(o.width-=n)),o.left+=this.winTopScroll.x,o)o[r]=CKEDITOR.tools.cssLength(o[r]);return o},addLine:function(){var t=CKEDITOR.dom.element.createFromHtml(this.lineTpl);return t.appendTo(this.container),t},prepare:function(t,e){this.relations=t,this.locations=e,this.hash=Math.random()},cleanup:function(){var t,e;for(e in this.visible)(t=this.visible[e]).getCustomData("hash")!==this.hash&&this.hideLine(t)},queryViewport:function(){this.winPane=this.win.getViewPaneSize(),this.winTopScroll=this.winTop.getScrollPosition(),this.winTopPane=this.winTop.getViewPaneSize(),this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(t){t=t.getClientRect();var e=this.container.getDocumentPosition(),n=this.container.getComputedStyle("position");return t.relativeX=t.relativeY=0,"static"!=n&&(t.relativeY=e.y,t.relativeX=e.x,t.top-=t.relativeY,t.bottom-=t.relativeY,t.left-=t.relativeX,t.right-=t.relativeX),t}};var g={left:1,right:1,center:1},m={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:t,locator:e,liner:n}}(),CKEDITOR.plugins.add("widgetselection",{init:function(t){if(CKEDITOR.env.webkit){var i=CKEDITOR.plugins.widgetselection;t.on("contentDom",function(t){var e=(t=t.editor).document,n=t.editable();n.attachListener(e,"keydown",function(t){var e=t.data.$;65==t.data.getKey()&&(CKEDITOR.env.mac&&e.metaKey||!CKEDITOR.env.mac&&e.ctrlKey)&&CKEDITOR.tools.setTimeout(function(){i.addFillers(n)||i.removeFillers(n)},0)},null,null,-1),t.on("selectionCheck",function(t){i.removeFillers(t.editor.editable())}),t.on("paste",function(t){t.data.dataValue=i.cleanPasteData(t.data.dataValue)}),"selectall"in t.plugins&&i.addSelectAllIntegration(t)})}}}),CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"&nbsp;",fillerTagName:"div",addFillers:function(t){var e=t.editor;if(!this.isWholeContentSelected(t)&&0<t.getChildCount()){var n=t.getFirst(Dn),i=t.getLast(Dn);if(n&&n.type==CKEDITOR.NODE_ELEMENT&&!n.isEditable()&&(this.startFiller=this.createFiller(),t.append(this.startFiller,1)),i&&i.type==CKEDITOR.NODE_ELEMENT&&!i.isEditable()&&(this.endFiller=this.createFiller(!0),t.append(this.endFiller,0)),this.hasFiller(t))return(e=e.createRange()).selectNodeContents(t),e.select(),!0}return!1},removeFillers:function(t){if(this.hasFiller(t)&&!this.isWholeContentSelected(t)){var e=t.findOne(this.fillerTagName+"["+this.fillerAttribute+"=start]"),n=t.findOne(this.fillerTagName+"["+this.fillerAttribute+"=end]");this.startFiller&&e&&this.startFiller.equals(e)?this.removeFiller(this.startFiller,t):this.startFiller=e,this.endFiller&&n&&this.endFiller.equals(n)?this.removeFiller(this.endFiller,t):this.endFiller=n}},cleanPasteData:function(t){return t&&t.length&&(t=t.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),"")),t},isWholeContentSelected:function(t){var e=t.editor.getSelection().getRanges()[0];return!(!e||e&&e.collapsed||((e=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),!(e&&t&&e.startContainer&&e.endContainer&&0===e.startOffset&&e.endOffset===t.getChildCount()&&e.startContainer.equals(t)&&e.endContainer.equals(t))))},hasFiller:function(t){return 0<t.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(t){var e=new CKEDITOR.dom.element(this.fillerTagName);return e.setHtml(this.fillerContent),e.setAttribute(this.fillerAttribute,t?"end":"start"),e.setAttribute("data-cke-temp",1),e.setStyles({display:"block",width:0,height:0,padding:0,border:0,margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,overflow:"hidden"}),e},removeFiller:function(t,e){if(t){var n,i,o=e.editor,r=e.editor.getSelection().getRanges()[0].startPath(),a=o.createRange();r.contains(t)&&(n=t.getHtml(),i=!0),r="start"==t.getAttribute(this.fillerAttribute),t.remove(),n&&0<n.length&&n!=this.fillerContent?(e.insertHtmlIntoRange(n,o.getSelection().getRanges()[0]),a.setStartAt(e.getChild(e.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),o.getSelection().selectRanges([a])):i&&(r?a.setStartAt(e.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):a.setEndAt(e.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),e.editor.getSelection().selectRanges([a]))}},createFillerRegex:function(t){var e=this.createFiller(t).getOuterHtml().replace(/style="[^"]*"/gi,'style="[^"]*"').replace(/>[^<]*</gi,">[^<]*<");return new RegExp((t?"":"^")+e+(t?"$":""))},addSelectAllIntegration:function(n){var i=this;n.editable().attachListener(n,"beforeCommandExec",function(t){var e=n.editable();"selectAll"==t.data.name&&e&&i.addFillers(e)},null,null,9999)}},function(){function e(t){this.editor=t,this.registered={},this.instances={},this.selected=[],this.widgetHoldingFocusedEditable=this.focused=null,this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}},function(r){var a,s,l=r.editor;l.on("toHtml",function(t){var e,n=function(t){var a=[],s=t._.upcasts,l=t._.upcastCallbacks;return{toBeWrapped:a,iterator:function(t){var e,n,i,o,r;if("data-cke-widget-wrapper"in t.attributes)return(t=t.getFirst(c.isParserWidgetElement))&&a.push([t]),!1;if("data-widget"in t.attributes)return a.push([t]),!1;if(r=s.length){if(t.attributes["data-cke-widget-upcasted"])return!1;for(o=0,e=l.length;o<e;++o)if(!1===l[o](t))return;for(o=0;o<r;++o)if(i={},n=(e=s[o])[0](t,i))return n instanceof CKEDITOR.htmlParser.element&&(t=n),t.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(i)),t.attributes["data-cke-widget-upcasted"]=1,a.push([t,e[1]]),!1}}}}(r);for(t.data.dataValue.forEach(n.iterator,CKEDITOR.NODE_ELEMENT,!0);e=n.toBeWrapped.pop();){var i=e[0],o=i.parent;o.type==CKEDITOR.NODE_ELEMENT&&o.attributes["data-cke-widget-wrapper"]&&o.replaceWith(i),r.wrapElement(e[0],e[1])}a=t.data.protectedWhitespaces?3==t.data.dataValue.children.length&&c.isParserWidgetWrapper(t.data.dataValue.children[1]):1==t.data.dataValue.children.length&&c.isParserWidgetWrapper(t.data.dataValue.children[0])},null,null,8),l.on("dataReady",function(){if(s)for(var t,e,n=l.editable().find(".cke_widget_wrapper"),i=0,o=n.count();i<o;++i)(e=(t=n.getItem(i)).getFirst(c.isDomWidgetElement)).type==CKEDITOR.NODE_ELEMENT&&e.data("widget")?(e.replace(t),r.wrapElement(e)):t.remove();s=0,r.destroyAll(!0),r.initOnAll()}),l.on("loadSnapshot",function(t){/data-cke-widget/.test(t.data)&&(s=1),r.destroyAll(!0)},null,null,9),l.on("paste",function(t){(t=t.data).dataValue=t.dataValue.replace(D,p),t.range&&(t=c.getNestedEditable(l.editable(),t.range.startContainer))&&(t=CKEDITOR.filter.instances[t.data("cke-filter")])&&l.setActiveFilter(t)}),l.on("afterInsertHtml",function(t){t.data.intoRange?r.checkWidgets({initOnlyNew:!0}):(l.fire("lockSnapshot"),r.checkWidgets({initOnlyNew:!0,focusInited:a}),l.fire("unlockSnapshot"))})}(this),function(r){var t=r.editor,s={};t.on("toDataFormat",function(t){var e=CKEDITOR.tools.getNextNumber(),o=[];t.data.downcastingSessionId=e,s[e]=o,t.data.dataValue.forEach(function(t){var e,n=t.attributes;if("data-cke-widget-white-space"in n){e=u(t);var i=d(t);e.parent.attributes["data-cke-white-space-first"]&&(e.value=e.value.replace(/^&nbsp;/g," ")),i.parent.attributes["data-cke-white-space-last"]&&(i.value=i.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in n)(n=r.instances[n["data-cke-widget-id"]])&&(e=t.getFirst(c.isParserWidgetElement),o.push({wrapper:t,element:e,widget:n,editables:{}}),"1"!=e.attributes["data-cke-widget-keep-attr"]&&delete e.attributes["data-widget"]);else if("data-cke-widget-editable"in n)return o[o.length-1].editables[n["data-cke-widget-editable"]]=t,!1},CKEDITOR.NODE_ELEMENT,!0)},null,null,8),t.on("toDataFormat",function(t){if(t.data.downcastingSessionId){t=s[t.data.downcastingSessionId];for(var e,n,i,o,r,a;e=t.shift();){for(a in n=e.widget,i=e.element,o=n._.downcastFn&&n._.downcastFn.call(n,i),e.editables)delete(r=e.editables[a]).attributes.contenteditable,r.setHtml(n.editables[a].getData());o=o||i,e.wrapper.replaceWith(o)}}},null,null,13),t.on("contentDomUnload",function(){r.destroyAll(!0)})}(this),this.on("checkWidgets",n),this.editor.on("contentDomInvalidated",this.checkWidgets,this),function(i){var o=i.editor;o.on("selectionCheck",function(){i.fire("checkSelection")}),i.on("checkSelection",i.checkSelection,i),o.on("selectionChange",function(t){var e=(t=c.getNestedEditable(o.editable(),t.data.selection.getStartElement()))&&i.getByElement(t),n=i.widgetHoldingFocusedEditable;n?n===e&&n.focusedEditable.equals(t)||(r(i,n,null),e&&t&&r(i,e,t)):e&&t&&r(i,e,t)}),o.on("dataReady",function(){g(i).commit()}),o.on("blur",function(){var t;(t=i.focused)&&l(i,t),(t=i.widgetHoldingFocusedEditable)&&r(i,t,null)})}(this),function(o){var r=o.editor;r.on("contentDom",function(){var n,i,t=r.editable(),e=t.isInline()?t:r.document;t.attachListener(e,"mousedown",function(t){var e=t.data.getTarget();n=e instanceof CKEDITOR.dom.element?o.getByElement(e):null,i=0,n&&(n.inline&&e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-cke-widget-drag-handler")?(i=1,o.focused!=n&&r.getSelection().removeAllRanges()):c.getNestedEditable(n.wrapper,e)?n=null:(t.data.preventDefault(),CKEDITOR.env.ie||n.focus()))}),t.attachListener(e,"mouseup",function(){i&&n&&n.wrapper&&(i=0,n.focus())}),CKEDITOR.env.ie&&t.attachListener(e,"mouseup",function(){setTimeout(function(){n&&n.wrapper&&t.contains(n.wrapper)&&(n.focus(),n=null)})})}),r.on("doubleclick",function(t){var e=o.getByElement(t.data.element);if(e&&!c.getNestedEditable(e.wrapper,t.data.element))return e.fire("doubleclick",{element:t.data.element})},null,null,1)}(this),function(o){o.editor.on("key",function(t){var e,n=o.focused,i=o.widgetHoldingFocusedEditable;return n?e=n.fire("key",{keyCode:t.data.keyCode}):i&&(n=t.data.keyCode,t=i.focusedEditable,e=n==CKEDITOR.CTRL+65?(n=t.getBogus(),(i=i.editor.createRange()).selectNodeContents(t),n&&i.setEndAt(n,CKEDITOR.POSITION_BEFORE_START),i.select(),!1):8==n||46==n?(i=(e=i.editor.getSelection().getRanges())[0],!(1==e.length&&i.collapsed&&i.checkBoundaryOfElement(t,CKEDITOR[8==n?"START":"END"]))):void 0),e},null,null,1)}(this),function(o){var r=o.editor,t=CKEDITOR.plugins.lineutils;r.on("dragstart",function(t){var e=t.data.target;c.isDomDragHandler(e)&&(e=o.getByElement(e),t.data.dataTransfer.setData("cke/widget-id",e.id),r.focus(),e.focus())}),r.on("drop",function(t){var e=(i=t.data.dataTransfer).getData("cke/widget-id"),n=i.getTransferType(r),i=r.createRange();""!==e&&n===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?t.cancel():""!==e&&n==CKEDITOR.DATA_TRANSFER_INTERNAL&&(e=o.instances[e])&&(i.setStartBefore(e.wrapper),i.setEndAfter(e.wrapper),t.data.dragRange=i,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,t.data.dataTransfer.setData("text/html",r.editable().getHtmlFromRange(i).getHtml()),r.widgets.destroy(e,!0))}),r.on("contentDom",function(){var n=r.editable();CKEDITOR.tools.extend(o,{finder:new t.finder(r,{lookups:{default:function(t){if(!t.is(CKEDITOR.dtd.$listItem)&&t.is(CKEDITOR.dtd.$block)&&!c.isDomNestedEditable(t)&&!o._.draggedWidget.wrapper.contains(t)){var e=c.getNestedEditable(n,t);if(e){if(t=o._.draggedWidget,o.getByElement(e)==t)return;if(e=CKEDITOR.filter.instances[e.data("cke-filter")],t=t.requiredContent,e&&t&&!e.check(t))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new t.locator(r),liner:new t.liner(r,{lineStyle:{cursor:"move !important","border-top-color":"#666"},tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)})}(this),function(e){function n(t){e.focused&&y(e.focused,"cut"==t.name)}var i=e.editor;i.on("contentDom",function(){var t=i.editable();t.attachListener(t,"copy",n),t.attachListener(t,"cut",n)})}(this)}function c(t,e,n,i,o){var r=t.editor;CKEDITOR.tools.extend(this,i,{editor:r,id:e,inline:"span"==n.getParent().getName(),element:n,data:CKEDITOR.tools.extend({},"function"==typeof i.defaults?i.defaults():i.defaults),dataReady:!1,inited:!1,ready:!1,edit:c.prototype.edit,focusedEditable:null,definition:i,repository:t,draggable:!1!==i.draggable,_:{downcastFn:i.downcast&&"string"==typeof i.downcast?i.downcasts[i.downcast]:i.downcast}},!0),t.fire("instanceCreated",this),function(n,t){(function(t){(t.wrapper=t.element.getParent()).setAttribute("data-cke-widget-id",t.id)})(n),function(t){if(t.parts){var e,n,i={};for(n in t.parts)e=t.wrapper.findOne(t.parts[n]),i[n]=e;t.parts=i}}(n),function(t){var e,n,i=t.editables;if(t.editables={},t.editables)for(e in i)n=i[e],t.initEditable(e,"string"==typeof n?{selector:n}:n)}(n),function(t){if(t.mask){var e=t.wrapper.findOne(".cke_widget_mask");e||((e=new CKEDITOR.dom.element("img",t.editor.document)).setAttributes({src:CKEDITOR.tools.transparentImageData,class:"cke_reset cke_widget_mask"}),t.wrapper.append(e)),t.mask=e}}(n),function(t){if(t.draggable){var e,n=t.editor,i=t.wrapper.getLast(c.isDomDragHandlerContainer);i?e=i.findOne("img"):((i=new CKEDITOR.dom.element("span",n.document)).setAttributes({class:"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+n.plugins.widget.path+"images/handle.png)"}),(e=new CKEDITOR.dom.element("img",n.document)).setAttributes({class:"cke_reset cke_widget_drag_handler","data-cke-widget-drag-handler":"1",src:CKEDITOR.tools.transparentImageData,width:15,title:n.lang.widget.move,height:15,role:"presentation"}),t.inline&&e.setAttribute("draggable","true"),i.append(e),t.wrapper.append(i)),t.wrapper.on("dragover",function(t){t.data.preventDefault()}),t.wrapper.on("mouseenter",t.updateDragHandlerPosition,t),setTimeout(function(){t.on("data",t.updateDragHandlerPosition,t)},50),!t.inline&&(e.on("mousedown",w,t),CKEDITOR.env.ie&&CKEDITOR.env.version<9)&&e.on("dragstart",function(t){t.data.preventDefault(!0)}),t.dragHandlerContainer=i}}(n),function(t){var n=null;t.on("data",function(){var t,e=this.data.classes;if(n!=e){for(t in n)e&&e[t]||this.removeClass(t);for(t in e)this.addClass(t);n=e}})}(n),function(e){e.on("data",function(){if(e.wrapper){var t=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());e.wrapper.setAttribute("role","region"),e.wrapper.setAttribute("aria-label",t)}},null,null,9999)}(n),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&n.wrapper.on("dragstart",function(t){var e=t.data.getTarget();c.getNestedEditable(n,e)||n.inline&&c.isDomDragHandler(e)||t.data.preventDefault()});n.wrapper.removeClass("cke_widget_new"),n.element.addClass("cke_widget_element"),n.on("key",function(t){if(13==(t=t.data.keyCode))n.edit();else{if(t==CKEDITOR.CTRL+67||t==CKEDITOR.CTRL+88)return void y(n,t==CKEDITOR.CTRL+88);if(t in O||CKEDITOR.CTRL&t||CKEDITOR.ALT&t)return}return!1},null,null,999),n.on("doubleclick",function(t){n.edit()&&t.cancel()}),t.data&&n.on("data",t.data);t.edit&&n.on("edit",t.edit)}(this,i),this.init&&this.init(),this.inited=!0,(t=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(t))),o&&this.setData(o),this.data.classes||this.setData("classes",this.getClasses()),this.dataReady=!0,T(this),this.fire("data",this.data),this.isInited()&&r.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function i(t,e,n){CKEDITOR.dom.element.call(this,e.$),this.editor=t,this._={},e=this.filter=n.filter,CKEDITOR.dtd[this.getName()].p?(this.enterMode=e?e.getAllowedEnterMode(t.enterMode):t.enterMode,this.shiftEnterMode=e?e.getAllowedEnterMode(t.shiftEnterMode,!0):t.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function l(t,e){if(t.focused=null,e.isInited()){var n=e.editor.checkDirty();t.fire("widgetBlurred",{widget:e}),e.setFocused(!1),n||e.editor.resetDirty()}}function n(t){if(t=t.data,"wysiwyg"==this.editor.mode){var e,n,i,o,r=this.editor.editable(),a=this.instances;if(r){for(e in a)a[e].isReady()&&!r.contains(a[e].wrapper)&&this.destroy(a[e],!0);if(t&&t.initOnlyNew)a=this.initOnAll();else{var s=r.find(".cke_widget_wrapper");a=[];for(e=0,n=s.count();e<n;e++){if(i=s.getItem(e),o=!this.getByElement(i,!0)){t:{o=f;for(var l=i;l=l.getParent();)if(o(l)){o=!0;break t}o=!1}o=!o}o&&r.contains(i)&&(i.addClass("cke_widget_new"),a.push(this.initOn(i.getFirst(c.isDomWidgetElement))))}}t&&t.focusInited&&1==a.length&&a[0].focus()}}}function a(t){if(void 0!==t.attributes&&t.attributes["data-widget"]){var e=u(t),n=d(t),i=!1;e&&e.value&&e.value.match(/^\s/g)&&(e.parent.attributes["data-cke-white-space-first"]=1,e.value=e.value.replace(/^\s/g,"&nbsp;"),i=!0),n&&n.value&&n.value.match(/\s$/g)&&(n.parent.attributes["data-cke-white-space-last"]=1,n.value=n.value.replace(/\s$/g,"&nbsp;"),i=!0),i&&(t.attributes["data-cke-widget-white-space"]=1)}}function u(t){return t.find(function(t){return 3===t.type},!0).shift()}function d(t){return t.find(function(t){return 3===t.type},!0).pop()}function o(t,e,n){if(!n.allowedContent&&!n.disallowedContent)return null;var i=this._.filters[t];return i||(this._.filters[t]=i={}),(t=i[e])||(t=n.allowedContent?new CKEDITOR.filter(n.allowedContent):this.editor.filter.clone(),i[e]=t,n.disallowedContent&&t.disallow(n.disallowedContent)),t}function s(t,e){return{tabindex:-1,contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off",class:"cke_widget_wrapper cke_widget_new cke_widget_"+(t?"inline":"block")+(e?" cke_widget_"+e:"")}}function h(t,e){return"boolean"==typeof t.inline?t.inline:!!CKEDITOR.dtd.$inline[e]}function f(t){return t.hasAttribute("data-cke-temp")}function r(t,e,n,i){var o=t.editor;o.fire("lockSnapshot"),n?(i=n.data("cke-widget-editable"),i=e.editables[i],(t.widgetHoldingFocusedEditable=e).focusedEditable=i,n.addClass("cke_widget_editable_focused"),i.filter&&o.setActiveFilter(i.filter),o.setActiveEnterMode(i.enterMode,i.shiftEnterMode)):(i||e.focusedEditable.removeClass("cke_widget_editable_focused"),e.focusedEditable=null,t.widgetHoldingFocusedEditable=null,o.setActiveFilter(null),o.setActiveEnterMode(null,null)),o.fire("unlockSnapshot")}function p(t,e){return CKEDITOR.tools.trim(e)}function g(i){var o=i.selected,r=[],a=o.slice(0),s=null;return{select:function(t){return CKEDITOR.tools.indexOf(o,t)<0&&r.push(t),0<=(t=CKEDITOR.tools.indexOf(a,t))&&a.splice(t,1),this},focus:function(t){return s=t,this},commit:function(){var t,e,n=i.focused!==s;for(i.editor.fire("lockSnapshot"),n&&(t=i.focused)&&l(i,t);t=a.pop();)o.splice(CKEDITOR.tools.indexOf(o,t),1),t.isInited()&&(e=t.editor.checkDirty(),t.setSelected(!1),e||t.editor.resetDirty());for(n&&s&&(e=i.editor.checkDirty(),i.focused=s,i.fire("widgetFocused",{widget:s}),s.setFocused(!0),e||i.editor.resetDirty());t=r.pop();)o.push(t),t.setSelected(!0);i.editor.fire("unlockSnapshot")}}}function m(t,e,n){var i=0;e=b(e);var o,r=t.data.classes||{};if(e){for(r=CKEDITOR.tools.clone(r);o=e.pop();)n?r[o]||(i=r[o]=1):r[o]&&(delete r[o],i=1);i&&t.setData("classes",r)}}function v(t){t.cancel()}function y(t,e){var n=t.editor,i=n.document,o=CKEDITOR.env.edge&&16<=CKEDITOR.env.version;if(!i.getById("cke_copybin")){var r=!n.blockless&&!CKEDITOR.env.ie||o?"div":"span",a=(o=i.createElement(r),i.createElement(r));r=CKEDITOR.env.ie&&CKEDITOR.env.version<9;a.setAttributes({id:"cke_copybin","data-cke-temp":"1"}),o.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),o.setStyle("ltr"==n.config.contentsLangDirection?"left":"right","-5000px");var s=n.createRange();s.setStartBefore(t.wrapper),s.setEndAfter(t.wrapper),o.setHtml('<span data-cke-copybin-start="1"></span>'+n.editable().getHtmlFromRange(s).getHtml()+'<span data-cke-copybin-end="1"></span>'),n.fire("saveSnapshot"),n.fire("lockSnapshot"),a.append(o),n.editable().append(a);var l=n.on("selectionChange",v,null,null,0),c=t.repository.on("checkSelection",v,null,null,0);if(r)var u=i.getDocumentElement().$,d=u.scrollTop;(s=n.createRange()).selectNodeContents(o),s.select(),r&&(u.scrollTop=d),setTimeout(function(){e||t.focus(),a.remove(),l.removeListener(),c.removeListener(),n.fire("unlockSnapshot"),e&&(t.repository.del(t),n.fire("saveSnapshot"))},100)}}function b(t){return(t=(t=t.getDefinition().attributes)&&t.class)?t.split(/\s+/):null}function _(){var t=CKEDITOR.document.getActive(),e=this.editor,n=e.editable();(n.isInline()?n:e.document.getWindow().getFrame()).equals(t)&&e.focusManager.focus(n)}function E(){CKEDITOR.env.gecko&&this.editor.unlockSelection(),CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function w(a){function t(){var t;for(h.reset();t=c.pop();)t.removeListener();var e=u;t=a.sender;var n=this.repository.finder,i=this.repository.liner,o=this.editor,r=this.editor.editable();CKEDITOR.tools.isEmpty(i.visible)||(e=n.getRange(e[0]),this.focus(),o.fire("drop",{dropRange:e,target:e.startContainer})),r.removeClass("cke_widget_dragging"),i.hideVisible(),o.fire("dragend",{target:t})}if(CKEDITOR.tools.getMouseButton(a)===CKEDITOR.MOUSE_BUTTON_LEFT){var e,n,i=this.repository.finder,o=this.repository.locator,r=this.repository.liner,s=this.editor,l=s.editable(),c=[],u=[];this.repository._.draggedWidget=this;var d=i.greedySearch(),h=CKEDITOR.tools.eventsBuffer(50,function(){e=o.locate(d),(u=o.sort(n,1)).length&&(r.prepare(d,e),r.placeLine(u[0]),r.cleanup())});l.addClass("cke_widget_dragging"),c.push(l.on("mousemove",function(t){n=t.data.$.clientY,h.input()})),s.fire("dragstart",{target:a.sender}),c.push(s.document.once("mouseup",t,this)),l.isInline()||c.push(CKEDITOR.document.once("mouseup",t,this))}}function T(t){t.element.data("cke-widget-data",encodeURIComponent(JSON.stringify(t.data)))}function C(t){return t.is(x)&&t.data("cke-widget-id")}var x;CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss(".cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover>.cke_widget_element{outline:2px solid yellow;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid yellow}.cke_widget_wrapper.cke_widget_focused>.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #ace}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:none;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover>.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}"),function(){function t(){}function e(t,e,n){return!(!n||!this.checkElement(t))&&((t=n.widgets.getByElement(t,!0))&&t.checkStyleActive(this))}var s={};CKEDITOR.style.addCustomHandler({type:"widget",setup:function(t){if(this.widget=t.widget,this.group="string"==typeof t.group?[t.group]:t.group){var e;t=this.widget,s[t]||(s[t]={});for(var n=0,i=this.group.length;n<i;n++)e=this.group[n],s[t][e]||(s[t][e]=[]),s[t][e].push(this)}},apply:function(t){var e;t instanceof CKEDITOR.editor&&this.checkApplicable(t.elementPath(),t)&&(e=t.widgets.focused,this.group&&this.removeStylesFromSameGroup(t),e.applyStyle(this))},remove:function(t){t instanceof CKEDITOR.editor&&this.checkApplicable(t.elementPath(),t)&&t.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(t){var e,n,i=!1;if(!(t instanceof CKEDITOR.editor))return!1;if(n=t.elementPath(),this.checkApplicable(n,t))for(var o=0,r=this.group.length;o<r;o++){e=s[this.widget][this.group[o]];for(var a=0;a<e.length;a++)e[a]!==this&&e[a].checkActive(n,t)&&(t.widgets.focused.removeStyle(e[a]),i=!0)}return i},checkActive:function(t,e){return this.checkElementMatch(t.lastElement,0,e)},checkApplicable:function(t,e){return e instanceof CKEDITOR.editor&&this.checkElement(t.lastElement)},checkElementMatch:e,checkElementRemovable:e,checkElement:function(t){return!!c.isDomWidgetWrapper(t)&&((t=t.getFirst(c.isDomWidgetElement))&&t.data("widget")==this.widget)},buildPreview:function(t){return t||this._.definition.name},toAllowedContentRules:function(t){if(!t)return null;var e,n={};return(t=t.widgets.registered[this.widget])?t.styleableElements?(e=this.getClassesArray())?(n[t.styleableElements]={classes:e,propertiesOnly:!0},n):null:t.styleToAllowedContentRules?t.styleToAllowedContentRules(this):null:null},getClassesArray:function(){var t=this._.definition.attributes&&this._.definition.attributes.class;return t?CKEDITOR.tools.trim(t).split(/\s+/):null},applyToRange:t,removeFromRange:t,applyToObject:t})}())},beforeInit:function(t){void 0!==CKEDITOR.document.$.querySelectorAll&&(t.widgets=new e(t))},afterInit:function(t){if(void 0!==CKEDITOR.document.$.querySelectorAll){var e,n,i,o=t.widgets.registered;for(n in o)(i=(e=o[n]).button)&&t.ui.addButton&&t.ui.addButton(CKEDITOR.tools.capitalize(e.name,!0),{label:i,command:e.name,toolbar:"insert,10"});!function(e){e.contextMenu&&e.contextMenu.addListener(function(t){if(t=e.widgets.getByElement(t,!0))return t.fire("contextMenu",{})})}(t)}}}),e.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(t,e){return(e=CKEDITOR.tools.prototypedCopy(e)).name=t,e._=e._||{},this.editor.fire("widgetDefinition",e),e.template&&(e.template=new CKEDITOR.template(e.template)),function(t,s){t.addCommand(s.name,{exec:function(i,t){function o(){i.widgets.finalizeCreation(a)}if((e=i.widgets.focused)&&e.name==s.name)e.edit();else if(s.insert)s.insert();else if(s.template){var r,e="function"==typeof s.defaults?s.defaults():s.defaults,n=(e=CKEDITOR.dom.element.createFromHtml(s.template.output(e)),i.widgets.wrapElement(e,s.name)),a=new CKEDITOR.dom.documentFragment(n.getDocument());a.append(n),(r=i.widgets.initOn(e,s,t&&t.startupData))?(e=r.once("edit",function(t){t.data.dialog?r.once("dialog",function(t){var e,n;t=t.data,e=t.once("ok",o,null,null,20),n=t.once("cancel",function(t){t.data&&!1===t.data.hide||i.widgets.destroy(r,!0)}),t.once("hide",function(){e.removeListener(),n.removeListener()})}):o()},null,null,999),r.edit(),e.removeListener()):o()}},allowedContent:s.allowedContent,requiredContent:s.requiredContent,contentForms:s.contentForms,contentTransformations:s.contentTransformations})}(this.editor,e),function(o,r){function t(t,e,n){var i=CKEDITOR.tools.getIndex(o._.upcasts,function(t){return t[2]>n});i<0&&(i=o._.upcasts.length),o._.upcasts.splice(i,0,[CKEDITOR.tools.bind(t,e),e.name,n])}var e=r.upcast,n=r.upcastPriority||10;e&&t("string"==typeof e?function(t,e){var n,i,o=r.upcast.split(",");for(i=0;i<o.length;i++)if((n=o[i])===t.name)return r.upcasts[n].call(this,t,e);return!1}:e,r,n)}(this,e),this.registered[t]=e},addUpcastCallback:function(t){this._.upcastCallbacks.push(t)},checkSelection:function(){var t,e=this.editor.getSelection(),n=e.getSelectedElement(),i=g(this);if(n&&(t=this.getByElement(n,!0)))return i.focus(t).select(t).commit();if(!(e=e.getRanges()[0])||e.collapsed)return i.commit();for((e=new CKEDITOR.dom.walker(e)).evaluator=c.isDomWidgetWrapper;n=e.next();)i.select(this.getByElement(n));i.commit()},checkWidgets:function(t){this.fire("checkWidgets",CKEDITOR.tools.copy(t||{}))},del:function(t){if(this.focused===t){var e,n=t.editor,i=n.createRange();(e=i.moveToClosestEditablePosition(t.wrapper,!0))||(e=i.moveToClosestEditablePosition(t.wrapper,!1)),e&&n.getSelection().selectRanges([i])}t.wrapper.remove(),this.destroy(t,!0)},destroy:function(t,e){this.widgetHoldingFocusedEditable===t&&r(this,t,null,e),t.destroy(e),delete this.instances[t.id],this.fire("instanceDestroyed",t)},destroyAll:function(t,e){var n,i,o=this.instances;if(e&&!t){o=(i=e.find(".cke_widget_wrapper")).count();for(var r=0;r<o;++r)(n=this.getByElement(i.getItem(r),!0))&&this.destroy(n)}else for(i in o)n=o[i],this.destroy(n,t)},finalizeCreation:function(t){(t=t.getFirst())&&c.isDomWidgetWrapper(t)&&(this.editor.insertElement(t),(t=this.getByElement(t)).ready=!0,t.fire("ready"),t.focus())},getByElement:(x={div:1,span:1},function(t,e){if(!t)return null;var n=C(t);if(!e&&!n)for(var i=this.editor.editable();(t=t.getParent())&&!t.equals(i)&&!(n=C(t)););return this.instances[n]||null}),initOn:function(t,e,n){if(e?"string"==typeof e&&(e=this.registered[e]):e=this.registered[t.data("widget")],!e)return null;var i=this.wrapElement(t,e.name);return i?i.hasClass("cke_widget_new")?(t=new c(this,this._.nextId++,t,e,n)).isInited()?this.instances[t.id]=t:null:this.getByElement(t):null},initOnAll:function(t){for(var e,n=[],i=(t=(t||this.editor.editable()).find(".cke_widget_new")).count();i--;)(e=this.initOn(t.getItem(i).getFirst(c.isDomWidgetElement)))&&n.push(e);return n},onWidget:function(e){var n=Array.prototype.slice.call(arguments);for(var t in n.shift(),this.instances){var i=this.instances[t];i.name==e&&i.on.apply(i,n)}this.on("instanceCreated",function(t){(t=t.data).name==e&&t.on.apply(t,n)})},parseElementClasses:function(t){if(!t)return null;t=CKEDITOR.tools.trim(t).split(/\s+/);for(var e,n={},i=0;e=t.pop();)-1==e.indexOf("cke_")&&(n[e]=i=1);return i?n:null},wrapElement:function(t,e){var n,i,o=null;if(t instanceof CKEDITOR.dom.element){if(e=e||t.data("widget"),!(n=this.registered[e]))return null;if((o=t.getParent())&&o.type==CKEDITOR.NODE_ELEMENT&&o.data("cke-widget-wrapper"))return o;t.hasAttribute("data-cke-widget-keep-attr")||t.data("cke-widget-keep-attr",t.data("widget")?1:0),t.data("widget",e),(i=h(n,t.getName()))&&a(t),(o=new CKEDITOR.dom.element(i?"span":"div")).setAttributes(s(i,e)),o.data("cke-display-name",n.pathName?n.pathName:t.getName()),t.getParent(!0)&&o.replace(t),t.appendTo(o)}else if(t instanceof CKEDITOR.htmlParser.element){if(e=e||t.attributes["data-widget"],!(n=this.registered[e]))return null;if((o=t.parent)&&o.type==CKEDITOR.NODE_ELEMENT&&o.attributes["data-cke-widget-wrapper"])return o;var r;"data-cke-widget-keep-attr"in t.attributes||(t.attributes["data-cke-widget-keep-attr"]=t.attributes["data-widget"]?1:0),e&&(t.attributes["data-widget"]=e),(i=h(n,t.name))&&a(t),(o=new CKEDITOR.htmlParser.element(i?"span":"div",s(i,e))).attributes["data-cke-display-name"]=n.pathName?n.pathName:t.name,(n=t.parent)&&(r=t.getIndex(),t.remove()),o.add(t),n&&function t(e,n,i){if(e.type==CKEDITOR.NODE_ELEMENT&&(o=CKEDITOR.dtd[e.name])&&!o[i.name]){var o=e.split(n),r=e.parent;return n=o.getIndex(),e.children.length||(--n,e.remove()),o.children.length||o.remove(),t(r,n,i)}e.add(i,n)}(n,r,o)}return o},_tests_createEditableFilter:o},CKEDITOR.event.implementOn(e.prototype),c.prototype={addClass:function(t){this.element.addClass(t),this.wrapper.addClass(c.WRAPPER_CLASS_PREFIX+t)},applyStyle:function(t){m(this,t,1)},checkStyleActive:function(t){var e;if(!(t=b(t)))return!1;for(;e=t.pop();)if(!this.hasClass(e))return!1;return!0},destroy:function(t){if(this.fire("destroy"),this.editables)for(var e in this.editables)this.destroyEditable(e,t);t||("0"==this.element.data("cke-widget-keep-attr")&&this.element.removeAttribute("data-widget"),this.element.removeAttributes(["data-cke-widget-data","data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper)),this.wrapper=null},destroyEditable:function(t,e){var n=this.editables[t];n.removeListener("focus",E),n.removeListener("blur",_),this.editor.focusManager.remove(n),e||(this.repository.destroyAll(!1,n),n.removeClass("cke_widget_editable"),n.removeClass("cke_widget_editable_focused"),n.removeAttributes(["contenteditable","data-cke-widget-editable","data-cke-enter-mode"])),delete this.editables[t]},edit:function(){var t={dialog:this.dialog},i=this;return!(!1===this.fire("edit",t)||!t.dialog)&&(this.editor.openDialog(t.dialog,function(n){var t,e;!1!==i.fire("dialog",n)&&(t=n.on("show",function(){n.setupContent(i)}),e=n.on("ok",function(){var e,t=i.on("data",function(t){e=1,t.cancel()},null,null,0);i.editor.fire("saveSnapshot"),n.commitContent(i),t.removeListener(),e&&(i.fire("data",i.data),i.editor.fire("saveSnapshot"))}),n.once("hide",function(){t.removeListener(),e.removeListener()}))}),!0)},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},hasClass:function(t){return this.element.hasClass(t)},initEditable:function(t,e){var n=this._findOneNotNested(e.selector);return!(!n||!n.is(CKEDITOR.dtd.$editable))&&(n=new i(this.editor,n,{filter:o.call(this.repository,this.name,t,e)}),(this.editables[t]=n).setAttributes({contenteditable:"true","data-cke-widget-editable":t,"data-cke-enter-mode":n.enterMode}),n.filter&&n.data("cke-filter",n.filter.id),n.addClass("cke_widget_editable"),n.removeClass("cke_widget_editable_focused"),e.pathName&&n.data("cke-display-name",e.pathName),this.editor.focusManager.add(n),n.on("focus",E,this),CKEDITOR.env.ie&&n.on("blur",_,this),n._.initialSetData=!0,n.setData(n.getHtml()),!0)},_findOneNotNested:function(t){t=this.wrapper.find(t);for(var e,n,i=0;i<t.count();i++)if(n=(e=t.getItem(i)).getAscendant(c.isDomWidgetWrapper),this.wrapper.equals(n))return e;return null},isInited:function(){return!(!this.wrapper||!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var t=this.editor.getSelection();if(t){var e=this.editor.checkDirty();t.fake(this.wrapper),e||this.editor.resetDirty()}this.editor.focus()},removeClass:function(t){this.element.removeClass(t),this.wrapper.removeClass(c.WRAPPER_CLASS_PREFIX+t)},removeStyle:function(t){m(this,t,0)},setData:function(t,e){var n=this.data,i=0;if("string"==typeof t)n[t]!==e&&(n[t]=e,i=1);else{var o=t;for(t in o)n[t]!==o[t]&&(i=1,n[t]=o[t])}return i&&this.dataReady&&(T(this),this.fire("data",n)),this},setFocused:function(t){return this.wrapper[t?"addClass":"removeClass"]("cke_widget_focused"),this.fire(t?"focus":"blur"),this},setSelected:function(t){return this.wrapper[t?"addClass":"removeClass"]("cke_widget_selected"),this.fire(t?"select":"deselect"),this},updateDragHandlerPosition:function(){var t=this.editor,e=this.element.$,n=this._.dragHandlerOffset;e={x:e.offsetLeft,y:e.offsetTop-15};n&&e.x==n.x&&e.y==n.y||(n=t.checkDirty(),t.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:e.y+"px",left:e.x+"px",display:"block"}),t.fire("unlockSnapshot"),n||t.resetDirty(),this._.dragHandlerOffset=e)}},CKEDITOR.event.implementOn(c.prototype),c.getNestedEditable=function(t,e){return!e||e.equals(t)?null:c.isDomNestedEditable(e)?e:c.getNestedEditable(t,e.getParent())},c.isDomDragHandler=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-drag-handler")},c.isDomDragHandlerContainer=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_widget_drag_handler_container")},c.isDomNestedEditable=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-editable")},c.isDomWidgetElement=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-widget")},c.isDomWidgetWrapper=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-wrapper")},c.isDomWidget=function(t){return!!t&&(this.isDomWidgetWrapper(t)||this.isDomWidgetElement(t))},c.isParserWidgetElement=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&!!t.attributes["data-widget"]},c.isParserWidgetWrapper=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&!!t.attributes["data-cke-widget-wrapper"]},c.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_",i.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(t){this._.initialSetData||this.editor.widgets.destroyAll(!1,this),this._.initialSetData=!1,t=this.editor.dataProcessor.toHtml(t,{context:this.getName(),filter:this.filter,enterMode:this.enterMode}),this.setHtml(t),this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var D=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,O={37:1,38:1,39:1,40:1,8:1,46:1};(CKEDITOR.plugins.widget=c).repository=e,c.nestedEditable=i}(),function(){function e(t){this.editor=t,this.loaders=[]}function o(t,e,n){var i=t.config.fileTools_defaultFileName;this.editor=t,this.lang=t.lang,"string"==typeof e?(this.data=e,this.file=function(t){var e=t.match(s)[1];t=t.replace(s,""),t=atob(t);var n,i,o,r,a=[];for(n=0;n<t.length;n+=512){for(i=t.slice(n,n+512),o=Array(i.length),r=0;r<i.length;r++)o[r]=i.charCodeAt(r);i=new Uint8Array(o),a.push(i)}return new Blob(a,{type:e})}(this.data),this.loaded=this.total=this.file.size):(this.data=null,this.file=e,this.total=this.file.size,this.loaded=0),n?this.fileName=n:this.file.name?this.fileName=this.file.name:(t=this.file.type.split("/"),i&&(t[0]=i),this.fileName=t.join(".")),this.uploaded=0,this.responseData=this.uploadTotal=null,this.status="created",this.abort=function(){this.changeStatus("abort")}}CKEDITOR.plugins.add("filetools",{beforeInit:function(t){t.uploadRepository=new e(t),t.on("fileUploadRequest",function(t){var e=t.data.fileLoader;e.xhr.open("POST",e.uploadUrl,!0),t.data.requestData.upload={file:e.file,name:e.fileName}},null,null,5),t.on("fileUploadRequest",function(t){var e=t.data.fileLoader,n=new FormData;for(var i in t=t.data.requestData){var o=t[i];"object"==typeof o&&o.file?n.append(i,o.file,o.name):n.append(i,o)}n.append("ckCsrfToken",CKEDITOR.tools.getCsrfToken()),e.xhr.send(n)},null,null,999),t.on("fileUploadResponse",function(e){var n=e.data.fileLoader,i=n.xhr,o=e.data;try{var t=JSON.parse(i.responseText);if(t.error&&t.error.message&&(o.message=t.error.message),t.uploaded)for(var r in t)o[r]=t[r];else e.cancel()}catch(t){o.message=n.lang.filetools.responseError,CKEDITOR.warn("filetools-response-error",{responseText:i.responseText}),e.cancel()}},null,null,999)}}),e.prototype={create:function(t,e){var n=this.loaders.length,i=new o(this.editor,t,e);return i.id=n,this.loaders[n]=i,this.fire("instanceCreated",i),i},isFinished:function(){for(var t=0;t<this.loaders.length;++t)if(!this.loaders[t].isFinished())return!1;return!0}},o.prototype={loadAndUpload:function(e,n){var i=this;this.once("loaded",function(t){t.cancel(),i.once("update",function(t){t.cancel()},null,null,0),i.upload(e,n)},null,null,0),this.load()},load:function(){var e=this,t=this.reader=new FileReader;e.changeStatus("loading"),this.abort=function(){e.reader.abort()},t.onabort=function(){e.changeStatus("abort")},t.onerror=function(){e.message=e.lang.filetools.loadError,e.changeStatus("error")},t.onprogress=function(t){e.loaded=t.loaded,e.update()},t.onload=function(){e.loaded=e.total,e.data=t.result,e.changeStatus("loaded")},t.readAsDataURL(this.file)},upload:function(t,e){var n=e||{};t?(this.uploadUrl=t,this.xhr=new XMLHttpRequest,this.attachRequestListeners(),this.editor.fire("fileUploadRequest",{fileLoader:this,requestData:n})&&this.changeStatus("uploading")):(this.message=this.lang.filetools.noUrlError,this.changeStatus("error"))},attachRequestListeners:function(){function t(){"error"!=r.status&&(r.message=r.lang.filetools.networkError,r.changeStatus("error"))}function e(){"abort"!=r.status&&r.changeStatus("abort")}var r=this,a=this.xhr;r.abort=function(){a.abort(),e()},a.onerror=t,a.onabort=e,a.upload?(a.upload.onprogress=function(t){t.lengthComputable&&(r.uploadTotal||(r.uploadTotal=t.total),r.uploaded=t.loaded,r.update())},a.upload.onerror=t,a.upload.onabort=e):(r.uploadTotal=r.total,r.update()),a.onload=function(){if(r.update(),"abort"!=r.status)if(r.uploaded=r.uploadTotal,a.status<200||299<a.status)r.message=r.lang.filetools["httpError"+a.status],r.message||(r.message=r.lang.filetools.httpError.replace("%1",a.status)),r.changeStatus("error");else{for(var t={fileLoader:r},e=["message","fileName","url"],n=r.editor.fire("fileUploadResponse",t),i=0;i<e.length;i++){var o=e[i];"string"==typeof t[o]&&(r[o]=t[o])}r.responseData=t,delete r.responseData.fileLoader,!1===n?r.changeStatus("error"):r.changeStatus("uploaded")}}},changeStatus:function(t){"error"!=(this.status=t)&&"abort"!=t&&"loaded"!=t&&"uploaded"!=t||(this.abort=function(){}),this.fire(t),this.update()},update:function(){this.fire("update")},isFinished:function(){return!!this.status.match(/^(?:loaded|uploaded|error|abort)$/)}},CKEDITOR.event.implementOn(e.prototype),CKEDITOR.event.implementOn(o.prototype);var s=/^data:(\S*?);base64,/;CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{uploadRepository:e,fileLoader:o,getUploadUrl:function(t,e){var n=CKEDITOR.tools.capitalize;return e&&t[e+"UploadUrl"]?t[e+"UploadUrl"]:t.uploadUrl?t.uploadUrl:e&&t["filebrowser"+n(e,1)+"UploadUrl"]?t["filebrowser"+n(e,1)+"UploadUrl"]+"&responseType=json":t.filebrowserUploadUrl?t.filebrowserUploadUrl+"&responseType=json":null},isTypeSupported:function(t,e){return!!t.type.match(e)}})}(),CKEDITOR.plugins.add("notificationaggregator",{requires:"notification"}),On.prototype={createTask:function(t){t=t||{};var e,n=!this.notification;return n&&(this.notification=this._createNotification()),(e=this._addTask(t)).on("updated",this._onTaskUpdate,this),e.on("done",this._onTaskDone,this),e.on("canceled",function(){this._removeTask(e)},this),this.update(),n&&this.notification.show(),e},update:function(){this._updateNotification(),this.isFinished()&&this.fire("finished")},getPercentage:function(){return 0===this.getTaskCount()?1:this._doneWeights/this._totalWeights},isFinished:function(){return this.getDoneTaskCount()===this.getTaskCount()},getTaskCount:function(){return this._tasks.length},getDoneTaskCount:function(){return this._doneTasks},_updateNotification:function(){this.notification.update({message:this._getNotificationMessage(),progress:this.getPercentage()})},_getNotificationMessage:function(){var t=this.getTaskCount(),e={current:this.getDoneTaskCount(),max:t,percentage:Math.round(100*this.getPercentage())};return(1==t&&this._singularMessage?this._singularMessage:this._message).output(e)},_createNotification:function(){return new CKEDITOR.plugins.notification(this.editor,{type:"progress"})},_addTask:function(t){return t=new In(t.weight),this._tasks.push(t),this._totalWeights+=t._weight,t},_removeTask:function(t){var e=CKEDITOR.tools.indexOf(this._tasks,t);-1!==e&&(t._doneWeight&&(this._doneWeights-=t._doneWeight),this._totalWeights-=t._weight,this._tasks.splice(e,1),this.update())},_onTaskUpdate:function(t){this._doneWeights+=t.data,this.update()},_onTaskDone:function(){this._doneTasks+=1,this.update()}},CKEDITOR.event.implementOn(On.prototype),In.prototype={done:function(){this.update(this._weight)},update:function(t){if(!this.isDone()&&!this.isCanceled()){var e=(t=Math.min(this._weight,t))-this._doneWeight;this._doneWeight=t,this.fire("updated",e),this.isDone()&&this.fire("done")}},cancel:function(){this.isDone()||this.isCanceled()||(this._isCanceled=!0,this.fire("canceled"))},isDone:function(){return this._weight===this._doneWeight},isCanceled:function(){return this._isCanceled}},CKEDITOR.event.implementOn(In.prototype),CKEDITOR.plugins.notificationAggregator=On,CKEDITOR.plugins.notificationAggregator.task=In,CKEDITOR.plugins.add("uploadwidget",{requires:"widget,clipboard,filetools,notificationaggregator",init:function(t){t.filter.allow("*[!data-widget,!data-cke-upload-id]")}}),CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{addUploadWidget:function(l,c,t){var u=CKEDITOR.fileTools,d=l.uploadRepository,e=t.supportedTypes?10:20;t.fileToElement&&l.on("paste",function(t){t=t.data;var e,n,i=l.widgets.registered[c],o=t.dataTransfer,r=o.getFilesCount(),a=i.loadMethod||"loadAndUpload";if(!t.dataValue&&r)for(n=0;n<r;n++)if(e=o.getFile(n),!i.supportedTypes||u.isTypeSupported(e,i.supportedTypes)){var s=i.fileToElement(e);e=d.create(e),s&&(e[a](i.uploadUrl,i.additionalRequestParameters),CKEDITOR.fileTools.markElement(s,c,e.id),"loadAndUpload"!=a&&"upload"!=a||i.skipNotifications||CKEDITOR.fileTools.bindNotifications(l,e),t.dataValue+=s.getOuterHtml())}},null,null,e),CKEDITOR.tools.extend(t,{downcast:function(){return new CKEDITOR.htmlParser.text("")},init:function(){var e,n,i=this,o=this.wrapper.findOne("[data-cke-upload-id]").data("cke-upload-id"),r=d.loaders[o],a=CKEDITOR.tools.capitalize;r.on("update",function(t){i.wrapper&&i.wrapper.getParent()?(l.fire("lockSnapshot"),t="on"+a(r.status),"function"==typeof i[t]&&!1===i[t](r)||(n="cke_upload_"+r.status,i.wrapper&&n!=e&&(e&&i.wrapper.removeClass(e),i.wrapper.addClass(n),e=n),"error"!=r.status&&"abort"!=r.status||l.widgets.del(i)),l.fire("unlockSnapshot")):(l.editable().find('[data-cke-upload-id="'+o+'"]').count()||r.abort(),t.removeListener())}),r.update()},replaceWith:function(t,e){if(""===t.trim())l.widgets.del(this);else{var n,i,o=this==l.widgets.focused,r=l.editable(),a=l.createRange();o||(i=l.getSelection().createBookmarks()),a.setStartBefore(this.wrapper),a.setEndAfter(this.wrapper),o&&(n=a.createBookmark()),r.insertHtmlIntoRange(t,a,e),l.widgets.checkWidgets({initOnlyNew:!0}),l.widgets.destroy(this,!0),o?(a.moveToBookmark(n),a.select()):l.getSelection().selectBookmarks(i)}}}),l.widgets.add(c,t)},markElement:function(t,e,n){t.setAttributes({"data-cke-upload-id":n,"data-widget":e})},bindNotifications:function(e,t){var n,i=null;t.on("update",function(){!i&&t.uploadTotal&&((n=e._.uploadWidgetNotificaionAggregator)&&!n.isFinished()||(n=e._.uploadWidgetNotificaionAggregator=new CKEDITOR.plugins.notificationAggregator(e,e.lang.uploadwidget.uploadMany,e.lang.uploadwidget.uploadOne)).once("finished",function(){var t=n.getTaskCount();0===t?n.notification.hide():n.notification.update({message:1==t?e.lang.uploadwidget.doneOne:e.lang.uploadwidget.doneMany.replace("%1",t),type:"success",important:1})}),i=n.createTask({weight:t.uploadTotal})),i&&"uploading"==t.status&&i.update(t.uploaded)}),t.on("uploaded",function(){i&&i.done()}),t.on("error",function(){i&&i.cancel(),e.showNotification(t.message,"warning")}),t.on("abort",function(){i&&i.cancel(),e.showNotification(e.lang.uploadwidget.abort,"info")})}}),jt=0,CKEDITOR.plugins.add("uploadimage",{requires:"uploadwidget",onLoad:function(){CKEDITOR.addCss(".cke_upload_uploading img{opacity: 0.3}")},init:function(u){if(CKEDITOR.plugins.clipboard.isFileApiSupported){var d=CKEDITOR.fileTools,h=d.getUploadUrl(u.config,"image");h&&(d.addUploadWidget(u,"uploadimage",{supportedTypes:/image\/(jpeg|png|gif|bmp)/,uploadUrl:h,fileToElement:function(){var t=new CKEDITOR.dom.element("img");return t.setAttribute("src","data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs="),t},parts:{img:"img"},onUploading:function(t){this.parts.img.setAttribute("src",t.data)},onUploaded:function(t){var e=this.parts.img.$;this.replaceWith('<img src="'+t.url+'" width="'+(t.responseData.width||e.naturalWidth)+'" height="'+(t.responseData.height||e.naturalHeight)+'">')}}),u.on("paste",function(t){if(t.data.dataValue.match(/<img[\s\S]+data:/i)){t=t.data;var e,n,i,o=document.implementation.createHTMLDocument("");for((o=new CKEDITOR.dom.element(o.body)).data("cke-editable",1),o.appendHtml(t.dataValue),e=o.find("img"),i=0;i<e.count();i++){var r=(n=e.getItem(i)).getAttribute("src"),a=r&&"data:"==r.substring(0,5),s=null===n.data("cke-realelement");a&&s&&!n.data("cke-upload-id")&&!n.isReadOnly(1)&&(a=(a=r.match(/image\/([a-z]+?);/i))&&a[1]||"jpg",(r=u.uploadRepository.create(r,(l=a,c=void 0,c=[(c=new Date).getFullYear(),c.getMonth()+1,c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds()],jt+=1,"image-"+CKEDITOR.tools.array.map(c,kn).join("")+"-"+jt+"."+l))).upload(h),d.markElement(n,"uploadimage",r.id),d.bindNotifications(u,r))}t.dataValue=o.getHtml()}var l,c}))}}}),CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:function(t){t.config.wsc_onFinish="function"==typeof t.config.wsc_onFinish?t.config.wsc_onFinish:function(){},t.config.wsc_onClose="function"==typeof t.config.wsc_onClose?t.config.wsc_onClose:function(){}},parseConfig:function(t){t.config.wsc_customerId=t.config.wsc_customerId||CKEDITOR.config.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk",t.config.wsc_customDictionaryIds=t.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||"",t.config.wsc_userDictionaryName=t.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||"",t.config.wsc_customLoaderScript=t.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript,t.config.wsc_interfaceLang=t.config.wsc_interfaceLang,CKEDITOR.config.wsc_cmd=t.config.wsc_cmd||CKEDITOR.config.wsc_cmd||"spell",CKEDITOR.config.wsc_version="v4.3.0-master-d769233",CKEDITOR.config.wsc_removeGlobalVariable=!0},onLoad:function(t){"moono-lisa"==(CKEDITOR.skinName||t.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/wsc.css")},init:function(t){var e=CKEDITOR.env;this.parseConfig(t),this.parseApi(t),t.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes={wysiwyg:!(CKEDITOR.env.opera||CKEDITOR.env.air||document.domain!=window.location.hostname||e.ie&&(e.version<8||e.quirks))},void 0===t.plugins.scayt&&t.ui.addButton&&t.ui.addButton("SpellChecker",{label:t.lang.wsc.toolbar,click:function(t){var e=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.container.getText():t.document.getBody().getText();(e=e.replace(/\s/g,""))?t.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"}),CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&CKEDITOR.env.version<=7?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"))}}),CKEDITOR.config.plugins="dialogui,dialog,about,a11yhelp,basicstyles,blockquote,notification,button,toolbar,clipboard,panel,floatpanel,menu,contextmenu,resize,elementspath,enterkey,entities,popup,filebrowser,floatingspace,listblock,richcombo,format,horizontalrule,htmlwriter,wysiwygarea,image,indent,indentlist,fakeobjects,link,list,magicline,maximize,pastetext,pastefromword,removeformat,showborders,sourcearea,specialchar,menubutton,scayt,stylescombo,tab,table,tabletools,tableselection,undo,lineutils,widgetselection,widget,filetools,notificationaggregator,uploadwidget,uploadimage,wsc",CKEDITOR.config.skin="moono-lisa",CKEDITOR.env.hidpi?Sn("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,blockquote,168,,copy-rtl,192,,copy,216,,cut-rtl,240,,cut,264,,paste-rtl,288,,paste,312,,horizontalrule,336,,image,360,,indent-rtl,384,,indent,408,,outdent-rtl,432,,outdent,456,,anchor-rtl,480,,anchor,504,,link,528,,unlink,552,,bulletedlist-rtl,576,,bulletedlist,600,,numberedlist-rtl,624,,numberedlist,648,,maximize,672,,pastetext-rtl,696,,pastetext,720,,pastefromword-rtl,744,,pastefromword,768,,removeformat,792,,source-rtl,816,,source,840,,specialchar,864,,scayt,888,,table,912,,redo-rtl,936,,redo,960,,undo-rtl,984,,undo,1008,,spellchecker,1032,","icons_hidpi.png"):Sn("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,blockquote,168,auto,copy-rtl,192,auto,copy,216,auto,cut-rtl,240,auto,cut,264,auto,paste-rtl,288,auto,paste,312,auto,horizontalrule,336,auto,image,360,auto,indent-rtl,384,auto,indent,408,auto,outdent-rtl,432,auto,outdent,456,auto,anchor-rtl,480,auto,anchor,504,auto,link,528,auto,unlink,552,auto,bulletedlist-rtl,576,auto,bulletedlist,600,auto,numberedlist-rtl,624,auto,numberedlist,648,auto,maximize,672,auto,pastetext-rtl,696,auto,pastetext,720,auto,pastefromword-rtl,744,auto,pastefromword,768,auto,removeformat,792,auto,source-rtl,816,auto,source,840,auto,specialchar,864,auto,scayt,888,auto,table,912,auto,redo-rtl,936,auto,redo,960,auto,undo-rtl,984,auto,undo,1008,auto,spellchecker,1032,auto","icons.png"),CKEDITOR.lang.languages={af:1,sq:1,ar:1,az:1,eu:1,bn:1,bs:1,bg:1,ca:1,"zh-cn":1,zh:1,hr:1,cs:1,da:1,nl:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,et:1,fo:1,fi:1,fr:1,"fr-ca":1,gl:1,ka:1,de:1,"de-ch":1,el:1,gu:1,he:1,hi:1,hu:1,is:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lv:1,lt:1,mk:1,ms:1,mn:1,no:1,nb:1,oc:1,fa:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,sr:1,"sr-latn":1,si:1,sk:1,sl:1,es:1,"es-mx":1,sv:1,tt:1,th:1,tr:1,ug:1,uk:1,vi:1,cy:1});function Vt(t){var e=Wt(this);return e[t]||(e[t]=new qt(t))}function Wt(t){return(t=t.getPrivate&&t.getPrivate()||t._||(t._={})).events||(t.events={})}function qt(t){this.name=t,this.listeners=[]}function Gt(){l=1}function Ut(){c=1}function Yt(t,e){return"#"==e[0]?String.fromCharCode(parseInt(e.slice(1),10)):y[e]}function Xt(t){t.collapsed=t.startContainer&&t.endContainer&&t.startContainer.equals(t.endContainer)&&t.startOffset==t.endOffset}function Zt(t,e,n,i,r){function o(t,e,n,i){var o=n?t.getPrevious():t.getNext();return i&&a||(l||i?e.append(t.clone(!0,r),n):(t.remove(),s&&e.append(t,n))),o}t.optimizeBookmark();var a=0===e,s=1==e,l=2==e;e=l||s;var c,u,d,h,f,p,g,m,v=t.startContainer,y=t.endContainer,b=t.startOffset,_=t.endOffset;if(l&&y.type==CKEDITOR.NODE_TEXT&&(v.equals(y)||v.type===CKEDITOR.NODE_ELEMENT&&v.getFirst().equals(y)))n.append(t.document.createText(y.substring(b,_)));else{y.type==CKEDITOR.NODE_TEXT?l?p=!0:y=y.split(_):0<y.getChildCount()?_>=y.getChildCount()?(y=y.getChild(_-1),u=!0):y=y.getChild(_):h=u=!0,v.type==CKEDITOR.NODE_TEXT?l?f=!0:v.split(b):0<v.getChildCount()?0===b?(v=v.getChild(b),c=!0):v=v.getChild(b-1):d=c=!0;for(var E,w,T,C=v.getParents(),x=y.getParents(),D=function(){var t,e,n,i=Math.min(C.length,x.length);for(t=0;t<i;t++)if(e=C[t],n=x[t],!e.equals(n))return t;return t-1}(),O=C.length-1,I=x.length-1,k=n,S=-1,R=D;R<=O;R++){for(T=(w=C[R]).getNext(),R!=O||w.equals(x[R])&&O<I?e&&(E=k.append(w.clone(0,r))):c?o(w,k,!1,d):f&&k.append(t.document.createText(w.substring(b)));T;){if(T.equals(x[R])){S=R;break}T=o(T,k)}k=E}for(k=n,R=D;R<=I;R++)if(T=(n=x[R]).getPrevious(),n.equals(C[R]))e&&(k=k.getChild(0));else{if(R!=I||n.equals(C[R])&&I<O?e&&(E=k.append(n.clone(0,r))):u?o(n,k,!1,h):p&&k.append(t.document.createText(n.substring(0,_))),S<R)for(;T;)T=o(T,k,!0);k=E}l||(g=D-1,m=d&&h&&!v.equals(y),g<O-1||g<I-1||m?(m?t.moveToPosition(y,CKEDITOR.POSITION_BEFORE_START):I==g+1&&u?t.moveToPosition(x[g],CKEDITOR.POSITION_BEFORE_END):t.moveToPosition(x[g+1],CKEDITOR.POSITION_BEFORE_START),i&&(g=C[g+1])&&g.type==CKEDITOR.NODE_ELEMENT&&((m=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',t.document)).insertAfter(g),g.mergeSiblings(!1),t.moveToBookmark({startNode:m}))):t.collapse(!0))}}function Qt(){var e=!1,n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(!0),o=CKEDITOR.dom.walker.bogus();return function(t){return!(!i(t)&&!n(t))||(o(t)&&!e?e=!0:!(t.type==CKEDITOR.NODE_TEXT&&(t.hasAscendant("pre")||CKEDITOR.tools.trim(t.getText()).length)||t.type==CKEDITOR.NODE_ELEMENT&&!t.is(M)))}}function Jt(t){return function(){var e;return this[t?"getPreviousNode":"getNextNode"](function(t){return!e&&L(t)&&(e=t),P(t)&&!(N(t)&&t.equals(e))})}}function te(t,e){for(;t;){if(t.type==CKEDITOR.NODE_ELEMENT){if("false"==t.getAttribute("contentEditable")&&!t.data("cke-editable"))return 0;if(t.is("html")||"true"==t.getAttribute("contentEditable")&&(t.contains(e)||t.equals(e)))break}t=t.getParent()}return 1}function ee(e){return function(t){return!(S(t)||R(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.isEmptyInlineRemoveable()||e.is("table")&&t.is("caption"))}}function ne(t){var e,n=t.container,i=t.offset,o=i;if((e=(e=n).type!=CKEDITOR.NODE_ELEMENT||0===o||o==e.getChildCount()?0:e.getChild(o-1).type==CKEDITOR.NODE_TEXT&&e.getChild(o).type==CKEDITOR.NODE_TEXT)&&(i=(n=n.getChild(i-1)).getLength()),n.type==CKEDITOR.NODE_ELEMENT&&0<i){t:{for(e=n;i--;)if(0<=(o=e.getChild(i).getIndex(!0))){i=o;break t}i=-1}i+=1}if(n.type==CKEDITOR.NODE_TEXT){for(e=n,o=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)o+=e.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;e=o,n.getText()?i+=e:(o=n.getPrevious(A),e?(i=e,n=o?o.getNext():n.getParent().getFirst()):(n=n.getParent(),i=o?o.getIndex(!0)+1:0))}t.container=n,t.offset=i}function ie(t,e){var n=e.getCustomData("cke-fillingChar");if(n){var i=t.container;n.equals(i)&&(t.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,t.offset<=0&&(t.offset=i.getIndex(),t.container=i.getParent()))}}function oe(t){arguments.length<1||(this.range=t,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function re(t,e,n,i){t:{null==i&&(i=function(t){var e=[];return t.forEach(function(t){if("true"==t.getAttribute("contenteditable"))return e.push(t),!1},CKEDITOR.NODE_ELEMENT,!0),e}(n));for(var o;o=i.shift();)if(o.getDtd().p){i={element:o,remaining:i};break t}i=null}return i?(o=CKEDITOR.filter.instances[i.element.data("cke-filter")])&&!o.check(e)?re(t,e,n,i.remaining):((e=new CKEDITOR.dom.range(i.element)).selectNodeContents(i.element),(e=e.createIterator()).enlargeBr=t.enlargeBr,e.enforceRealBlocks=t.enforceRealBlocks,e.activeFilter=e.filter=o,t._.nestedEditable={element:i.element,container:n,remaining:i.remaining,iterator:e},1):0}function ae(t,e,n){return!!e&&((t=t.clone()).collapse(!n),t.checkBoundaryOfElement(e,n?CKEDITOR.START:CKEDITOR.END))}function se(t){return B(t)&&$(t)}function le(t){var e=(t=t.data).getKeystroke(),n=this.keystrokes[e],i=this._.editor;return(z=!1===i.fire("key",{keyCode:e,domEvent:t}))||(n&&(z=!1!==i.execCommand(n,{from:"keystrokeHandler"})),z=z||!!this.blockedKeystrokes[e]),z&&t.preventDefault(!0),!z}function ce(t){z&&(z=!1,t.data.preventDefault(!0))}function ue(){var t;(t=j[0])&&this.load(t.scriptUrl,t.callback,CKEDITOR,0)}function de(t){return!t.attributes["data-cke-survive"]&&("a"==t.name&&t.attributes.href||CKEDITOR.dtd.$removeEmpty[t.name])}function he(){this.rules=[]}function fe(t,e,n,i){var o,r;for(o in e)(r=t[o])||(r=t[o]=new he),r.add(e[o],n,i)}function pe(t,e){return(t=t[0])<(e=e[0])?-1:e<t?1:0}function ge(t,e,n,i){if(!CKEDITOR.env.isCompatible)return null;if((t=CKEDITOR.dom.element.get(t)).getEditor())throw'The editor instance "'+t.getEditor().name+'" is already attached to the provided element.';var o=new CKEDITOR.editor(e,t,i);return i==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.setStyle("visibility","hidden"),o._.required=t.hasAttribute("required"),t.removeAttribute("required")),n&&o.setData(n,null,!0),o.on("loaded",function(){!function(t){var e=t.name,n=t.element,i=t.elementMode,o=t.fire("uiSpace",{space:"top",html:""}).html,r=t.fire("uiSpace",{space:"bottom",html:""}).html,a=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(t.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(t.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>');e=CKEDITOR.dom.element.createFromHtml(a.output({id:t.id,name:e,langDir:t.lang.dir,langCode:t.langCode,voiceLabel:t.title,topHtml:o?'<span id="'+t.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+o+"</span>":"",contentId:t.ui.spaceId("contents"),bottomHtml:r?'<span id="'+t.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+r+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));i==CKEDITOR.ELEMENT_MODE_REPLACE?(n.hide(),e.insertAfter(n)):n.append(e),t.container=e,t.ui.contentsElement=t.ui.space("contents"),o&&t.ui.space("top").unselectable(),r&&t.ui.space("bottom").unselectable(),n=t.config.width,i=t.config.height,n&&e.setStyle("width",CKEDITOR.tools.cssLength(n)),i&&t.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(i)),e.disableContextMenu(),CKEDITOR.env.webkit&&e.on("focus",function(){t.focus()}),t.fireOnce("uiReady")}(o),i==CKEDITOR.ELEMENT_MODE_REPLACE&&o.config.autoUpdateElement&&t.$.form&&o._attachToForm(),o.setMode(o.config.startupMode,function(){o.resetDirty(),o.status="ready",o.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,o)})}),o.on("destroy",me),o}function me(){var t=this.container,e=this.element;t&&(t.clearCustomData(),t.remove()),e&&(e.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.show(),this._.required&&e.setAttribute("required","required")),delete this.element)}function ve(t){var e,n=t.editor,i=t.data.path,o=i.blockLimit,r=t.data.selection,a=r.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(r=function(t,e){if(t.isFake)return 0;var n=e.block||e.blockLimit,i=n&&n.getLast(be);if(!(!n||!n.isBlockBoundary()||i&&i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary()||n.is("pre")||n.getBogus()))return n}(r,i))&&(r.appendBogus(),e=CKEDITOR.env.ie),_e(n,i.block,o)&&a.collapsed&&!a.getCommonAncestor().isReadOnly()&&((i=a.clone()).enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),(o=new CKEDITOR.dom.walker(i)).guard=function(t){return!be(t)||t.type==CKEDITOR.NODE_COMMENT||t.isReadOnly()},!o.checkForward()||i.checkStartOfBlock()&&i.checkEndOfBlock())&&(n=a.fixBlock(!0,n.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(n=n.getFirst(be))&&n.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(n.getText()).match(/^(?:&nbsp;|\xa0)$/)&&n.remove(),e=1,t.cancel()),e&&a.select()}function ye(t){var e=t.data.getTarget();e.is("input")&&("submit"!=(e=e.getAttribute("type"))&&"reset"!=e||t.data.preventDefault())}function be(t){return nt(t)&&it(t)}function _e(t,e,n){return!1!==t.config.autoParagraph&&t.activeEnterMode!=CKEDITOR.ENTER_BR&&(t.editable().equals(n)&&!e||e&&"true"==e.getAttribute("contenteditable"))}function Ee(t){return t.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==t.config.autoParagraph&&(t.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p")}function we(t){var e=t.editor;e.getSelection().scrollIntoView(),setTimeout(function(){e.fire("saveSnapshot")},0)}function Te(t,e,n){var i=t.getCommonAncestor(e);for(e=t=n?e:t;(t=t.getParent())&&!i.equals(t)&&1==t.getChildCount();)e=t;e.remove()}function Ce(t){return t.type==CKEDITOR.NODE_ELEMENT}function xe(t,e){var n,i=[],o=t.getChildren(),r=o.count(),a=0,s=ht[e],l=!t.is(ht.$inline)||t.is("br");for(l&&i.push(" ");a<r;a++)Ce(n=o.getItem(a))&&!n.is(s)?i=i.concat(xe(n,e)):i.push(n);return l&&i.push(" "),i}function De(t){return Ce(t.startContainer)&&t.startContainer.getChild(t.startOffset-1)}function Oe(t){return t&&Ce(t)&&(t.is(ht.$removeEmpty)||t.is("a")&&!t.isBlockBoundary())}function Ie(t){return(t=new CKEDITOR.dom.walker(t)).guard=function(t,e){return!e&&(t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$tableContent):void 0)},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT},t}function ke(t,e,n){return e=t.getDocument().createElement(e),t.append(e,n),e}function Se(t){for(var e,n=t.count();0<n--;)e=t.getItem(n),CKEDITOR.tools.trim(e.getHtml())||(e.appendBogus(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&e.getChildCount()&&e.getFirst().remove())}function Re(t){return(t=new CKEDITOR.dom.walker(t)).guard=function(t,e){return!e&&(t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$list)||t.is(CKEDITOR.dtd.$listItem):void 0)},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$listItem)},t}function Ae(t,e){var n=t.getParent();n.is(CKEDITOR.dtd.$inline)&&t[e?"insertBefore":"insertAfter"](n)}function Me(t,e,n){Ae(e),Ae(n,1);for(var i;i=n.getNext();)i.insertAfter(e),e=i;ot(t)&&t.remove()}function Ne(t,e){var n=new CKEDITOR.dom.range(t);return n.setStartAfter(e.startNode),n.setEndBefore(e.endNode),n}function Ke(r){var a,s=[],t=new CKEDITOR.dom.walker(r),l=r.startPath().contains(mt),c=r.endPath().contains(mt),u={};return t.guard=function(t,e){if(t.type==CKEDITOR.NODE_ELEMENT){var n="visited_"+(e?"out":"in");if(t.getCustomData(n))return;CKEDITOR.dom.element.setMarker(u,t,n,1)}if(e&&l&&t.equals(l))(a=r.clone()).setEndAt(l,CKEDITOR.POSITION_BEFORE_END),s.push(a);else if(!e&&c&&t.equals(c))(a=r.clone()).setStartAt(c,CKEDITOR.POSITION_AFTER_START),s.push(a);else{if((n=!e)&&(n=t.type==CKEDITOR.NODE_ELEMENT&&t.is(mt)&&(!l||Pe(t,l))&&(!c||Pe(t,c))),!n&&(n=e))if(t.is(mt)){n=l&&l.getAscendant("table",!0);var i=c&&c.getAscendant("table",!0),o=t.getAscendant("table",!0);n=n&&n.contains(o)||i&&i.contains(o)}else n=void 0;n&&((a=r.clone()).selectNodeContents(t),s.push(a))}},t.lastForward(),CKEDITOR.dom.element.clearAllMarkers(u),s}function Pe(t,e){var n=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,i=t.getPosition(e);return i!==CKEDITOR.POSITION_IDENTICAL&&0==(i&n)}function Le(t,e){CKEDITOR.tools.extend(this,e,{editor:t,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:t._.notificationArea}),e.type||(this.type="info"),this.element=this._createElement(),t.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function Fe(t){var e=this;this.editor=t,this.notifications=[],this.element=this._createElement(),this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this),this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this),t.on("destroy",function(){e._removeListeners(),e.element.remove()})}function Be(t,e,n){return e.type||(e.type="auto"),!(n&&!1===t.fire("beforePaste",e)||!e.dataValue&&e.dataTransfer.isEmpty())&&(e.dataValue||(e.dataValue=""),CKEDITOR.env.gecko&&"drop"==e.method&&t.toolbox&&t.once("afterPaste",function(){t.toolbox.focus()}),t.fire("paste",e))}function $e(h){function t(){var t,e=h.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){function n(t){h.readOnly&&"cut"==t.name||u.initPasteDataTransfer(t,h),t.data.preventDefault()}e.on("copy",n),e.on("cut",n),e.on("cut",function(){h.readOnly||h.extractSelectedHtml()},null,null,999)}e.on(u.mainPasteEvent,function(t){"beforepaste"==u.mainPasteEvent&&d||s(t)}),"beforepaste"==u.mainPasteEvent&&(e.on("paste",function(t){f||(i(),t.data.preventDefault(),s(t),r("paste"))}),e.on("contextmenu",o,null,null,0),e.on("beforepaste",function(t){!t.data||t.data.$.ctrlKey||t.data.$.shiftKey||o()},null,null,0)),e.on("beforecut",function(){d||a()}),e.attachListener(CKEDITOR.env.ie?e:h.document.getDocumentElement(),"mouseup",function(){t=setTimeout(function(){l()},0)}),h.on("destroy",function(){clearTimeout(t)}),e.on("keyup",l)}function e(t){return{type:t,canUndo:"cut"==t,startDisabled:!0,fakeKeystroke:"cut"==t?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){var e;"cut"==this.type&&a();var t=this.type;if(CKEDITOR.env.ie)e=r(t);else try{e=h.document.$.execCommand(t,!1,null)}catch(t){e=!1}return e||h.showNotification(h.lang.clipboard[this.type+"Error"]),e}}}function i(){f=1,setTimeout(function(){f=0},100)}function o(){d=1,setTimeout(function(){d=0},10)}function r(t){function e(){o=!0}var n=h.document,i=n.getBody(),o=!1;return i.on(t,e),7<CKEDITOR.env.version?n.$.execCommand(t):n.$.selection.createRange().execCommand(t),i.removeListener(t,e),o}function a(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var t,e,n,i=h.getSelection();i.getType()==CKEDITOR.SELECTION_ELEMENT&&(t=i.getSelectedElement())&&(e=i.getRanges()[0],(n=h.document.createText("")).insertBefore(t),e.setStartBefore(n),e.setEndAfter(t),i.selectRanges([e]),setTimeout(function(){t.getParent()&&(n.remove(),i.selectElement(t))},0))}}function n(t){if("wysiwyg"==h.mode)switch(t.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:t=h.editable(),i(),"paste"==u.mainPasteEvent&&t.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:h.fire("saveSnapshot"),setTimeout(function(){h.fire("saveSnapshot")},50)}}function s(t){var e={type:"auto",method:"paste",dataTransfer:u.initPasteDataTransfer(t)};e.dataTransfer.cacheData();var n=!1!==h.fire("beforePaste",e);n&&u.canClipboardApiBeTrusted(e.dataTransfer,h)?(t.data.preventDefault(),setTimeout(function(){Be(h,e)},0)):function(t,e){function n(t){t.cancel()}var i,o=h.document,r=h.editable();if(!o.getById("cke_pastebin")){var a=h.getSelection(),s=a.createBookmarks();CKEDITOR.env.ie&&a.root.fire("selectionchange");var l=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!r.is("body")||CKEDITOR.env.ie?"div":"body",o);l.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var c=0;o=o.getWindow();CKEDITOR.env.webkit?(r.append(l),l.addClass("cke_editable"),r.is("body")||(c=(c="static"!=r.getComputedStyle("position")?r:CKEDITOR.dom.element.get(r.$.offsetParent)).getDocumentPosition().y)):r.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(l),l.setStyles({position:"absolute",top:o.getScrollPosition().y-c+10+"px",width:"1px",height:Math.max(1,o.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&l.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(c=l.getParent().isReadOnly())?(l.setOpacity(0),l.setAttribute("contenteditable",!0)):l.setStyle("ltr"==h.config.contentsLangDirection?"left":"right","-10000px"),h.on("selectionChange",n,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(i=r.once("blur",n,null,null,-100)),c&&l.focus(),(c=new CKEDITOR.dom.range(l)).selectNodeContents(l);var u=c.select();CKEDITOR.env.ie&&(i=r.once("blur",function(){h.lockSelection(u)}));var d=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){var t;CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=d),i&&i.removeListener(),CKEDITOR.env.ie&&r.focus(),a.selectBookmarks(s),l.remove(),CKEDITOR.env.webkit&&(t=l.getFirst())&&t.is&&t.hasClass("Apple-style-span")&&(l=t),h.removeListener("selectionChange",n),e(l.getHtml())},0)}}(0,function(t){e.dataValue=t.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),n&&Be(h,e)})}function l(){if("wysiwyg"==h.mode){var t=c("paste");h.getCommand("cut").setState(c("cut")),h.getCommand("copy").setState(c("copy")),h.getCommand("paste").setState(t),h.fire("pasteState",t)}}function c(t){if(p&&t in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==t)return CKEDITOR.TRISTATE_OFF;var e=(t=h.getSelection()).getRanges();return t.getType()==CKEDITOR.SELECTION_NONE||1==e.length&&e[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var u=CKEDITOR.plugins.clipboard,d=0,f=0,p=0;function g(t,e,n,i,o){var r=h.lang.clipboard[e];h.addCommand(e,n),h.ui.addButton&&h.ui.addButton(t,{label:r,command:e,toolbar:"clipboard,"+i}),h.addMenuItems&&h.addMenuItem(e,{label:r,command:e,group:"clipboard",order:o})}h.on("key",n),h.on("contentDom",t),h.on("selectionChange",function(t){p=t.data.selection.getRanges()[0].checkReadOnly(),l()}),h.contextMenu&&h.contextMenu.addListener(function(t,e){return p=e.getRanges()[0].checkReadOnly(),{cut:c("cut"),copy:c("copy"),paste:c("paste")}}),g("Cut","cut",e("cut"),10,1),g("Copy","copy",e("copy"),20,4),g("Paste","paste",{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(n,t){function e(t,e){e=void 0===e||e,t?(t.method="paste",t.dataTransfer||(t.dataTransfer=u.initPasteDataTransfer()),Be(n,t,e)):o&&n.showNotification(s,"info",n.config.clipboard_notificationDuration),n.fire("afterCommandExec",{name:"paste",command:i,returnValue:!!t})}var i=this,o=void 0===(t=null!=t?t:{}).notification||t.notification,r=t.type,a=CKEDITOR.tools.keystrokeToString(n.lang.common.keyboard,n.getCommandKeystroke(this)),s="string"==typeof o?o:n.lang.clipboard.pasteNotification.replace(/%1/,'<kbd aria-label="'+a.aria+'">'+a.display+"</kbd>");a="string"==typeof t?t:t.dataValue,r?n._.nextPasteType=r:delete n._.nextPasteType,"string"==typeof a?e({dataValue:a}):n.getClipboardData(e)}},30,8),h.getClipboardData=function(t,e){function n(t){t.removeListener(),t.cancel(),e(t.data)}e||(e=t,t=null),h.on("paste",n,null,null,0),!1===function(){if("paste"==u.mainPasteEvent)return h.fire("beforePaste",{type:"auto",method:"paste"}),!1;h.focus(),i();var t=h.focusManager;return t.lock(),h.editable().fire(u.mainPasteEvent)&&!r("paste")?(t.unlock(),!1):(t.unlock(),!0)}()&&(h.removeListener("paste",n),e(null))}}function He(t,e){function n(t){return CKEDITOR.tools.repeat("</p><p>",~~(t/2))+(1==t%2?"<br>":"")}return(e=(e=e.replace(/\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>")).replace(/<\/?[A-Z]+>/g,function(t){return t.toLowerCase()})).match(/^[^<]$/)?e:(CKEDITOR.env.webkit&&-1<e.indexOf("<div>")&&((e=e.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>")).match(/<div>(<br>|)<\/div>/)&&(e="<p>"+e.replace(/(<div>(<br>|)<\/div>)+/g,function(t){return n(t.split("</div><div>").length+1)})+"</p>"),e=(e=e.replace(/<\/div><div>/g,"<br>")).replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(e=e.replace(/^<br><br>$/,"<br>")),-1<e.indexOf("<br><br>")&&(e="<p>"+e.replace(/(<br>){2,}/g,function(t){return n(t.length/4)})+"</p>")),function(t,e){return t.enterMode==CKEDITOR.ENTER_BR?e=e.replace(/(<\/p><p>)+/g,function(t){return CKEDITOR.tools.repeat("<br>",t.length/7*2)}).replace(/<\/?p>/g,""):t.enterMode==CKEDITOR.ENTER_DIV&&(e=e.replace(/<(\/)?p>/g,"<$1div>")),e}(t,e))}function ze(){var e={};return{get:function(t){return"plain-text"==t?e.plainText||(e.plainText=new CKEDITOR.filter("br")):"semantic-content"==t?((t=e.semanticContent)||((t=new CKEDITOR.filter).allow({$1:{elements:function(){var t,e={};for(t in CKEDITOR.dtd)"$"!=t.charAt(0)&&"div"!=t&&"span"!=t&&(e[t]=1);return e}(),attributes:!0,styles:!1,classes:!1}}),t=e.semanticContent=t),t):t?new CKEDITOR.filter(t):null}}}function je(t,e,n){e=CKEDITOR.htmlParser.fragment.fromHtml(e);var i=new CKEDITOR.htmlParser.basicWriter;return n.applyTo(e,!0,!1,t.activeEnterMode),e.writeHtml(i),i.getHtml()}function Ve(t){t.data.preventDefault(),t.data.$.dataTransfer.dropEffect="none"}function We(a){var s=CKEDITOR.plugins.clipboard;a.on("contentDom",function(){function i(t,e,n){var i={$:t.data.$,target:t.data.getTarget()};e&&(i.dragRange=e),n&&(i.dropRange=n),!1===a.fire(t.name,i)&&t.data.preventDefault()}function e(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t.getChildCount()}var t=a.editable(),n=CKEDITOR.plugins.clipboard.getDropTarget(a),o=a.ui.space("top"),r=a.ui.space("bottom");s.preventDefaultDropOnElement(o),s.preventDefaultDropOnElement(r),t.attachListener(n,"dragstart",i),t.attachListener(a,"dragstart",s.resetDragDataTransfer,s,null,1),t.attachListener(a,"dragstart",function(t){s.initDragDataTransfer(t,a)},null,null,2),t.attachListener(a,"dragstart",function(){var t=s.dragRange=a.getSelection().getRanges()[0];CKEDITOR.env.ie&&CKEDITOR.env.version<10&&(s.dragStartContainerChildCount=t?e(t.startContainer):null,s.dragEndContainerChildCount=t?e(t.endContainer):null)},null,null,100),t.attachListener(n,"dragend",i),t.attachListener(a,"dragend",s.initDragDataTransfer,s,null,1),t.attachListener(a,"dragend",s.resetDragDataTransfer,s,null,100),t.attachListener(n,"dragover",function(t){if(CKEDITOR.env.edge)t.data.preventDefault();else{var e=t.data.getTarget();e&&e.is&&e.is("html")?t.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&t.data.$.dataTransfer.types.contains("Files")&&t.data.preventDefault()}}),t.attachListener(n,"drop",function(t){if(!t.data.$.defaultPrevented&&(t.data.preventDefault(),!(e=t.data.getTarget()).isReadOnly()||e.type==CKEDITOR.NODE_ELEMENT&&e.is("html"))){var e=s.getRangeAtDropPosition(t,a),n=s.dragRange;e&&i(t,n,e)}},null,null,9999),t.attachListener(a,"drop",s.initDragDataTransfer,s,null,1),t.attachListener(a,"drop",function(t){if(t=t.data){var e=t.dropRange,n=t.dragRange,i=t.dataTransfer;i.getTransferType(a)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){s.internalDrop(n,e,i,a)},0):i.getTransferType(a)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?function(t,e,n){e.select(),Be(a,{dataTransfer:n,method:"drop"},1),n.sourceEditor.fire("saveSnapshot"),n.sourceEditor.editable().extractHtmlFromRange(t),n.sourceEditor.getSelection().selectRanges([t]),n.sourceEditor.fire("saveSnapshot")}(n,e,i):function(t,e){t.select(),Be(a,{dataTransfer:e,method:"drop"},1),s.resetDragDataTransfer()}(e,i)}},null,null,9999)})}function qe(t,i){var o={},r=[],a={nbsp:"",shy:"",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'};if(t=t.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(t,e){var n=i?"&"+e+";":a[e];return o[n]=i?a[e]:"&"+e+";",r.push(n),""}),!i&&t){t=t.split(",");var e,n=document.createElement("div");for(n.innerHTML="&"+t.join(";&")+";",e=n.innerHTML,n=null,n=0;n<e.length;n++){var s=e.charAt(n);o[s]="&"+t[n]+";",r.push(s)}}return o.regex=r.join(i?"|":""),o}function Ge(t,e){var n=[];if(!e)return t;for(var i in e)n.push(i+"="+encodeURIComponent(e[i]));return t+(-1!=t.indexOf("?")?"&":"?")+n.join("&")}function Ue(t){return(t+="").charAt(0).toUpperCase()+t.substr(1)}function Ye(){var t=(n=this.getDialog()).getParentEditor();t._.filebrowserSe=this;var e=t.config["filebrowser"+Ue(n.getName())+"WindowWidth"]||t.config.filebrowserWindowWidth||"80%",n=t.config["filebrowser"+Ue(n.getName())+"WindowHeight"]||t.config.filebrowserWindowHeight||"70%",i=this.filebrowser.params||{};i.CKEditor=t.name,i.CKEditorFuncNum=t._.filebrowserFn,i.langCode||(i.langCode=t.langCode),i=Ge(this.filebrowser.url,i),t.popup(i,e,n,t.config.filebrowserWindowFeatures||t.config.fileBrowserWindowFeatures)}function Xe(){var t=this.getDialog();return t.getParentEditor()._.filebrowserSe=this,!(!t.getContentElement(this.for[0],this.for[1]).getInputElement().$.value||!t.getContentElement(this.for[0],this.for[1]).getAction())}function Ze(t,e,n,i){if(i&&i.length)for(var o,r=i.length;r--;)if("hbox"!=(o=i[r]).type&&"vbox"!=o.type&&"fieldset"!=o.type||Ze(t,e,n,o.children),o.filebrowser)if("string"==typeof o.filebrowser&&(o.filebrowser={action:"fileButton"==o.type?"QuickUpload":"Browse",target:o.filebrowser}),"Browse"==o.filebrowser.action){var a=o.filebrowser.url;void 0===a&&(void 0===(a=t.config["filebrowser"+Ue(e)+"BrowseUrl"])&&(a=t.config.filebrowserBrowseUrl)),a&&(o.onClick=Ye,o.filebrowser.url=a,o.hidden=!1)}else if("QuickUpload"==o.filebrowser.action&&o.for&&(void 0===(a=o.filebrowser.url)&&(void 0===(a=t.config["filebrowser"+Ue(e)+"UploadUrl"])&&(a=t.config.filebrowserUploadUrl)),a)){var s=o.onClick;o.onClick=function(t){var e=t.sender;return(!s||!1!==s.call(e,t))&&(!!Xe.call(e,t)&&(t=e.getDialog().getContentElement(this.for[0],this.for[1]).getInputElement(),(e=new CKEDITOR.dom.element(t.$.form))&&((t=e.$.elements.ckCsrfToken)?t=new CKEDITOR.dom.element(t):((t=new CKEDITOR.dom.element("input")).setAttributes({name:"ckCsrfToken",type:"hidden"}),e.append(t)),t.setAttribute("value",CKEDITOR.tools.getCsrfToken())),!0))},o.filebrowser.url=a,o.hidden=!1,l=t,c=n.getContents(o.for[0]).get(o.for[1]),u=o.filebrowser,d=void 0,(d=u.params||{}).CKEditor=l.name,d.CKEditorFuncNum=l._.filebrowserFn,d.langCode||(d.langCode=l.langCode),c.action=Ge(u.url,d),c.filebrowser=u}var l,c,u,d}function Qe(t,e,n){if(-1===n.indexOf(";"))return(t=t.getContents(e).get(n).filebrowser)&&t.url;n=n.split(";");for(var i=0;i<n.length;i++)if(Qe(t,e,n[i]))return!0;return!1}function Je(t,e){var n=this._.filebrowserSe.getDialog(),i=this._.filebrowserSe.for,o=this._.filebrowserSe.filebrowser.onSelect;i&&n.getContentElement(i[0],i[1]).reset(),"function"==typeof e&&!1===e.call(this._.filebrowserSe)||o&&!1===o.call(this._.filebrowserSe,t,e)||("string"==typeof e&&e&&alert(e),t&&(n=(i=this._.filebrowserSe).getDialog(),i=i.filebrowser.target||null)&&(i=i.split(":"),(o=n.getContentElement(i[0],i[1]))&&(o.setValue(t),n.selectPage(i[0]))))}function tn(t){function e(n){var i=!1;a.attachListener(a,"keydown",function(){var t=o.getBody().getElementsByTag(n);if(!i){for(var e=0;e<t.count();e++)t.getItem(e).setCustomData("retain",!0);i=!0}},null,null,1),a.attachListener(a,"keyup",function(){var t=o.getElementsByTag(n);i&&(1==t.count()&&!t.getItem(0).getCustomData("retain")&&CKEDITOR.tools.isEmpty(t.getItem(0).getAttributes())&&t.getItem(0).remove(1),i=!1)})}var i=this.editor,o=t.document,n=o.body,r=o.getElementById("cke_actscrpt");r&&r.parentNode.removeChild(r),(r=o.getElementById("cke_shimscrpt"))&&r.parentNode.removeChild(r),(r=o.getElementById("cke_basetagscrpt"))&&r.parentNode.removeChild(r),n.contentEditable=!0,CKEDITOR.env.ie&&(n.hideFocus=!0,n.disabled=!0,n.removeAttribute("disabled")),delete this._.isLoadingData,this.$=n,o=new CKEDITOR.dom.document(o),this.setup(),this.fixInitialSelection();var a=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&o.getDocumentElement().addClass(o.$.compatMode),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&i.enterMode!=CKEDITOR.ENTER_P?e("p"):CKEDITOR.env.edge&&CKEDITOR.env.version<15&&i.enterMode!=CKEDITOR.ENTER_DIV&&e("div"),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)&&o.getDocumentElement().on("mousedown",function(t){t.data.getTarget().is("html")&&setTimeout(function(){i.editable().focus()})}),function(n){function i(t){t.returnValue=!1}if(CKEDITOR.env.gecko)try{var t=n.document.$;t.execCommand("enableObjectResizing",!1,!n.config.disableObjectResizing),t.execCommand("enableInlineTableEditing",!1,!n.config.disableNativeTableHandles)}catch(t){}else CKEDITOR.env.ie&&CKEDITOR.env.version<11&&n.config.disableObjectResizing&&function(){var e;n.editable().attachListener(n,"selectionChange",function(){var t=n.getSelection().getSelectedElement();t&&(e&&(e.detachEvent("onresizestart",i),e=null),t.$.attachEvent("onresizestart",i),e=t.$)})}()}(i);try{i.document.$.execCommand("2D-position",!1,!0)}catch(t){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==i.document.$.compatMode)&&this.attachListener(this,"keydown",function(t){var e=t.data.getKeystroke();if(33==e||34==e)if(CKEDITOR.env.ie)setTimeout(function(){i.getSelection().scrollIntoView()},0);else if(i.window.$.innerHeight>this.$.offsetHeight){var n=i.createRange();n[33==e?"moveToElementEditStart":"moveToElementEditEnd"](this),n.select(),t.data.preventDefault()}}),CKEDITOR.env.ie&&this.attachListener(o,"blur",function(){try{o.$.selection.empty()}catch(t){}}),CKEDITOR.env.iOS&&this.attachListener(o,"touchend",function(){t.focus()}),(n=i.document.getElementsByTag("title").getItem(0)).data("cke-title",n.getText()),CKEDITOR.env.ie&&(i.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready"),i.fire("contentDom"),this._.isPendingFocus&&(i.focus(),this._.isPendingFocus=!1),setTimeout(function(){i.fire("dataReady")},0)},0,this)}function en(t,e){if((e=e||t.getSelection().getSelectedElement())&&e.is("img")&&!e.data("cke-realelement")&&!e.isReadOnly())return e}function nn(t){var e=t.getStyle("float");return"inherit"!=e&&"none"!=e||(e=0),e=e||t.getAttribute("align")}function on(e,t){var n,i;t.on("refresh",function(t){var e,n=[Dt];for(e in t.data.states)n.push(t.data.states[e]);this.setState(CKEDITOR.tools.search(n,Ot)?Ot:Dt)},t,null,100),t.on("exec",function(t){n=e.getSelection(),i=n.createBookmarks(1),t.data||(t.data={}),t.data.done=!1},t,null,0),t.on("exec",function(){e.forceNextSelectionCheck(),n.selectBookmarks(i)},t,null,100)}function rn(d){function t(t){for(var e=h.startContainer,n=h.endContainer;e&&!e.getParent().equals(t);)e=e.getParent();for(;n&&!n.getParent().equals(t);)n=n.getParent();if(!e||!n)return!1;for(var i=[],o=!1;!o;)e.equals(n)&&(o=!0),i.push(e),e=e.getNext();if(i.length<1)return!1;for(e=t.getParents(!0),n=0;n<e.length;n++)if(e[n].getName&&g[e[n].getName()]){t=e[n];break}e=f.isIndent?1:-1,n=i[0],i=i[i.length-1];var r=(o=CKEDITOR.plugins.list.listToArray(t,p))[i.getCustomData("listarray_index")].indent;for(n=n.getCustomData("listarray_index");n<=i.getCustomData("listarray_index");n++)if(o[n].indent+=e,0<e){for(var a=o[n].parent,s=n-1;0<=s;s--)if(o[s].indent===e){a=o[s].parent;break}o[n].parent=new CKEDITOR.dom.element(a.getName(),a.getDocument())}for(n=i.getCustomData("listarray_index")+1;n<o.length&&o[n].indent>r;n++)o[n].indent+=e;var l;if((e=CKEDITOR.plugins.list.arrayToList(o,p,null,d.config.enterMode,t.getDirection()),!f.isIndent)&&((l=t.getParent())&&l.is("li"))){var c,u=[];for(n=(i=e.listNode.getChildren()).count()-1;0<=n;n--)(c=i.getItem(n))&&c.is&&c.is("li")&&u.push(c)}if(e&&e.listNode.replace(t),u&&u.length)for(n=0;n<u.length;n++){for(c=t=u[n];(c=c.getNext())&&c.is&&c.getName()in g;)CKEDITOR.env.needsNbspFiller&&!t.getFirst(sn)&&t.append(h.document.createText("")),t.append(c);t.insertAfter(l)}return e&&d.fire("contentDomInvalidated"),!0}for(var h,f=this,p=this.database,g=this.context,e=((e=d.getSelection())&&e.getRanges()).createIterator();h=e.getNextRange();){for(var n=h.getCommonAncestor();n&&(n.type!=CKEDITOR.NODE_ELEMENT||!g[n.getName()]);){if(d.editable().equals(n)){n=!1;break}n=n.getParent()}if(n||(n=h.startPath().contains(g))&&h.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),!n){var i=h.getEnclosedNode();i&&i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in g&&(h.setStartAt(i,CKEDITOR.POSITION_AFTER_START),h.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),n=i)}if(n&&h.startContainer.type==CKEDITOR.NODE_ELEMENT&&h.startContainer.getName()in g&&((i=new CKEDITOR.dom.walker(h)).evaluator=an,h.startContainer=i.next()),n&&h.endContainer.type==CKEDITOR.NODE_ELEMENT&&h.endContainer.getName()in g&&((i=new CKEDITOR.dom.walker(h)).evaluator=an,h.endContainer=i.previous()),n)return t(n)}return 0}function an(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.is("li")}function sn(t){return It(t)&&kt(t)}function ln(t,e){var n=Nt.exec(t),i=Nt.exec(e);if(n){if(!n[2]&&"px"==i[2])return i[1];if("px"==n[2]&&!i[2])return i[1]+"px"}return e}function cn(t){if(!t||t.type!=CKEDITOR.NODE_ELEMENT||"form"!=t.getName())return[];for(var e=[],n=["style","className"],i=0;i<n.length;i++){var o=t.$.elements.namedItem(n[i]);o&&(o=new CKEDITOR.dom.element(o),e.push([o,o.nextSibling]),o.remove())}return e}function un(t,e){if(t&&t.type==CKEDITOR.NODE_ELEMENT&&"form"==t.getName()&&0<e.length)for(var n=e.length-1;0<=n;n--){var i=e[n][0],o=e[n][1];o?i.insertBefore(o):i.appendTo(t)}}function dn(t,e){var n=cn(t),i={},o=t.$;return e||(i.class=o.className||"",o.className=""),i.inline=o.style.cssText||"",e||(o.style.cssText="position: static; overflow: visible"),un(n),i}function hn(t,e){var n=cn(t),i=t.$;"class"in e&&(i.className=e.class),"inline"in e&&(i.style.cssText=e.inline),un(n)}function fn(t){if(!t.editable().isInline()){var e,n=CKEDITOR.instances;for(e in n){var i=n[e];"wysiwyg"!=i.mode||i.readOnly||((i=i.document.getBody()).setAttribute("contentEditable",!1),i.setAttribute("contentEditable",!0))}t.editable().hasFocus&&(t.toolbox.focus(),t.focus())}}function pn(s){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(t){if(t.editable().hasFocus){var e,n=t.getSelection();if(e=new CKEDITOR.dom.elementPath(n.getCommonAncestor(),n.root).contains({td:1,th:1},1)){n=t.createRange();if((o=CKEDITOR.tools.tryThese(function(){var t=e.getParent().$.cells[e.$.cellIndex+(s?-1:1)];return t.parentNode.parentNode,t},function(){var t;return(t=(t=e.getParent()).getAscendant("table").$.rows[t.$.rowIndex+(s?-1:1)]).cells[s?t.cells.length-1:0]}))||s){if(!o)return!0;o=new CKEDITOR.dom.element(o),n.moveToElementEditStart(o),n.checkStartOfBlock()&&n.checkEndOfBlock()||n.selectNodeContents(o)}else{for(var i=e.getAscendant("table").$,o=e.getParent().$.cells,r=(i=new CKEDITOR.dom.element(i.insertRow(-1),t.document),0),a=o.length;r<a;r++)i.append(new CKEDITOR.dom.element(o[r],t.document).clone(!1,!1)).appendBogus();n.moveToElementEditStart(i)}return n.select(!0),!0}}return!1}}}function gn(t,e){function n(t){return!e||e.contains(t)&&t.getAscendant("table",!0).equals(e)}function i(t){0<o.length||t.type!=CKEDITOR.NODE_ELEMENT||!Ht.test(t.getName())||t.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(r,t,"selected_cell",!0),o.push(t))}var o=[],r={};if(!t)return o;for(var a=t.getRanges(),s=0;s<a.length;s++){var l,c;if((l=a[s]).collapsed)(l=l.getCommonAncestor().getAscendant({td:1,th:1},!0))&&n(l)&&o.push(l);else for((l=new CKEDITOR.dom.walker(l)).guard=i;c=l.next();)c.type==CKEDITOR.NODE_ELEMENT&&c.is(CKEDITOR.dtd.table)||(c=c.getAscendant({td:1,th:1},!0))&&!c.getCustomData("selected_cell")&&n(c)&&(CKEDITOR.dom.element.setMarker(r,c,"selected_cell",!0),o.push(c))}return CKEDITOR.dom.element.clearAllMarkers(r),o}function mn(t,e){var n=(i=(a=zt(t)?t:gn(t))[0]).getAscendant("table"),i=i.getDocument(),o=(s=a[0].getParent()).$.rowIndex,r=(a=a[a.length-1]).getParent().$.rowIndex+a.$.rowSpan-1,a=new CKEDITOR.dom.element(n.$.rows[r]),s=(o=e?o:r,e?s:a);for(n=(a=CKEDITOR.tools.buildTableMap(n))[o],o=e?a[o-1]:a[o+1],a=a[0].length,i=i.createElement("tr"),r=0;n[r]&&r<a;r++){var l;1<n[r].rowSpan&&o&&n[r]==o[r]?(l=n[r]).rowSpan+=1:((l=new CKEDITOR.dom.element(n[r]).clone()).removeAttribute("rowSpan"),l.appendBogus(),i.append(l),l=l.$),r+=l.colSpan-1}return e?i.insertBefore(s):i.insertAfter(s),i}function vn(t){for(var e=t.getParent().$.cells,n=0,i=0;i<e.length;i++){var o=e[i];n=n+o.colSpan;if(o==t.$)break}return n-1}function yn(t,e){for(var n=e?1/0:0,i=0;i<t.length;i++){var o=vn(t[i]);(e?o<n:n<o)&&(n=o)}return n}function bn(t,e){for(var n=(o=zt(t)?t:gn(t))[0].getAscendant("table"),i=yn(o,1),o=yn(o),r=e?i:o,a=CKEDITOR.tools.buildTableMap(n),s=(n=[],i=[],o=[],a.length),l=0;l<s;l++)n.push(a[l][r]),i.push(e?a[l][r-1]:a[l][r+1]);for(l=0;l<s;l++)n[l]&&(1<n[l].colSpan&&i[l]==n[l]?(a=n[l]).colSpan+=1:((a=(r=new CKEDITOR.dom.element(n[l])).clone()).removeAttribute("colSpan"),a.appendBogus(),a[e?"insertBefore":"insertAfter"].call(a,r),o.push(a),a=a.$),l+=a.rowSpan-1);return o}function _n(t,e){var n=t.getStartElement().getAscendant({td:1,th:1},!0);if(n){var i=n.clone();i.appendBogus(),e?i.insertBefore(n):i.insertAfter(n)}}function En(t,e){var n=t.getDocument(),i=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(i.focus(),n.focus()),(n=new CKEDITOR.dom.range(n))["moveToElementEdit"+(e?"End":"Start")](t)||(n.selectNodeContents(t),n.collapse(!e)),n.select(!0)}function wn(t,e,n){if(t=t[e],void 0===n)return t;for(e=0;t&&e<t.length;e++){if(n.is&&t[e]==n.$)return e;if(e==n)return new CKEDITOR.dom.element(t[e])}return n.is?-1:null}function Tn(t,e,n){var i,o,r=gn(t);if((e?1!=r.length:r.length<2)||(i=t.getCommonAncestor())&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("table"))return!1;i=(t=r[0]).getAscendant("table");var a=CKEDITOR.tools.buildTableMap(i),s=a.length,l=a[0].length,c=t.getParent().$.rowIndex,u=wn(a,c,t);if(e){var d;try{var h=parseInt(t.getAttribute("rowspan"),10)||1;o=parseInt(t.getAttribute("colspan"),10)||1,d=a["up"==e?c-h:"down"==e?c+h:c]["left"==e?u-o:"right"==e?u+o:u]}catch(t){return!1}if(!d||t.$==d)return!1;r["up"==e||"left"==e?"unshift":"push"](new CKEDITOR.dom.element(d))}e=t.getDocument();var f=c,p=(h=d=0,!n&&new CKEDITOR.dom.documentFragment(e)),g=0;for(e=0;e<r.length;e++){var m=(o=r[e]).getParent(),v=o.getFirst(),y=o.$.colSpan,b=o.$.rowSpan,_=wn(a,m=m.$.rowIndex,o);g=g+y*b,h=Math.max(h,_-u+y);d=Math.max(d,m-c+b),n||((b=(y=o).getBogus())&&b.remove(),y.trim(),o.getChildren().count()&&(m==f||!v||v.isBlockBoundary&&v.isBlockBoundary({br:1})||(!(f=p.getLast(CKEDITOR.dom.walker.whitespaces(!0)))||f.is&&f.is("br")||p.append("br")),o.moveChildren(p)),e?o.remove():o.setHtml("")),f=m}if(n)return d*h==g;for(p.moveChildren(t),t.appendBogus(),l<=h?t.removeAttribute("rowSpan"):t.$.rowSpan=d,s<=d?t.removeAttribute("colSpan"):t.$.colSpan=h,e=(r=(n=new CKEDITOR.dom.nodeList(i.$.rows)).count())-1;0<=e;e--)(i=n.getItem(e)).$.cells.length||(i.remove(),r++);return t}function Cn(t,e){if(1<(n=gn(t)).length)return!1;if(e)return!0;var n,i,o=(l=(n=n[0]).getParent()).getAscendant("table"),r=wn(c=CKEDITOR.tools.buildTableMap(o),u=l.$.rowIndex,n);if(1<(s=n.$.rowSpan)){i=Math.ceil(s/2);for(var a,s=Math.floor(s/2),l=u+i,c=(o=new CKEDITOR.dom.element(o.$.rows[l]),wn(c,l)),u=(l=n.clone(),0);u<c.length;u++){if((a=c[u]).parentNode==o.$&&r<u){l.insertBefore(new CKEDITOR.dom.element(a));break}a=null}a||o.append(l)}else for(s=i=1,(o=l.clone()).insertAfter(l),o.append(l=n.clone()),a=wn(c,u),r=0;r<a.length;r++)a[r].rowSpan++;return l.appendBogus(),n.$.rowSpan=i,l.$.rowSpan=s,1==i&&n.removeAttribute("rowSpan"),1==s&&l.removeAttribute("rowSpan"),l}function xn(t,e){if(1<(n=gn(t)).length)return!1;if(e)return!0;var n,i=(n=n[0]).getParent(),o=i.getAscendant("table"),r=wn(o=CKEDITOR.tools.buildTableMap(o),i.$.rowIndex,n);if(1<(a=n.$.colSpan))i=Math.ceil(a/2),a=Math.floor(a/2);else{for(var a=i=1,s=[],l=0;l<o.length;l++){var c=o[l];s.push(c[r]),1<c[r].rowSpan&&(l+=c[r].rowSpan-1)}for(o=0;o<s.length;o++)s[o].colSpan++}return(o=n.clone()).insertAfter(n),o.appendBogus(),n.$.colSpan=i,o.$.colSpan=a,1==i&&n.removeAttribute("colSpan"),1==a&&o.removeAttribute("colSpan"),o}function Dn(t){return t.getName&&!t.hasAttribute("data-cke-temp")}function On(t,e,n){this.editor=t,this.notification=null,this._message=new CKEDITOR.template(e),this._singularMessage=n?new CKEDITOR.template(n):null,this._tasks=[],this._doneTasks=this._doneWeights=this._totalWeights=0}function In(t){this._weight=t||1,this._doneWeight=0,this._isCanceled=!1}function kn(t){return t<=9&&(t="0"+t),String(t)}function Sn(t,e){var n=CKEDITOR.getUrl("plugins/"+e);t=t.split(",");for(var i=0;i<t.length;i++)CKEDITOR.skin.icons[t[i]]={path:n,offset:-t[++i],bgsize:t[++i]}}}(),jQuery.fn.rotate=function(t,e){var n=this.get(0);if(n.angle=e?t:((null==n.angle?0:n.angle)+t)%360,0<=n.angle)var i=Math.PI*n.angle/180;else i=Math.PI*(360+n.angle)/180;var o=Math.cos(i),r=Math.sin(i);if(document.all&&!window.opera){(a=document.createElement("img")).src=n.src,a.height=n.height,a.width=n.width,a.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+o+",M12="+-r+",M21="+r+",M22="+o+",SizingMethod='auto expand')"}else{var a=document.createElement("canvas");n.oImage?a.oImage=n.oImage:(a.oImage=new Image,a.oImage.src=n.src),a.style.width=a.width=Math.abs(o*a.oImage.width)+Math.abs(r*a.oImage.height),a.style.height=a.height=Math.abs(o*a.oImage.height)+Math.abs(r*a.oImage.width);var s=a.getContext("2d");s.save(),i<=Math.PI/2?s.translate(r*a.oImage.height,0):i<=Math.PI?s.translate(a.width,-o*a.oImage.height):i<=1.5*Math.PI?s.translate(-o*a.oImage.width,a.height):s.translate(0,-r*a.oImage.width),s.rotate(i),s.drawImage(a.oImage,0,0,a.oImage.width,a.oImage.height),s.restore()}a.id=n.id,a.angle=n.angle,n.parentNode.replaceChild(a,n)},jQuery.fn.rotateRight=function(t){this.rotate(null==t?90:t)},jQuery.fn.rotateLeft=function(t){this.rotate(null==t?-90:-t)}+function(d){"use strict";function h(t,e){this.$element=d(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))}function a(o){return this.each(function(){var t=d(this),e=t.data("bs.carousel"),n=d.extend({},h.DEFAULTS,t.data(),"object"==typeof o&&o),i="string"==typeof o?o:n.slide;e||t.data("bs.carousel",e=new h(this,n)),"number"==typeof o?e.to(o):i?e[i]():n.interval&&e.pause().cycle()})}h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),o=this.interval,r="next"==t?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:s,direction:r});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=d(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=d.Event("slid.bs.carousel",{relatedTarget:s,direction:r});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(r),i.addClass(r),n.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(u)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),o&&this.cycle(),this}};var t=d.fn.carousel;d.fn.carousel=a,d.fn.carousel.Constructor=h,d.fn.carousel.noConflict=function(){return d.fn.carousel=t,this};function e(t){var e,n=d(this),i=d(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var o=d.extend({},i.data(),n.data()),r=n.attr("data-slide-to");r&&(o.interval=!1),a.call(i,o),r&&i.data("bs.carousel").to(r),t.preventDefault()}}d(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var t=d(this);a.call(t,t.data())})})}(jQuery),function(l,n,o,s){function c(t,e){this.settings=null,this.options=l.extend({},c.Defaults,e),this.$element=l(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},l.each(["onResize","onThrottledResize"],l.proxy(function(t,e){this._handlers[e]=l.proxy(this[e],this)},this)),l.each(c.Plugins,l.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),l.each(c.Workers,l.proxy(function(t,e){this._pipe.push({filter:e.filter,run:l.proxy(e.run,this)})},this)),this.setup(),this.initialize()}c.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:n,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},c.Width={Default:"default",Inner:"inner",Outer:"outer"},c.Type={Event:"event",State:"state"},c.Plugins={},c.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",n=!this.settings.autoWidth,i=this.settings.rtl,o={width:"auto","margin-left":i?e:"","margin-right":i?"":e};n||this.$stage.children().css(o),t.css=o}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=null,i=this._items.length,o=!this.settings.autoWidth,r=[];for(t.items={merge:!1,width:e};i--;)n=this._mergers[i],n=this.settings.mergeFit&&Math.min(n,this.settings.items)||n,t.items.merge=1<n||t.items.merge,r[i]=o?e*n:this._items[i].width();this._widths=r}},{filter:["items","settings"],run:function(){var t=[],e=this._items,n=this.settings,i=Math.max(2*n.items,4),o=2*Math.ceil(e.length/2),r=n.loop&&e.length?n.rewind?i:Math.max(i,o):0,a="",s="";for(r/=2;0<r;)t.push(this.normalize(t.length/2,!0)),a+=e[t[t.length-1]][0].outerHTML,t.push(this.normalize(e.length-1-(t.length-1)/2,!0)),s=e[t[t.length-1]][0].outerHTML+s,r-=1;this._clones=t,l(a).addClass("cloned").appendTo(this.$stage),l(s).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,n=-1,i=0,o=0,r=[];++n<e;)i=r[n-1]||0,o=this._widths[this.relative(n)]+this.settings.margin,r.push(i+o*t);this._coordinates=r}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,n={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(n)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,n=!this.settings.autoWidth,i=this.$stage.children();if(n&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],i.eq(e).css(t.css);else n&&(t.css.width=t.items.width,i.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,n,i,o=this.settings.rtl?1:-1,r=2*this.settings.stagePadding,a=this.coordinates(this.current())+r,s=a+this.width()*o,l=[];for(n=0,i=this._coordinates.length;n<i;n++)t=this._coordinates[n-1]||0,e=Math.abs(this._coordinates[n])+r*o,(this.op(t,"<=",a)&&this.op(t,">",s)||this.op(e,"<",a)&&this.op(e,">",s))&&l.push(n);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],c.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=l("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(l("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},c.prototype.initializeItems=function(){var t=this.$element.find(".owl-item");if(t.length)return this._items=t.get().map(function(t){return l(t)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},c.prototype.initialize=function(){var t,e,n;this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:s,n=this.$element.children(e).width(),t.length&&n<=0&&this.preloadAutoWidthImages(t));this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},c.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},c.prototype.setup=function(){var e=this.viewport(),t=this.options.responsive,n=-1,i=null;t?(l.each(t,function(t){t<=e&&n<t&&(n=Number(t))}),"function"==typeof(i=l.extend({},this.options,t[n])).stagePadding&&(i.stagePadding=i.stagePadding()),delete i.responsive,i.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+n))):i=l.extend({},this.options),this.trigger("change",{property:{name:"settings",value:i}}),this._breakpoint=n,this.settings=i,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},c.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},c.prototype.prepare=function(t){var e=this.trigger("prepare",{content:t});return e.data||(e.data=l("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:e.data}),e.data},c.prototype.update=function(){for(var t=0,e=this._pipe.length,n=l.proxy(function(t){return this[t]},this._invalidated),i={};t<e;)(this._invalidated.all||0<l.grep(this._pipe[t].filter,n).length)&&this._pipe[t].run(i),t++;this._invalidated={},this.is("valid")||this.enter("valid")},c.prototype.width=function(t){switch(t=t||c.Width.Default){case c.Width.Inner:case c.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},c.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},c.prototype.onThrottledResize=function(){n.clearTimeout(this.resizeTimer),this.resizeTimer=n.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},c.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},c.prototype.registerEventHandlers=function(){l.support.transition&&this.$stage.on(l.support.transition.end+".owl.core",l.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(n,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",l.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",l.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",l.proxy(this.onDragEnd,this)))},c.prototype.onDragStart=function(t){var e=null;3!==t.which&&(e=l.support.transform?{x:(e=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===e.length?12:4],y:e[16===e.length?13:5]}:(e=this.$stage.position(),{x:this.settings.rtl?e.left+this.$stage.width()-this.width()+this.settings.margin:e.left,y:e.top}),this.is("animating")&&(l.support.transform?this.animate(e.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=l(t.target),this._drag.stage.start=e,this._drag.stage.current=e,this._drag.pointer=this.pointer(t),l(o).on("mouseup.owl.core touchend.owl.core",l.proxy(this.onDragEnd,this)),l(o).one("mousemove.owl.core touchmove.owl.core",l.proxy(function(t){var e=this.difference(this._drag.pointer,this.pointer(t));l(o).on("mousemove.owl.core touchmove.owl.core",l.proxy(this.onDragMove,this)),Math.abs(e.x)<Math.abs(e.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},c.prototype.onDragMove=function(t){var e=null,n=null,i=null,o=this.difference(this._drag.pointer,this.pointer(t)),r=this.difference(this._drag.stage.start,o);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),n=this.coordinates(this.maximum()+1)-e,r.x=((r.x-e)%n+n)%n+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),n=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),i=this.settings.pullDrag?-1*o.x/5:0,r.x=Math.max(Math.min(r.x,e+i),n+i)),this._drag.stage.current=r,this.animate(r.x))},c.prototype.onDragEnd=function(t){var e=this.difference(this._drag.pointer,this.pointer(t)),n=this._drag.stage.current,i=0<e.x^this.settings.rtl?"left":"right";l(o).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==e.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(n.x,0!==e.x?i:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=i,(3<Math.abs(e.x)||300<(new Date).getTime()-this._drag.time)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},c.prototype.closest=function(n,i){var o=-1,r=this.width(),a=this.coordinates();return this.settings.freeDrag||l.each(a,l.proxy(function(t,e){return"left"===i&&e-30<n&&n<e+30?o=t:"right"===i&&e-r-30<n&&n<e-r+30?o=t+1:this.op(n,"<",e)&&this.op(n,">",a[t+1]!==s?a[t+1]:e-r)&&(o="left"===i?t+1:t),-1===o},this)),this.settings.loop||(this.op(n,">",a[this.minimum()])?o=n=this.minimum():this.op(n,"<",a[this.maximum()])&&(o=n=this.maximum())),o},c.prototype.animate=function(t){var e=0<this.speed();this.is("animating")&&this.onTransitionEnd(),e&&(this.enter("animating"),this.trigger("translate")),l.support.transform3d&&l.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):e?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,l.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},c.prototype.is=function(t){return this._states.current[t]&&0<this._states.current[t]},c.prototype.current=function(t){if(t===s)return this._current;if(0===this._items.length)return s;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==s&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},c.prototype.invalidate=function(t){return"string"===l.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),l.map(this._invalidated,function(t,e){return e})},c.prototype.reset=function(t){(t=this.normalize(t))!==s&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},c.prototype.normalize=function(t,e){var n=this._items.length,i=e?0:this._clones.length;return!this.isNumeric(t)||n<1?t=s:(t<0||n+i<=t)&&(t=((t-i/2)%n+n)%n+i/2),t},c.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},c.prototype.maximum=function(t){var e,n,i,o=this.settings,r=this._coordinates.length;if(o.loop)r=this._clones.length/2+this._items.length-1;else if(o.autoWidth||o.merge){if(e=this._items.length)for(n=this._items[--e].width(),i=this.$element.width();e--&&!((n+=this._items[e].width()+this.settings.margin)>i););r=e+1}else r=o.center?this._items.length-1:this._items.length-o.items;return t&&(r-=this._clones.length/2),Math.max(r,0)},c.prototype.minimum=function(t){return t?0:this._clones.length/2},c.prototype.items=function(t){return t===s?this._items.slice():(t=this.normalize(t,!0),this._items[t])},c.prototype.mergers=function(t){return t===s?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},c.prototype.clones=function(n){function i(t){return t%2==0?o+t/2:e-(t+1)/2}var e=this._clones.length/2,o=e+this._items.length;return n===s?l.map(this._clones,function(t,e){return i(e)}):l.map(this._clones,function(t,e){return t===n?i(e):null})},c.prototype.speed=function(t){return t!==s&&(this._speed=t),this._speed},c.prototype.coordinates=function(t){var e,n=1,i=t-1;return t===s?l.map(this._coordinates,l.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(n=-1,i=t+1),e=this._coordinates[t],e+=(this.width()-e+(this._coordinates[i]||0))/2*n):e=this._coordinates[i]||0,e=Math.ceil(e))},c.prototype.duration=function(t,e,n){return 0===n?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(n||this.settings.smartSpeed)},c.prototype.to=function(t,e){var n=this.current(),i=null,o=t-this.relative(n),r=(0<o)-(o<0),a=this._items.length,s=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(o)>a/2&&(o+=-1*r*a),(i=(((t=n+o)-s)%a+a)%a+s)!==t&&i-o<=l&&0<i-o&&(n=i-o,t=i,this.reset(n))):t=this.settings.rewind?(t%(l+=1)+l)%l:Math.max(s,Math.min(l,t)),this.speed(this.duration(n,t,e)),this.current(t),this.isVisible()&&this.update()},c.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},c.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},c.prototype.onTransitionEnd=function(t){if(t!==s&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},c.prototype.viewport=function(){var t;return this.options.responsiveBaseElement!==n?t=l(this.options.responsiveBaseElement).width():n.innerWidth?t=n.innerWidth:o.documentElement&&o.documentElement.clientWidth?t=o.documentElement.clientWidth:console.warn("Can not detect viewport width."),t},c.prototype.replace=function(t){this.$stage.empty(),this._items=[],t=t&&(t instanceof jQuery?t:l(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(l.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},c.prototype.add=function(t,e){var n=this.relative(this._current);e=e===s?this._items.length:this.normalize(e,!0),t=t instanceof jQuery?t:l(t),this.trigger("add",{content:t,position:e}),t=this.prepare(t),0===this._items.length||e===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[e-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[e].before(t),this._items.splice(e,0,t),this._mergers.splice(e,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[n]&&this.reset(this._items[n].index()),this.invalidate("items"),this.trigger("added",{content:t,position:e})},c.prototype.remove=function(t){(t=this.normalize(t,!0))!==s&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},c.prototype.preloadAutoWidthImages=function(t){t.each(l.proxy(function(t,e){this.enter("pre-loading"),e=l(e),l(new Image).one("load",l.proxy(function(t){e.attr("src",t.target.src),e.css("opacity",1),this.leave("pre-loading"),this.is("pre-loading")||this.is("initializing")||this.refresh()},this)).attr("src",e.attr("src")||e.attr("data-src")||e.attr("data-src-retina"))},this))},c.prototype.destroy=function(){for(var t in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),l(o).off(".owl.core"),!1!==this.settings.responsive&&(n.clearTimeout(this.resizeTimer),this.off(n,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[t].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},c.prototype.op=function(t,e,n){var i=this.settings.rtl;switch(e){case"<":return i?n<t:t<n;case">":return i?t<n:n<t;case">=":return i?t<=n:n<=t;case"<=":return i?n<=t:t<=n}},c.prototype.on=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n)},c.prototype.off=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n)},c.prototype.trigger=function(t,e,n,i,o){var r={item:{count:this._items.length,index:this.current()}},a=l.camelCase(l.grep(["on",t,n],function(t){return t}).join("-").toLowerCase()),s=l.Event([t,"owl",n||"carousel"].join(".").toLowerCase(),l.extend({relatedTarget:this},r,e));return this._supress[t]||(l.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(s)}),this.register({type:c.Type.Event,name:t}),this.$element.trigger(s),this.settings&&"function"==typeof this.settings[a]&&this.settings[a].call(this,s)),s},c.prototype.enter=function(t){l.each([t].concat(this._states.tags[t]||[]),l.proxy(function(t,e){this._states.current[e]===s&&(this._states.current[e]=0),this._states.current[e]++},this))},c.prototype.leave=function(t){l.each([t].concat(this._states.tags[t]||[]),l.proxy(function(t,e){this._states.current[e]--},this))},c.prototype.register=function(n){if(n.type===c.Type.Event){if(l.event.special[n.name]||(l.event.special[n.name]={}),!l.event.special[n.name].owl){var e=l.event.special[n.name]._default;l.event.special[n.name]._default=function(t){return!e||!e.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&-1<t.namespace.indexOf("owl"):e.apply(this,arguments)},l.event.special[n.name].owl=!0}}else n.type===c.Type.State&&(this._states.tags[n.name]?this._states.tags[n.name]=this._states.tags[n.name].concat(n.tags):this._states.tags[n.name]=n.tags,this._states.tags[n.name]=l.grep(this._states.tags[n.name],l.proxy(function(t,e){return l.inArray(t,this._states.tags[n.name])===e},this)))},c.prototype.suppress=function(t){l.each(t,l.proxy(function(t,e){this._supress[e]=!0},this))},c.prototype.release=function(t){l.each(t,l.proxy(function(t,e){delete this._supress[e]},this))},c.prototype.pointer=function(t){var e={x:null,y:null};return(t=(t=t.originalEvent||t||n.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX,e.y=t.clientY),e},c.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},c.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},l.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=l(this),n=t.data("owl.carousel");n||(n=new c(this,"object"==typeof e&&e),t.data("owl.carousel",n),l.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,e){n.register({type:c.Type.Event,name:e}),n.$element.on(e+".owl.carousel.core",l.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([e]),n[e].apply(this,[].slice.call(arguments,1)),this.release([e]))},n))})),"string"==typeof e&&"_"!==e.charAt(0)&&n[e].apply(n,i)})},l.fn.owlCarousel.Constructor=c}(window.Zepto||window.jQuery,window,document),function(e,n){var i=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={autoRefresh:!0,autoRefreshInterval:500},i.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=n.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},i.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},i.prototype.destroy=function(){var t,e;for(t in n.clearInterval(this._interval),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=i}(window.Zepto||window.jQuery,window,document),function(s,r){var e=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":s.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type)){var e=this._core.settings,n=e.center&&Math.ceil(e.items/2)||e.items,i=e.center&&-1*n||0,o=(t.property&&void 0!==t.property.value?t.property.value:this._core.current())+i,r=this._core.clones().length,a=s.proxy(function(t,e){this.load(e)},this);for(0<e.lazyLoadEager&&(n+=e.lazyLoadEager,e.loop&&(o-=e.lazyLoadEager,n++));i++<n;)this.load(r/2+this._core.relative(o)),r&&s.each(this._core.clones(this._core.relative(o)),a),o++}},this)},this._core.options=s.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={lazyLoad:!1,lazyLoadEager:0},e.prototype.load=function(t){var e=this._core.$stage.children().eq(t),n=e&&e.find(".owl-lazy");!n||-1<s.inArray(e.get(0),this._loaded)||(n.each(s.proxy(function(t,e){var n,i=s(e),o=1<r.devicePixelRatio&&i.attr("data-src-retina")||i.attr("data-src")||i.attr("data-srcset");this._core.trigger("load",{element:i,url:o},"lazy"),i.is("img")?i.one("load.owl.lazy",s.proxy(function(){i.css("opacity",1),this._core.trigger("loaded",{element:i,url:o},"lazy")},this)).attr("src",o):i.is("source")?i.one("load.owl.lazy",s.proxy(function(){this._core.trigger("loaded",{element:i,url:o},"lazy")},this)).attr("srcset",o):((n=new Image).onload=s.proxy(function(){i.css({"background-image":'url("'+o+'")',opacity:"1"}),this._core.trigger("loaded",{element:i,url:o},"lazy")},this),n.src=o)},this)),this._loaded.push(e.get(0)))},e.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},s.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(a,n){var i=function(t){this._core=t,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":a.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&this.update()},this),"loaded.owl.lazy":a.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var e=this;a(n).on("load",function(){e._core.settings.autoHeight&&e.update()}),a(n).resize(function(){e._core.settings.autoHeight&&(null!=e._intervalId&&clearTimeout(e._intervalId),e._intervalId=setTimeout(function(){e.update()},250))})};i.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},i.prototype.update=function(){var t=this._core._current,e=t+this._core.settings.items,n=this._core.settings.lazyLoad,i=this._core.$stage.children().toArray().slice(t,e),o=[],r=0;a.each(i,function(t,e){o.push(a(e).height())}),(r=Math.max.apply(null,o))<=1&&n&&this._previousHeight&&(r=this._previousHeight),this._previousHeight=r,this._core.$stage.parent().height(r).addClass(this._core.settings.autoHeightClass)},i.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=i}(window.Zepto||window.jQuery,window,document),function(u,t,e){var n=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":u.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":u.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":u.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":u.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":u.proxy(function(t){if(t.namespace){var e=u(t.content).find(".owl-video");e.length&&(e.css("display","none"),this.fetch(e,u(t.content)))}},this)},this._core.options=u.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",u.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var n=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",i=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),o=t.attr("data-width")||this._core.settings.videoWidth,r=t.attr("data-height")||this._core.settings.videoHeight,a=t.attr("href");if(!a)throw new Error("Missing video URL.");if(-1<(i=a.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu"))n="youtube";else if(-1<i[3].indexOf("vimeo"))n="vimeo";else{if(!(-1<i[3].indexOf("vzaar")))throw new Error("Video URL not supported.");n="vzaar"}i=i[6],this._videos[a]={type:n,id:i,width:o,height:r},e.attr("data-video",a),this.thumbnail(t,this._videos[a])},n.prototype.thumbnail=function(e,t){function n(t){'<div class="owl-video-play-icon"></div>',i=c.lazyLoad?u("<div/>",{class:"owl-video-tn "+l,srcType:t}):u("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+t+")"}),e.after(i),e.after('<div class="owl-video-play-icon"></div>')}var i,o,r=t.width&&t.height?"width:"+t.width+"px;height:"+t.height+"px;":"",a=e.find("img"),s="src",l="",c=this._core.settings;if(e.wrap(u("<div/>",{class:"owl-video-wrapper",style:r})),this._core.settings.lazyLoad&&(s="data-src",l="owl-lazy"),a.length)return n(a.attr(s)),a.remove(),!1;"youtube"===t.type?(o="//img.youtube.com/vi/"+t.id+"/hqdefault.jpg",n(o)):"vimeo"===t.type?u.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t[0].thumbnail_large,n(o)}}):"vzaar"===t.type&&u.ajax({type:"GET",url:"//vzaar.com/api/videos/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t.framegrab_url,n(o)}})},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(t){var e,n=u(t.target).closest("."+this._core.settings.itemClass),i=this._videos[n.attr("data-video")],o=i.width||"100%",r=i.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),n=this._core.items(this._core.relative(n.index())),this._core.reset(n.index()),(e=u('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",r),e.attr("width",o),"youtube"===i.type?e.attr("src","//www.youtube.com/embed/"+i.id+"?autoplay=1&rel=0&v="+i.id):"vimeo"===i.type?e.attr("src","//player.vimeo.com/video/"+i.id+"?autoplay=1"):"vzaar"===i.type&&e.attr("src","//view.vzaar.com/"+i.id+"/player?autoplay=true"),u(e).wrap('<div class="owl-video-frame" />').insertAfter(n.find(".owl-video")),this._playing=n.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var t=e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement;return t&&u(t).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},u.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(a){var e=function(t){this.core=t,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":a.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":a.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&a.support.animation&&a.support.transition){this.core.speed(0);var t,e=a.proxy(this.clear,this),n=this.core.$stage.children().eq(this.previous),i=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,r=this.core.settings.animateOut;this.core.current()!==this.previous&&(r&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),n.one(a.support.animation.end,e).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(r)),o&&i.one(a.support.animation.end,e).addClass("animated owl-animated-in").addClass(o))}},e.prototype.clear=function(t){a(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(i,o,e){var n=function(t){this._core=t,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":i.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":i.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":i.proxy(function(t,e,n){t.namespace&&this.play(e,n)},this),"stop.owl.autoplay":i.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":i.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=i.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype._next=function(t){this._call=o.setTimeout(i.proxy(this._next,this,t),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||e.hidden||this._core.next(t||this._core.settings.autoplaySpeed)},n.prototype.read=function(){return(new Date).getTime()-this._time},n.prototype.play=function(t,e){var n;this._core.is("rotating")||this._core.enter("rotating"),t=t||this._core.settings.autoplayTimeout,n=Math.min(this._time%(this._timeout||t),t),this._paused?(this._time=this.read(),this._paused=!1):o.clearTimeout(this._call),this._time+=this.read()%t-n,this._timeout=t,this._call=o.setTimeout(i.proxy(this._next,this,e),t-n)},n.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,o.clearTimeout(this._call),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,o.clearTimeout(this._call))},n.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},i.fn.owlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(r){"use strict";var e=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":r.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+r(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":r.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":r.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":r.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":r.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":r.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=r.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var t,n=this._core.settings;for(t in this._controls.$relative=(n.navContainer?r(n.navContainer):r("<div>").addClass(n.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=r("<"+n.navElement+">").addClass(n.navClass[0]).html(n.navText[0]).prependTo(this._controls.$relative).on("click",r.proxy(function(t){this.prev(n.navSpeed)},this)),this._controls.$next=r("<"+n.navElement+">").addClass(n.navClass[1]).html(n.navText[1]).appendTo(this._controls.$relative).on("click",r.proxy(function(t){this.next(n.navSpeed)},this)),n.dotsData||(this._templates=[r('<button role="button">').addClass(n.dotClass).append(r("<span>")).prop("outerHTML")]),this._controls.$absolute=(n.dotsContainer?r(n.dotsContainer):r("<div>").addClass(n.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",r.proxy(function(t){var e=r(t.target).parent().is(this._controls.$absolute)?r(t.target).index():r(t.target).parent().index();t.preventDefault(),this.to(e,n.dotsSpeed)},this)),this._overrides)this._core[t]=r.proxy(this[t],this)},e.prototype.destroy=function(){var t,e,n,i,o;for(t in o=this._core.settings,this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&o.navContainer?this._controls[e].html(""):this._controls[e].remove();for(i in this.overides)this._core[i]=this._overrides[i];for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},e.prototype.update=function(){var t,e,n=this._core.clones().length/2,i=n+this._core.items().length,o=this._core.maximum(!0),r=this._core.settings,a=r.center||r.autoWidth||r.dotsData?1:r.dotsEach||r.items;if("page"!==r.slideBy&&(r.slideBy=Math.min(r.slideBy,r.items)),r.dots||"page"==r.slideBy)for(this._pages=[],t=n,e=0;t<i;t++){if(a<=e||0===e){if(this._pages.push({start:Math.min(o,t-n),end:t-n+a-1}),Math.min(o,t-n)===o)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},e.prototype.draw=function(){var t,e=this._core.settings,n=this._core.items().length<=e.items,i=this._core.relative(this._core.current()),o=e.loop||e.rewind;this._controls.$relative.toggleClass("disabled",!e.nav||n),e.nav&&(this._controls.$previous.toggleClass("disabled",!o&&i<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&i>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!e.dots||n),e.dots&&(t=this._pages.length-this._controls.$absolute.children().length,e.dotsData&&0!=t?this._controls.$absolute.html(this._templates.join("")):0<t?this._controls.$absolute.append(new Array(1+t).join(this._templates[0])):t<0&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(r.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(t){var e=this._core.settings;t.page={index:r.inArray(this.current(),this._pages),count:this._pages.length,size:e&&(e.center||e.autoWidth||e.dotsData?1:e.dotsEach||e.items)}},e.prototype.current=function(){var n=this._core.relative(this._core.current());return r.grep(this._pages,r.proxy(function(t,e){return t.start<=n&&t.end>=n},this)).pop()},e.prototype.getPosition=function(t){var e,n,i=this._core.settings;return"page"==i.slideBy?(e=r.inArray(this.current(),this._pages),n=this._pages.length,t?++e:--e,e=this._pages[(e%n+n)%n].start):(e=this._core.relative(this._core.current()),n=this._core.items().length,t?e+=i.slideBy:e-=i.slideBy),e},e.prototype.next=function(t){r.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},e.prototype.prev=function(t){r.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},e.prototype.to=function(t,e,n){var i;!n&&this._pages.length?(i=this._pages.length,r.proxy(this._overrides.to,this._core)(this._pages[(t%i+i)%i].start,e)):r.proxy(this._overrides.to,this._core)(t,e)},r.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(i,o){"use strict";var e=function(t){this._core=t,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":i.proxy(function(t){t.namespace&&"URLHash"===this._core.settings.startPosition&&i(o).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":i.proxy(function(t){if(t.namespace){var e=i(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!e)return;this._hashes[e]=t.content}},this),"changed.owl.carousel":i.proxy(function(t){if(t.namespace&&"position"===t.property.name){var n=this._core.items(this._core.relative(this._core.current())),e=i.map(this._hashes,function(t,e){return t===n?e:null}).join();if(!e||o.location.hash.slice(1)===e)return;o.location.hash=e}},this)},this._core.options=i.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),i(o).on("hashchange.owl.navigation",i.proxy(function(t){var e=o.location.hash.substring(1),n=this._core.$stage.children(),i=this._hashes[e]&&n.index(this._hashes[e]);void 0!==i&&i!==this._core.current()&&this._core.to(this._core.relative(i),!1,!0)},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var t,e;for(t in i(o).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},i.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(o,t,e,r){function n(t,n){var i=!1,e=t.charAt(0).toUpperCase()+t.slice(1);return o.each((t+" "+s.join(e+" ")+e).split(" "),function(t,e){if(a[e]!==r)return i=!n||e,!1}),i}function i(t){return n(t,!0)}var a=o("<support>").get(0).style,s="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},c=function(){return!!n("transform")},u=function(){return!!n("perspective")},d=function(){return!!n("animation")};!function(){return!!n("transition")}()||(o.support.transition=new String(i("transition")),o.support.transition.end=l.transition.end[o.support.transition]),d()&&(o.support.animation=new String(i("animation")),o.support.animation.end=l.animation.end[o.support.animation]),c()&&(o.support.transform=new String(i("transform")),o.support.transform3d=u())}(window.Zepto||window.jQuery,window,document),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Tagify=e()}(this,function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function f(o){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e(r,!0).forEach(function(t){var e,n,i;e=o,i=r[n=t],n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):e(r).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(r,t))})}return o}function p(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(t,e){return t.toLowerCase()==e.toLowerCase()}var n="undefined"!=typeof InstallTrigger;function g(t){var e=Object.prototype.toString.call(t).split(" ")[1].slice(0,-1);return t===Object(t)&&"Array"!=e&&"Function"!=e&&"RegExp"!=e&&"HTMLUnknownElement"!=e}function c(t){var e=document.createElement("div");return t.replace(/\&#?[0-9a-z]+;/gi,function(t){return e.innerHTML=t,e.innerText})}function o(t){return(new DOMParser).parseFromString(t.trim(),"text/html").body.firstElementChild}function h(t){return t?t.replace(/\>[\r\n ]+\</g,"><").replace(/(<.*?>)|\s+/g,function(t,e){return e||" "}):""}function r(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;")}function u(t,e,n){function i(t,e){for(var n in e)e.hasOwnProperty(n)&&(g(e[n])?g(t[n])?i(t[n],e[n]):t[n]=Object.assign({},e[n]):t[n]=e[n])}return t instanceof Object||(t={}),i(t,e),n&&i(t,n),t}function m(t){return String.prototype.normalize?"string"==typeof t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:t}function t(t,e){if(!t)return console.warn("Tagify: ","invalid input element ",t),this;this.applySettings(t,e||{}),this.state={editing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},u(this,new this.EventDispatcher(this)),this.build(t),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),t.autofocus&&this.DOM.input.focus()}return(t.prototype={isIE:window.document.documentMode,TEXTS:{empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},DEFAULTS:{delimiters:",",pattern:null,maxTags:1/0,callbacks:{},addTagOnBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,keepInvalidTags:!1,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,editTags:2,transformTag:function(){},autoComplete:{enabled:!0,rightKey:!1},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:[],fuzzySearch:!0,accentedSearch:!0,highlightFirst:!1,closeOnSelect:!0,position:"all"},hooks:{beforeRemoveTag:function(){return Promise.resolve()}}},templates:{wrapper:function(t,e){return'<tags class="tagify '.concat(e.mode?"tagify--"+e.mode:""," ").concat(t.className,'"\n                        ').concat(e.readonly?"readonly":"",'\n                        tabIndex="-1">\n                <span contenteditable data-placeholder="').concat(e.placeholder||"&#8203;",'" aria-placeholder="').concat(e.placeholder||"",'"\n                    class="tagify__input"\n                    role="textbox"\n                    aria-autocomplete="both"\n                    aria-multiline="').concat("mix"==e.mode,'"></span>\n            </tags>')},tag:function(t,e){return'<tag title="'.concat(e.title||t,"\"\n                        contenteditable='false'\n                        spellcheck='false'\n                        tabIndex=\"-1\"\n                        class=\"tagify__tag ").concat(e.class?e.class:"",'"\n                        ').concat(this.getAttributes(e),">\n                <x title='' class='tagify__tag__removeBtn' role='button' aria-label='remove tag'></x>\n                <div>\n                    <span class='tagify__tag-text'>").concat(t,"</span>\n                </div>\n            </tag>")},dropdown:function(t){var e=t.dropdown,n="".concat("manual"==e.position?"":"tagify__dropdown tagify__dropdown--".concat(e.position)," ").concat(e.classname).trim();return'<div class="'.concat(n,'" role="listbox" aria-labelledby="dropdown">\n                        <div class="tagify__dropdown__wrapper"></div>\n                    </div>')},dropdownItem:function(t){return"<div ".concat(this.getAttributes(t),"\n                        class='tagify__dropdown__item ").concat(t.class?t.class:"",'\'\n                        tabindex="0"\n                        role="option">').concat(t.value,"</div>")}},customEventsList:["add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select"],applySettings:function(n,t){var i=this;if(this.DEFAULTS.templates=this.templates,this.settings=u({},this.DEFAULTS,t),this.settings.readonly=n.hasAttribute("readonly"),this.settings.placeholder=n.getAttribute("placeholder")||this.settings.placeholder||"",this.isIE&&(this.settings.autoComplete=!1),["whitelist","blacklist"].forEach(function(t){var e=n.getAttribute("data-"+t);e&&(e=e.split(i.settings.delimiters))instanceof Array&&(i.settings[t]=e)}),"autoComplete"in t&&!g(t.autoComplete)&&(this.settings.autoComplete=this.DEFAULTS.autoComplete,this.settings.autoComplete.enabled=t.autoComplete),n.pattern)try{this.settings.pattern=new RegExp(n.pattern)}catch(t){}if(this.settings.delimiters)try{this.settings.delimiters=new RegExp(this.settings.delimiters,"g")}catch(t){}"select"==this.settings.mode&&(this.settings.dropdown.enabled=0),"mix"==this.settings.mode&&(this.settings.autoComplete.rightKey=!0)},getAttributes:function(t){if("[object Object]"!=Object.prototype.toString.call(t))return"";var e,n,i=Object.keys(t),o="";for(n=i.length;n--;)"class"!=(e=i[n])&&t.hasOwnProperty(e)&&t[e]&&(o+=" "+e+(t[e]?'="'.concat(t[e],'"'):""));return o},getCaretGlobalPosition:function(){var t=document.getSelection();if(t.rangeCount){var e,n,i=t.getRangeAt(0),o=i.startContainer,r=i.startOffset;return 0<r?((n=document.createRange()).setStart(o,r-1),n.setEnd(o,r),{left:(e=n.getBoundingClientRect()).right,top:e.top,bottom:e.bottom}):o.getBoundingClientRect()}return{left:-9999,top:-9999}},getCSSVars:function(){var t,e,n=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:(t=function(t){if(!t)return{};var e=(t=t.trim().split(" ")[0]).split(/\d+/g).filter(function(t){return t}).pop().trim();return{value:+t.split(e).filter(function(t){return t})[0].trim(),unit:e}}(("tag-hide-transition",n.getPropertyValue("--tag-hide-transition"))),e=t.value,"s"==t.unit?1e3*e:e)}},build:function(t){var e=this.DOM,n=this.settings.templates.wrapper(t,this.settings);e.originalInput=t,e.scope=o(n),e.input=e.scope.querySelector("[contenteditable]"),t.parentNode.insertBefore(e.scope,t),0<=this.settings.dropdown.enabled&&this.dropdown.init.call(this)},destroy:function(){this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.dropdown.hide.call(this,!0),clearTimeout(this.dropdownHide__bindEventsTimeout)},loadOriginalValues:function(t){if(t=t||this.DOM.originalInput.value)if(this.removeAllTags(),"mix"==this.settings.mode)this.parseMixTags(t.trim());else{try{"string"!=typeof JSON.parse(t)&&(t=JSON.parse(t))}catch(t){}this.addTags(t).forEach(function(t){return t&&t.classList.add("tagify--noAnim")})}},cloneEvent:function(t){var e={};for(var n in t)e[n]=t[n];return e},EventDispatcher:function(o){var r=document.createTextNode("");function n(e,t,n){n&&t.split(/\s+/g).forEach(function(t){return r[e+"EventListener"].call(r,t,n)})}this.off=function(t,e){return n("remove",t,e),this},this.on=function(t,e){return e&&"function"==typeof e&&n("add",t,e),this},this.trigger=function(t,e){var n;if(t)if(o.settings.isJQueryPlugin)"remove"==t&&(t="removeTag"),jQuery(o.DOM.originalInput).triggerHandler(t,[e]);else{try{var i=u({},e);i.tagify=this,n=new CustomEvent(t,{detail:i})}catch(t){console.warn(t)}r.dispatchEvent(n)}}},loading:function(t){return this.state.isLoading=t,this.DOM.scope.classList[t?"add":"remove"]("tagify--loading"),this},tagLoading:function(t,e){return t&&t.classList[e?"add":"remove"]("tagify__tag--loading"),this},toggleFocusClass:function(t){this.DOM.scope.classList.toggle("tagify--focus",!!t)},events:{customBinding:function(){var e=this;this.customEventsList.forEach(function(t){e.on(t,e.settings.callbacks[t])})},binding:function(t){var e,n=!(0<arguments.length&&void 0!==t)||t,i=this.events.callbacks,o=n?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!n)for(var r in(this.state.mainEvents=n)&&!this.listeners.main&&(this.DOM.input.addEventListener(this.isIE?"keydown":"input",i[this.isIE?"onInputIE":"onInput"].bind(this)),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),e=this.listeners.main=this.listeners.main||{focus:["input",i.onFocusBlur.bind(this)],blur:["input",i.onFocusBlur.bind(this)],keydown:["input",i.onKeydown.bind(this)],click:["scope",i.onClickScope.bind(this)],dblclick:["scope",i.onDoubleClickScope.bind(this)],paste:["input",i.onPaste.bind(this)]})"blur"==r&&!n||this.DOM[e[r][0]][o](r,e[r][1])},callbacks:{onFocusBlur:function(t){var e=t.target?t.target.textContent.trim():"",n=this.settings,i=t.type,o=0<=n.dropdown.enabled,r={relatedTarget:t.relatedTarget},a=t.relatedTarget&&t.relatedTarget.classList.contains("tagify__tag")&&this.DOM.scope.contains(t.relatedTarget),s=this.state.actions.selectOption&&(o||!n.dropdown.closeOnSelect),l=this.state.actions.addNew&&o;if(!a){if("blur"==i&&t.relatedTarget===this.DOM.scope)return this.dropdown.hide.call(this),void this.DOM.input.focus();if(!s&&!l)if(this.state.hasFocus="focus"==i&&+new Date,this.toggleFocusClass(this.state.hasFocus),this.setRangeAtStartEnd(!1),"mix"!=n.mode){if("focus"==i)return this.trigger("focus",r),void(0===n.dropdown.enabled&&this.dropdown.show.call(this));"blur"==i&&(this.trigger("blur",r),this.loading(!1),("select"==this.settings.mode?!this.value.length||this.value[0].value!=e:e&&!this.state.actions.selectOption&&n.addTagOnBlur)&&this.addTags(e,!0)),this.DOM.input.removeAttribute("style"),this.dropdown.hide.call(this)}else if("focus"==i){if(this.fixFirefoxLastTagNoCaret())return;this.trigger("focus",r)}else"blur"==t.type&&(this.trigger("blur",r),this.loading(!1),this.dropdown.hide.call(this),this.state.dropdown.visible=void 0)}},onKeydown:function(t){var i=this,e=t.target.textContent.trim();if(this.trigger("keydown",{originalEvent:this.cloneEvent(t)}),"mix"==this.settings.mode){switch(t.key){case"Left":case"ArrowLeft":this.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(this.state.editing)return;var n=document.getSelection(),o="Delete"==t.key&&n.anchorOffset==n.anchorNode.length,r=1==n.anchorNode.nodeType||!n.anchorOffset&&n.anchorNode.previousElementSibling,a=c(this.DOM.input.innerHTML),s=this.getTagElms();if(3==n.anchorNode.nodeType&&!n.anchorNode.nodeValue&&n.anchorNode.previousElementSibling&&t.preventDefault(),(r||o)&&!this.settings.backspace)return void t.preventDefault();setTimeout(function(){var t=c(i.DOM.input.innerHTML);if((n.anchorNode==i.DOM.input&&t.length==a.length||!n.anchorOffset&&t.length>=a.length)&&(i.removeTags(n.anchorNode.previousElementSibling),i.fixFirefoxLastTagNoCaret(),2==i.DOM.input.children.length&&"BR"==i.DOM.input.children[1].tagName))return i.DOM.input.innerHTML="",!(i.value.length=0);i.value=[].map.call(s,function(t,e){var n=t.__tagifyTagData;if(t.parentNode)return n;i.trigger("remove",{tag:t,index:e,data:n})}).filter(function(t){return t})},50)}return!0}switch(t.key){case"Backspace":this.state.dropdown.visible||""!=e&&8203!=e.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():"edit"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0));break;case"Esc":case"Escape":if(this.state.dropdown.visible)return;t.target.blur();break;case"Down":case"ArrowDown":this.state.dropdown.visible||this.dropdown.show.call(this);break;case"ArrowRight":var l=this.state.inputSuggestion||this.state.ddItemData;if(l&&this.settings.autoComplete.rightKey)return void this.addTags([l],!0);break;case"Tab":if(!e||"select"==this.settings.mode)return!0;case"Enter":t.preventDefault(),setTimeout(function(){i.state.actions.selectOption||i.addTags(e,!0)})}},onInput:function(t){var e=this.input.normalize.call(this),n=e.length>=this.settings.dropdown.enabled,i={value:e,inputElm:this.DOM.input};if("mix"==this.settings.mode)return this.events.callbacks.onMixTagsInput.call(this,t);i.isValid=this.validateTag({value:e}),this.trigger("input",i),e?this.input.value!=e&&(this.input.set.call(this,e,!1),-1!=e.search(this.settings.delimiters)?this.addTags(e)&&this.input.set.call(this):0<=this.settings.dropdown.enabled&&this.dropdown[n?"show":"hide"].call(this,e)):this.input.set.call(this,"")},onMixTagsInput:function(){var t,e,n,i,o,r,a,s,l=this,c=this.settings;if(this.value.length<this.getTagElms().length)return this.value=[].map.call(this.getTagElms(),function(t){return t.__tagifyTagData}),void this.update();if(this.hasMaxTags())return!0;if(window.getSelection&&0<(a=window.getSelection()).rangeCount&&3==a.anchorNode.nodeType){if((t=a.getRangeAt(0).cloneRange()).collapse(!0),t.setStart(a.focusNode,0),i=(e=t.toString().slice(0,t.endOffset)).split(c.pattern).length-1,(n=e.match(c.pattern))&&(o=e.slice(e.lastIndexOf(n[n.length-1]))),o){this.state.actions.ArrowLeft=!1,this.state.tag={prefix:o.match(c.pattern)[0],value:o.replace(c.pattern,"")},this.state.tag.baseOffset=a.baseOffset-this.state.tag.value.length,r=this.state.tag.value.length>=c.dropdown.enabled;try{s=(s=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&s.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch(t){}(s||i<this.state.mixMode.matchedPatternCount)&&(r=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=i}setTimeout(function(){l.update(),l.trigger("input",u({},l.state.tag,{textContent:l.DOM.input.textContent})),l.state.tag&&l.dropdown[r?"show":"hide"].call(l,l.state.tag.value)},10)},onInputIE:function(t){var e=this;setTimeout(function(){e.events.callbacks.onInput.call(e,t)})},onClickScope:function(t){var e=t.target.closest(".tagify__tag"),n=this.settings,i=new Date-this.state.hasFocus;if(t.target!=this.DOM.scope){if(!t.target.classList.contains("tagify__tag__removeBtn"))return e?(this.trigger("click",{tag:e,index:this.getNodeIndex(e),data:this.tagData(e),originalEvent:this.cloneEvent(t)}),void(1==this.settings.editTags&&this.events.callbacks.onDoubleClickScope.call(this,t))):void(t.target==this.DOM.input&&500<i?this.state.dropdown.visible?this.dropdown.hide.call(this):0===n.dropdown.enabled&&"mix"!=n.mode&&this.dropdown.show.call(this):"select"==n.mode&&(this.state.dropdown.visible||this.dropdown.show.call(this)));this.removeTags(t.target.parentNode)}else this.state.hasFocus||this.DOM.input.focus()},onPaste:function(t){var e;t.preventDefault(),e=(t.clipboardData||window.clipboardData).getData("Text"),"mix"==this.settings.mode?this.insertTextAtCursor(e):this.input.set.call(this,e)},onEditTagInput:function(t,e){var n=t.closest(".tagify__tag"),i=this.getNodeIndex(n),o=this.tagData(n),r=this.input.normalize.call(this,t),a=r!=t.originalValue,s=this.validateTag({value:r});a||!0!==t.originalIsValid||(s=!0),n.classList.toggle("tagify--invalid",!0!==s),o.__isValid=s,n.title=!0===s?o.title||o.value:s,r.length>=this.settings.dropdown.enabled&&(this.state.editing.value=r,this.dropdown.show.call(this,r)),this.trigger("edit:input",{tag:n,index:i,data:u({},this.value[i],{newValue:r}),originalEvent:this.cloneEvent(e)})},onEditTagFocus:function(t){this.state.editing={scope:t,input:t.querySelector("[contenteditable]")}},onEditTagBlur:function(t){if(this.state.editing=!1,this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(t)){var e=t.closest(".tagify__tag"),n=this.input.normalize.call(this,t),i=n,o=i!=t.originalValue,r=u({},e.__tagifyTagData,{value:i}),a=this.validateTag(r);if(!n)return this.removeTags(e),void this.onEditTagDone(null,r);o?(this.settings.transformTag.call(this,r),!0===(a=this.validateTag(r))?this.onEditTagDone(e,r):this.trigger("invalid",{data:r,tag:e,message:a})):this.onEditTagDone(e,r)}},onEditTagkeydown:function(t,e){switch(this.trigger("edit:keydown",{originalEvent:this.cloneEvent(t)}),t.key){case"Esc":case"Escape":t.target.textContent=t.target.originalValue,e.__tagifyTagData=e.__tagifyTagData.__originalData;case"Enter":case"Tab":t.preventDefault(),t.target.blur()}},onDoubleClickScope:function(t){var e,n,i=t.target.closest("tag"),o=this.settings;i&&(e=i.classList.contains("tagify__tag--editable"),n=i.hasAttribute("readonly"),"select"==o.mode||o.readonly||e||n||!this.settings.editTags||this.editTag(i),this.toggleFocusClass(!0),this.trigger("dblclick",{tag:i,index:this.getNodeIndex(i),data:this.tagData(i)}))}}},fixFirefoxLastTagNoCaret:function(){var t=this.DOM.input;if(n&&t.childNodes.length&&1==t.lastChild.nodeType)return t.appendChild(document.createTextNode("")),this.setRangeAtStartEnd(!0),!0},editTag:function(e,t){var n=this;t=t||{};var i=(e=e||this.getLastTag()).querySelector(".tagify__tag-text"),o=this.getNodeIndex(e),r=e.__tagifyTagData,a=this.events.callbacks,s=this,l=!0;if(i){if(!(r instanceof Object&&"editable"in r)||r.editable)return e.__tagifyTagData.__originalData=u({},r),e.classList.add("tagify__tag--editable"),i.originalValue=i.textContent,i.setAttribute("contenteditable",!0),i.addEventListener("focus",a.onEditTagFocus.bind(this,e)),i.addEventListener("blur",function(){setTimeout(a.onEditTagBlur.bind(s),0,i)}),i.addEventListener("input",a.onEditTagInput.bind(this,i)),i.addEventListener("keydown",function(t){return a.onEditTagkeydown.call(n,t,e)}),i.focus(),this.setRangeAtStartEnd(!1,i),t.skipValidation||(l=this.editTagToggleValidity(e,r.value)),i.originalIsValid=l,this.trigger("edit:start",{tag:e,index:o,data:r,isValid:l}),this}else console.warn("Cannot find element in Tag template: ",".tagify__tag-text")},editTagToggleValidity:function(t){var e,n=t.__tagifyTagData;if(n)return e=!(!n.__isValid||1==n.__isValid),t.classList.toggle("tagify--invalid",e),n.__isValid;console.warn("tag has no data: ",t,n)},onEditTagDone:function(t,e){e=e||{};var n={tag:t,index:this.getNodeIndex(t),data:e};this.trigger("edit:beforeUpdate",n),delete e.__originalData,t&&(this.editTagToggleValidity(t),this.replaceTag(t,e)),this.trigger("edit:updated",n),this.dropdown.hide.call(this),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag:function(t,e){e&&e.value||(e=t.__tagifyTagData),e.__isValid&&1!=e.__isValid&&u(e,this.getInvaildTagParams(e,e.__isValid));var n=this.createTagElem(e);t.parentNode.replaceChild(n,t),this.updateValueByDOMTags()},updateValueByDOMTags:function(){var e=this;this.value.length=0,[].forEach.call(this.getTagElms(),function(t){t.classList.contains("tagify--notAllowed")||e.value.push(e.tagData(t))}),this.update()},setRangeAtStartEnd:function(e,n){n=(n=n||this.DOM.input).lastChild||n;var i=document.getSelection();i.rangeCount&&["Start","End"].forEach(function(t){return i.getRangeAt(0)["set"+t](n,e?0:n.length)})},insertTextAtCaret:function(t){var e,n=window.getSelection(),i=document.createTextNode(t);n.getRangeAt&&n.rangeCount&&((e=n.getRangeAt(0)).deleteContents(),e.insertNode(i)),this.setRangeAtStartEnd(!1,i)},input:{value:"",set:function(t,e){var n=0<arguments.length&&void 0!==t?t:"",i=!(1<arguments.length&&void 0!==e)||e,o=this.settings.dropdown.closeOnSelect;this.input.value=n,i&&(this.DOM.input.innerHTML=n),!n&&o&&setTimeout(this.dropdown.hide.bind(this),20),this.input.autocomplete.suggest.call(this),this.input.validate.call(this),this.setRangeAtStartEnd()},validate:function(){var t=!this.input.value||this.validateTag({value:this.input.value});"select"==this.settings.mode?this.DOM.scope.classList.toggle("tagify--invalid",!0!==t):this.DOM.input.classList.toggle("tagify__input--invalid",!0!==t)},normalize:function(t){var e=t||this.DOM.input,n=[];e.childNodes.forEach(function(t){return 3==t.nodeType&&n.push(t.nodeValue)}),n=n.join("\n");try{n=n.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch(t){}return n=n.replace(/\s/g," ").replace(/^\s+/,"")},autocomplete:{suggest:function(t){if(this.settings.autoComplete.enabled){"string"==typeof(t=t||{})&&(t={value:t});var e=t.value||"",n=e.substr(0,this.input.value.length).toLowerCase(),i=e.substring(this.input.value.length);e&&this.input.value&&n==this.input.value.toLowerCase()?(this.DOM.input.setAttribute("data-suggest",i),this.state.inputSuggestion=t):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}},set:function(t){var e=this.DOM.input.getAttribute("data-suggest"),n=t||(e?this.input.value+e:null);return!!n&&("mix"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+n)):(this.input.set.call(this,n),this.setRangeAtStartEnd()),this.input.autocomplete.suggest.call(this),this.dropdown.hide.call(this),!0)}}},getTagIdx:function(e){return this.value.findIndex(function(t){return JSON.stringify(t)==JSON.stringify(e)})},getNodeIndex:function(t){var e=0;if(t)for(;t=t.previousElementSibling;)e++;return e},getTagElms:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=[".tagify__tag"].concat(e).join(".");return this.DOM.scope.querySelectorAll(i)},getLastTag:function(){var t=this.DOM.scope.querySelectorAll("tag:not(.tagify--hide):not([readonly])");return t[t.length-1]},tagData:function(t,e){if(!t)throw new Error("tag elment doesn't exist");return e&&(t.__tagifyTagData=u({},t.__tagifyTagData||{},e)),t.__tagifyTagData},isTagDuplicate:function(n){return"select"!=this.settings.mode&&this.value.reduce(function(t,e){return n.trim().toLowerCase()===e.value.toLowerCase()?t+1:t},0)},getTagIndexByValue:function(n){var i=[];return this.getTagElms().forEach(function(t,e){t.textContent.trim().toLowerCase()==n.toLowerCase()&&i.push(e)}),i},getTagElmByValue:function(t){var e=this.getTagIndexByValue(t)[0];return this.getTagElms()[e]},markTagByValue:function(t,e){return!!(e=e||this.getTagElmByValue(t))&&(e.classList.add("tagify--mark"),setTimeout(function(){e.classList.remove("tagify--mark")},100),e)},isTagBlacklisted:function(e){return e=e.toLowerCase().trim(),this.settings.blacklist.filter(function(t){return e==t.toLowerCase()}).length},isTagWhitelisted:function(e){return this.settings.whitelist.some(function(t){return"string"==typeof e?e.trim().toLowerCase()===(t.value||t).toLowerCase():JSON.stringify(t).toLowerCase()===JSON.stringify(e).toLowerCase()})},validateTag:function(t){var e=t.value.trim(),n=this.settings,i=!0;return e?n.pattern&&n.pattern instanceof RegExp&&!n.pattern.test(e)?i=this.TEXTS.pattern:!n.duplicates&&this.isTagDuplicate(e)?i=this.TEXTS.duplicate:(this.isTagBlacklisted(e)||n.enforceWhitelist&&!this.isTagWhitelisted(e))&&(i=this.TEXTS.notAllowed):i=this.TEXTS.empty,i},getInvaildTagParams:function(t,e){return{"aria-invalid":!0,class:(t.class||"")+" tagify--notAllowed",title:e}},hasMaxTags:function(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},normalizeTags:function(t){function n(t){return(t+"").split(a).filter(function(t){return t}).map(function(t){return{value:t.trim()}})}var e,i=this,o=this.settings,r=o.whitelist,a=o.delimiters,s=o.mode,l=!!r&&r[0]instanceof Object,c=t instanceof Array,u=c&&t[0]instanceof Object&&"value"in t[0],d=[];if(u)return(e=[]).concat.apply(e,p(t.map(function(e){return n(e.value).map(function(t){return f(f({},e),t)})})));if("number"==typeof t&&(t=t.toString()),"string"==typeof t){if(!t.trim())return[];t=n(t)}else if(c){var h;t=(h=[]).concat.apply(h,p(t.map(function(t){return n(t)})))}return l&&(t.forEach(function(t){var e=i.getWhitelistItemsByValue({value:t.value});e[0]?d.push(e[0]):"mix"!=s&&d.push(t)}),d.length&&(t=d)),t},getWhitelistItemsByValue:function(t){var e=t.value;return this.settings.whitelist.filter(function(t){return d(t.value,e)})},parseMixTags:function(t){var a=this,e=this.settings,s=e.mixTagsInterpolator,l=e.duplicates,c=e.transformTag,u=e.enforceWhitelist,d=[];return t=t.split(s[0]).map(function(t,e){var n,i,o=t.split(s[1]),r=o[0];try{n=JSON.parse(r)}catch(t){n=a.normalizeTags(r)[0]}if(!(1<o.length)||u&&!a.isTagWhitelisted(n.value)||!l&&a.isTagDuplicate(n.value)){if(t)return e?s[0]+t:t}else c.call(a,n),i=a.createTagElem(n),d.push(n),i.classList.add("tagify--noAnim"),o[0]=i.outerHTML,a.value.push(n);return o.join("")}).join(""),this.DOM.input.innerHTML=t,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize(),this.getTagElms().forEach(function(t,e){return a.tagData(t,d[e])}),this.update(),t},replaceTextWithNode:function(t,e){if(this.state.tag||e){e=e||this.state.tag.prefix+this.state.tag.value;var n,i,o=this.state.selection||window.getSelection(),r=o.anchorNode;return r.splitText(o.anchorOffset),n=r.nodeValue.lastIndexOf(e),(i=r.splitText(n)).nodeValue=i.nodeValue.replace(e,""),r.parentNode.insertBefore(t,i),this.DOM.input.normalize(),i}},selectTag:function(t,e){if(!this.settings.enforceWhitelist||this.isTagWhitelisted(e.value))return this.input.set.call(this,e.value,!0),this.state.actions.selectOption&&setTimeout(this.setRangeAtStartEnd.bind(this)),this.getLastTag()?this.replaceTag(this.getLastTag(),e):this.appendTag(t),this.value[0]=e,this.trigger("add",{tag:t,data:e}),this.update(),[t]},addEmptyTag:function(){var t={value:""},e=this.createTagElem(t);this.tagData(e,t),this.appendTag(e),this.editTag(e,{skipValidation:!0})},addTags:function(t,e,n){var i,o=this,r=2<arguments.length&&void 0!==n?n:this.settings.skipInvalid,a=[],s=this.settings;return t&&0!=t.length?(t=this.normalizeTags(t),"mix"==s.mode?(s.transformTag.call(this,t[0]),i=this.createTagElem(t[0]),this.replaceTextWithNode(i)||this.DOM.input.appendChild(i),setTimeout(function(){return i.classList.add("tagify--noAnim")},300),t[0].prefix=t[0].prefix||this.state.tag?this.state.tag.prefix:(s.pattern.source||s.pattern)[0],this.value.push(t[0]),this.update(),this.state.tag=null,this.trigger("add",u({},{tag:i},{data:t[0]})),this.fixFirefoxLastTagNoCaret(),i):("select"==s.mode&&(e=!1),this.DOM.input.removeAttribute("style"),t.forEach(function(t){var e,n={},i=Object.assign({},t);if(t=Object.assign({},t),s.transformTag.call(o,t),t.__isValid=o.hasMaxTags()||o.validateTag(t),!0!==t.__isValid){if(r)return;u(n,o.getInvaildTagParams(t,t.__isValid),{__original:i}),t.__isValid==o.TEXTS.duplicate&&o.markTagByValue(t.value)}if(t.readonly&&(n["aria-readonly"]=!0),e=o.createTagElem(u({},t,n)),a.push(e),"select"==s.mode)return o.selectTag(e,t);o.appendTag(e),t.__isValid&&!0===t.__isValid?(o.value.push(t),o.update(),o.trigger("add",{tag:e,index:o.value.length-1,data:t})):(o.trigger("invalid",{data:t,index:o.value.length,tag:e,message:t.__isValid}),s.keepInvalidTags||setTimeout(function(){return o.removeTags(e,!0)},1e3)),o.dropdown.position.call(o)}),t.length&&e&&this.input.set.call(this),this.dropdown.refilter.call(this),a)):("select"==s.mode&&this.removeAllTags(),a)},appendTag:function(t){var e=this.DOM.scope.lastElementChild;e===this.DOM.input?this.DOM.scope.insertBefore(t,e):this.DOM.scope.appendChild(t)},createTagElem:function(t){var e,n=r(t.value),i=this.settings.templates.tag.call(this,n,t);return this.settings.readonly&&(t.readonly=!0),e=o(i=h(i)),this.tagData(e,t),e},reCheckInvalidTags:function(){var o=this,t=this.DOM.scope.querySelectorAll(".tagify__tag.tagify--notAllowed");[].forEach.call(t,function(t){var e=o.tagData(t),n=t.getAttribute("title")==o.TEXTS.duplicate,i=!0===o.validateTag(e);n&&i&&(e=e.__original?e.__original:{value:e.value},o.replaceTag(t,e))})},removeTags:function(t,n,i){var o,r=this;t=t&&t instanceof HTMLElement?[t]:t instanceof Array?t:t?[t]:[this.getLastTag()],o=t.reduce(function(t,e){return e&&("string"==typeof e&&(e=r.getTagElmByValue(e)),e&&t.push({node:e,data:e.__tagifyTagData})),t},[]),i="number"==typeof i?i:this.CSSVars.tagHideTransition,"select"==this.settings.mode&&(i=0,this.input.set.call(this)),1==o.length&&o[0].node.classList.contains("tagify--notAllowed")&&(n=!0),this.settings.hooks.beforeRemoveTag(o).then(function(){function e(t){if(t.node.parentNode){var e=this.getTagIdx(t.data);t.node.parentNode.removeChild(t.node),n?this.settings.keepInvalidTags&&this.trigger("remove",{tag:t.node,index:e}):(this.trigger("remove",{tag:t.node,index:e,data:t.data}),this.dropdown.refilter.call(this),this.dropdown.position.call(this),this.DOM.input.normalize(),this.settings.keepInvalidTags&&this.reCheckInvalidTags())}}i&&10<i&&1==o.length?function(t){t.node.style.width=parseFloat(window.getComputedStyle(t.node).width)+"px",document.body.clientTop,t.node.classList.add("tagify--hide"),setTimeout(e.bind(this),i,t)}.call(r,o[0]):o.forEach(e.bind(r)),n||(o.forEach(function(t){var e=r.getTagIdx(t.data);-1<e&&r.value.splice(e,1)}),r.update())}).catch(function(t){})},removeAllTags:function(){this.value=[],"mix"==this.settings.mode?this.DOM.input.innerHTML="":Array.prototype.slice.call(this.getTagElms()).forEach(function(t){return t.parentNode.removeChild(t)}),this.dropdown.position.call(this),"select"==this.settings.mode&&this.input.set.call(this),this.update()},preUpdate:function(){this.DOM.scope.classList.toggle("tagify--hasMaxTags",this.value.length>=this.settings.maxTags),this.DOM.scope.classList.toggle("tagify--noTags",!this.value.length)},update:function(){this.preUpdate();var t=this.DOM.originalInput,e=t.value,n=this.value.map(function(t){var e={};for(var n in t)"__isValid"!=n&&(e[n]=t[n]);return e}),i=new CustomEvent("change",{bubbles:!0});t.value="mix"==this.settings.mode?this.getMixedTagsAsString(n):n.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(n):JSON.stringify(n):"",i.simulated=!0,t._valueTracker&&t._valueTracker.setValue(e),t.dispatchEvent(i)},getMixedTagsAsString:function(){var n="",i=this,o=this.settings.mixTagsInterpolator;return function e(t){t.childNodes.forEach(function(t){if(1==t.nodeType){if(t.classList.contains("tagify__tag")&&t.__tagifyTagData)return void(n+=o[0]+JSON.stringify(t.__tagifyTagData)+o[1]);"BR"!=t.tagName||t.parentNode!=i.DOM.input&&1!=t.parentNode.childNodes.length?"DIV"!=t.tagName&&"P"!=t.tagName||(n+="\r\n",e(t)):n+="\r\n"}else n+=t.textContent})}(this.DOM.input),n},getNodeHeight:function(t){var e,n=t.cloneNode(!0);return n.style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(n),e=n.clientHeight,n.parentNode.removeChild(n),e},dropdown:{init:function(){this.DOM.dropdown=o(this.settings.templates.dropdown(this.settings)),this.DOM.dropdown.content=this.DOM.dropdown.querySelector(".tagify__dropdown__wrapper")},show:function(t){var e,n,i,o,r=this,a=this.settings,s=window.getSelection(),l="mix"==a.mode&&!a.enforceWhitelist,c=!a.whitelist||!a.whitelist.length,u="manual"==a.dropdown.position;if(!(c&&!l||!1===a.dropdown.enable||this.state.isLoading))if(this.state.dropdown.visible)this.dropdown.refilter.call(this,t);else{if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems.call(this,t),this.suggestedListItems.length)t&&l&&!this.state.editing.scope&&!d(this.suggestedListItems[0].value,t)&&this.suggestedListItems.unshift({value:t});else{if(!t||!l||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide.call(this);this.suggestedListItems=[{value:t}]}i=g(n=this.suggestedListItems[0])?n.value:n,a.autoComplete&&i&&0==i.indexOf(t)&&this.input.autocomplete.suggest.call(this,n),e=this.dropdown.createListHTML.call(this,this.suggestedListItems),this.DOM.dropdown.content.innerHTML=h(e),(a.enforceWhitelist&&!u||a.dropdown.highlightFirst)&&this.dropdown.highlightOption.call(this,this.DOM.dropdown.content.children[0]),this.DOM.scope.setAttribute("aria-expanded",!0),this.state.dropdown.visible=t||!0,this.state.dropdown.query=t,this.state.selection={anchorOffset:s.anchorOffset,anchorNode:s.anchorNode},this.dropdown.position.call(this),document.body.contains(this.DOM.dropdown)||(u||(o=this.getNodeHeight(this.DOM.dropdown),this.DOM.dropdown.classList.add("tagify__dropdown--initial"),this.dropdown.position.call(this,o),document.body.appendChild(this.DOM.dropdown),setTimeout(function(){return r.DOM.dropdown.classList.remove("tagify__dropdown--initial")})),setTimeout(this.dropdown.events.binding.bind(this))),this.trigger("dropdown:show",this.DOM.dropdown)}},hide:function(t){var e=this,n=this.DOM,i=n.scope,o=n.dropdown,r="manual"==this.settings.dropdown.position&&!t;o&&document.body.contains(o)&&!r&&(window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),i.setAttribute("aria-expanded",!1),o.parentNode.removeChild(o),setTimeout(function(){e.state.dropdown.visible=!1},100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",o))},refilter:function(t){t=t||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems.call(this,t);var e=this.dropdown.createListHTML.call(this,this.suggestedListItems);this.DOM.dropdown.content.innerHTML=h(e),this.trigger("dropdown:updated",this.DOM.dropdown)},position:function(t){var e,n,i,o,r,a,s=this.DOM.dropdown,l=this.DOM["input"==this.settings.dropdown.position?"input":"scope"];this.state.dropdown.visible&&(a="text"==this.settings.dropdown.position?(o=(n=this.getCaretGlobalPosition()).bottom,i=n.top,r=n.left,"auto"):(i=(n=l.getBoundingClientRect()).top,o=n.bottom-1,r=n.left,n.width+"px"),i=Math.floor(i),o=Math.ceil(o),e=document.documentElement.clientHeight-o<(t||s.clientHeight),s.style.cssText="left:"+(r+window.pageXOffset)+"px; width:"+a+";"+(e?"bottom:"+(document.documentElement.clientHeight-i-window.pageYOffset-2)+"px;":"top: "+(o+window.pageYOffset)+"px"),s.setAttribute("placement",e?"top":"bottom"))},events:{binding:function(t){var e=!(0<arguments.length&&void 0!==t)||t,n=this.dropdown.events.callbacks,i=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this),onKeyDown:n.onKeyDown.bind(this),onMouseOver:n.onMouseOver.bind(this),onMouseLeave:n.onMouseLeave.bind(this),onClick:n.onClick.bind(this),onScroll:n.onScroll.bind(this)},o=e?"addEventListener":"removeEventListener";"manual"!=this.settings.dropdown.position&&(window[o]("resize",i.position),window[o]("keydown",i.onKeyDown)),this.DOM.dropdown[o]("mouseover",i.onMouseOver),this.DOM.dropdown[o]("mouseleave",i.onMouseLeave),this.DOM.dropdown[o]("mousedown",i.onClick),this.DOM.dropdown.content[o]("scroll",i.onScroll)},callbacks:{onKeyDown:function(t){var e=this.DOM.dropdown.querySelector("[class$='--active']"),n=e;switch(t.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":var i;t.preventDefault(),n=(n=n&&n[("ArrowUp"==t.key||"Up"==t.key?"previous":"next")+"ElementSibling"])||(i=this.DOM.dropdown.content.children)["ArrowUp"==t.key||"Up"==t.key?i.length-1:0],this.dropdown.highlightOption.call(this,n,!0);break;case"Escape":case"Esc":this.dropdown.hide.call(this);break;case"ArrowRight":if(this.state.actions.ArrowLeft)return;case"Tab":if("mix"!=this.settings.mode&&!this.settings.autoComplete.rightKey){try{var o=n?n.textContent:this.suggestedListItems[0].value;this.input.autocomplete.set.call(this,o)}catch(t){}return!1}case"Enter":t.preventDefault(),this.dropdown.selectOption.call(this,e);break;case"Backspace":if("mix"==this.settings.mode||this.state.editing.scope)return;var r=this.input.value.trim();""!=r&&8203!=r.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():"edit"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0))}},onMouseOver:function(t){var e=t.target.closest(".tagify__dropdown__item");e&&this.dropdown.highlightOption.call(this,e)},onMouseLeave:function(){this.dropdown.highlightOption.call(this)},onClick:function(t){if(0==t.button&&t.target!=this.DOM.dropdown){var e=t.target.closest(".tagify__dropdown__item");t.target.closest(".tagify__dropdown__addNewBtn"),e&&this.dropdown.selectOption.call(this,e)}},onScroll:function(t){var e=t.target,n=e.scrollTop/(e.scrollHeight-e.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(n)})}}},highlightOption:function(t,e){var n,i="tagify__dropdown__item--active";if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(i),this.state.ddItemElm.removeAttribute("aria-selected")),!t)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);n=this.suggestedListItems[this.getNodeIndex(t)],this.state.ddItemData=n,(this.state.ddItemElm=t).classList.add(i),t.setAttribute("aria-selected",!0),e&&(t.parentNode.scrollTop=t.clientHeight+t.offsetTop-t.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,n),"manual"!=this.settings.dropdown.position&&this.dropdown.position.call(this))},selectOption:function(t){var e=this;if(t){this.state.actions.selectOption=!0,setTimeout(function(){return e.state.actions.selectOption=!1},50);var n=this.settings.dropdown.closeOnSelect,i=this.suggestedListItems[this.getNodeIndex(t)],o=i.value||i||this.input.value;this.trigger("dropdown:select",o),this.state.editing?this.onEditTagDone(this.state.editing.scope,f(f({},this.state.editing.scope.__tagifyTagData),{},{value:o,__isValid:!0})):this.addTags([o],!0),setTimeout(function(){e.DOM.input.focus(),e.toggleFocusClass(!0)}),n&&this.dropdown.hide.call(this)}},filterListItems:function(t){var n,e,i,o,r,a=this,s=this.settings,l=[],c=s.whitelist,u=s.dropdown.maxItems||1/0,d=s.dropdown.searchKeys.concat(["searchBy","value"]),h=0;if(!t)return(s.duplicates?c:c.filter(function(t){return!a.isTagDuplicate(g(t)?t.value:t)})).slice(0,u);for(;h<c.length&&(n=c[h]instanceof Object?c[h]:{value:c[h]},o=d.reduce(function(t,e){return t+" "+(n[e]||"")},"").toLowerCase(),i=s.dropdown.accentedSearch?m(o).indexOf(m(t.toLowerCase())):o.indexOf(t.toLowerCase()),e=s.dropdown.fuzzySearch?0<=i:0==i,r=!s.duplicates&&this.isTagDuplicate(g(n)?n.value:n),e&&!r&&u--&&l.push(n),0!=u);h++);return l},createListHTML:function(t){var i=this;return t.map(function(t){"string"==typeof t&&(t={value:t});var e=i.settings.dropdown.mapValueTo,n=u({},t,{value:r((e?"function"==typeof e?e(t):t[e]:t.value)||"")});return i.settings.templates.dropdownItem.call(i,n)}).join("")}}}).removeTag=t.prototype.removeTags,t}),function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],e);else{var n="object"==typeof exports?e(require("jquery")):e(t.jQuery);for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(window,function(__WEBPACK_EXTERNAL_MODULE__3__){return modules=[function(t){t.exports=JSON.parse('{"BACKSPACE":8,"BACKSPACE_SAFARI":127,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"INSERT":45,"LEFT":37,"PAGE_DOWN":34,"PAGE_UP":33,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38,"X":88,"CONTROL":17}')},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=n(2),d=n(4),r=d.document,a=n(5).generateMaskSet,o=n(5).analyseMask,s=n(9);function l(t,e,n){if(!(this instanceof l))return new l(t,e,n);this.el=void 0,this.events={},!(this.maskset=void 0)!==n&&(u.isPlainObject(t)?e=t:(e=e||{},t&&(e.alias=t)),this.opts=u.extend(!0,{},this.defaults,e),this.noMasksCache=e&&void 0!==e.definitions,this.userOptions=e||{},h(this.opts.alias,e,this.opts),this.isRTL=this.opts.numericInput),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipKeyPressEvent=!1,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.originalPlaceholder=void 0}function h(t,e,n){var i=l.prototype.aliases[t];if(i)return i.alias&&h(i.alias,void 0,n),u.extend(!0,n,i),u.extend(!0,n,e),1;null===n.mask&&(n.mask=t)}l.prototype={dataAttribute:"data-inputmask",defaults:{_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:u.noop,onincomplete:u.noop,oncleared:u.noop,repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:u.noop,onBeforeMask:null,onBeforePaste:function(t,e){return u.isFunction(e.onBeforeMask)?e.onBeforeMask.call(this,t,e):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:u.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[8,9,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0},definitions:{9:{validator:"[0-9-]",definitionSymbol:"*"},a:{validator:"[A-Za-z--]",definitionSymbol:"*"},"*":{validator:"[0-9-A-Za-z--]"}},aliases:{},masksCache:{},mask:function(t){var o=this;return"string"==typeof t&&(t=r.getElementById(t)||r.querySelectorAll(t)),t=t.nodeName?[t]:t,u.each(t,function(t,e){var n=u.extend(!0,{},o.opts);if(function(i,t,o,r){function e(t,e){var n=""===r?t:r+"-"+t;null!==(e=void 0!==e?e:i.getAttribute(n))&&("string"==typeof e&&(0===t.indexOf("on")?e=d[e]:"false"===e?e=!1:"true"===e&&(e=!0)),o[t]=e)}if(!0===t.importDataAttributes){var n,a,s,l,c=i.getAttribute(r);if(c&&""!==c&&(c=c.replace(/'/g,'"'),a=JSON.parse("{"+c+"}")),a)for(l in s=void 0,a)if("alias"===l.toLowerCase()){s=a[l];break}for(n in e("alias",s),o.alias&&h(o.alias,o,t),t){if(a)for(l in s=void 0,a)if(l.toLowerCase()===n.toLowerCase()){s=a[l];break}e(n,s)}}return u.extend(!0,t,o),"rtl"!==i.dir&&!t.rightAlign||(i.style.textAlign="right"),"rtl"!==i.dir&&!t.numericInput||(i.dir="ltr",i.removeAttribute("dir"),t.isRTL=!0),Object.keys(o).length}(e,n,u.extend(!0,{},o.userOptions),o.dataAttribute)){var i=a(n,o.noMasksCache);void 0!==i&&(void 0!==e.inputmask&&(e.inputmask.opts.autoUnmask=!0,e.inputmask.remove()),e.inputmask=new l(void 0,void 0,!0),e.inputmask.opts=n,e.inputmask.noMasksCache=o.noMasksCache,e.inputmask.userOptions=u.extend(!0,{},o.userOptions),e.inputmask.isRTL=n.isRTL||n.numericInput,(e.inputmask.el=e).inputmask.$el=u(e),e.inputmask.maskset=i,u.data(e,"_inputmask_opts",o.userOptions),s.call(e.inputmask,{action:"mask"}))}}),t&&t[0]&&t[0].inputmask||this},option:function(t,e){return"string"==typeof t?this.opts[t]:"object"===i(t)?(u.extend(this.userOptions,t),this.el&&!0!==e&&this.mask(this.el),this):void 0},unmaskedvalue:function(t){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),s.call(this,{action:"unmaskedvalue",value:t})},remove:function(){return s.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),s.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),s.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),s.call(this,{action:"getmetadata"})},isValid:function(t){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),s.call(this,{action:"isValid",value:t})},format:function(t,e){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),s.call(this,{action:"format",value:t,metadata:e})},setValue:function(t){this.el&&u(this.el).trigger("setvalue",[t])},analyseMask:o},l.extendDefaults=function(t){u.extend(!0,l.prototype.defaults,t)},l.extendDefinitions=function(t){u.extend(!0,l.prototype.definitions,t)},l.extendAliases=function(t){u.extend(!0,l.prototype.aliases,t)},l.format=function(t,e,n){return l(e).format(t,n)},l.unmask=function(t,e){return l(e).unmaskedvalue(t)},l.isValid=function(t,e){return l(e).isValid(t)},l.remove=function(t){"string"==typeof t&&(t=r.getElementById(t)||r.querySelectorAll(t)),t=t.nodeName?[t]:t,u.each(t,function(t,e){e.inputmask&&e.inputmask.remove()})},l.setValue=function(t,n){"string"==typeof t&&(t=r.getElementById(t)||r.querySelectorAll(t)),t=t.nodeName?[t]:t,u.each(t,function(t,e){e.inputmask?e.inputmask.setValue(n):u(e).trigger("setvalue",[n])})},l.dependencyLib=u,d.Inputmask=l,t.exports=l},function(t,e,n){"use strict";var i=n(3);if(void 0===i)throw"jQuery not loaded!";t.exports=i},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__3__},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}__WEBPACK_AMD_DEFINE_RESULT__=function(){return"undefined"!=typeof window?window:new(eval("require('jsdom').JSDOM"))("").window}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(t,e,n){"use strict";var M=n(2);t.exports={generateMaskSet:function(n,s){function t(t,e,n){var i,o,r=!1;if(null!==t&&""!==t||(t=(r=null!==n.regex)?(t=n.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(r=!0,".*")),1===t.length&&!1===n.greedy&&0!==n.repeat&&(n.placeholder=""),0<n.repeat||"*"===n.repeat||"+"===n.repeat){var a="*"===n.repeat?0:"+"===n.repeat?1:n.repeat;t=n.groupmarker[0]+t+n.groupmarker[1]+n.quantifiermarker[0]+a+","+n.repeat+n.quantifiermarker[1]}return o=r?"regex_"+n.regex:n.numericInput?t.split("").reverse().join(""):t,!1!==n.keepStatic&&(o="ks_"+o),void 0===Inputmask.prototype.masksCache[o]||!0===s?(i={mask:t,maskToken:Inputmask.prototype.analyseMask(t,r,n),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:e,maskLength:void 0,jitOffset:{}},!0!==s&&(Inputmask.prototype.masksCache[o]=i,i=M.extend(!0,{},Inputmask.prototype.masksCache[o]))):i=M.extend(!0,{},Inputmask.prototype.masksCache[o]),i}if(M.isFunction(n.mask)&&(n.mask=n.mask(n)),M.isArray(n.mask)){if(1<n.mask.length){null===n.keepStatic&&(n.keepStatic=!0);var i=n.groupmarker[0];return M.each(n.isRTL?n.mask.reverse():n.mask,function(t,e){1<i.length&&(i+=n.groupmarker[1]+n.alternatormarker+n.groupmarker[0]),void 0===e.mask||M.isFunction(e.mask)?i+=e:i+=e.mask}),t(i+=n.groupmarker[1],n.mask,n)}n.mask=n.mask.pop()}return null===n.keepStatic&&(n.keepStatic=!1),n.mask&&void 0!==n.mask.mask&&!M.isFunction(n.mask.mask)?t(n.mask.mask,n.mask,n):t(n.mask,n.mask,n)},analyseMask:function(t,r,a){var e,n,i,o,s,l,c=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,u=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,d=!1,h=new m,f=[],p=[],g=!1;function m(t,e,n,i){this.matches=[],this.openGroup=t||!1,this.alternatorGroup=!1,this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function v(n,t,i){i=void 0!==i?i:n.matches.length;var o=n.matches[i-1];if(r)0===t.indexOf("[")||d&&/\\d|\\s|\\w]/i.test(t)||"."===t?n.matches.splice(i++,0,{fn:new RegExp(t,a.casing?"i":""),static:!1,optionality:!1,newBlockMarker:void 0===o?"master":o.def!==t,casing:null,def:t,placeholder:void 0,nativeDef:t}):(d&&(t=t[t.length-1]),M.each(t.split(""),function(t,e){o=n.matches[i-1],n.matches.splice(i++,0,{fn:/[a-z]/i.test(a.staticDefinitionSymbol||e)?new RegExp("["+(a.staticDefinitionSymbol||e)+"]",a.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===o?"master":o.def!==e&&!0!==o.static,casing:null,def:a.staticDefinitionSymbol||e,placeholder:void 0!==a.staticDefinitionSymbol?e:void 0,nativeDef:(d?"'":"")+e})})),d=!1;else{var e=(a.definitions?a.definitions[t]:void 0)||Inputmask.prototype.definitions[t];e&&!d?n.matches.splice(i++,0,{fn:e.validator?"string"==typeof e.validator?new RegExp(e.validator,a.casing?"i":""):new function(){this.test=e.validator}:new RegExp("."),static:e.static||!1,optionality:!1,newBlockMarker:void 0===o?"master":o.def!==(e.definitionSymbol||t),casing:e.casing,def:e.definitionSymbol||t,placeholder:e.placeholder,nativeDef:t,generated:e.generated}):(n.matches.splice(i++,0,{fn:/[a-z]/i.test(a.staticDefinitionSymbol||t)?new RegExp("["+(a.staticDefinitionSymbol||t)+"]",a.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===o?"master":o.def!==t&&!0!==o.static,casing:null,def:a.staticDefinitionSymbol||t,placeholder:void 0!==a.staticDefinitionSymbol?t:void 0,nativeDef:(d?"'":"")+t}),d=!1)}}function y(){if(0<f.length){if(v(o=f[f.length-1],n),o.isAlternator){s=f.pop();for(var t=0;t<s.matches.length;t++)s.matches[t].isGroup&&(s.matches[t].isGroup=!1);0<f.length?(o=f[f.length-1]).matches.push(s):h.matches.push(s)}}else v(h,n)}function b(t){var e=new m(!0);return e.openGroup=!1,e.matches=t,e}function _(){if((i=f.pop()).openGroup=!1,void 0!==i)if(0<f.length){if((o=f[f.length-1]).matches.push(i),o.isAlternator){s=f.pop();for(var t=0;t<s.matches.length;t++)s.matches[t].isGroup=!1,s.matches[t].alternatorGroup=!1;0<f.length?(o=f[f.length-1]).matches.push(s):h.matches.push(s)}}else h.matches.push(i);else y()}function E(t){var e=t.pop();return e.isQuantifier&&(e=b([t.pop(),e])),e}for(r&&(a.optionalmarker[0]=void 0,a.optionalmarker[1]=void 0);e=r?u.exec(t):c.exec(t);){if(n=e[0],r)switch(n.charAt(0)){case"?":n="{0,1}";break;case"+":case"*":n="{"+n+"}";break;case"|":if(0===f.length){var w=b(h.matches);w.openGroup=!0,f.push(w),h.matches=[],g=!0}}if(d)y();else switch(n.charAt(0)){case"(?=":case"(?!":case"(?<=":case"(?<!":break;case a.escapeChar:d=!0,r&&y();break;case a.optionalmarker[1]:case a.groupmarker[1]:_();break;case a.optionalmarker[0]:f.push(new m(!1,!0));break;case a.groupmarker[0]:f.push(new m(!0));break;case a.quantifiermarker[0]:var T=new m(!1,!1,!0),C=(n=n.replace(/[{}]/g,"")).split("|"),x=C[0].split(","),D=isNaN(x[0])?x[0]:parseInt(x[0]),O=1===x.length?D:isNaN(x[1])?x[1]:parseInt(x[1]);"*"!==D&&"+"!==D||(D="*"===O?0:1),T.quantifier={min:D,max:O,jit:C[1]};var I=0<f.length?f[f.length-1].matches:h.matches;if((e=I.pop()).isAlternator){I.push(e),I=e.matches;var k=new m(!0),S=I.pop();I.push(k),I=k.matches,e=S}e.isGroup||(e=b([e])),I.push(e),I.push(T);break;case a.alternatormarker:if(0<f.length){var R=(o=f[f.length-1]).matches[o.matches.length-1];l=o.openGroup&&(void 0===R.matches||!1===R.isGroup&&!1===R.isAlternator)?f.pop():E(o.matches)}else l=E(h.matches);if(l.isAlternator)f.push(l);else if(l.alternatorGroup?(s=f.pop(),l.alternatorGroup=!1):s=new m(!1,!1,!1,!0),s.matches.push(l),f.push(s),l.openGroup){var A=new m(!(l.openGroup=!1));A.alternatorGroup=!0,f.push(A)}break;default:y()}}for(g&&_();0<f.length;)i=f.pop(),h.matches.push(i);return 0<h.matches.length&&(function i(o){o&&o.matches&&M.each(o.matches,function(t,e){var n=o.matches[t+1];(void 0===n||void 0===n.matches||!1===n.isQuantifier)&&e&&e.isGroup&&(e.isGroup=!1,r||(v(e,a.groupmarker[0],0),!0!==e.openGroup&&v(e,a.groupmarker[1]))),i(e)})}(h),p.push(h)),(a.numericInput||a.isRTL)&&function t(e){for(var n in e.matches=e.matches.reverse(),e.matches)if(Object.prototype.hasOwnProperty.call(e.matches,n)){var i=parseInt(n);if(e.matches[n].isQuantifier&&e.matches[i+1]&&e.matches[i+1].isGroup){var o=e.matches[n];e.matches.splice(n,1),e.matches.splice(i+1,0,o)}void 0!==e.matches[n].matches?e.matches[n]=t(e.matches[n]):e.matches[n]=((r=e.matches[n])===a.optionalmarker[0]?r=a.optionalmarker[1]:r===a.optionalmarker[1]?r=a.optionalmarker[0]:r===a.groupmarker[0]?r=a.groupmarker[1]:r===a.groupmarker[1]&&(r=a.groupmarker[0]),r)}var r;return e}(p[0]),p}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.replace(i,"\\$1")};var i=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},function(t,e,n){"use strict";n(8),n(11),n(12),n(13),t.exports=n(1)},function(t,e,n){"use strict";var i=n(1);i.extendDefinitions({A:{validator:"[A-Za-z--]",casing:"upper"},"&":{validator:"[0-9A-Za-z--]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var r=new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");function o(t,e,n,i,o){return t=-1<n-1&&"."!==e.buffer[n-1]?(t=e.buffer[n-1]+t,-1<n-2&&"."!==e.buffer[n-2]?e.buffer[n-2]+t:"0"+t):"00"+t,r.test(t)}i.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1},ip:{mask:"i[i[i]].j[j[j]].k[k[k]].l[l[l]]",definitions:{i:{validator:o},j:{validator:o},k:{validator:o},l:{validator:o}},onUnMask:function(t,e,n){return t},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function(t,e){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9-A-Za-z--!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(t,e,n){return t},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(t,e,n,i,o,r,a){return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(t.join(""))}}}),t.exports=i},function(t,e,n){"use strict";n(10);var Y=n(2),X=n(4),Z=X.document,i=X.navigator&&X.navigator.userAgent||"",Q=0<i.indexOf("MSIE ")||0<i.indexOf("Trident/"),J="ontouchstart"in X,tt=/iemobile/i.test(i),et=/iphone/i.test(i)&&!tt,nt=n(0);t.exports=function t(e){var b=this,q=b.maskset,G=b.opts,U=b.el,_=b.isRTL||(b.isRTL=G.numericInput);function v(t,e,n,i,o){var r=G.greedy;o&&(G.greedy=!1),e=e||0;var a,s,l,c,u=[],d=0;do{if(!0===t&&q.validPositions[d])s=(l=o&&!0===q.validPositions[d].match.optionality&&void 0===q.validPositions[d+1]&&(!0===q.validPositions[d].generatedInput||q.validPositions[d].input==G.skipOptionalPartCharacter&&0<d)?f(d,E(d,a,d-1)):q.validPositions[d]).match,a=l.locator.slice(),u.push(!0===n?l.input:!1===n?s.nativeDef:K(d,s));else{s=(l=p(d,a,d-1)).match,a=l.locator.slice();var h=!0!==i&&(!1!==G.jitMasking?G.jitMasking:s.jit);(c=c&&s.static&&s.def!==G.groupSeparator&&null===s.fn||q.validPositions[d-1]&&s.static&&s.def!==G.groupSeparator&&null===s.fn)||!1===h||void 0===h||"number"==typeof h&&isFinite(h)&&d<h?u.push(!1===n?s.nativeDef:K(d,s)):c=!1}d++}while((void 0===b.maxLength||d<b.maxLength)&&(!0!==s.static||""!==s.def)||d<e);return""===u[u.length-1]&&u.pop(),!1===n&&void 0!==q.maskLength||(q.maskLength=d-1),G.greedy=r,u}function T(t){!(q.buffer=void 0)!==t&&(q.validPositions={},q.p=0)}function C(t,e,n){var i=-1,o=-1,r=n||q.validPositions;for(var a in void 0===t&&(t=-1),r){var s=parseInt(a);r[s]&&(e||!0!==r[s].generatedInput)&&(s<=t&&(i=s),t<=s&&(o=s))}return-1!==i&&i!=t&&(-1==o||t-i<o-t)?i:o}function x(t){var e=t.locator[t.alternation];return"string"==typeof e&&0<e.length&&(e=e.split(",")[0]),void 0!==e?e.toString():""}function c(t,e){var n=(null!=t.alternation?t.mloc[x(t)]:t.locator).join("");if(""!==n)for(;n.length<e;)n+="0";return n}function f(t,e){for(var n,i,o,r=c(D(t=0<t?t-1:0)),a=0;a<e.length;a++){var s=e[a];n=c(s,r.length);var l=Math.abs(n-r);(void 0===i||""!==n&&l<i||o&&!G.greedy&&o.match.optionality&&"master"===o.match.newBlockMarker&&(!s.match.optionality||!s.match.newBlockMarker)||o&&o.match.optionalQuantifier&&!s.match.optionalQuantifier)&&(i=l,o=s)}return o}function p(t,e,n){return q.validPositions[t]||f(t,E(t,e?e.slice():e,n))}function D(t,e){return q.validPositions[t]?q.validPositions[t]:(e||E(t))[0]}function y(t,e,n){for(var i=!1,o=E(t),r=0;r<o.length;r++){if(o[r].match&&(!(o[r].match.nativeDef!==e.match[n.shiftPositions?"def":"nativeDef"]||n.shiftPositions&&e.match.static)||o[r].match.nativeDef===e.match.nativeDef)){i=!0;break}if(o[r].match&&o[r].match.def===e.match.nativeDef){i=void 0;break}}return!1===i&&void 0!==q.jitOffset[t]&&(i=y(t+q.jitOffset[t],e,n)),i}function E(B,t,e){var $,n,i,o,r=q.maskToken,H=t?e:0,a=t?t.slice():[0],z=[],j=!1,V=t?t.join(""):"";function W(P,L,t,e){function F(t,e,n){function r(n,i){var o=0===Y.inArray(n,i.matches);return o||Y.each(i.matches,function(t,e){if(!0===e.isQuantifier?o=r(n,i.matches[t-1]):Object.prototype.hasOwnProperty.call(e,"matches")&&(o=r(n,e)),o)return!1}),o}function i(t,o,r){var a,s;if((q.tests[t]||q.validPositions[t])&&Y.each(q.tests[t]||[q.validPositions[t]],function(t,e){if(e.mloc[o])return a=e,!1;var n=void 0!==r?r:e.alternation,i=void 0!==e.locator[n]?e.locator[n].toString().indexOf(o):-1;(void 0===s||i<s)&&-1!==i&&(a=e,s=i)}),a){var e=a.locator[a.alternation];return(a.mloc[o]||a.mloc[e]||a.locator).slice((void 0!==r?r:a.alternation)+1)}return void 0!==r?i(t,o):void 0}function o(t,e){function n(t){for(var e,n=[],i=-1,o=0,r=t.length;o<r;o++)if("-"===t.charAt(o))for(e=t.charCodeAt(o+1);++i<e;)n.push(String.fromCharCode(i));else i=t.charCodeAt(o),n.push(t.charAt(o));return n.join("")}return t.match.def===e.match.nativeDef||(G.regex||t.match.fn instanceof RegExp&&e.match.fn instanceof RegExp)&&!0!==t.match.static&&!0!==e.match.static&&-1!==n(e.match.fn.toString().replace(/[[\]/]/g,"")).indexOf(n(t.match.fn.toString().replace(/[[\]/]/g,"")))}function a(t,e){var n=t.alternation,i=void 0===e||n===e.alternation&&-1===t.locator[n].toString().indexOf(e.locator[n]);if(!i&&n>e.alternation)for(var o=e.alternation;o<n;o++)if(t.locator[o]!==e.locator[o]){n=o,i=!0;break}if(i){t.mloc=t.mloc||{};var r=t.locator[n];if(void 0!==r){if("string"==typeof r&&(r=r.split(",")[0]),void 0===t.mloc[r]&&(t.mloc[r]=t.locator.slice()),void 0!==e){for(var a in e.mloc)"string"==typeof a&&(a=a.split(",")[0]),void 0===t.mloc[a]&&(t.mloc[a]=e.mloc[a]);t.locator[n]=Object.keys(t.mloc).join(",")}return 1}t.alternation=void 0}}function s(t,e){if(t.locator.length===e.locator.length){for(var n=t.alternation+1;n<t.locator.length;n++)if(t.locator[n]!==e.locator[n])return;return 1}}if(H>B+G._maxTestPos)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+q.mask;if(H===B&&void 0===t.matches)return z.push({match:t,locator:e.reverse(),cd:V,mloc:{}}),!0;if(void 0!==t.matches){if(t.isGroup&&n!==t){if(t=F(P.matches[Y.inArray(t,P.matches)+1],e,n))return!0}else if(t.isOptional){var l=t,c=z.length;if(t=W(t,L,e,n)){if(Y.each(z,function(t,e){c<=t&&(e.match.optionality=!0)}),$=z[z.length-1].match,void 0!==n||!r($,l))return!0;j=!0,H=B}}else if(t.isAlternator){var u,d=t,h=[],f=z.slice(),p=e.length,g=0<L.length?L.shift():-1;if(-1===g||"string"==typeof g){var m,v=H,y=L.slice(),b=[];if("string"==typeof g)b=g.split(",");else for(m=0;m<d.matches.length;m++)b.push(m.toString());if(void 0!==q.excludes[B]){for(var _=b.slice(),E=0,w=q.excludes[B].length;E<w;E++){var T=q.excludes[B][E].toString().split(":");e.length==T[1]&&b.splice(b.indexOf(T[0]),1)}0===b.length&&(delete q.excludes[B],b=_)}(!0===G.keepStatic||isFinite(parseInt(G.keepStatic))&&v>=G.keepStatic)&&(b=b.slice(0,1));for(var C=!1,x=0;x<b.length;x++){m=parseInt(b[x]),z=[],L="string"==typeof g&&i(H,m,p)||y.slice(),d.matches[m]&&F(d.matches[m],[m].concat(e),n)?t=!0:0===x&&(C=!0),u=z.slice(),H=v,z=[];for(var D=0;D<u.length;D++){var O=u[D],I=!1;O.match.jit=O.match.jit||C,O.alternation=O.alternation||p,a(O);for(var k=0;k<h.length;k++){var S=h[k];if("string"!=typeof g||void 0!==O.alternation&&-1!==Y.inArray(O.locator[O.alternation].toString(),b)){if(O.match.nativeDef===S.match.nativeDef){I=!0,a(S,O);break}if(o(O,S)){a(O,S)&&(I=!0,h.splice(h.indexOf(S),0,O));break}if(o(S,O)){a(S,O);break}if(K=S,!0===(N=O).match.static&&!0!==K.match.static&&K.match.fn.test(N.match.def,q,B,!1,G,!1)){s(O,S)||void 0!==U.inputmask.userOptions.keepStatic?a(O,S)&&(I=!0,h.splice(h.indexOf(S),0,O)):G.keepStatic=!0;break}}}I||h.push(O)}}z=f.concat(h),H=B,j=0<z.length,t=0<h.length,L=y.slice()}else t=F(d.matches[g]||P.matches[g],[g].concat(e),n);if(t)return!0}else if(t.isQuantifier&&n!==P.matches[Y.inArray(t,P.matches)-1])for(var R=t,A=0<L.length?L.shift():0;A<(isNaN(R.quantifier.max)?A+1:R.quantifier.max)&&H<=B;A++){var M=P.matches[Y.inArray(R,P.matches)-1];if(t=F(M,[A].concat(e),M)){if(($=z[z.length-1].match).optionalQuantifier=A>=R.quantifier.min,$.jit=(A||1)*M.matches.indexOf($)>=R.quantifier.jit,$.optionalQuantifier&&r($,M)){j=!0,H=B;break}return $.jit&&(q.jitOffset[B]=M.matches.length-M.matches.indexOf($)),!0}}else if(t=W(t,L,e,n))return!0}else H++;var N,K}for(var n=0<L.length?L.shift():0;n<P.matches.length;n++)if(!0!==P.matches[n].isQuantifier){var i=F(P.matches[n],[n].concat(t),e);if(i&&H===B)return i;if(B<H)break}}if(-1<B&&(void 0===b.maxLength||B<b.maxLength)){if(void 0===t){for(var s,l=B-1;void 0===(s=q.validPositions[l]||q.tests[l])&&-1<l;)l--;void 0!==s&&-1<l&&(n=l,i=s,o=[],Y.isArray(i)||(i=[i]),0<i.length&&(void 0===i[0].alternation||!0===G.keepStatic?0===(o=f(n,i.slice()).locator.slice()).length&&(o=i[0].locator.slice()):Y.each(i,function(t,e){if(""!==e.def)if(0===o.length)o=e.locator.slice();else for(var n=0;n<o.length;n++)e.locator[n]&&-1===o[n].toString().indexOf(e.locator[n])&&(o[n]+=","+e.locator[n])})),V=(a=o).join(""),H=l)}if(q.tests[B]&&q.tests[B][0].cd===V)return q.tests[B];for(var c=a.shift();c<r.length;c++){if(W(r[c],a,[c])&&H===B||B<H)break}}return 0!==z.length&&!j||z.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:V}),void 0!==t&&q.tests[B]?Y.extend(!0,[],z):(q.tests[B]=Y.extend(!0,[],z),q.tests[B])}function u(){return void 0===q._buffer&&(q._buffer=v(!1,1),void 0===q.buffer&&(q.buffer=q._buffer.slice())),q._buffer}function w(t){return void 0!==q.buffer&&!0!==t||(q.buffer=v(!0,C(),!0),void 0===q._buffer&&(q._buffer=q.buffer.slice())),q.buffer}function O(t,e,n){var i,o,r=G.skipOptionalPartCharacter,a=_?n.slice().reverse():n;if(!(G.skipOptionalPartCharacter="")===t)T(),q.tests={},t=0,e=n.length,o=P({begin:0,end:0},!1).begin;else{for(i=t;i<e;i++)delete q.validPositions[i];o=t}var s=new Y.Event("keypress");for(i=t;i<e;i++){s.which=a[i].toString().charCodeAt(0),b.ignorable=!1;var l=L.keypressEvent.call(U,s,!0,!1,!1,o);!1!==l&&(o=l.forwardPosition)}G.skipOptionalPartCharacter=r}function d(t,e,n){for(var i,o=G.greedy?e:e.slice(0,1),r=!1,a=void 0!==n?n.split(","):[],s=0;s<a.length;s++)-1!==(i=t.indexOf(a[s]))&&t.splice(i,1);for(var l=0;l<t.length;l++)if(-1!==Y.inArray(t[l],o)){r=!0;break}return r}function I(t,e,n,i,o,r){var a,s,l,c,u,d,h,f,p,g=Y.extend(!0,{},q.validPositions),m=Y.extend(!0,{},q.tests),v=!1,y=!1,b=void 0!==o?o:C();if(r&&(f=r.begin,p=r.end,r.begin>r.end&&(f=r.end,p=r.begin)),-1===b&&void 0===o)s=(c=D(a=0)).alternation;else for(;0<=b;b--)if((l=q.validPositions[b])&&void 0!==l.alternation){if(c&&c.locator[l.alternation]!==l.locator[l.alternation])break;a=b,s=q.validPositions[a].alternation,c=l}if(void 0!==s){h=parseInt(a),q.excludes[h]=q.excludes[h]||[],!0!==t&&q.excludes[h].push(x(c)+":"+c.alternation);var _=[],E=-1;for(u=h;u<C(void 0,!0)+1;u++)-1===E&&t<=u&&void 0!==e&&(_.push(e),E=_.length-1),(d=q.validPositions[u])&&!0!==d.generatedInput&&(void 0===r||u<f||p<=u)&&_.push(d.input),delete q.validPositions[u];for(-1===E&&void 0!==e&&(_.push(e),E=_.length-1);void 0!==q.excludes[h]&&q.excludes[h].length<10;){for(q.tests={},T(!0),v=!0,u=0;u<_.length&&(v=k(v.caret||C(void 0,!0)+1,_[u],!1,i,!0));u++)u===E&&(y=v),1==t&&v&&(y={caretPos:u});if(v)break;if(T(),c=D(h),q.validPositions=Y.extend(!0,{},g),q.tests=Y.extend(!0,{},m),!q.excludes[h]){y=I(t,e,n,i,h-1,r);break}var w=x(c);if(-1!==q.excludes[h].indexOf(w+":"+c.alternation)){y=I(t,e,n,i,h-1,r);break}for(q.excludes[h].push(w+":"+c.alternation),u=h;u<C(void 0,!0)+1;u++)delete q.validPositions[u]}}return y&&!1===G.keepStatic||delete q.excludes[h],y}function k(c,t,e,u,n,i,o){function d(t){return _?1<t.begin-t.end||t.begin-t.end==1:1<t.end-t.begin||t.end-t.begin==1}e=!0===e;var r=c;function h(t){if(void 0!==t){if(void 0!==t.remove&&(Y.isArray(t.remove)||(t.remove=[t.remove]),Y.each(t.remove.sort(function(t,e){return e.pos-t.pos}),function(t,e){R({begin:e,end:e+1})}),t.remove=void 0),void 0!==t.insert&&(Y.isArray(t.insert)||(t.insert=[t.insert]),Y.each(t.insert.sort(function(t,e){return t.pos-e.pos}),function(t,e){""!==e.c&&k(e.pos,e.c,void 0===e.strict||e.strict,void 0!==e.fromIsValid?e.fromIsValid:u)}),t.insert=void 0),t.refreshFromBuffer&&t.buffer){var e=t.refreshFromBuffer;O(!0===e?e:e.start,e.end,t.buffer),t.refreshFromBuffer=void 0}void 0!==t.rewritePosition&&(r=t.rewritePosition,t=!0)}return t}function a(r,a,s){var l=!1;return Y.each(E(r),function(t,e){var n=e.match;if(w(!0),!1!==(l=null!=n.fn?n.fn.test(a,q,r,s,G,d(c)):(a===n.def||a===G.skipOptionalPartCharacter)&&""!==n.def&&{c:K(r,n,!0)||n.def,pos:r})){var i=void 0!==l.c?l.c:a,o=r;return i=i===G.skipOptionalPartCharacter&&!0===n.static?K(r,n,!0)||n.def:i,!0!==(l=h(l))&&void 0!==l.pos&&l.pos!==r&&(o=l.pos),!0!==l&&void 0===l.pos&&void 0===l.c||!1===R(c,Y.extend({},e,{input:function(t,e,n){switch(G.casing||e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var i=q.validPositions[n-1];t=0===n||i&&i.input===String.fromCharCode(nt.SPACE)?t.toUpperCase():t.toLowerCase();break;default:if(Y.isFunction(G.casing)){var o=Array.prototype.slice.call(arguments);o.push(q.validPositions),t=G.casing.apply(this,o)}}return t}(i,n,o)}),u,o)&&(l=!1),!1}}),l}void 0!==c.begin&&(r=_?c.end:c.begin);var s=!0,l=Y.extend(!0,{},q.validPositions);if(!1===G.keepStatic&&void 0!==q.excludes[r]&&!0!==n&&!0!==u)for(var f=r;f<(_?c.begin:c.end);f++)void 0!==q.excludes[f]&&(q.excludes[f]=void 0,delete q.tests[f]);if(Y.isFunction(G.preValidation)&&!0!==u&&!0!==i&&(s=h(s=G.preValidation.call(U,w(),r,t,d(c),G,q,c,e||n))),!0===s){if(void 0===b.maxLength||r<b.maxLength){if(s=a(r,t,e),(!e||!0===u)&&!1===s&&!0!==i){var p=q.validPositions[r];if(!p||!0!==p.match.static||p.match.def!==t&&t!==G.skipOptionalPartCharacter){if(G.insertMode||void 0===q.validPositions[M(r)]||c.end>r){var g=!1;if(q.jitOffset[r]&&void 0===q.validPositions[M(r)]&&(!1!==(s=k(r+q.jitOffset[r],t,!0))&&(!0!==n&&(s.caret=r),g=!0)),c.end>r&&(q.validPositions[r]=void 0),!g&&!A(r,G.keepStatic))for(var m=r+1,v=M(r);m<=v;m++)if(!1!==(s=a(m,t,e))){s=S(r,void 0!==s.pos?s.pos:m)||s,r=m;break}}}else s={caret:M(r)}}}else s=!1;!1!==s||!G.keepStatic||!$(w())&&0!==r||e||!0===n?d(c)&&q.tests[r]&&1<q.tests[r].length&&G.keepStatic&&!e&&!0!==n&&(s=I(!0)):s=I(r,t,e,u,void 0,c),!0===s&&(s={pos:r})}if(Y.isFunction(G.postValidation)&&!0!==u&&!0!==i){var y=G.postValidation.call(U,w(!0),void 0!==c.begin?_?c.end:c.begin:c,t,s,G,q,e,o);void 0!==y&&(s=!0===y?s:y)}return s&&void 0===s.pos&&(s.pos=r),!1===s||!0===i?(T(!0),q.validPositions=Y.extend(!0,{},l)):S(void 0,r,!0),h(s)}function S(t,e,n){if(void 0===t)for(t=e-1;0<t&&!q.validPositions[t];t--);for(var i=t;i<e;i++)if(void 0===q.validPositions[i]&&!A(i,!0)){if(0==i?D(i):q.validPositions[i-1]){var o=E(i).slice();""===o[o.length-1].match.def&&o.pop();var r,a=f(i,o);if(a&&(!0!==a.match.jit||"master"===a.match.newBlockMarker&&(r=q.validPositions[i+1])&&!0===r.match.optionalQuantifier)&&((a=Y.extend({},a,{input:K(i,a.match,!0)||a.match.def})).generatedInput=!0,R(i,a,!0),!0!==n))return k(e,q.validPositions[e].input,!(q.validPositions[e]=void 0),!0)}}}function R(t,e,n,i){function o(t,e,n){var i=e[t];if(void 0!==i&&!0===i.match.static&&!0!==i.match.optionality&&(void 0===e[0]||void 0===e[0].alternation)){var o=(!(n.begin<=t-1)||e[t-1]&&!0===e[t-1].match.static)&&e[t-1],r=(!(n.end>t+1)||e[t+1]&&!0===e[t+1].match.static)&&e[t+1];return o&&r}}var r=0,a=void 0!==t.begin?t.begin:t,s=void 0!==t.end?t.end:t;if(t.begin>t.end&&(a=t.end,s=t.begin),i=void 0!==i?i:a,a!==s||G.insertMode&&void 0!==q.validPositions[i]&&void 0===n||void 0===e){var l,c=Y.extend(!0,{},q.validPositions),u=C(void 0,!0);for(q.p=a,l=u;a<=l;l--)delete q.validPositions[l],void 0===e&&delete q.tests[l+1];var d,h,f=!0,p=i,g=p;for(e&&(q.validPositions[i]=Y.extend(!0,{},e),g++,p++),l=e?s:s-1;l<=u;l++){if(void 0!==(d=c[l])&&!0!==d.generatedInput&&(s<=l||a<=l&&o(l,c,{begin:a,end:s}))){for(;""!==D(g).match.def;){if(!1!==(h=y(g,d,G))||"+"===d.match.def){"+"===d.match.def&&w(!0);var m=k(g,d.input,"+"!==d.match.def,"+"!==d.match.def);if(f=!1!==m,p=(m.pos||g)+1,!f&&h)break}else f=!1;if(f){void 0===e&&d.match.static&&l===t.begin&&r++;break}if(!f&&g>q.maskLength)break;g++}""==D(g).match.def&&(f=!1),g=p}if(!f)break}if(!f)return q.validPositions=Y.extend(!0,{},c),T(!0),!1}else e&&D(i).match.cd===e.match.cd&&(q.validPositions[i]=Y.extend(!0,{},e));return T(!0),r}function A(t,e,n){var i=p(t).match;if(""===i.def&&(i=D(t).match),!0!==i.static)return i.fn;if(!0===n&&void 0!==q.validPositions[t]&&!0!==q.validPositions[t].generatedInput)return 1;if(!0!==e&&-1<t){if(n){var o=E(t);return o.length>1+(""===o[o.length-1].match.def?1:0)}var r=f(t,E(t)),a=K(t,r.match);return r.match.def!==a}}function M(t,e,n){void 0===n&&(n=!0);for(var i=t+1;""!==D(i).match.def&&(!0===e&&(!0!==D(i).match.newBlockMarker||!A(i,void 0,!0))||!0!==e&&!A(i,void 0,n));)i++;return i}function g(t,e){var n,i=t;if(i<=0)return 0;for(;0<--i&&(!0===e&&!0!==D(i).match.newBlockMarker||!0!==e&&!A(i,void 0,!0)&&((n=E(i)).length<2||2===n.length&&""===n[1].match.def)););return i}function N(t,e,n,i,o){if(i&&Y.isFunction(G.onBeforeWrite)){var r=G.onBeforeWrite.call(b,i,e,n,G);if(r){if(r.refreshFromBuffer){var a=r.refreshFromBuffer;O(!0===a?a:a.start,a.end,r.buffer||e),e=w(!0)}void 0!==n&&(n=void 0!==r.caret?r.caret:n)}}if(void 0!==t&&(t.inputmask._valueSet(e.join("")),void 0===n||void 0!==i&&"blur"===i.type||F(t,n,void 0,void 0,void 0!==i&&"keydown"===i.type&&(i.keyCode===nt.DELETE||i.keyCode===nt.BACKSPACE)),!0===o)){var s=Y(t),l=t.inputmask._valueGet();t.inputmask.skipInputEvent=!0,s.trigger("input"),setTimeout(function(){l===u().join("")?s.trigger("cleared"):!0===$(e)&&s.trigger("complete")},0)}}function K(t,e,n){if(void 0!==(e=e||D(t).match).placeholder||!0===n)return Y.isFunction(e.placeholder)?e.placeholder(G):e.placeholder;if(!0!==e.static)return G.placeholder.charAt(t%G.placeholder.length);if(-1<t&&void 0===q.validPositions[t]){var i,o=E(t),r=[];if(o.length>1+(""===o[o.length-1].match.def?1:0))for(var a=0;a<o.length;a++)if(""!==o[a].match.def&&!0!==o[a].match.optionality&&!0!==o[a].match.optionalQuantifier&&(!0===o[a].match.static||void 0===i||!1!==o[a].match.fn.test(i.match.def,q,t,!0,G))&&(r.push(o[a]),!0===o[a].match.static&&(i=o[a]),1<r.length&&/[0-9a-bA-Z]/.test(r[0].match.def)))return G.placeholder.charAt(t%G.placeholder.length)}return e.def}function l(t,e){if(Q){if(t.inputmask._valueGet()!==e&&(t.placeholder!==e||""===t.placeholder)){var n=w().slice(),i=t.inputmask._valueGet();if(i!==e){var o=C();-1===o&&i===u().join("")?n=[]:-1!==o&&B(n),N(t,n)}}}else t.placeholder!==e&&(t.placeholder=e,""===t.placeholder&&t.removeAttribute("placeholder"))}function P(t,e){if(e&&(_?t.end=t.begin:t.begin=t.end),t.begin===t.end){switch(G.positionCaretOnClick){case"none":break;case"select":t={begin:0,end:w().length};break;case"ignore":t.end=t.begin=M(C());break;case"radixFocus":if(function(t){if(""!==G.radixPoint&&0!==G.digits){var e=q.validPositions;if(void 0===e[t]||e[t].input===K(t)){if(t<M(-1))return 1;var n=Y.inArray(G.radixPoint,w());if(-1!==n){for(var i in e)if(e[i]&&n<i&&e[i].input!==K(i))return;return 1}}}}(t.begin)){var n=w().join("").indexOf(G.radixPoint);t.end=t.begin=G.numericInput?M(n):n;break}default:var i=t.begin,o=C(i,!0),r=M(-1!==o||A(0)?o:0);if(i<r)t.end=t.begin=A(i,!0)||A(i-1,!0)?i:M(i);else{var a=q.validPositions[o],s=p(r,a?a.match.locator:void 0,a),l=K(r,s.match);if(""!==l&&w()[r]!==l&&!0!==s.match.optionalQuantifier&&!0!==s.match.newBlockMarker||!A(r,G.keepStatic)&&s.match.def===l){var c=M(r);(c<=i||i===r)&&(r=c)}t.end=t.begin=r}}return t}}var n,h={on:function(a,t,s){function e(t){t.originalEvent&&(t=t.originalEvent||t,arguments[0]=t);var e,n=this,i=n.inputmask;if(void 0===i&&"FORM"!==this.nodeName){var o=Y.data(n,"_inputmask_opts");Y(n).off(),o&&new Inputmask(o).mask(n)}else{if("setvalue"===t.type||"FORM"===this.nodeName||!(n.disabled||n.readOnly&&!("keydown"===t.type&&t.ctrlKey&&67===t.keyCode||!1===G.tabThrough&&t.keyCode===nt.TAB))){switch(t.type){case"input":if(!0===i.skipInputEvent||t.inputType&&"insertCompositionText"===t.inputType)return i.skipInputEvent=!1,t.preventDefault();break;case"keydown":i.skipKeyPressEvent=!1,i.skipInputEvent=!1;break;case"keypress":if(!0===i.skipKeyPressEvent)return t.preventDefault();i.skipKeyPressEvent=!0;break;case"click":case"focus":return i.validationEvent?(i.validationEvent=!1,a.blur(),l(a,(_?u().slice().reverse():u()).join("")),setTimeout(function(){a.focus()},3e3)):(e=arguments,setTimeout(function(){a.inputmask&&s.apply(n,e)},0)),!1}var r=s.apply(n,arguments);return!1===r&&(t.preventDefault(),t.stopPropagation()),r}t.preventDefault()}}a.inputmask.events[t]=a.inputmask.events[t]||[],a.inputmask.events[t].push(e),-1!==Y.inArray(t,["submit","reset"])?null!==a.form&&Y(a.form).on(t,e):Y(a).on(t,e)},off:function(i,t){var e;i.inputmask&&i.inputmask.events&&(t?(e=[])[t]=i.inputmask.events[t]:e=i.inputmask.events,Y.each(e,function(t,e){for(;0<e.length;){var n=e.pop();-1!==Y.inArray(t,["submit","reset"])?null!==i.form&&Y(i.form).off(t,n):Y(i).off(t,n)}delete i.inputmask.events[t]}))}},L={keydownEvent:function(t){var e=this,n=Y(e),i=t.keyCode,o=F(e),r=G.onKeyDown.call(this,t,w(),o,G);if(void 0!==r)return r;if(i===nt.BACKSPACE||i===nt.DELETE||et&&i===nt.BACKSPACE_SAFARI||t.ctrlKey&&i===nt.X&&!("oncut"in e))t.preventDefault(),H(e,i,o),N(e,w(!0),q.p,t,e.inputmask._valueGet()!==w().join(""));else if(i===nt.END||i===nt.PAGE_DOWN){t.preventDefault();var a=M(C());F(e,t.shiftKey?o.begin:a,a,!0)}else i===nt.HOME&&!t.shiftKey||i===nt.PAGE_UP?(t.preventDefault(),F(e,0,t.shiftKey?o.begin:0,!0)):(G.undoOnEscape&&i===nt.ESCAPE||90===i&&t.ctrlKey)&&!0!==t.altKey?(s(e,!0,!1,b.undoValue.split("")),n.trigger("click")):!0===G.tabThrough&&i===nt.TAB?(!0===t.shiftKey?(!0===D(o.begin).match.static&&(o.begin=M(o.begin)),o.end=g(o.begin,!0),o.begin=g(o.end,!0)):(o.begin=M(o.begin,!0),o.end=M(o.begin,!0),o.end<q.maskLength&&o.end--),o.begin<q.maskLength&&(t.preventDefault(),F(e,o.begin,o.end))):t.shiftKey||G.insertModeVisual&&!1===G.insertMode&&(i===nt.RIGHT?setTimeout(function(){var t=F(e);F(e,t.begin)},0):i===nt.LEFT&&setTimeout(function(){var t=m(e.inputmask.caretPos.begin);m(e.inputmask.caretPos.end);F(e,_?t+(t===q.maskLength?0:1):t-(0===t?0:1))},0));b.ignorable=-1!==Y.inArray(i,G.ignorables)},keypressEvent:function(t,e,n,i,o){var r=this,a=Y(r),s=t.which||t.charCode||t.keyCode;if(!(!0===e||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||b.ignorable))return s===nt.ENTER&&b.undoValue!==w().join("")&&(b.undoValue=w().join(""),setTimeout(function(){a.trigger("change")},0)),b.skipInputEvent=!0;if(s){44!==s&&46!==s||3!==t.location||""===G.radixPoint||(s=G.radixPoint.charCodeAt(0));var l,c=e?{begin:o,end:o}:F(r),u=String.fromCharCode(s);q.writeOutBuffer=!0;var d=k(c,u,i,void 0,void 0,void 0,e);if(!1!==d&&(T(!0),l=void 0!==d.caret?d.caret:M(d.pos.begin?d.pos.begin:d.pos),q.p=l),l=G.numericInput&&void 0===d.caret?g(l):l,!1!==n&&(setTimeout(function(){G.onKeyValidation.call(r,s,d)},0),q.writeOutBuffer&&!1!==d)){var h=w();N(r,h,l,t,!0!==e)}if(t.preventDefault(),e)return!1!==d&&(d.forwardPosition=l),d}},pasteEvent:function(t){var e,n=this.inputmask._valueGet(!0),i=F(this);_&&(e=i.end,i.end=i.begin,i.begin=e);var o=n.substr(0,i.begin),r=n.substr(i.end,n.length);if(o==(_?u().slice().reverse():u()).slice(0,i.begin).join("")&&(o=""),r==(_?u().slice().reverse():u()).slice(i.end).join("")&&(r=""),X.clipboardData&&X.clipboardData.getData)n=o+X.clipboardData.getData("Text")+r;else{if(!t.clipboardData||!t.clipboardData.getData)return!0;n=o+t.clipboardData.getData("text/plain")+r}var a=n;if(Y.isFunction(G.onBeforePaste)){if(!1===(a=G.onBeforePaste.call(b,n,G)))return t.preventDefault();a=a||n}return s(this,!0,!1,a.toString().split(""),t),t.preventDefault()},inputFallBackEvent:function(t){var i=this,e=i.inputmask._valueGet(!0),n=(_?w().slice().reverse():w()).join(""),o=F(i,void 0,void 0,!0);if(n!==e){var r=function(t,e,n){for(var i,o,r,a=t.substr(0,n.begin).split(""),s=t.substr(n.begin).split(""),l=e.substr(0,n.begin).split(""),c=e.substr(n.begin).split(""),u=a.length>=l.length?a.length:l.length,d=s.length>=c.length?s.length:c.length,h="",f=[];a.length<u;)a.push("~");for(;l.length<u;)l.push("~");for(;s.length<d;)s.unshift("~");for(;c.length<d;)c.unshift("~");var p=a.concat(s),g=l.concat(c);for(o=0,i=p.length;o<i;o++)switch(r=K(m(o)),h){case"insertText":g[o-1]===p[o]&&n.begin==p.length-1&&f.push(p[o]),o=i;break;case"insertReplacementText":case"deleteContentBackward":"~"===p[o]?n.end++:o=i;break;default:p[o]!==g[o]&&(("~"===p[o+1]||p[o+1]===r||void 0===p[o+1])&&(g[o]===r&&"~"===g[o+1]||"~"===g[o])||"~"===g[o+1]&&g[o]===p[o+1]?(h="insertText",f.push(p[o]),n.begin--,n.end--):p[o]!==r&&"~"!==p[o]&&("~"===p[o+1]||g[o]!==p[o]&&g[o+1]===p[o+1])?(h="insertReplacementText",f.push(p[o]),n.begin--):"~"===p[o]?(h="deleteContentBackward",!A(m(o),!0)&&g[o]!==G.radixPoint||n.end++):o=i)}return{action:h,data:f,caret:n}}(e=function(t,e,n){if(tt){var i=e.replace(w().join(""),"");if(1===i.length){var o=e.split("");o.splice(n.begin,0,i),e=o.join("")}}return e}(0,e,o),n,o);switch((i.inputmask.shadowRoot||Z).activeElement!==i&&i.focus(),N(i,w()),F(i,o.begin,o.end,!0),r.action){case"insertText":case"insertReplacementText":Y.each(r.data,function(t,e){var n=new Y.Event("keypress");n.which=e.charCodeAt(0),b.ignorable=!1,L.keypressEvent.call(i,n)}),setTimeout(function(){b.$el.trigger("keyup")},0);break;case"deleteContentBackward":var a=new Y.Event("keydown");a.keyCode=nt.BACKSPACE,L.keydownEvent.call(i,a);break;default:z(i,e)}t.preventDefault()}},compositionendEvent:function(t){b.$el.trigger("input")},setValueEvent:function(t,e,n){var i=t&&t.detail?t.detail[0]:e;void 0===i&&(i=this.inputmask._valueGet(!0)),z(this,i),(t.detail&&void 0!==t.detail[1]||void 0!==n)&&F(this,t.detail?t.detail[1]:n)},focusEvent:function(t){var e=this.inputmask._valueGet();G.showMaskOnFocus&&e!==w().join("")&&N(this,w(),M(C())),!0!==G.positionCaretOnTab||!1!==b.mouseEnter||$(w())&&-1!==C()||L.clickEvent.apply(this,[t,!0]),b.undoValue=w().join("")},invalidEvent:function(t){b.validationEvent=!0},mouseleaveEvent:function(){b.mouseEnter=!1,G.clearMaskOnLostFocus&&(this.inputmask.shadowRoot||Z).activeElement!==this&&l(this,b.originalPlaceholder)},clickEvent:function(t,e){if((this.inputmask.shadowRoot||Z).activeElement===this){var n=P(F(this),e);void 0!==n&&F(this,n)}},cutEvent:function(t){var e=F(this),n=X.clipboardData||t.clipboardData,i=_?w().slice(e.end,e.begin):w().slice(e.begin,e.end);n.setData("text",_?i.reverse().join(""):i.join("")),Z.execCommand&&Z.execCommand("copy"),H(this,nt.DELETE,e),N(this,w(),q.p,t,b.undoValue!==w().join(""))},blurEvent:function(t){var e=Y(this);if(this.inputmask){l(this,b.originalPlaceholder);var n=this.inputmask._valueGet(),i=w().slice();""!==n&&(G.clearMaskOnLostFocus&&(-1===C()&&n===u().join("")?i=[]:B(i)),!1===$(i)&&(setTimeout(function(){e.trigger("incomplete")},0),G.clearIncomplete&&(T(),i=G.clearMaskOnLostFocus?[]:u().slice())),N(this,i,void 0,t)),b.undoValue!==w().join("")&&(b.undoValue=w().join(""),e.trigger("change"))}},mouseenterEvent:function(){b.mouseEnter=!0,(this.inputmask.shadowRoot||Z).activeElement!==this&&(null==b.originalPlaceholder&&this.placeholder!==b.originalPlaceholder&&(b.originalPlaceholder=this.placeholder),G.showMaskOnHover&&l(this,(_?u().slice().reverse():u()).join("")))},submitEvent:function(){b.undoValue!==w().join("")&&b.$el.trigger("change"),G.clearMaskOnLostFocus&&-1===C()&&U.inputmask._valueGet&&U.inputmask._valueGet()===u().join("")&&U.inputmask._valueSet(""),G.clearIncomplete&&!1===$(w())&&U.inputmask._valueSet(""),G.removeMaskOnSubmit&&(U.inputmask._valueSet(U.inputmask.unmaskedvalue(),!0),setTimeout(function(){N(U,w())},0))},resetEvent:function(){U.inputmask.refreshValue=!0,setTimeout(function(){z(U,U.inputmask._valueGet(!0))},0)}};function s(o,t,r,e,n){var a=this||o.inputmask,s=e.slice(),l="",c=-1,u=void 0;T(),q.tests={},c=G.radixPoint?P({begin:0,end:0}).begin:0,q.p=c,a.caretPos={begin:c};var d=[],h=a.caretPos;if(Y.each(s,function(t,e){if(void 0!==e)if(void 0===q.validPositions[t]&&s[t]===K(t)&&A(t,!0)&&!1===k(t,s[t],!0,void 0,void 0,!0))q.p++;else{var n=new Y.Event("_checkval");n.which=e.toString().charCodeAt(0),l+=e;var i=C(void 0,!0);!function(t,e){for(var n=v(!0,0).slice(t,M(t)).join("").replace(/'/g,""),i=n.indexOf(e);0<i&&" "===n[i-1];)i--;var o=0===i&&!A(t)&&(D(t).match.nativeDef===e.charAt(0)||!0===D(t).match.static&&D(t).match.nativeDef==="'"+e.charAt(0)||" "===D(t).match.nativeDef&&(D(t+1).match.nativeDef===e.charAt(0)||!0===D(t+1).match.static&&D(t+1).match.nativeDef==="'"+e.charAt(0)));if(!o&&0<i&&!A(t,!1,!0)){var r=M(t);a.caretPos.begin<r&&(a.caretPos={begin:r})}return o}(c,l)?(u=L.keypressEvent.call(o,n,!0,!1,r,a.caretPos.begin))&&(c=a.caretPos.begin+1,l=""):u=L.keypressEvent.call(o,n,!0,!1,r,i+1),u?(void 0!==u.pos&&q.validPositions[u.pos]&&!0===q.validPositions[u.pos].match.static&&void 0===q.validPositions[u.pos].alternation&&(d.push(u.pos),_||(u.forwardPosition=u.pos+1)),N(void 0,w(),u.forwardPosition,n,!1),a.caretPos={begin:u.forwardPosition,end:u.forwardPosition},h=a.caretPos):a.caretPos=h}}),0<d.length){var i,f,p=M(-1,void 0,!1);if(!$(w())&&d.length<=p||$(w())&&0<d.length&&d.length!==p&&0===d[0])for(var g=p;void 0!==(i=d.shift());){var m=new Y.Event("_checkval");if((f=q.validPositions[i]).generatedInput=!0,m.which=f.input.charCodeAt(0),(u=L.keypressEvent.call(o,m,!0,!1,r,g))&&void 0!==u.pos&&u.pos!==i&&q.validPositions[u.pos]&&!0===q.validPositions[u.pos].match.static)d.push(u.pos);else if(!u)break;g++}}t&&N(o,w(),u?u.forwardPosition:a.caretPos.begin,n||new Y.Event("checkval"),n&&"input"===n.type&&a.undoValue!==w().join(""))}function i(t){if(t){if(void 0===t.inputmask)return t.value;t.inputmask&&t.inputmask.refreshValue&&z(t,t.inputmask._valueGet(!0))}var e=[],n=q.validPositions;for(var i in n)n[i]&&n[i].match&&(1!=n[i].match.static||!0!==n[i].generatedInput)&&e.push(n[i].input);var o=0===e.length?"":(_?e.reverse():e).join("");if(Y.isFunction(G.onUnMask)){var r=(_?w().slice().reverse():w()).join("");o=G.onUnMask.call(b,r,o,G)}return o}function m(t){return!_||"number"!=typeof t||G.greedy&&""===G.placeholder||!U||(t=U.inputmask._valueGet().length-t),t}function F(t,e,n,i,o){var r;if(void 0===e)return"selectionStart"in t&&"selectionEnd"in t?(e=t.selectionStart,n=t.selectionEnd):X.getSelection?(r=X.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==t&&r.commonAncestorContainer!==t||(e=r.startOffset,n=r.endOffset):Z.selection&&Z.selection.createRange&&(n=(e=0-(r=Z.selection.createRange()).duplicate().moveStart("character",-t.inputmask._valueGet().length))+r.text.length),{begin:i?e:m(e),end:i?n:m(n)};if(Y.isArray(e)&&(n=_?e[0]:e[1],e=_?e[1]:e[0]),void 0!==e.begin&&(n=_?e.begin:e.end,e=_?e.end:e.begin),"number"==typeof e){e=i?e:m(e),n="number"==typeof(n=i?n:m(n))?n:e;var a=parseInt(((t.ownerDocument.defaultView||X).getComputedStyle?(t.ownerDocument.defaultView||X).getComputedStyle(t,null):t.currentStyle).fontSize)*n;if(t.scrollLeft=a>t.scrollWidth?a:0,t.inputmask.caretPos={begin:e,end:n},G.insertModeVisual&&!1===G.insertMode&&e===n&&(o||n++),t===(t.inputmask.shadowRoot||Z).activeElement)if("setSelectionRange"in t)t.setSelectionRange(e,n);else if(X.getSelection){if(r=Z.createRange(),void 0===t.firstChild||null===t.firstChild){var s=Z.createTextNode("");t.appendChild(s)}r.setStart(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),r.setEnd(t.firstChild,n<t.inputmask._valueGet().length?n:t.inputmask._valueGet().length),r.collapse(!0);var l=X.getSelection();l.removeAllRanges(),l.addRange(r)}else t.createTextRange&&((r=t.createTextRange()).collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r.select())}}function a(t){var e,n,i=v(!0,C(),!0,!0),o=i.length,r=C(),a={},s=q.validPositions[r],l=void 0!==s?s.locator.slice():void 0;for(e=r+1;e<i.length;e++)l=(n=p(e,l,e-1)).locator.slice(),a[e]=Y.extend(!0,{},n);var c=s&&void 0!==s.alternation?s.locator[s.alternation]:void 0;for(e=o-1;r<e&&(((n=a[e]).match.optionality||n.match.optionalQuantifier&&n.match.newBlockMarker||c&&(c!==a[e].locator[s.alternation]&&1!=n.match.static||!0===n.match.static&&n.locator[s.alternation]&&d(n.locator[s.alternation].toString().split(","),c.toString().split(","))&&""!==E(e)[0].def))&&i[e]===K(e,n.match));e--)o--;return t?{l:o,def:a[o]?a[o].match:void 0}:o}function B(t){for(var e,n=v(!(t.length=0),0,!0,void 0,!0);void 0!==(e=n.shift());)t.push(e);return t}function $(t){if(Y.isFunction(G.isComplete))return G.isComplete(t,G);if("*"!==G.repeat){var e=!1,n=a(!0),i=g(n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){e=!0;for(var o=0;o<=i;o++){var r=p(o).match;if(!0!==r.static&&void 0===q.validPositions[o]&&!0!==r.optionality&&!0!==r.optionalQuantifier||!0===r.static&&t[o]!==K(o,r)){e=!1;break}}}return e}}function H(t,e,n,i){if((G.numericInput||_)&&(e===nt.BACKSPACE?e=nt.DELETE:e===nt.DELETE&&(e=nt.BACKSPACE),_)){var o=n.end;n.end=n.begin,n.begin=o}var r,a=C(void 0,!0);if(n.end>=w().length&&a>=n.end&&(n.end=a+1),e===nt.BACKSPACE?n.end-n.begin<1&&(n.begin=g(n.begin)):e===nt.DELETE&&n.begin===n.end&&(n.end=A(n.end,!0,!0)?n.end+1:M(n.end)+1),!1!==(r=R(n))){if(!0!==i&&!1!==G.keepStatic||null!==G.regex&&-1!==D(n.begin).match.def.indexOf("|")){var s=I(!0);if(s){var l=void 0!==s.caret?s.caret:s.pos?M(s.pos.begin?s.pos.begin:s.pos):C(-1,!0);(e!==nt.DELETE||n.begin>l)&&n.begin}}!0!==i&&(q.p=e===nt.DELETE?n.begin+r:n.begin)}}function z(t,e){t.inputmask.refreshValue=!1,Y.isFunction(G.onBeforeMask)&&(e=G.onBeforeMask.call(b,e,G)||e),s(t,!0,!1,e=e.toString().split("")),b.undoValue=w().join(""),(G.clearMaskOnLostFocus||G.clearIncomplete)&&t.inputmask._valueGet()===u().join("")&&-1===C()&&t.inputmask._valueSet("")}if(void 0!==e)switch(e.action){case"isComplete":return U=e.el,$(w());case"unmaskedvalue":return void 0!==U&&void 0===e.value||(n=e.value,n=(Y.isFunction(G.onBeforeMask)&&G.onBeforeMask.call(b,n,G)||n).split(""),s.call(this,void 0,!1,!1,n),Y.isFunction(G.onBeforeWrite)&&G.onBeforeWrite.call(b,void 0,w(),0,G)),i(U);case"mask":!function(){h.off(U);var t=function(t,s){"textarea"!==t.tagName.toLowerCase()&&s.ignorables.push(nt.ENTER);var e=t.getAttribute("type"),n="input"===t.tagName.toLowerCase()&&-1!==Y.inArray(e,s.supportsInputType)||t.isContentEditable||"textarea"===t.tagName.toLowerCase();if(!n)if("input"===t.tagName.toLowerCase()){var i=Z.createElement("input");i.setAttribute("type",e),n="text"===i.type,i=null}else n="partial";return!1!==n?function(t){var e,n,i;function o(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==C()||!0!==s.nullable?(this.inputmask.shadowRoot||Z.activeElement)===this&&s.clearMaskOnLostFocus?(_?B(w().slice()).reverse():B(w().slice())).join(""):e.call(this):"":e.call(this)}function r(t){n.call(this,t),this.inputmask&&z(this,t)}if(!t.inputmask.__valueGet){if(!0!==s.noValuePatching){if(Object.getOwnPropertyDescriptor){var a=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;a&&a.get&&a.set?(e=a.get,n=a.set,Object.defineProperty(t,"value",{get:o,set:r,configurable:!0})):"input"!==t.tagName.toLowerCase()&&(e=function(){return this.textContent},n=function(t){this.textContent=t},Object.defineProperty(t,"value",{get:o,set:r,configurable:!0}))}else Z.__lookupGetter__&&t.__lookupGetter__("value")&&(e=t.__lookupGetter__("value"),n=t.__lookupSetter__("value"),t.__defineGetter__("value",o),t.__defineSetter__("value",r));t.inputmask.__valueGet=e,t.inputmask.__valueSet=n}t.inputmask._valueGet=function(t){return _&&!0!==t?e.call(this.el).split("").reverse().join(""):e.call(this.el)},t.inputmask._valueSet=function(t,e){n.call(this.el,null==t?"":!0!==e&&_?t.split("").reverse().join(""):t)},void 0===e&&(e=function(){return this.value},n=function(t){this.value=t},function(t){if(Y.valHooks&&(void 0===Y.valHooks[t]||!0!==Y.valHooks[t].inputmaskpatch)){var n=Y.valHooks[t]&&Y.valHooks[t].get?Y.valHooks[t].get:function(t){return t.value},i=Y.valHooks[t]&&Y.valHooks[t].set?Y.valHooks[t].set:function(t,e){return t.value=e,t};Y.valHooks[t]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var e=n(t);return-1!==C(void 0,void 0,t.inputmask.maskset.validPositions)||!0!==s.nullable?e:""}return n(t)},set:function(t,e){var n=i(t,e);return t.inputmask&&z(t,e),n},inputmaskpatch:!0}}}(t.type),i=t,h.on(i,"mouseenter",function(){var t=this.inputmask._valueGet(!0);t!==(_?w().reverse():w()).join("")&&z(this,t)}))}}(t):t.inputmask=void 0,n}(U,G);if(!1!==t){b.originalPlaceholder=U.placeholder,b.maxLength=void 0!==U?U.maxLength:void 0,-1===b.maxLength&&(b.maxLength=void 0),"inputMode"in U&&null===U.getAttribute("inputmode")&&(U.inputMode=G.inputmode,U.setAttribute("inputmode",G.inputmode)),!0===t&&(G.showMaskOnFocus=G.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(U.autocomplete),et&&(G.insertModeVisual=!1),h.on(U,"submit",L.submitEvent),h.on(U,"reset",L.resetEvent),h.on(U,"blur",L.blurEvent),h.on(U,"focus",L.focusEvent),h.on(U,"invalid",L.invalidEvent),h.on(U,"click",L.clickEvent),h.on(U,"mouseleave",L.mouseleaveEvent),h.on(U,"mouseenter",L.mouseenterEvent),h.on(U,"paste",L.pasteEvent),h.on(U,"cut",L.cutEvent),h.on(U,"complete",G.oncomplete),h.on(U,"incomplete",G.onincomplete),h.on(U,"cleared",G.oncleared),J||!0===G.inputEventOnly?U.removeAttribute("maxLength"):(h.on(U,"keydown",L.keydownEvent),h.on(U,"keypress",L.keypressEvent)),h.on(U,"input",L.inputFallBackEvent),h.on(U,"compositionend",L.compositionendEvent)),h.on(U,"setvalue",L.setValueEvent),b.undoValue=u().join("");var e=(U.inputmask.shadowRoot||Z).activeElement;if(""!==U.inputmask._valueGet(!0)||!1===G.clearMaskOnLostFocus||e===U){z(U,U.inputmask._valueGet(!0));var n=w().slice();!1===$(n)&&G.clearIncomplete&&T(),G.clearMaskOnLostFocus&&e!==U&&(-1===C()?n=[]:B(n)),(!1===G.clearMaskOnLostFocus||G.showMaskOnFocus&&e===U||""!==U.inputmask._valueGet(!0))&&N(U,n),e===U&&F(U,M(C()))}}}();break;case"format":return n=(Y.isFunction(G.onBeforeMask)&&G.onBeforeMask.call(b,e.value,G)||e.value).split(""),s.call(this,void 0,!0,!1,n),e.metadata?{value:_?w().slice().reverse().join(""):w().join(""),metadata:t.call(this,{action:"getmetadata"},q,G)}:_?w().slice().reverse().join(""):w().join("");case"isValid":e.value?(n=(Y.isFunction(G.onBeforeMask)&&G.onBeforeMask.call(b,e.value,G)||e.value).split(""),s.call(this,void 0,!0,!1,n)):e.value=_?w().slice().reverse().join(""):w().join("");for(var o=w(),r=a(),j=o.length-1;r<j&&!A(j);j--);return o.splice(r,j+1-r),$(o)&&e.value===(_?w().slice().reverse().join(""):w().join(""));case"getemptymask":return u().join("");case"remove":if(U&&U.inputmask){Y.data(U,"_inputmask_opts",null);var V=G.autoUnmask?i(U):U.inputmask._valueGet(G.autoUnmask);V!==u().join("")?U.inputmask._valueSet(V,G.autoUnmask):U.inputmask._valueSet(""),h.off(U),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(U),"value")&&U.inputmask.__valueGet&&Object.defineProperty(U,"value",{get:U.inputmask.__valueGet,set:U.inputmask.__valueSet,configurable:!0}):Z.__lookupGetter__&&U.__lookupGetter__("value")&&U.inputmask.__valueGet&&(U.__defineGetter__("value",U.inputmask.__valueGet),U.__defineSetter__("value",U.inputmask.__valueSet)),U.inputmask=void 0}return U;case"getmetadata":if(Y.isArray(q.metadata)){var W=v(!0,0,!1).join("");return Y.each(q.metadata,function(t,e){if(e.mask===W)return W=e,!1}),W}return q.metadata}}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===i("test".__proto__)?function(t){return t.__proto__}:function(t){return t.constructor.prototype})},function(t,e,n){"use strict";function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(1),o=i.dependencyLib,r=n(0),f=(new Date).getFullYear(),s=n(6).default,m={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return c(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return c(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return c(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return c(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return c(Date.prototype.getHours.call(this),2)}],hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(t){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return c(Date.prototype.getHours.call(this),2)}],Hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(t){return function(){return c(Date.prototype.getHours.call(this),t)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return c(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return c(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return c(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return c(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},a={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function l(t){var e=new RegExp("\\d+$").exec(t[0]);if(e&&void 0!==e[0]){var n=m[t[0][0]+"x"].slice("");return n[0]=n[0](e[0]),n[3]=n[3](e[0]),n}if(m[t[0]])return m[t[0]]}function v(t){if(!t.tokenizer){var e=[],n=[];for(var i in m)if(/\.*x$/.test(i)){var o=i[0]+"\\d+";-1===n.indexOf(o)&&n.push(o)}else-1===e.indexOf(i[0])&&e.push(i[0]);t.tokenizer="("+(0<n.length?n.join("|")+"|":"")+e.join("+|")+")+?|.",t.tokenizer=new RegExp(t.tokenizer,"g")}return t.tokenizer}function p(t,e,n,i){var o,r,a="";for(v(n).lastIndex=0;o=v(n).exec(t);)if(void 0===e)if(r=l(o))a+="("+r[0]+")";else switch(o[0]){case"[":a+="(";break;case"]":a+=")?";break;default:a+=s(o[0])}else if(r=l(o))if(!0!==i&&r[3]){a+=r[3].call(e.date)}else r[2]?a+=e["raw"+r[2]]:a+=o[0];else a+=o[0];return a}function c(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}function y(t,e,n){var i,o,r,a,s,l={date:new Date(1,0,1)},c=t;if("string"==typeof c){for(v(n).lastIndex=0;o=v(n).exec(e);){var u=new RegExp("\\d+$").exec(o[0]),d=u?o[0][0]+"x":o[0],h=void 0;if(u){var f=v(n).lastIndex,p=b(o.index,n);v(n).lastIndex=f,h=c.slice(0,c.indexOf(p.nextMatch[0]))}else h=c.slice(0,d.length);Object.prototype.hasOwnProperty.call(m,d)&&(i=m[d][2],r=m[d][1],(a=l)[i]=(s=h).replace(/[^0-9]/g,"0"),a["raw"+i]=s,void 0!==r&&r.call(a.date,"month"==i?parseInt(a[i])-1:a[i])),c=c.slice(h.length)}return l}if(c&&"object"===g(c)&&Object.prototype.hasOwnProperty.call(c,"date"))return c}function u(t,e){return p(e.inputFormat,{date:t},e)}function b(t,e){var n,i,o=0,r=0;for(v(e).lastIndex=0;i=v(e).exec(e.inputFormat);){var a=new RegExp("\\d+$").exec(i[0]);if(t<=(o+=r=a?parseInt(a[0]):i[0].length)){n=i,i=v(e).exec(e.inputFormat);break}}return{targetMatchIndex:o-r,nextMatch:i,targetMatch:n}}i.extendAliases({datetime:{mask:function(t){return t.numericInput=!1,m.S=t.i18n.ordinalSuffix.join("|"),t.inputFormat=a[t.inputFormat]||t.inputFormat,t.displayFormat=a[t.displayFormat]||t.displayFormat||t.inputFormat,t.outputFormat=a[t.outputFormat]||t.outputFormat||t.inputFormat,t.placeholder=""!==t.placeholder?t.placeholder:t.inputFormat.replace(/[[\]]/,""),t.regex=p(t.inputFormat,void 0,t),t.min=y(t.min,t.inputFormat,t),t.max=y(t.max,t.inputFormat,t),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,skipOptionalPartCharacter:"",i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},preValidation:function(t,e,n,i,o,r,a,s){if(s)return!0;if(isNaN(n)&&t[e]!==n){var l=b(e,o);if(l.nextMatch&&l.nextMatch[0]===n&&1<l.targetMatch[0].length){var c=m[l.targetMatch[0]][0];if(new RegExp(c).test("0"+t[e-1]))return t[e]=t[e-1],t[e-1]="0",{fuzzy:!0,buffer:t,refreshFromBuffer:{start:e-1,end:e+1},pos:e+1}}}return!0},postValidation:function(t,e,n,i,o,r,a,s){if(a)return!0;var l,c;if(!1===i)return(l=b(e+1,o)).targetMatch&&l.targetMatchIndex===e&&1<l.targetMatch[0].length&&void 0!==m[l.targetMatch[0]]&&(c=m[l.targetMatch[0]][0],new RegExp(c).test("0"+n))?{insert:[{pos:e,c:"0"},{pos:e+1,c:n}],pos:e+1}:i;if(i.fuzzy&&(t=i.buffer,e=i.pos),(l=b(e,o)).targetMatch&&l.targetMatch[0]&&void 0!==m[l.targetMatch[0]]){c=m[l.targetMatch[0]][0];var u=t.slice(l.targetMatchIndex,l.targetMatchIndex+l.targetMatch[0].length);!1===new RegExp(c).test(u.join(""))&&2===l.targetMatch[0].length&&r.validPositions[l.targetMatchIndex]&&r.validPositions[l.targetMatchIndex+1]&&(r.validPositions[l.targetMatchIndex+1].input="0")}var d=i,h=y(t.join(""),o.inputFormat,o);return d&&h.date.getTime()==h.date.getTime()&&(d=function(t,e,n,i,o){if(!e)return e;if(n.min){if(t.rawyear){var r,a=t.rawyear.replace(/[^0-9]/g,""),s=n.min.year.substr(0,a.length);if(a<s){var l=b(e.pos,n);if(a=t.rawyear.substr(0,e.pos-l.targetMatchIndex+1),(s=n.min.year.substr(0,a.length))<=a)return e.remove=l.targetMatchIndex+a.length,e;if(a="yyyy"===l.targetMatch[0]?t.rawyear.substr(1,1):t.rawyear.substr(0,1),s=n.min.year.substr(2,1),r=n.max?n.max.year.substr(2,1):a,1===a.length&&s<=a<=r&&!0!==o)return"yyyy"===l.targetMatch[0]?(e.insert=[{pos:e.pos+1,c:a,strict:!0}],e.caret=e.pos+2,i.validPositions[e.pos].input=n.min.year[1]):(e.insert=[{pos:e.pos+1,c:n.min.year[1],strict:!0},{pos:e.pos+2,c:a,strict:!0}],e.caret=e.pos+3,i.validPositions[e.pos].input=n.min.year[0]),e;e=!1}}e&&t.year&&t.year===t.rawyear&&n.min.date.getTime()==n.min.date.getTime()&&(e=n.min.date.getTime()<=t.date.getTime())}return e&&n.max&&n.max.date.getTime()==n.max.date.getTime()&&(e=n.max.date.getTime()>=t.date.getTime()),e}(h,d=function(t,e,n){if(!isFinite(t.rawday)||"29"==t.day&&!isFinite(t.rawyear)||new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day)return e;if("29"==t.day){var i=b(e.pos,n);if("yyyy"===i.targetMatch[0]&&e.pos-i.targetMatchIndex==2)return e.remove=e.pos+1,e}return!1}(h,d=function(t,e,n){if(t.year!==t.rawyear){var i=f.toString(),o=t.rawyear.replace(/[^0-9]/g,""),r=i.slice(0,o.length),a=i.slice(o.length);if(2===o.length&&o===r){var s=new Date(f,t.month-1,t.day);t.day===s.getDay()&&(!n.max||n.max.date.getTime()>=s.getTime())&&(t.date.setFullYear(f),t.year=i,e.insert=[{pos:e.pos+1,c:a[0]},{pos:e.pos+2,c:a[1]}])}}return e}(h,d,o),o),o,r,s)),e&&d&&i.pos!==e?{buffer:p(o.inputFormat,h,o).split(""),refreshFromBuffer:{start:e,end:i.pos}}:d},onKeyDown:function(t,e,n,i){t.ctrlKey&&t.keyCode===r.RIGHT&&(this.inputmask._valueSet(u(new Date,i)),o(this).trigger("setvalue"))},onUnMask:function(t,e,n){return e?p(n.outputFormat,y(t,n.inputFormat,n),n,!0):e},casing:function(t,e,n,i){return 0==e.nativeDef.indexOf("[ap]")?t.toLowerCase():0==e.nativeDef.indexOf("[AP]")?t.toUpperCase():t},onBeforeMask:function(t,e){return"[object Date]"===Object.prototype.toString.call(t)&&(t=u(t,e)),t},insertMode:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric"}}),t.exports=i},function(t,e,n){"use strict";var o=n(1),m=o.dependencyLib,s=n(0),f=n(6).default;function a(t,e){for(var n="",i=0;i<t.length;i++)o.prototype.definitions[t.charAt(i)]||e.definitions[t.charAt(i)]||e.optionalmarker[0]===t.charAt(i)||e.optionalmarker[1]===t.charAt(i)||e.quantifiermarker[0]===t.charAt(i)||e.quantifiermarker[1]===t.charAt(i)||e.groupmarker[0]===t.charAt(i)||e.groupmarker[1]===t.charAt(i)||e.alternatormarker===t.charAt(i)?n+="\\"+t.charAt(i):n+=t.charAt(i);return n}function p(t,e,n,i){if(0<t.length&&0<e&&(!n.digitsOptional||i)){var o=m.inArray(n.radixPoint,t);-1===o&&(t.push(n.radixPoint),o=t.length-1);for(var r=1;r<=e;r++)isFinite(t[o+r])||(t[o+r]="0")}return t}function v(t,e){var n=0;if("+"===t){for(n in e.validPositions);n=parseInt(n)}for(var i in e.tests)if(n<=(i=parseInt(i)))for(var o=0,r=e.tests[i].length;o<r;o++)if((void 0===e.validPositions[i]||"-"===t)&&e.tests[i][o].match.def===t)return i+(void 0!==e.validPositions[i]&&"-"!==t?1:0);return n}function y(n,t){var i=-1;return m.each(t.validPositions,function(t,e){if(e&&e.match.def===n)return i=parseInt(t),!1}),i}function i(t,e,n,i,o){var r=e.buffer?e.buffer.indexOf(o.radixPoint):-1,a=-1!==r&&new RegExp("[0-9-]").test(t);return o._radixDance&&a&&null==e.validPositions[r]?{insert:{pos:r===n?r+1:r,c:o.radixPoint},pos:n}:a}o.extendAliases({numeric:{mask:function(t){t.repeat=0,t.groupSeparator===t.radixPoint&&t.digits&&"0"!==t.digits&&("."===t.radixPoint?t.groupSeparator=",":","===t.radixPoint?t.groupSeparator=".":t.groupSeparator="")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),1<t.placeholder.length&&(t.placeholder=t.placeholder.charAt(0)),"radixFocus"===t.positionCaretOnClick&&""===t.placeholder&&(t.positionCaretOnClick="lvp");var e="0",n=t.radixPoint;!0===t.numericInput&&void 0===t.__financeInput?(e="1",t.positionCaretOnClick="radixFocus"===t.positionCaretOnClick?"lvp":t.positionCaretOnClick,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t._radixDance=!1,n=","===t.radixPoint?"?":"!",""!==t.radixPoint&&void 0===t.definitions[n]&&(t.definitions[n]={},t.definitions[n].validator="["+t.radixPoint+"]",t.definitions[n].placeholder=t.radixPoint,t.definitions[n].static=!0,t.definitions[n].generated=!0)):(t.__financeInput=!1,t.numericInput=!0);var i,o="[+]";if(o+=a(t.prefix,t),""!==t.groupSeparator?(void 0===t.definitions[t.groupSeparator]&&(t.definitions[t.groupSeparator]={},t.definitions[t.groupSeparator].validator="["+t.groupSeparator+"]",t.definitions[t.groupSeparator].placeholder=t.groupSeparator,t.definitions[t.groupSeparator].static=!0,t.definitions[t.groupSeparator].generated=!0),o+=t._mask(t)):o+="9{+}",void 0!==t.digits&&0!==t.digits){var r=t.digits.toString().split(",");isFinite(r[0])&&r[1]&&isFinite(r[1])?o+=n+e+"{"+t.digits+"}":(isNaN(t.digits)||0<parseInt(t.digits))&&(t.digitsOptional?(i=o+n+e+"{0,"+t.digits+"}",t.keepStatic=!0):o+=n+e+"{"+t.digits+"}")}return o+=a(t.suffix,t),o+="[-]",i&&(o=[i+a(t.suffix,t)+"[-]",o]),t.greedy=!1,function(t){void 0===t.parseMinMaxOptions&&(null!==t.min&&(t.min=t.min.toString().replace(new RegExp(f(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.min=t.min.replace(t.radixPoint,".")),t.min=isFinite(t.min)?parseFloat(t.min):NaN,isNaN(t.min)&&(t.min=Number.MIN_VALUE)),null!==t.max&&(t.max=t.max.toString().replace(new RegExp(f(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.max=t.max.replace(t.radixPoint,".")),t.max=isFinite(t.max)?parseFloat(t.max):NaN,isNaN(t.max)&&(t.max=Number.MAX_VALUE)),t.parseMinMaxOptions="done")}(t),o},_mask:function(t){return"("+t.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"numeric",shortcuts:{k:"000",m:"000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",definitions:{0:{validator:i},1:{validator:i,definitionSymbol:"9"},"+":{validator:function(t,e,n,i,o){return o.allowMinus&&("-"===t||t===o.negationSymbol.front)}},"-":{validator:function(t,e,n,i,o){return o.allowMinus&&t===o.negationSymbol.back}}},preValidation:function(t,e,n,i,o,r,a,s){if(!1!==o.__financeInput&&n===o.radixPoint)return!1;var l;if(l=o.shortcuts&&o.shortcuts[n]){if(1<l.length)for(var c=[],u=0;u<l.length;u++)c.push({pos:e+u,c:l[u],strict:!1});return{insert:c}}var d=m.inArray(o.radixPoint,t),h=e;if(e=function(t,e,n,i,o){return o._radixDance&&o.numericInput&&e!==o.negationSymbol.back&&t<=n&&(0<n||e==o.radixPoint)&&(void 0===i.validPositions[t-1]||i.validPositions[t-1].input!==o.negationSymbol.back)&&--t,t}(e,n,d,r,o),"-"===n||n===o.negationSymbol.front){if(!0!==o.allowMinus)return!1;var f=!1,p=y("+",r),g=y("-",r);return-1!==p&&(f=[p,g]),!1!==f?{remove:f,caret:h}:{insert:[{pos:v("+",r),c:o.negationSymbol.front,fromIsValid:!0},{pos:v("-",r),c:o.negationSymbol.back,fromIsValid:void 0}],caret:h+o.negationSymbol.back.length}}if(s)return!0;if(-1!==d&&!0===o._radixDance&&!1===i&&n===o.radixPoint&&void 0!==o.digits&&(isNaN(o.digits)||0<parseInt(o.digits))&&d!==e)return{caret:o._radixDance&&e===d-1?d+1:d};if(!1===o.__financeInput)if(i){if(o.digitsOptional)return{rewritePosition:a.end};if(!o.digitsOptional){if(a.begin>d&&a.end<=d)return n===o.radixPoint?{insert:{pos:d+1,c:"0",fromIsValid:!0},rewritePosition:d}:{rewritePosition:d+1};if(a.begin<d)return{rewritePosition:a.begin-1}}}else if(!o.showMaskOnHover&&!o.showMaskOnFocus&&!o.digitsOptional&&0<o.digits&&""===this.inputmask.__valueGet.call(this))return{rewritePosition:d};return{rewritePosition:e}},postValidation:function(t,e,n,i,o,r,a){if(!1===i)return i;if(a)return!0;if(null!==o.min||null!==o.max){var s=o.onUnMask(t.slice().reverse().join(""),void 0,m.extend({},o,{unmaskAsNumber:!0}));if(null!==o.min&&s<o.min&&(s.toString().length>o.min.toString().length||s<0))return!1;if(null!==o.max&&s>o.max)return!!o.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:p(o.max.toString().replace(".",o.radixPoint).split(""),o.digits,o).reverse()}}return i},onUnMask:function(t,e,n){if(""===e&&!0===n.nullable)return e;var i=t.replace(n.prefix,"");return i=(i=i.replace(n.suffix,"")).replace(new RegExp(f(n.groupSeparator),"g"),""),""!==n.placeholder.charAt(0)&&(i=i.replace(new RegExp(n.placeholder.charAt(0),"g"),"0")),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==i.indexOf(n.radixPoint)&&(i=i.replace(f.call(this,n.radixPoint),".")),i=(i=i.replace(new RegExp("^"+f(n.negationSymbol.front)),"-")).replace(new RegExp(f(n.negationSymbol.back)+"$"),""),Number(i)):i},isComplete:function(t,e){var n=(e.numericInput?t.slice().reverse():t).join("");return n=(n=(n=(n=(n=n.replace(new RegExp("^"+f(e.negationSymbol.front)),"-")).replace(new RegExp(f(e.negationSymbol.back)+"$"),"")).replace(e.prefix,"")).replace(e.suffix,"")).replace(new RegExp(f(e.groupSeparator)+"([0-9]{3})","g"),"$1"),","===e.radixPoint&&(n=n.replace(f(e.radixPoint),".")),isFinite(n)},onBeforeMask:function(t,e){var n=e.radixPoint||",";isFinite(e.digits)&&(e.digits=parseInt(e.digits)),"number"!=typeof t&&"number"!==e.inputType||""===n||(t=t.toString().replace(".",n));var i=t.split(n),o=i[0].replace(/[^\-0-9]/g,""),r=1<i.length?i[1].replace(/[^0-9]/g,""):"",a=1<i.length;t=o+(""!==r?n+r:r);var s=0;if(""!==n&&(s=!e.digitsOptional||e.digits<r.length?e.digits:r.length,""!==r||!e.digitsOptional)){var l=Math.pow(10,s||1);t=t.replace(f(n),"."),isNaN(parseFloat(t))||(t=(e.roundingFN(parseFloat(t)*l)/l).toFixed(s)),t=t.toString().replace(".",n)}if(0===e.digits&&-1!==t.indexOf(n)&&(t=t.substring(0,t.indexOf(n))),null!==e.min||null!==e.max){var c=t.toString().replace(n,".");null!==e.min&&c<e.min?t=e.min.toString().replace(".",n):null!==e.max&&c>e.max&&(t=e.max.toString().replace(".",n))}return p(t.toString().split(""),s,e,a).join("")},onBeforeWrite:function(t,e,n,i){function o(t,e){if(!1!==i.__financeInput||e){var n=m.inArray(i.radixPoint,t);-1!==n&&t.splice(n,1)}if(""!==i.groupSeparator)for(;-1!==(n=t.indexOf(i.groupSeparator));)t.splice(n,1);return t}var r,a=function(t,e){var n=new RegExp("(^"+(""!==e.negationSymbol.front?f(e.negationSymbol.front)+"?":"")+f(e.prefix)+")(.*)("+f(e.suffix)+(""!=e.negationSymbol.back?f(e.negationSymbol.back)+"?":"")+"$)").exec(t.slice().reverse().join("")),i=n?n[2]:"",o=!1;return i&&(i=i.split(e.radixPoint.charAt(0))[0],o=new RegExp("^[0"+e.groupSeparator+"]*").exec(i)),!(!o||!(1<o[0].length||0<o[0].length&&o[0].length<i.length))&&o}(e,i);if(a)for(var s=e.join("").lastIndexOf(a[0].split("").reverse().join(""))-(a[0]==a.input?0:1),l=a[0]==a.input?1:0,c=a[0].length-l;0<c;c--)delete this.maskset.validPositions[s+c],delete e[s+c];if(t)switch(t.type){case"blur":case"checkval":if(null!==i.min){var u=i.onUnMask(e.slice().reverse().join(""),void 0,m.extend({},i,{unmaskAsNumber:!0}));if(null!==i.min&&u<i.min)return{refreshFromBuffer:!0,buffer:p(i.min.toString().replace(".",i.radixPoint).split(""),i.digits,i).reverse()}}if(e[e.length-1]===i.negationSymbol.front){var d=new RegExp("(^"+(""!=i.negationSymbol.front?f(i.negationSymbol.front)+"?":"")+f(i.prefix)+")(.*)("+f(i.suffix)+(""!=i.negationSymbol.back?f(i.negationSymbol.back)+"?":"")+"$)").exec(o(e.slice(),!0).reverse().join(""));0==(d?d[2]:"")&&(r={refreshFromBuffer:!0,buffer:[0]})}else""!==i.radixPoint&&e[0]===i.radixPoint&&(r&&r.buffer?r.buffer.shift():(e.shift(),r={refreshFromBuffer:!0,buffer:o(e)}));if(i.enforceDigitsOnBlur){var h=(r=r||{})&&r.buffer||e.slice().reverse();r.refreshFromBuffer=!0,r.buffer=p(h,i.digits,i,!0).reverse()}}return r},onKeyDown:function(t,e,n,i){var o,r=m(this);if(t.ctrlKey)switch(t.keyCode){case s.UP:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(i.step)),r.trigger("setvalue"),!1;case s.DOWN:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(i.step)),r.trigger("setvalue"),!1}if(!t.shiftKey&&(t.keyCode===s.DELETE||t.keyCode===s.BACKSPACE||t.keyCode===s.BACKSPACE_SAFARI)&&n.begin!==e.length){if(e[t.keyCode===s.DELETE?n.begin-1:n.end]===i.negationSymbol.front)return o=e.slice().reverse(),""!==i.negationSymbol.front&&o.shift(),""!==i.negationSymbol.back&&o.pop(),r.trigger("setvalue",[o.join(""),n.begin]),!1;if(!0===i._radixDance){var a=m.inArray(i.radixPoint,e);if(i.digitsOptional){if(0===a)return(o=e.slice().reverse()).pop(),r.trigger("setvalue",[o.join(""),n.begin>=o.length?o.length:n.begin]),!1}else if(-1!==a&&(n.begin<a||n.end<a||t.keyCode===s.DELETE&&n.begin===a))return n.begin!==n.end||t.keyCode!==s.BACKSPACE&&t.keyCode!==s.BACKSPACE_SAFARI||n.begin++,(o=e.slice().reverse()).splice(o.length-n.begin,n.begin-n.end+1),o=p(o,i.digits,i).join(""),r.trigger("setvalue",[o,n.begin>=o.length?a+1:n.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(t){return"("+t.groupSeparator+"99){*|1}("+t.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}}),t.exports=o},function(t,e,n){"use strict";var i=h(n(4)),l=h(n(1));function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(i){return function(){var t,e=d(i);if(s()){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,t)}}function c(t){var n="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return a(t,arguments,d(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),u(e,t)})(t)}function a(t,e,n){return(a=s()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&u(o,n.prototype),o}).apply(null,arguments)}function s(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){return t&&t.__esModule?t:{default:t}}var f=i.default.document;if(f&&f.head&&f.head.attachShadow&&void 0===customElements.get("input-mask")){var p=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,c(HTMLElement));var a=r(s);function s(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var e=(t=a.call(this)).getAttributeNames(),n=t.attachShadow({mode:"closed"}),i=f.createElement("input");for(var o in i.type="text",n.appendChild(i),e)Object.prototype.hasOwnProperty.call(e,o)&&i.setAttribute(e[o],t.getAttribute(e[o]));var r=new l.default;return r.dataAttribute="",r.mask(i),i.inputmask.shadowRoot=n,t}return s}();customElements.define("input-mask",p)}},function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=n(3),a=n(1);void 0===r.fn.inputmask&&(r.fn.inputmask=function(t,e){var n,i=this[0];if(void 0===e&&(e={}),"string"==typeof t)switch(t){case"unmaskedvalue":return i&&i.inputmask?i.inputmask.unmaskedvalue():r(i).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return i&&i.inputmask?i.inputmask.getemptymask():"";case"hasMaskedValue":return!(!i||!i.inputmask)&&i.inputmask.hasMaskedValue();case"isComplete":return!i||!i.inputmask||i.inputmask.isComplete();case"getmetadata":return i&&i.inputmask?i.inputmask.getmetadata():void 0;case"setvalue":a.setValue(i,e);break;case"option":if("string"!=typeof e)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(e)});if(i&&void 0!==i.inputmask)return i.inputmask.option(e);break;default:return e.alias=t,n=new a(e),this.each(function(){n.mask(this)})}else{if(Array.isArray(t))return e.alias=t,n=new a(e),this.each(function(){n.mask(this)});if("object"==o(t))return n=new a(t),void 0===t.mask&&void 0===t.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(t);n.mask(this)}):this.each(function(){n.mask(this)});if(void 0===t)return this.each(function(){(n=new a(e)).mask(this)})}})},function(t,e,n){"use strict";var i=n(7),o=n(3);i.dependencyLib===o&&n(14),t.exports=i}],installedModules={},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)__webpack_require__.d(n,i,function(t){return e[t]}.bind(null,i));return n},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=15);function __webpack_require__(t){if(installedModules[t])return installedModules[t].exports;var e=installedModules[t]={i:t,l:!1,exports:{}};return modules[t].call(e.exports,e,e.exports,__webpack_require__),e.l=!0,e.exports}var modules,installedModules}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).autocomplete=e()}(this,function(){"use strict";return function(c){var s,i,u=document,d=u.createElement("div"),h=d.style,t=navigator.userAgent,e=-1!==t.indexOf("Firefox")&&-1!==t.indexOf("Mobile"),o=c.debounceWaitMs||0,r=c.preventSubmit||!1,n=e?"input":"keyup",l=[],f="",a=2,p=c.showOnFocus,g=0;if(void 0!==c.minLength&&(a=c.minLength),!c.input)throw new Error("input undefined");var m=c.input;function v(){i&&window.clearTimeout(i)}function y(){return!!d.parentNode}function b(){var t;g++,l=[],f="",s=void 0,(t=d.parentNode)&&t.removeChild(d)}function _(){for(;d.firstChild;)d.removeChild(d.firstChild);var i=function(t,e){var n=u.createElement("div");return n.textContent=t.label||"",n};c.render&&(i=c.render);var o=function(t,e){var n=u.createElement("div");return n.textContent=t,n};c.renderGroup&&(o=c.renderGroup);var r=u.createDocumentFragment(),a="#9?$";if(l.forEach(function(e){if(e.group&&e.group!==a){a=e.group;var t=o(e.group,f);t&&(t.className+=" group",r.appendChild(t))}var n=i(e,f);n&&(n.addEventListener("click",function(t){c.onSelect(e,m),b(),t.preventDefault(),t.stopPropagation()}),e===s&&(n.className+=" selected"),r.appendChild(n))}),d.appendChild(r),l.length<1){if(!c.emptyMsg)return void b();var t=u.createElement("div");t.className="empty",t.textContent=c.emptyMsg,d.appendChild(t)}d.parentNode||u.body.appendChild(d),function(){if(y()){h.height="auto",h.width=m.offsetWidth+"px";var s,l=0;t(),t(),c.customize&&s&&c.customize(m,s,d,l)}function t(){var t=u.documentElement,e=t.clientTop||u.body.clientTop||0,n=t.clientLeft||u.body.clientLeft||0,i=window.pageYOffset||t.scrollTop,o=window.pageXOffset||t.scrollLeft,r=(s=m.getBoundingClientRect()).top+m.offsetHeight+i-e,a=s.left+o-n;h.top=r+"px",h.left=a+"px",(l=window.innerHeight-(s.top+m.offsetHeight))<0&&(l=0),h.top=r+"px",h.bottom="",h.left=a+"px",h.maxHeight=l+"px"}}(),function(){var t=d.getElementsByClassName("selected");if(0<t.length){var e=t[0],n=e.previousElementSibling;if(n&&-1!==n.className.indexOf("group")&&!n.previousElementSibling&&(e=n),e.offsetTop<d.scrollTop)d.scrollTop=e.offsetTop;else{var i=e.offsetTop+e.offsetHeight,o=d.scrollTop+d.offsetHeight;o<i&&(d.scrollTop+=i-o)}}}()}function E(){y()&&_()}function w(){E()}function T(t){t.target!==d?E():t.preventDefault()}function C(t){for(var e=t.which||t.keyCode||0,n=0,i=[38,13,27,39,37,16,17,18,20,91,9];n<i.length;n++)if(e===i[n])return;112<=e&&e<=123||40===e&&y()||O(0)}function x(t){var e=t.which||t.keyCode||0;if(38===e||40===e||27===e){var n=y();if(27===e)b();else{if(l.length<1)return;38===e?function(){if(l.length<1)s=void 0;else if(s===l[0])s=l[l.length-1];else for(var t=l.length-1;0<t;t--)if(s===l[t]||1===t){s=l[t-1];break}}():function(){if(l.length<1&&(s=void 0),s&&s!==l[l.length-1]){for(var t=0;t<l.length-1;t++)if(s===l[t]){s=l[t+1];break}}else s=l[0]}(),_()}return t.preventDefault(),void(n&&t.stopPropagation())}13===e&&(s&&(c.onSelect(s,m),b()),r&&t.preventDefault())}function D(){p&&O(1)}function O(t){var e=++g,n=m.value;n.length>=a||1===t?(v(),i=window.setTimeout(function(){c.fetch(n,function(t){g===e&&t&&(f=n,s=0<(l=t).length?l[0]:void 0,_())},0)},0===t?o:0)):b()}function I(){setTimeout(function(){u.activeElement!==m&&b()},200)}return d.className="autocomplete "+(c.className||""),h.position="absolute",d.addEventListener("mousedown",function(t){t.stopPropagation(),t.preventDefault()}),d.addEventListener("focus",function(){return m.focus()}),m.addEventListener("keydown",x),m.addEventListener(n,C),m.addEventListener("blur",I),m.addEventListener("focus",D),window.addEventListener("resize",w),u.addEventListener("scroll",T,!0),{destroy:function(){m.removeEventListener("focus",D),m.removeEventListener("keydown",x),m.removeEventListener(n,C),m.removeEventListener("blur",I),window.removeEventListener("resize",w),u.removeEventListener("scroll",T,!0),v(),b()}}}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).flatpickr=e()}(this,function(){"use strict";var et=function(){return(et=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},nt=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],it={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(t){return"undefined"!=typeof console&&console.warn(t)},getWeek:function(t){var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},ot={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(3<e&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},rt=function(t){return("0"+t).slice(-2)},at=function(t){return!0===t?1:0};function st(n,i,o){var r;return void 0===o&&(o=!1),function(){var t=this,e=arguments;null!==r&&clearTimeout(r),r=window.setTimeout(function(){r=null,o||n.apply(t,e)},i),o&&!r&&n.apply(t,e)}}var lt=function(t){return t instanceof Array?t:[t]};function ct(t,e,n){if(!0===n)return t.classList.add(e);t.classList.remove(e)}function ut(t,e,n){var i=window.document.createElement(t);return e=e||"",n=n||"",i.className=e,void 0!==n&&(i.textContent=n),i}function dt(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ht(t,e){var n=ut("div","numInputWrapper"),i=ut("input","numInput "+t),o=ut("span","arrowUp"),r=ut("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==e)for(var a in e)i.setAttribute(a,e[a]);return n.appendChild(i),n.appendChild(o),n.appendChild(r),n}function t(){}var ft=function(t,e,n){return n.months[e?"shorthand":"longhand"][t]},_={D:t,F:function(t,e,n){t.setMonth(n.months.longhand.indexOf(e))},G:function(t,e){t.setHours(parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,n){t.setHours(t.getHours()%12+12*at(new RegExp(n.amPM[1],"i").test(e)))},M:function(t,e,n){t.setMonth(n.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(1e3*parseFloat(e))},W:function(t,e,n){var i=parseInt(e),o=new Date(t.getFullYear(),0,2+7*(i-1),0,0,0,0);return o.setDate(o.getDate()-o.getDay()+n.firstDayOfWeek),o},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours(parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:t,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},u:function(t,e){return new Date(parseFloat(e))},w:t,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}},pt={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},s={Z:function(t){return t.toISOString()},D:function(t,e,n){return e.weekdays.shorthand[s.w(t,e,n)]},F:function(t,e,n){return ft(s.n(t,e,n)-1,!1,e)},G:function(t,e,n){return rt(s.h(t,e,n))},H:function(t){return rt(t.getHours())},J:function(t,e){return void 0!==e.ordinal?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[at(11<t.getHours())]},M:function(t,e){return ft(t.getMonth(),!0,e)},S:function(t){return rt(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,n){return n.getWeek(t)},Y:function(t){return t.getFullYear()},d:function(t){return rt(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return rt(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(t){return rt(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},gt=function(t){var e=t.config,r=void 0===e?it:e,n=t.l10n,a=void 0===n?ot:n;return function(i,t,e){var o=e||a;return void 0!==r.formatDate?r.formatDate(i,t,o):t.split("").map(function(t,e,n){return s[t]&&"\\"!==n[e-1]?s[t](i,o,r):"\\"!==t?t:""}).join("")}},mt=function(t){var e=t.config,y=void 0===e?it:e,n=t.l10n,b=void 0===n?ot:n;return function(t,e,n,i){if(0===t||t){var o,r=i||b,a=t;if(t instanceof Date)o=new Date(t.getTime());else if("string"!=typeof t&&void 0!==t.toFixed)o=new Date(t);else if("string"==typeof t){var s=e||(y||it).dateFormat,l=String(t).trim();if("today"===l)o=new Date,n=!0;else if(/Z$/.test(l)||/GMT$/.test(l))o=new Date(t);else if(y&&y.parseDate)o=y.parseDate(t,s);else{o=y&&y.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var c=void 0,u=[],d=0,h=0,f="";d<s.length;d++){var p=s[d],g="\\"===p,m="\\"===s[d-1]||g;if(pt[p]&&!m){f+=pt[p];var v=new RegExp(f).exec(t);v&&(c=!0)&&u["Y"!==p?"push":"unshift"]({fn:_[p],val:v[++h]})}else g||(f+=".");u.forEach(function(t){var e=t.fn,n=t.val;return o=e(o,n,r)||o})}o=c?o:void 0}}if(o instanceof Date&&!isNaN(o.getTime()))return!0===n&&o.setHours(0,0,0,0),o;y.errorHandler(new Error("Invalid date provided: "+a))}}};function vt(t,e,n){return void 0===n&&(n=!0),!1!==n?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}var yt=function(t,e,n){return t>Math.min(e,n)&&t<Math.max(e,n)},bt={DAY:864e5};"function"!=typeof Object.assign&&(Object.assign=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var i=function(e){e&&Object.keys(e).forEach(function(t){return n[t]=e[t]})},o=0,r=t;o<r.length;o++)i(r[o]);return n});var _t=300;function a(u,d){var _={config:et({},it,Et.defaultConfig),l10n:ot};function h(t){return t.bind(_)}function e(){var e=_.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==_.calendarContainer&&(_.calendarContainer.style.visibility="hidden",_.calendarContainer.style.display="block"),void 0!==_.daysContainer){var t=(_.days.offsetWidth+1)*e.showMonths;_.daysContainer.style.width=t+"px",_.calendarContainer.style.width=t+(void 0!==_.weekWrapper?_.weekWrapper.offsetWidth:0)+"px",_.calendarContainer.style.removeProperty("visibility"),_.calendarContainer.style.removeProperty("display")}})}function f(t){0===_.selectedDates.length&&F(),void 0!==t&&"blur"!==t.type&&function(t){t.preventDefault();var e="keydown"===t.type,n=t.target;void 0!==_.amPM&&t.target===_.amPM&&(_.amPM.textContent=_.l10n.amPM[at(_.amPM.textContent===_.l10n.amPM[0])]);var i=parseFloat(n.getAttribute("min")),o=parseFloat(n.getAttribute("max")),r=parseFloat(n.getAttribute("step")),a=parseInt(n.value,10),s=a+r*(t.delta||(e?38===t.which?1:-1:0));if(void 0!==n.value&&2===n.value.length){var l=n===_.hourElement,c=n===_.minuteElement;s<i?(s=o+s+at(!l)+(at(l)&&at(!_.amPM)),c&&m(void 0,-1,_.hourElement)):o<s&&(s=n===_.hourElement?s-o-at(!_.amPM):i,c&&m(void 0,1,_.hourElement)),_.amPM&&l&&(1===r?s+a===23:Math.abs(s-a)>r)&&(_.amPM.textContent=_.l10n.amPM[at(_.amPM.textContent===_.l10n.amPM[0])]),n.value=rt(s)}}(t);var e=_._input.value;p(),J(),_._input.value!==e&&_._debouncedChange()}function p(){if(void 0!==_.hourElement&&void 0!==_.minuteElement){var t,e,n=(parseInt(_.hourElement.value.slice(-2),10)||0)%24,i=(parseInt(_.minuteElement.value,10)||0)%60,o=void 0!==_.secondElement?(parseInt(_.secondElement.value,10)||0)%60:0;void 0!==_.amPM&&(t=n,e=_.amPM.textContent,n=t%12+12*at(e===_.l10n.amPM[1]));var r=void 0!==_.config.minTime||_.config.minDate&&_.minDateHasTime&&_.latestSelectedDateObj&&0===vt(_.latestSelectedDateObj,_.config.minDate,!0);if(void 0!==_.config.maxTime||_.config.maxDate&&_.maxDateHasTime&&_.latestSelectedDateObj&&0===vt(_.latestSelectedDateObj,_.config.maxDate,!0)){var a=void 0!==_.config.maxTime?_.config.maxTime:_.config.maxDate;(n=Math.min(n,a.getHours()))===a.getHours()&&(i=Math.min(i,a.getMinutes())),i===a.getMinutes()&&(o=Math.min(o,a.getSeconds()))}if(r){var s=void 0!==_.config.minTime?_.config.minTime:_.config.minDate;(n=Math.max(n,s.getHours()))===s.getHours()&&(i=Math.max(i,s.getMinutes())),i===s.getMinutes()&&(o=Math.max(o,s.getSeconds()))}l(n,i,o)}}function o(t){var e=t||_.latestSelectedDateObj;e&&l(e.getHours(),e.getMinutes(),e.getSeconds())}function n(){var t=_.config.defaultHour,e=_.config.defaultMinute,n=_.config.defaultSeconds;if(void 0!==_.config.minDate){var i=_.config.minDate.getHours(),o=_.config.minDate.getMinutes();(t=Math.max(t,i))===i&&(e=Math.max(o,e)),t===i&&e===o&&(n=_.config.minDate.getSeconds())}if(void 0!==_.config.maxDate){var r=_.config.maxDate.getHours(),a=_.config.maxDate.getMinutes();(t=Math.min(t,r))===r&&(e=Math.min(a,e)),t===r&&e===a&&(n=_.config.maxDate.getSeconds())}l(t,e,n)}function l(t,e,n){void 0!==_.latestSelectedDateObj&&_.latestSelectedDateObj.setHours(t%24,e,n||0,0),_.hourElement&&_.minuteElement&&!_.isMobile&&(_.hourElement.value=rt(_.config.time_24hr?t:(12+t)%12+12*at(t%12==0)),_.minuteElement.value=rt(e),void 0!==_.amPM&&(_.amPM.textContent=_.l10n.amPM[at(12<=t)]),void 0!==_.secondElement&&(_.secondElement.value=rt(n)))}function i(t){var e=parseInt(t.target.value)+(t.delta||0);(1<e/1e3||"Enter"===t.key&&!/[^\d]/.test(e.toString()))&&A(e)}function a(e,n,i,o){return n instanceof Array?n.forEach(function(t){return a(e,t,i,o)}):e instanceof Array?e.forEach(function(t){return a(t,n,i,o)}):(e.addEventListener(n,i,o),void _._handlers.push({element:e,event:n,handler:i,options:o}))}function r(e){return function(t){1===t.which&&e(t)}}function c(){U("onChange")}function s(t,e){var n=void 0!==t?_.parseDate(t):_.latestSelectedDateObj||(_.config.minDate&&_.config.minDate>_.now?_.config.minDate:_.config.maxDate&&_.config.maxDate<_.now?_.config.maxDate:_.now),i=_.currentYear,o=_.currentMonth;try{void 0!==n&&(_.currentYear=n.getFullYear(),_.currentMonth=n.getMonth())}catch(t){t.message="Invalid date supplied: "+n,_.config.errorHandler(t)}e&&_.currentYear!==i&&(U("onYearChange"),C()),!e||_.currentYear===i&&_.currentMonth===o||U("onMonthChange"),_.redraw()}function g(t){~t.target.className.indexOf("arrow")&&m(t,t.target.classList.contains("arrowUp")?1:-1)}function m(t,e,n){var i=t&&t.target,o=n||i&&i.parentNode&&i.parentNode.firstChild,r=Y("increment");r.delta=e,o&&o.dispatchEvent(r)}function v(t,e,n,i){var o,r=M(e,!0),a=ut("span","flatpickr-day "+t,e.getDate().toString());return a.dateObj=e,a.$i=i,a.setAttribute("aria-label",_.formatDate(e,_.config.ariaDateFormat)),-1===t.indexOf("hidden")&&0===vt(e,_.now)&&((_.todayDateElem=a).classList.add("today"),a.setAttribute("aria-current","date")),r?(a.tabIndex=-1,X(e)&&(a.classList.add("selected"),_.selectedDateElem=a,"range"===_.config.mode&&(ct(a,"startRange",_.selectedDates[0]&&0===vt(e,_.selectedDates[0],!0)),ct(a,"endRange",_.selectedDates[1]&&0===vt(e,_.selectedDates[1],!0)),"nextMonthDay"===t&&a.classList.add("inRange")))):a.classList.add("flatpickr-disabled"),"range"===_.config.mode&&(o=e,!("range"!==_.config.mode||_.selectedDates.length<2)&&0<=vt(o,_.selectedDates[0])&&vt(o,_.selectedDates[1])<=0)&&!X(e)&&a.classList.add("inRange"),_.weekNumbers&&1===_.config.showMonths&&"prevMonthDay"!==t&&n%7==1&&_.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+_.config.getWeek(e)+"</span>"),U("onDayCreate",a),a}function y(t){t.focus(),"range"===_.config.mode&&P(t)}function b(t){for(var e=0<t?0:_.config.showMonths-1,n=0<t?_.config.showMonths:-1,i=e;i!=n;i+=t)for(var o=_.daysContainer.children[i],r=0<t?0:o.children.length-1,a=0<t?o.children.length:-1,s=r;s!=a;s+=t){var l=o.children[s];if(-1===l.className.indexOf("hidden")&&M(l.dateObj))return l}}function E(t,e){var n=N(document.activeElement||document.body),i=void 0!==t?t:n?document.activeElement:void 0!==_.selectedDateElem&&N(_.selectedDateElem)?_.selectedDateElem:void 0!==_.todayDateElem&&N(_.todayDateElem)?_.todayDateElem:b(0<e?1:-1);return void 0===i?_._input.focus():n?void function(t,e){for(var n=-1===t.className.indexOf("Month")?t.dateObj.getMonth():_.currentMonth,i=0<e?_.config.showMonths:-1,o=0<e?1:-1,r=n-_.currentMonth;r!=i;r+=o)for(var a=_.daysContainer.children[r],s=n-_.currentMonth===r?t.$i+e:e<0?a.children.length-1:0,l=a.children.length,c=s;0<=c&&c<l&&c!=(0<e?l:-1);c+=o){var u=a.children[c];if(-1===u.className.indexOf("hidden")&&M(u.dateObj)&&Math.abs(t.$i-c)>=Math.abs(e))return y(u)}_.changeMonth(o),E(b(o),0)}(i,e):y(i)}function w(t,e){for(var n=(new Date(t,e,1).getDay()-_.l10n.firstDayOfWeek+7)%7,i=_.utils.getDaysInMonth((e-1+12)%12),o=_.utils.getDaysInMonth(e),r=window.document.createDocumentFragment(),a=1<_.config.showMonths,s=a?"prevMonthDay hidden":"prevMonthDay",l=a?"nextMonthDay hidden":"nextMonthDay",c=i+1-n,u=0;c<=i;c++,u++)r.appendChild(v(s,new Date(t,e-1,c),c,u));for(c=1;c<=o;c++,u++)r.appendChild(v("",new Date(t,e,c),c,u));for(var d=o+1;d<=42-n&&(1===_.config.showMonths||u%7!=0);d++,u++)r.appendChild(v(l,new Date(t,e+1,d%o),d,u));var h=ut("div","dayContainer");return h.appendChild(r),h}function T(){if(void 0!==_.daysContainer){dt(_.daysContainer),_.weekNumbers&&dt(_.weekNumbers);for(var t=document.createDocumentFragment(),e=0;e<_.config.showMonths;e++){var n=new Date(_.currentYear,_.currentMonth,1);n.setMonth(_.currentMonth+e),t.appendChild(w(n.getFullYear(),n.getMonth()))}_.daysContainer.appendChild(t),_.days=_.daysContainer.firstChild,"range"===_.config.mode&&1===_.selectedDates.length&&P()}}function C(){if(!(1<_.config.showMonths||"dropdown"!==_.config.monthSelectorType)){_.monthsDropdownContainer.tabIndex=-1,_.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(n=t,!(void 0!==_.config.minDate&&_.currentYear===_.config.minDate.getFullYear()&&n<_.config.minDate.getMonth()||void 0!==_.config.maxDate&&_.currentYear===_.config.maxDate.getFullYear()&&n>_.config.maxDate.getMonth())){var e=ut("option","flatpickr-monthDropdown-month");e.value=new Date(_.currentYear,t).getMonth().toString(),e.textContent=ft(t,_.config.shorthandCurrentMonth,_.l10n),e.tabIndex=-1,_.currentMonth===t&&(e.selected=!0),_.monthsDropdownContainer.appendChild(e)}}var n}function x(){var t,e=ut("div","flatpickr-month"),n=window.document.createDocumentFragment();t=1<_.config.showMonths||"static"===_.config.monthSelectorType?ut("span","cur-month"):(_.monthsDropdownContainer=ut("select","flatpickr-monthDropdown-months"),a(_.monthsDropdownContainer,"change",function(t){var e=t.target,n=parseInt(e.value,10);_.changeMonth(n-_.currentMonth),U("onMonthChange")}),C(),_.monthsDropdownContainer);var i=ht("cur-year",{tabindex:"-1"}),o=i.getElementsByTagName("input")[0];o.setAttribute("aria-label",_.l10n.yearAriaLabel),_.config.minDate&&o.setAttribute("min",_.config.minDate.getFullYear().toString()),_.config.maxDate&&(o.setAttribute("max",_.config.maxDate.getFullYear().toString()),o.disabled=!!_.config.minDate&&_.config.minDate.getFullYear()===_.config.maxDate.getFullYear());var r=ut("div","flatpickr-current-month");return r.appendChild(t),r.appendChild(i),n.appendChild(r),e.appendChild(n),{container:e,yearElement:o,monthElement:t}}function D(){dt(_.monthNav),_.monthNav.appendChild(_.prevMonthNav),_.config.showMonths&&(_.yearElements=[],_.monthElements=[]);for(var t=_.config.showMonths;t--;){var e=x();_.yearElements.push(e.yearElement),_.monthElements.push(e.monthElement),_.monthNav.appendChild(e.container)}_.monthNav.appendChild(_.nextMonthNav)}function O(){_.weekdayContainer?dt(_.weekdayContainer):_.weekdayContainer=ut("div","flatpickr-weekdays");for(var t=_.config.showMonths;t--;){var e=ut("div","flatpickr-weekdaycontainer");_.weekdayContainer.appendChild(e)}return I(),_.weekdayContainer}function I(){if(_.weekdayContainer){var t=_.l10n.firstDayOfWeek,e=_.l10n.weekdays.shorthand.slice();0<t&&t<e.length&&(e=e.splice(t,e.length).concat(e.splice(0,t)));for(var n=_.config.showMonths;n--;)_.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+e.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function k(t,e){void 0===e&&(e=!0);var n=e?t:t-_.currentMonth;n<0&&!0===_._hidePrevMonthArrow||0<n&&!0===_._hideNextMonthArrow||(_.currentMonth+=n,(_.currentMonth<0||11<_.currentMonth)&&(_.currentYear+=11<_.currentMonth?1:-1,_.currentMonth=(_.currentMonth+12)%12,U("onYearChange"),C()),T(),U("onMonthChange"),Z())}function S(t){return!(!_.config.appendTo||!_.config.appendTo.contains(t))||_.calendarContainer.contains(t)}function R(t){if(_.isOpen&&!_.config.inline){var e="function"==typeof(a=t).composedPath?a.composedPath()[0]:a.target,n=S(e),i=e===_.input||e===_.altInput||_.element.contains(e)||t.path&&t.path.indexOf&&(~t.path.indexOf(_.input)||~t.path.indexOf(_.altInput)),o="blur"===t.type?i&&t.relatedTarget&&!S(t.relatedTarget):!i&&!n&&!S(t.relatedTarget),r=!_.config.ignoredFocusElements.some(function(t){return t.contains(e)});o&&r&&(void 0!==_.timeContainer&&void 0!==_.minuteElement&&void 0!==_.hourElement&&f(),_.close(),"range"===_.config.mode&&1===_.selectedDates.length&&(_.clear(!1),_.redraw()))}var a}function A(t){if(!(!t||_.config.minDate&&t<_.config.minDate.getFullYear()||_.config.maxDate&&t>_.config.maxDate.getFullYear())){var e=t,n=_.currentYear!==e;_.currentYear=e||_.currentYear,_.config.maxDate&&_.currentYear===_.config.maxDate.getFullYear()?_.currentMonth=Math.min(_.config.maxDate.getMonth(),_.currentMonth):_.config.minDate&&_.currentYear===_.config.minDate.getFullYear()&&(_.currentMonth=Math.max(_.config.minDate.getMonth(),_.currentMonth)),n&&(_.redraw(),U("onYearChange"),C())}}function M(t,e){void 0===e&&(e=!0);var n=_.parseDate(t,void 0,e);if(_.config.minDate&&n&&vt(n,_.config.minDate,void 0!==e?e:!_.minDateHasTime)<0||_.config.maxDate&&n&&0<vt(n,_.config.maxDate,void 0!==e?e:!_.maxDateHasTime))return!1;if(0===_.config.enable.length&&0===_.config.disable.length)return!0;if(void 0===n)return!1;for(var i=0<_.config.enable.length,o=i?_.config.enable:_.config.disable,r=0,a=void 0;r<o.length;r++){if("function"==typeof(a=o[r])&&a(n))return i;if(a instanceof Date&&void 0!==n&&a.getTime()===n.getTime())return i;if("string"==typeof a&&void 0!==n){var s=_.parseDate(a,void 0,!0);return s&&s.getTime()===n.getTime()?i:!i}if("object"==typeof a&&void 0!==n&&a.from&&a.to&&n.getTime()>=a.from.getTime()&&n.getTime()<=a.to.getTime())return i}return!i}function N(t){return void 0!==_.daysContainer&&-1===t.className.indexOf("hidden")&&_.daysContainer.contains(t)}function K(t){var e=t.target===_._input,n=_.config.allowInput,i=_.isOpen&&(!n||!e),o=_.config.inline&&e&&!n;if(13===t.keyCode&&e){if(n)return _.setDate(_._input.value,!0,t.target===_.altInput?_.config.altFormat:_.config.dateFormat),t.target.blur();_.open()}else if(S(t.target)||i||o){var r=!!_.timeContainer&&_.timeContainer.contains(t.target);switch(t.keyCode){case 13:r?(t.preventDefault(),f(),j()):V(t);break;case 27:t.preventDefault(),j();break;case 8:case 46:e&&!_.config.allowInput&&(t.preventDefault(),_.clear());break;case 37:case 39:if(r||e)_.hourElement&&_.hourElement.focus();else if(t.preventDefault(),void 0!==_.daysContainer&&(!1===n||document.activeElement&&N(document.activeElement))){var a=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),k(a),E(b(1),0)):E(void 0,a)}break;case 38:case 40:t.preventDefault();var s=40===t.keyCode?1:-1;_.daysContainer&&void 0!==t.target.$i||t.target===_.input||t.target===_.altInput?t.ctrlKey?(t.stopPropagation(),A(_.currentYear-s),E(b(1),0)):r||E(void 0,7*s):t.target===_.currentYearElement?A(_.currentYear-s):_.config.enableTime&&(!r&&_.hourElement&&_.hourElement.focus(),f(t),_._debouncedChange());break;case 9:if(r){var l=[_.hourElement,_.minuteElement,_.secondElement,_.amPM].concat(_.pluginElements).filter(function(t){return t}),c=l.indexOf(t.target);if(-1!==c){var u=l[c+(t.shiftKey?-1:1)];t.preventDefault(),(u||_._input).focus()}}else!_.config.noCalendar&&_.daysContainer&&_.daysContainer.contains(t.target)&&t.shiftKey&&(t.preventDefault(),_._input.focus())}}if(void 0!==_.amPM&&t.target===_.amPM)switch(t.key){case _.l10n.amPM[0].charAt(0):case _.l10n.amPM[0].charAt(0).toLowerCase():_.amPM.textContent=_.l10n.amPM[0],p(),J();break;case _.l10n.amPM[1].charAt(0):case _.l10n.amPM[1].charAt(0).toLowerCase():_.amPM.textContent=_.l10n.amPM[1],p(),J()}(e||S(t.target))&&U("onKeyDown",t)}function P(r){if(1===_.selectedDates.length&&(!r||r.classList.contains("flatpickr-day")&&!r.classList.contains("flatpickr-disabled"))){for(var a=r?r.dateObj.getTime():_.days.firstElementChild.dateObj.getTime(),s=_.parseDate(_.selectedDates[0],void 0,!0).getTime(),t=Math.min(a,_.selectedDates[0].getTime()),e=Math.max(a,_.selectedDates[0].getTime()),l=!1,c=0,u=0,n=t;n<e;n+=bt.DAY)M(new Date(n),!0)||(l=l||t<n&&n<e,n<s&&(!c||c<n)?c=n:s<n&&(!u||n<u)&&(u=n));for(var i=0;i<_.config.showMonths;i++)for(var d=_.daysContainer.children[i],o=function(t,e){var n=d.children[t],i=n.dateObj.getTime(),o=0<c&&i<c||0<u&&u<i;return o?(n.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(t){n.classList.remove(t)}),"continue"):l&&!o?"continue":(["startRange","inRange","endRange","notAllowed"].forEach(function(t){n.classList.remove(t)}),void(void 0!==r&&(r.classList.add(a<=_.selectedDates[0].getTime()?"startRange":"endRange"),s<a&&i===s?n.classList.add("startRange"):a<s&&i===s&&n.classList.add("endRange"),c<=i&&(0===u||i<=u)&&yt(i,s,a)&&n.classList.add("inRange"))))},h=0,f=d.children.length;h<f;h++)o(h)}}function L(){!_.isOpen||_.config.static||_.config.inline||H()}function F(){_.setDate(void 0!==_.config.minDate?new Date(_.config.minDate.getTime()):new Date,!0),n(),J()}function B(i){return function(t){var e=_.config["_"+i+"Date"]=_.parseDate(t,_.config.dateFormat),n=_.config["_"+("min"===i?"max":"min")+"Date"];void 0!==e&&(_["min"===i?"minDateHasTime":"maxDateHasTime"]=0<e.getHours()||0<e.getMinutes()||0<e.getSeconds()),_.selectedDates&&(_.selectedDates=_.selectedDates.filter(function(t){return M(t)}),_.selectedDates.length||"min"!==i||o(e),J()),_.daysContainer&&(z(),void 0!==e?_.currentYearElement[i]=e.getFullYear().toString():_.currentYearElement.removeAttribute(i),_.currentYearElement.disabled=!!n&&void 0!==e&&n.getFullYear()===e.getFullYear())}}function $(){"object"!=typeof _.config.locale&&void 0===Et.l10ns[_.config.locale]&&_.config.errorHandler(new Error("flatpickr: invalid locale "+_.config.locale)),_.l10n=et({},Et.l10ns.default,"object"==typeof _.config.locale?_.config.locale:"default"!==_.config.locale?Et.l10ns[_.config.locale]:void 0),pt.K="("+_.l10n.amPM[0]+"|"+_.l10n.amPM[1]+"|"+_.l10n.amPM[0].toLowerCase()+"|"+_.l10n.amPM[1].toLowerCase()+")",void 0===et({},d,JSON.parse(JSON.stringify(u.dataset||{}))).time_24hr&&void 0===Et.defaultConfig.time_24hr&&(_.config.time_24hr=_.l10n.time_24hr),_.formatDate=gt(_),_.parseDate=mt({config:_.config,l10n:_.l10n})}function H(t){if(void 0!==_.calendarContainer){U("onPreCalendarPosition");var e=t||_._positionElement,n=Array.prototype.reduce.call(_.calendarContainer.children,function(t,e){return t+e.offsetHeight},0),i=_.calendarContainer.offsetWidth,o=_.config.position.split(" "),r=o[0],a=1<o.length?o[1]:null,s=e.getBoundingClientRect(),l=window.innerHeight-s.bottom,c="above"===r||"below"!==r&&l<n&&s.top>n,u=window.pageYOffset+s.top+(c?-n-2:e.offsetHeight+2);if(ct(_.calendarContainer,"arrowTop",!c),ct(_.calendarContainer,"arrowBottom",c),!_.config.inline){var d=window.pageXOffset+s.left-(null!=a&&"center"===a?(i-s.width)/2:0),h=window.document.body.offsetWidth-(window.pageXOffset+s.right),f=d+i>window.document.body.offsetWidth,p=h+i>window.document.body.offsetWidth;if(ct(_.calendarContainer,"rightMost",f),!_.config.static)if(_.calendarContainer.style.top=u+"px",f)if(p){var g=document.styleSheets[0];if(void 0===g)return;var m=window.document.body.offsetWidth,v=Math.max(0,m/2-i/2),y=g.cssRules.length,b="{left:"+s.left+"px;right:auto;}";ct(_.calendarContainer,"rightMost",!1),ct(_.calendarContainer,"centerMost",!0),g.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+b,y),_.calendarContainer.style.left=v+"px",_.calendarContainer.style.right="auto"}else _.calendarContainer.style.left="auto",_.calendarContainer.style.right=h+"px";else _.calendarContainer.style.left=d+"px",_.calendarContainer.style.right="auto"}}}function z(){_.config.noCalendar||_.isMobile||(Z(),T())}function j(){_._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(_.close,0):_.close()}function V(t){t.preventDefault(),t.stopPropagation();var e=function t(e,n){return n(e)?e:e.parentNode?t(e.parentNode,n):void 0}(t.target,function(t){return t.classList&&t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled")&&!t.classList.contains("notAllowed")});if(void 0!==e){var n=e,i=_.latestSelectedDateObj=new Date(n.dateObj.getTime()),o=(i.getMonth()<_.currentMonth||i.getMonth()>_.currentMonth+_.config.showMonths-1)&&"range"!==_.config.mode;if(_.selectedDateElem=n,"single"===_.config.mode)_.selectedDates=[i];else if("multiple"===_.config.mode){var r=X(i);r?_.selectedDates.splice(parseInt(r),1):_.selectedDates.push(i)}else"range"===_.config.mode&&(2===_.selectedDates.length&&_.clear(!1,!1),_.latestSelectedDateObj=i,_.selectedDates.push(i),0!==vt(i,_.selectedDates[0],!0)&&_.selectedDates.sort(function(t,e){return t.getTime()-e.getTime()}));if(p(),o){var a=_.currentYear!==i.getFullYear();_.currentYear=i.getFullYear(),_.currentMonth=i.getMonth(),a&&(U("onYearChange"),C()),U("onMonthChange")}if(Z(),T(),J(),_.config.enableTime&&setTimeout(function(){return _.showTimeInput=!0},50),o||"range"===_.config.mode||1!==_.config.showMonths?void 0!==_.selectedDateElem&&void 0===_.hourElement&&_.selectedDateElem&&_.selectedDateElem.focus():y(n),void 0!==_.hourElement&&void 0!==_.hourElement&&_.hourElement.focus(),_.config.closeOnSelect){var s="single"===_.config.mode&&!_.config.enableTime,l="range"===_.config.mode&&2===_.selectedDates.length&&!_.config.enableTime;(s||l)&&j()}c()}}_.parseDate=mt({config:_.config,l10n:_.l10n}),_._handlers=[],_.pluginElements=[],_.loadedPlugins=[],_._bind=a,_._setHoursFromDate=o,_._positionCalendar=H,_.changeMonth=k,_.changeYear=A,_.clear=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),_.input.value="",void 0!==_.altInput&&(_.altInput.value=""),void 0!==_.mobileInput&&(_.mobileInput.value=""),_.selectedDates=[],!(_.latestSelectedDateObj=void 0)===e&&(_.currentYear=_._initialDate.getFullYear(),_.currentMonth=_._initialDate.getMonth()),!(_.showTimeInput=!1)===_.config.enableTime&&n(),_.redraw(),t&&U("onChange")},_.close=function(){_.isOpen=!1,_.isMobile||(void 0!==_.calendarContainer&&_.calendarContainer.classList.remove("open"),void 0!==_._input&&_._input.classList.remove("active")),U("onClose")},_._createElement=ut,_.destroy=function(){void 0!==_.config&&U("onDestroy");for(var t=_._handlers.length;t--;){var e=_._handlers[t];e.element.removeEventListener(e.event,e.handler,e.options)}if(_._handlers=[],_.mobileInput)_.mobileInput.parentNode&&_.mobileInput.parentNode.removeChild(_.mobileInput),_.mobileInput=void 0;else if(_.calendarContainer&&_.calendarContainer.parentNode)if(_.config.static&&_.calendarContainer.parentNode){var n=_.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else _.calendarContainer.parentNode.removeChild(_.calendarContainer);_.altInput&&(_.input.type="text",_.altInput.parentNode&&_.altInput.parentNode.removeChild(_.altInput),delete _.altInput),_.input&&(_.input.type=_.input._type,_.input.classList.remove("flatpickr-input"),_.input.removeAttribute("readonly"),_.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(t){try{delete _[t]}catch(t){}})},_.isEnabled=M,_.jumpToDate=s,_.open=function(t,e){if(void 0===e&&(e=_._positionElement),!0===_.isMobile)return t&&(t.preventDefault(),t.target&&t.target.blur()),void 0!==_.mobileInput&&(_.mobileInput.focus(),_.mobileInput.click()),void U("onOpen");if(!_._input.disabled&&!_.config.inline){var n=_.isOpen;_.isOpen=!0,n||(_.calendarContainer.classList.add("open"),_._input.classList.add("active"),U("onOpen"),H(e)),!0===_.config.enableTime&&!0===_.config.noCalendar&&(0===_.selectedDates.length&&F(),!1!==_.config.allowInput||void 0!==t&&_.timeContainer.contains(t.relatedTarget)||setTimeout(function(){return _.hourElement.select()},50))}},_.redraw=z,_.set=function(t,e){if(null!==t&&"object"==typeof t)for(var n in Object.assign(_.config,t),t)void 0!==W[n]&&W[n].forEach(function(t){return t()});else _.config[t]=e,void 0!==W[t]?W[t].forEach(function(t){return t()}):-1<nt.indexOf(t)&&(_.config[t]=lt(e));_.redraw(),J(!1)},_.setDate=function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=_.config.dateFormat),0!==t&&!t||t instanceof Array&&0===t.length)return _.clear(e);q(t,n),_.showTimeInput=0<_.selectedDates.length,_.latestSelectedDateObj=_.selectedDates[_.selectedDates.length-1],_.redraw(),s(),o(),0===_.selectedDates.length&&_.clear(!1),J(e),e&&U("onChange")},_.toggle=function(t){if(!0===_.isOpen)return _.close();_.open(t)};var W={locale:[$,I],showMonths:[D,e,O],minDate:[s],maxDate:[s]};function q(t,e){var n=[];if(t instanceof Array)n=t.map(function(t){return _.parseDate(t,e)});else if(t instanceof Date||"number"==typeof t)n=[_.parseDate(t,e)];else if("string"==typeof t)switch(_.config.mode){case"single":case"time":n=[_.parseDate(t,e)];break;case"multiple":n=t.split(_.config.conjunction).map(function(t){return _.parseDate(t,e)});break;case"range":n=t.split(_.l10n.rangeSeparator).map(function(t){return _.parseDate(t,e)})}else _.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(t)));_.selectedDates=n.filter(function(t){return t instanceof Date&&M(t,!1)}),"range"===_.config.mode&&_.selectedDates.sort(function(t,e){return t.getTime()-e.getTime()})}function G(t){return t.slice().map(function(t){return"string"==typeof t||"number"==typeof t||t instanceof Date?_.parseDate(t,void 0,!0):t&&"object"==typeof t&&t.from&&t.to?{from:_.parseDate(t.from,void 0),to:_.parseDate(t.to,void 0)}:t}).filter(function(t){return t})}function U(t,e){if(void 0!==_.config){var n=_.config[t];if(void 0!==n&&0<n.length)for(var i=0;n[i]&&i<n.length;i++)n[i](_.selectedDates,_.input.value,_,e);"onChange"===t&&(_.input.dispatchEvent(Y("change")),_.input.dispatchEvent(Y("input")))}}function Y(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}function X(t){for(var e=0;e<_.selectedDates.length;e++)if(0===vt(_.selectedDates[e],t))return""+e;return!1}function Z(){_.config.noCalendar||_.isMobile||!_.monthNav||(_.yearElements.forEach(function(t,e){var n=new Date(_.currentYear,_.currentMonth,1);n.setMonth(_.currentMonth+e),1<_.config.showMonths||"static"===_.config.monthSelectorType?_.monthElements[e].textContent=ft(n.getMonth(),_.config.shorthandCurrentMonth,_.l10n)+" ":_.monthsDropdownContainer.value=n.getMonth().toString(),t.value=n.getFullYear().toString()}),_._hidePrevMonthArrow=void 0!==_.config.minDate&&(_.currentYear===_.config.minDate.getFullYear()?_.currentMonth<=_.config.minDate.getMonth():_.currentYear<_.config.minDate.getFullYear()),_._hideNextMonthArrow=void 0!==_.config.maxDate&&(_.currentYear===_.config.maxDate.getFullYear()?_.currentMonth+1>_.config.maxDate.getMonth():_.currentYear>_.config.maxDate.getFullYear()))}function Q(e){return _.selectedDates.map(function(t){return _.formatDate(t,e)}).filter(function(t,e,n){return"range"!==_.config.mode||_.config.enableTime||n.indexOf(t)===e}).join("range"!==_.config.mode?_.config.conjunction:_.l10n.rangeSeparator)}function J(t){void 0===t&&(t=!0),void 0!==_.mobileInput&&_.mobileFormatStr&&(_.mobileInput.value=void 0!==_.latestSelectedDateObj?_.formatDate(_.latestSelectedDateObj,_.mobileFormatStr):""),_.input.value=Q(_.config.dateFormat),void 0!==_.altInput&&(_.altInput.value=Q(_.config.altFormat)),!1!==t&&U("onValueUpdate")}function tt(t){var e=_.prevMonthNav.contains(t.target),n=_.nextMonthNav.contains(t.target);e||n?k(e?-1:1):0<=_.yearElements.indexOf(t.target)?t.target.select():t.target.classList.contains("arrowUp")?_.changeYear(_.currentYear+1):t.target.classList.contains("arrowDown")&&_.changeYear(_.currentYear-1)}return function(){_.element=_.input=u,_.isOpen=!1,function(){var t=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],e=et({},d,JSON.parse(JSON.stringify(u.dataset||{}))),n={};_.config.parseDate=e.parseDate,_.config.formatDate=e.formatDate,Object.defineProperty(_.config,"enable",{get:function(){return _.config._enable},set:function(t){_.config._enable=G(t)}}),Object.defineProperty(_.config,"disable",{get:function(){return _.config._disable},set:function(t){_.config._disable=G(t)}});var i="time"===e.mode;if(!e.dateFormat&&(e.enableTime||i)){var o=Et.defaultConfig.dateFormat||it.dateFormat;n.dateFormat=e.noCalendar||i?"H:i"+(e.enableSeconds?":S":""):o+" H:i"+(e.enableSeconds?":S":"")}if(e.altInput&&(e.enableTime||i)&&!e.altFormat){var r=Et.defaultConfig.altFormat||it.altFormat;n.altFormat=e.noCalendar||i?"h:i"+(e.enableSeconds?":S K":" K"):r+" h:i"+(e.enableSeconds?":S":"")+" K"}e.altInputClass||(_.config.altInputClass=_.input.className+" "+_.config.altInputClass),Object.defineProperty(_.config,"minDate",{get:function(){return _.config._minDate},set:B("min")}),Object.defineProperty(_.config,"maxDate",{get:function(){return _.config._maxDate},set:B("max")});function a(e){return function(t){_.config["min"===e?"_minTime":"_maxTime"]=_.parseDate(t,"H:i:S")}}Object.defineProperty(_.config,"minTime",{get:function(){return _.config._minTime},set:a("min")}),Object.defineProperty(_.config,"maxTime",{get:function(){return _.config._maxTime},set:a("max")}),"time"===e.mode&&(_.config.noCalendar=!0,_.config.enableTime=!0),Object.assign(_.config,n,e);for(var s=0;s<t.length;s++)_.config[t[s]]=!0===_.config[t[s]]||"true"===_.config[t[s]];nt.filter(function(t){return void 0!==_.config[t]}).forEach(function(t){_.config[t]=lt(_.config[t]||[]).map(h)}),_.isMobile=!_.config.disableMobile&&!_.config.inline&&"single"===_.config.mode&&!_.config.disable.length&&!_.config.enable.length&&!_.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(s=0;s<_.config.plugins.length;s++){var l=_.config.plugins[s](_)||{};for(var c in l)-1<nt.indexOf(c)?_.config[c]=lt(l[c]).map(h).concat(_.config[c]):void 0===e[c]&&(_.config[c]=l[c])}U("onParseConfig")}(),$(),_.input=_.config.wrap?u.querySelector("[data-input]"):u,_.input?(_.input._type=_.input.type,_.input.type="text",_.input.classList.add("flatpickr-input"),_._input=_.input,_.config.altInput&&(_.altInput=ut(_.input.nodeName,_.config.altInputClass),_._input=_.altInput,_.altInput.placeholder=_.input.placeholder,_.altInput.disabled=_.input.disabled,_.altInput.required=_.input.required,_.altInput.tabIndex=_.input.tabIndex,_.altInput.type="text",_.input.setAttribute("type","hidden"),!_.config.static&&_.input.parentNode&&_.input.parentNode.insertBefore(_.altInput,_.input.nextSibling)),_.config.allowInput||_._input.setAttribute("readonly","readonly"),_._positionElement=_.config.positionElement||_._input):_.config.errorHandler(new Error("Invalid input element specified")),function(){_.selectedDates=[],_.now=_.parseDate(_.config.now)||new Date;var t=_.config.defaultDate||("INPUT"!==_.input.nodeName&&"TEXTAREA"!==_.input.nodeName||!_.input.placeholder||_.input.value!==_.input.placeholder?_.input.value:null);t&&q(t,_.config.dateFormat),_._initialDate=0<_.selectedDates.length?_.selectedDates[0]:_.config.minDate&&_.config.minDate.getTime()>_.now.getTime()?_.config.minDate:_.config.maxDate&&_.config.maxDate.getTime()<_.now.getTime()?_.config.maxDate:_.now,_.currentYear=_._initialDate.getFullYear(),_.currentMonth=_._initialDate.getMonth(),0<_.selectedDates.length&&(_.latestSelectedDateObj=_.selectedDates[0]),void 0!==_.config.minTime&&(_.config.minTime=_.parseDate(_.config.minTime,"H:i")),void 0!==_.config.maxTime&&(_.config.maxTime=_.parseDate(_.config.maxTime,"H:i")),_.minDateHasTime=!!_.config.minDate&&(0<_.config.minDate.getHours()||0<_.config.minDate.getMinutes()||0<_.config.minDate.getSeconds()),_.maxDateHasTime=!!_.config.maxDate&&(0<_.config.maxDate.getHours()||0<_.config.maxDate.getMinutes()||0<_.config.maxDate.getSeconds()),Object.defineProperty(_,"showTimeInput",{get:function(){return _._showTimeInput},set:function(t){_._showTimeInput=t,_.calendarContainer&&ct(_.calendarContainer,"showTimeInput",t),_.isOpen&&H()}})}(),_.utils={getDaysInMonth:function(t,e){return void 0===t&&(t=_.currentMonth),void 0===e&&(e=_.currentYear),1===t&&(e%4==0&&e%100!=0||e%400==0)?29:_.l10n.daysInMonth[t]}},_.isMobile||function(){var t=window.document.createDocumentFragment();if(_.calendarContainer=ut("div","flatpickr-calendar"),_.calendarContainer.tabIndex=-1,!_.config.noCalendar){if(t.appendChild((_.monthNav=ut("div","flatpickr-months"),_.yearElements=[],_.monthElements=[],_.prevMonthNav=ut("span","flatpickr-prev-month"),_.prevMonthNav.innerHTML=_.config.prevArrow,_.nextMonthNav=ut("span","flatpickr-next-month"),_.nextMonthNav.innerHTML=_.config.nextArrow,D(),Object.defineProperty(_,"_hidePrevMonthArrow",{get:function(){return _.__hidePrevMonthArrow},set:function(t){_.__hidePrevMonthArrow!==t&&(ct(_.prevMonthNav,"flatpickr-disabled",t),_.__hidePrevMonthArrow=t)}}),Object.defineProperty(_,"_hideNextMonthArrow",{get:function(){return _.__hideNextMonthArrow},set:function(t){_.__hideNextMonthArrow!==t&&(ct(_.nextMonthNav,"flatpickr-disabled",t),_.__hideNextMonthArrow=t)}}),_.currentYearElement=_.yearElements[0],Z(),_.monthNav)),_.innerContainer=ut("div","flatpickr-innerContainer"),_.config.weekNumbers){var e=function(){_.calendarContainer.classList.add("hasWeeks");var t=ut("div","flatpickr-weekwrapper");t.appendChild(ut("span","flatpickr-weekday",_.l10n.weekAbbreviation));var e=ut("div","flatpickr-weeks");return t.appendChild(e),{weekWrapper:t,weekNumbers:e}}(),n=e.weekWrapper,i=e.weekNumbers;_.innerContainer.appendChild(n),_.weekNumbers=i,_.weekWrapper=n}_.rContainer=ut("div","flatpickr-rContainer"),_.rContainer.appendChild(O()),_.daysContainer||(_.daysContainer=ut("div","flatpickr-days"),_.daysContainer.tabIndex=-1),T(),_.rContainer.appendChild(_.daysContainer),_.innerContainer.appendChild(_.rContainer),t.appendChild(_.innerContainer)}_.config.enableTime&&t.appendChild(function(){_.calendarContainer.classList.add("hasTime"),_.config.noCalendar&&_.calendarContainer.classList.add("noCalendar"),_.timeContainer=ut("div","flatpickr-time"),_.timeContainer.tabIndex=-1;var t=ut("span","flatpickr-time-separator",":"),e=ht("flatpickr-hour",{"aria-label":_.l10n.hourAriaLabel});_.hourElement=e.getElementsByTagName("input")[0];var n=ht("flatpickr-minute",{"aria-label":_.l10n.minuteAriaLabel});if(_.minuteElement=n.getElementsByTagName("input")[0],_.hourElement.tabIndex=_.minuteElement.tabIndex=-1,_.hourElement.value=rt(_.latestSelectedDateObj?_.latestSelectedDateObj.getHours():_.config.time_24hr?_.config.defaultHour:function(t){switch(t%24){case 0:case 12:return 12;default:return t%12}}(_.config.defaultHour)),_.minuteElement.value=rt(_.latestSelectedDateObj?_.latestSelectedDateObj.getMinutes():_.config.defaultMinute),_.hourElement.setAttribute("step",_.config.hourIncrement.toString()),_.minuteElement.setAttribute("step",_.config.minuteIncrement.toString()),_.hourElement.setAttribute("min",_.config.time_24hr?"0":"1"),_.hourElement.setAttribute("max",_.config.time_24hr?"23":"12"),_.minuteElement.setAttribute("min","0"),_.minuteElement.setAttribute("max","59"),_.timeContainer.appendChild(e),_.timeContainer.appendChild(t),_.timeContainer.appendChild(n),_.config.time_24hr&&_.timeContainer.classList.add("time24hr"),_.config.enableSeconds){_.timeContainer.classList.add("hasSeconds");var i=ht("flatpickr-second");_.secondElement=i.getElementsByTagName("input")[0],_.secondElement.value=rt(_.latestSelectedDateObj?_.latestSelectedDateObj.getSeconds():_.config.defaultSeconds),_.secondElement.setAttribute("step",_.minuteElement.getAttribute("step")),_.secondElement.setAttribute("min","0"),_.secondElement.setAttribute("max","59"),_.timeContainer.appendChild(ut("span","flatpickr-time-separator",":")),_.timeContainer.appendChild(i)}return _.config.time_24hr||(_.amPM=ut("span","flatpickr-am-pm",_.l10n.amPM[at(11<(_.latestSelectedDateObj?_.hourElement.value:_.config.defaultHour))]),_.amPM.title=_.l10n.toggleTitle,_.amPM.tabIndex=-1,_.timeContainer.appendChild(_.amPM)),_.timeContainer}()),ct(_.calendarContainer,"rangeMode","range"===_.config.mode),ct(_.calendarContainer,"animate",!0===_.config.animate),ct(_.calendarContainer,"multiMonth",1<_.config.showMonths),_.calendarContainer.appendChild(t);var o=void 0!==_.config.appendTo&&void 0!==_.config.appendTo.nodeType;if((_.config.inline||_.config.static)&&(_.calendarContainer.classList.add(_.config.inline?"inline":"static"),_.config.inline&&(!o&&_.element.parentNode?_.element.parentNode.insertBefore(_.calendarContainer,_._input.nextSibling):void 0!==_.config.appendTo&&_.config.appendTo.appendChild(_.calendarContainer)),_.config.static)){var r=ut("div","flatpickr-wrapper");_.element.parentNode&&_.element.parentNode.insertBefore(r,_.element),r.appendChild(_.element),_.altInput&&r.appendChild(_.altInput),r.appendChild(_.calendarContainer)}_.config.static||_.config.inline||(void 0!==_.config.appendTo?_.config.appendTo:window.document.body).appendChild(_.calendarContainer)}(),function(){if(_.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(_.element.querySelectorAll("[data-"+e+"]"),function(t){return a(t,"click",_[e])})}),_.isMobile)!function(){var t=_.config.enableTime?_.config.noCalendar?"time":"datetime-local":"date";_.mobileInput=ut("input",_.input.className+" flatpickr-mobile"),_.mobileInput.step=_.input.getAttribute("step")||"any",_.mobileInput.tabIndex=1,_.mobileInput.type=t,_.mobileInput.disabled=_.input.disabled,_.mobileInput.required=_.input.required,_.mobileInput.placeholder=_.input.placeholder,_.mobileFormatStr="datetime-local"==t?"Y-m-d\\TH:i:S":"date"==t?"Y-m-d":"H:i:S",0<_.selectedDates.length&&(_.mobileInput.defaultValue=_.mobileInput.value=_.formatDate(_.selectedDates[0],_.mobileFormatStr)),_.config.minDate&&(_.mobileInput.min=_.formatDate(_.config.minDate,"Y-m-d")),_.config.maxDate&&(_.mobileInput.max=_.formatDate(_.config.maxDate,"Y-m-d")),_.input.type="hidden",void 0!==_.altInput&&(_.altInput.type="hidden");try{_.input.parentNode&&_.input.parentNode.insertBefore(_.mobileInput,_.input.nextSibling)}catch(t){}a(_.mobileInput,"change",function(t){_.setDate(t.target.value,!1,_.mobileFormatStr),U("onChange"),U("onClose")})}();else{var t=st(L,50);_._debouncedChange=st(c,_t),_.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&a(_.daysContainer,"mouseover",function(t){"range"===_.config.mode&&P(t.target)}),a(window.document.body,"keydown",K),_.config.inline||_.config.static||a(window,"resize",t),void 0!==window.ontouchstart?a(window.document,"touchstart",R):a(window.document,"mousedown",r(R)),a(window.document,"focus",R,{capture:!0}),!0===_.config.clickOpens&&(a(_._input,"focus",_.open),a(_._input,"mousedown",r(_.open))),void 0!==_.daysContainer&&(a(_.monthNav,"mousedown",r(tt)),a(_.monthNav,["keyup","increment"],i),a(_.daysContainer,"mousedown",r(V))),void 0!==_.timeContainer&&void 0!==_.minuteElement&&void 0!==_.hourElement&&(a(_.timeContainer,["increment"],f),a(_.timeContainer,"blur",f,{capture:!0}),a(_.timeContainer,"mousedown",r(g)),a([_.hourElement,_.minuteElement],["focus","click"],function(t){return t.target.select()}),void 0!==_.secondElement&&a(_.secondElement,"focus",function(){return _.secondElement&&_.secondElement.select()}),void 0!==_.amPM&&a(_.amPM,"mousedown",r(function(t){f(t),c()})))}}(),(_.selectedDates.length||_.config.noCalendar)&&(_.config.enableTime&&o(_.config.noCalendar?_.latestSelectedDateObj||_.config.minDate:void 0),J(!1)),e(),_.showTimeInput=0<_.selectedDates.length||_.config.noCalendar;var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!_.isMobile&&t&&H(),U("onReady")}(),_}function n(t,e){for(var n=Array.prototype.slice.call(t).filter(function(t){return t instanceof HTMLElement}),i=[],o=0;o<n.length;o++){var r=n[o];try{if(null!==r.getAttribute("data-fp-omit"))continue;void 0!==r._flatpickr&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=a(r,e||{}),i.push(r._flatpickr)}catch(t){console.error(t)}}return 1===i.length?i[0]:i}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return n(this,t)},HTMLElement.prototype.flatpickr=function(t){return n([this],t)});var Et=function(t,e){return"string"==typeof t?n(window.document.querySelectorAll(t),e):t instanceof Node?n([t],e):n(t,e)};return Et.defaultConfig={},Et.l10ns={en:et({},ot),default:et({},ot)},Et.localize=function(t){Et.l10ns.default=et({},Et.l10ns.default,t)},Et.setDefaults=function(t){Et.defaultConfig=et({},Et.defaultConfig,t)},Et.parseDate=mt({}),Et.formatDate=gt({}),Et.compareDates=vt,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(t){return n(this,t)}),Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof t?parseInt(t,10):t))},"undefined"!=typeof window&&(window.flatpickr=Et),Et});var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(c){var u=/\blang(?:uage)?-([\w-]+)\b/i,e=0,R={manual:c.Prism&&c.Prism.manual,disableWorkerMessageHandler:c.Prism&&c.Prism.disableWorkerMessageHandler,util:{encode:function(t){return t instanceof A?new A(t.type,R.util.encode(t.content),t.alias):Array.isArray(t)?t.map(R.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++e}),t.__id},clone:function n(t,i){var o,e,r=R.util.type(t);switch(i=i||{},r){case"Object":if(e=R.util.objId(t),i[e])return i[e];for(var a in o={},i[e]=o,t)t.hasOwnProperty(a)&&(o[a]=n(t[a],i));return o;case"Array":return e=R.util.objId(t),i[e]?i[e]:(o=[],i[e]=o,t.forEach(function(t,e){o[e]=n(t,i)}),o);default:return t}},getLanguage:function(t){for(;t&&!u.test(t.className);)t=t.parentElement;return t?(t.className.match(u)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(t){var e=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(t.stack)||[])[1];if(e){var n=document.getElementsByTagName("script");for(var i in n)if(n[i].src==e)return n[i]}return null}}},languages:{extend:function(t,e){var n=R.util.clone(R.languages[t]);for(var i in e)n[i]=e[i];return n},insertBefore:function(n,t,e,i){var o=(i=i||R.languages)[n],r={};for(var a in o)if(o.hasOwnProperty(a)){if(a==t)for(var s in e)e.hasOwnProperty(s)&&(r[s]=e[s]);e.hasOwnProperty(a)||(r[a]=o[a])}var l=i[n];return i[n]=r,R.languages.DFS(R.languages,function(t,e){e===l&&t!=n&&(this[t]=r)}),r},DFS:function t(e,n,i,o){o=o||{};var r=R.util.objId;for(var a in e)if(e.hasOwnProperty(a)){n.call(e,a,e[a],i||a);var s=e[a],l=R.util.type(s);"Object"!==l||o[r(s)]?"Array"!==l||o[r(s)]||(o[r(s)]=!0,t(s,n,a,o)):(o[r(s)]=!0,t(s,n,null,o))}}},plugins:{},highlightAll:function(t,e){R.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,n){var i={callback:n,container:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};R.hooks.run("before-highlightall",i),i.elements=Array.prototype.slice.apply(i.container.querySelectorAll(i.selector)),R.hooks.run("before-all-elements-highlight",i);for(var o,r=0;o=i.elements[r++];)R.highlightElement(o,!0===e,i.callback)},highlightElement:function(t,e,n){var i=R.util.getLanguage(t),o=R.languages[i];t.className=t.className.replace(u,"").replace(/\s+/g," ")+" language-"+i;var r=t.parentNode;r&&"pre"===r.nodeName.toLowerCase()&&(r.className=r.className.replace(u,"").replace(/\s+/g," ")+" language-"+i);var a={element:t,language:i,grammar:o,code:t.textContent};function s(t){a.highlightedCode=t,R.hooks.run("before-insert",a),a.element.innerHTML=a.highlightedCode,R.hooks.run("after-highlight",a),R.hooks.run("complete",a),n&&n.call(a.element)}if(R.hooks.run("before-sanity-check",a),!a.code)return R.hooks.run("complete",a),void(n&&n.call(a.element));if(R.hooks.run("before-highlight",a),a.grammar)if(e&&c.Worker){var l=new Worker(R.filename);l.onmessage=function(t){s(t.data)},l.postMessage(JSON.stringify({language:a.language,code:a.code,immediateClose:!0}))}else s(R.highlight(a.code,a.grammar,a.language));else s(R.util.encode(a.code))},highlight:function(t,e,n){var i={code:t,grammar:e,language:n};return R.hooks.run("before-tokenize",i),i.tokens=R.tokenize(i.code,i.grammar),R.hooks.run("after-tokenize",i),A.stringify(R.util.encode(i.tokens),i.language)},matchGrammar:function(t,e,n,i,o,r,a){for(var s in n)if(n.hasOwnProperty(s)&&n[s]){var l=n[s];l=Array.isArray(l)?l:[l];for(var c=0;c<l.length;++c){if(a&&a==s+","+c)return;var u=l[c],d=u.inside,h=!!u.lookbehind,f=!!u.greedy,p=0,g=u.alias;if(f&&!u.pattern.global){var m=u.pattern.toString().match(/[imsuy]*$/)[0];u.pattern=RegExp(u.pattern.source,m+"g")}u=u.pattern||u;for(var v=i,y=o;v<e.length;y+=e[v].length,++v){var b=e[v];if(e.length>t.length)return;if(!(b instanceof A)){if(f&&v!=e.length-1){if(u.lastIndex=y,!(x=u.exec(t)))break;for(var _=x.index+(h&&x[1]?x[1].length:0),E=x.index+x[0].length,w=v,T=y,C=e.length;w<C&&(T<E||!e[w].type&&!e[w-1].greedy);++w)(T+=e[w].length)<=_&&(++v,y=T);if(e[v]instanceof A)continue;D=w-v,b=t.slice(y,T),x.index-=y}else{u.lastIndex=0;var x=u.exec(b),D=1}if(x){h&&(p=x[1]?x[1].length:0),E=(_=x.index+p)+(x=x[0].slice(p)).length;var O=b.slice(0,_),I=b.slice(E),k=[v,D];O&&(++v,y+=O.length,k.push(O));var S=new A(s,d?R.tokenize(x,d):x,g,x,f);if(k.push(S),I&&k.push(I),Array.prototype.splice.apply(e,k),1!=D&&R.matchGrammar(t,e,n,v,y,!0,s+","+c),r)break}else if(r)break}}}}},tokenize:function(t,e){var n=[t],i=e.rest;if(i){for(var o in i)e[o]=i[o];delete e.rest}return R.matchGrammar(t,n,e,0,0,!1),n},hooks:{all:{},add:function(t,e){var n=R.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=R.hooks.all[t];if(n&&n.length)for(var i,o=0;i=n[o++];)i(e)}},Token:A};function A(t,e,n,i,o){this.type=t,this.content=e,this.alias=n,this.length=0|(i||"").length,this.greedy=!!o}if(c.Prism=R,A.stringify=function(t,e){if("string"==typeof t)return t;if(Array.isArray(t))return t.map(function(t){return A.stringify(t,e)}).join("");var n={type:t.type,content:A.stringify(t.content,e),tag:"span",classes:["token",t.type],attributes:{},language:e};if(t.alias){var i=Array.isArray(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(n.classes,i)}R.hooks.run("wrap",n);var o=Object.keys(n.attributes).map(function(t){return t+'="'+(n.attributes[t]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+n.tag+' class="'+n.classes.join(" ")+'"'+(o?" "+o:"")+">"+n.content+"</"+n.tag+">"},!c.document)return c.addEventListener&&(R.disableWorkerMessageHandler||c.addEventListener("message",function(t){var e=JSON.parse(t.data),n=e.language,i=e.code,o=e.immediateClose;c.postMessage(R.highlight(i,R.languages[n],n)),o&&c.close()},!1)),R;var t=R.util.currentScript();function n(){R.manual||R.highlightAll()}if(t&&(R.filename=t.src,t.hasAttribute("data-manual")&&(R.manual=!0)),!R.manual){var i=document.readyState;"loading"===i||"interactive"===i&&t&&t.defer?document.addEventListener("DOMContentLoaded",n):window.requestAnimationFrame?window.requestAnimationFrame(n):window.setTimeout(n,16)}return R}(_self);"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism),Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:(?!<!--)[^"'\]]|"[^"]*"|'[^']*'|<!--[\s\S]*?-->)*\]\s*)?>/i,greedy:!0},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.hooks.add("wrap",function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(t,e){var n={};n["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[e]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};i["language-"+e]={pattern:/[\s\S]+/,inside:Prism.languages[e]};var o={};o[t]={pattern:RegExp("(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\s*|[\\s\\S])*?(?=<\\/__>)".replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",o)}}),Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,function(t){var e=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/@[\w-]+/}},url:{pattern:RegExp("url\\((?:"+e.source+"|[^\n\r()]*)\\)","i"),inside:{function:/^url/i,punctuation:/^\(|\)$/}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+e.source+")*?(?=\\s*\\{)"),string:{pattern:e,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:t.languages.css}},alias:"language-css"}},n.tag))}(Prism),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/--|\+\+|\*\*=?|=>|&&|\|\||[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?[.?]?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*[\s\S]*?\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.js=Prism.languages.javascript,function(){if("undefined"!=typeof self&&self.Prism&&self.document){function u(t){var e=s(t)["white-space"];if("pre-wrap"===e||"pre-line"===e){var n=t.querySelector("code"),i=t.querySelector(".line-numbers-rows"),o=t.querySelector(".line-numbers-sizer"),r=n.textContent.split(d);o||((o=document.createElement("span")).className="line-numbers-sizer",n.appendChild(o)),o.style.display="block",r.forEach(function(t,e){o.textContent=t||"\n";var n=o.getBoundingClientRect().height;i.children[e].style.height=n+"px"}),o.textContent="",o.style.display="none"}}var a="line-numbers",d=/\n(?!$)/g,s=function(t){return t?window.getComputedStyle?getComputedStyle(t):t.currentStyle||null:null};window.addEventListener("resize",function(){Array.prototype.forEach.call(document.querySelectorAll("pre."+a),u)}),Prism.hooks.add("complete",function(t){if(t.code){var e=t.element,n=e.parentNode;if(n&&/pre/i.test(n.nodeName)&&!e.querySelector(".line-numbers-rows")){for(var i=!1,o=/(?:^|\s)line-numbers(?:\s|$)/,r=e;r;r=r.parentNode)if(o.test(r.className)){i=!0;break}if(i){e.className=e.className.replace(o," "),o.test(n.className)||(n.className+=" line-numbers");var a,s=t.code.match(d),l=s?s.length+1:1,c=new Array(l+1).join("<span></span>");(a=document.createElement("span")).setAttribute("aria-hidden","true"),a.className="line-numbers-rows",a.innerHTML=c,n.hasAttribute("data-start")&&(n.style.counterReset="linenumber "+(parseInt(n.getAttribute("data-start"),10)-1)),t.element.appendChild(a),u(n),Prism.hooks.run("line-numbers",t)}}}}),Prism.hooks.add("line-numbers",function(t){t.plugins=t.plugins||{},t.plugins.lineNumbers=!0}),Prism.plugins.lineNumbers={getLine:function(t,e){if("PRE"===t.tagName&&t.classList.contains(a)){var n=t.querySelector(".line-numbers-rows"),i=parseInt(t.getAttribute("data-start"),10)||1,o=i+(n.children.length-1);e<i&&(e=i),o<e&&(e=o);var r=e-i;return n.children[r]}}}}}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Cropper=e()}(this,function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function T(o){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){var e,n,i;e=o,i=r[n=t],n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(r,t))})}return o}function H(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o="undefined"!=typeof window&&void 0!==window.document,a=o?window:{},t=o&&"ontouchstart"in a.document.documentElement,r=o&&"PointerEvent"in a,u="cropper",s="".concat(u,"-crop"),l="".concat(u,"-disabled"),C="".concat(u,"-hidden"),d="".concat(u,"-hide"),h="".concat(u,"-invisible"),c="".concat(u,"-modal"),f="".concat(u,"-move"),p="".concat(u,"Action"),g="".concat(u,"Preview"),m="cropend",v="cropmove",y="cropstart",b=r?"pointerdown":t?"touchstart":"mousedown",_=r?"pointermove":t?"touchmove":"mousemove",E=r?"pointerup pointercancel":t?"touchend touchcancel":"mouseup",w="image/jpeg",x=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,D=/^data:/,O=/^data:image\/jpeg;base64,/,I=/^img|canvas$/i,k={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},S=Number.isNaN||a.isNaN;function R(t){return"number"==typeof t&&!S(t)}var A=function(t){return 0<t&&t<1/0};function M(t){return void 0===t}function N(t){return"object"===e(t)&&null!==t}var K=Object.prototype.hasOwnProperty;function P(t){if(!N(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&K.call(n,"isPrototypeOf")}catch(t){return!1}}function L(t){return"function"==typeof t}var F=Array.prototype.slice;function B(t){return Array.from?Array.from(t):F.call(t)}function $(n,i){return n&&L(i)&&(Array.isArray(n)||R(n.length)?B(n).forEach(function(t,e){i.call(n,t,e,n)}):N(n)&&Object.keys(n).forEach(function(t){i.call(n,n[t],t,n)})),n}var z=Object.assign||function(n){for(var t=arguments.length,e=new Array(1<t?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return N(n)&&0<e.length&&e.forEach(function(e){N(e)&&Object.keys(e).forEach(function(t){n[t]=e[t]})}),n},j=/\.\d*(?:0|9){12}\d*$/;function V(t,e){var n=1<arguments.length&&void 0!==e?e:1e11;return j.test(t)?Math.round(t*n)/n:t}var W=/^width|height|left|top|marginLeft|marginTop$/;function q(t,e){var n=t.style;$(e,function(t,e){W.test(e)&&R(t)&&(t="".concat(t,"px")),n[e]=t})}function G(t,e){if(e)if(R(t.length))$(t,function(t){G(t,e)});else if(t.classList)t.classList.add(e);else{var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function U(t,e){e&&(R(t.length)?$(t,function(t){U(t,e)}):t.classList?t.classList.remove(e):0<=t.className.indexOf(e)&&(t.className=t.className.replace(e,"")))}function Y(t,e,n){e&&(R(t.length)?$(t,function(t){Y(t,e,n)}):n?G(t,e):U(t,e))}var X=/([a-z\d])([A-Z])/g;function Z(t){return t.replace(X,"$1-$2").toLowerCase()}function Q(t,e){return N(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Z(e)))}function J(t,e,n){N(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(Z(e)),n)}var tt=/\s\s*/,et=function(){var t=!1;if(o){var e=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});a.addEventListener("test",n,i),a.removeEventListener("test",n,i)}return t}();function nt(n,t,i,e){var o=3<arguments.length&&void 0!==e?e:{},r=i;t.trim().split(tt).forEach(function(t){if(!et){var e=n.listeners;e&&e[t]&&e[t][i]&&(r=e[t][i],delete e[t][i],0===Object.keys(e[t]).length&&delete e[t],0===Object.keys(e).length&&delete n.listeners)}n.removeEventListener(t,r,o)})}function it(r,t,a,e){var s=3<arguments.length&&void 0!==e?e:{},l=a;t.trim().split(tt).forEach(function(i){if(s.once&&!et){var t=r.listeners,o=void 0===t?{}:t;l=function(){delete o[i][a],r.removeEventListener(i,l,s);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];a.apply(r,e)},o[i]||(o[i]={}),o[i][a]&&r.removeEventListener(i,o[i][a],s),o[i][a]=l,r.listeners=o}r.addEventListener(i,l,s)})}function ot(t,e,n){var i;return L(Event)&&L(CustomEvent)?i=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(i)}function rt(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var at=a.location,st=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function lt(t){var e=t.match(st);return null!==e&&(e[1]!==at.protocol||e[2]!==at.hostname||e[3]!==at.port)}function ct(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function ut(t){var e=t.rotate,n=t.scaleX,i=t.scaleY,o=t.translateX,r=t.translateY,a=[];R(o)&&0!==o&&a.push("translateX(".concat(o,"px)")),R(r)&&0!==r&&a.push("translateY(".concat(r,"px)")),R(e)&&0!==e&&a.push("rotate(".concat(e,"deg)")),R(n)&&1!==n&&a.push("scaleX(".concat(n,")")),R(i)&&1!==i&&a.push("scaleY(".concat(i,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function dt(t,e){var n=t.pageX,i=t.pageY,o={endX:n,endY:i};return e?o:T({startX:n,startY:i},o)}function ht(t,e){var n=t.aspectRatio,i=t.height,o=t.width,r=1<arguments.length&&void 0!==e?e:"contain",a=A(o),s=A(i);if(a&&s){var l=i*n;"contain"===r&&o<l||"cover"===r&&l<o?i=o/n:o=i*n}else a?i=o/n:s&&(o=i*n);return{width:o,height:i}}var ft=String.fromCharCode;var pt=/^data:.*,/;function gt(t){var e,n=new DataView(t);try{var i,o,r;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,s=2;s+1<a;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){o=s;break}s+=1}if(o){var l=o+10;if("Exif"===function(t,e,n){var i="";n+=e;for(var o=e;o<n;o+=1)i+=ft(t.getUint8(o));return i}(n,o+4,4)){var c=n.getUint16(l);if(((i=18761===c)||19789===c)&&42===n.getUint16(l+2,i)){var u=n.getUint32(l+4,i);8<=u&&(r=l+u)}}}if(r){var d,h,f=n.getUint16(r,i);for(h=0;h<f;h+=1)if(d=r+12*h+2,274===n.getUint16(d,i)){d+=8,e=n.getUint16(d,i),n.setUint16(d,1,i);break}}}catch(t){e=1}return e}var mt={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,n=this.container,i=this.cropper;G(i,C),U(t,C);var o={width:Math.max(n.offsetWidth,Number(e.minContainerWidth)||200),height:Math.max(n.offsetHeight,Number(e.minContainerHeight)||100)};q(i,{width:(this.containerData=o).width,height:o.height}),G(t,C),U(i,C)},initCanvas:function(){var t=this.containerData,e=this.imageData,n=this.options.viewMode,i=Math.abs(e.rotate)%180==90,o=i?e.naturalHeight:e.naturalWidth,r=i?e.naturalWidth:e.naturalHeight,a=o/r,s=t.width,l=t.height;t.height*a>t.width?3===n?s=t.height*a:l=t.width/a:3===n?l=t.width/a:s=t.height*a;var c={aspectRatio:a,naturalWidth:o,naturalHeight:r,width:s,height:l};c.left=(t.width-s)/2,c.top=(t.height-l)/2,c.oldLeft=c.left,c.oldTop=c.top,this.canvasData=c,this.limited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImageData=z({},e),this.initialCanvasData=z({},c)},limitCanvas:function(t,e){var n=this.options,i=this.containerData,o=this.canvasData,r=this.cropBoxData,a=n.viewMode,s=o.aspectRatio,l=this.cropped&&r;if(t){var c=Number(n.minCanvasWidth)||0,u=Number(n.minCanvasHeight)||0;1<a?(c=Math.max(c,i.width),u=Math.max(u,i.height),3===a&&(c<u*s?c=u*s:u=c/s)):0<a&&(c?c=Math.max(c,l?r.width:0):u?u=Math.max(u,l?r.height:0):l&&((c=r.width)<(u=r.height)*s?c=u*s:u=c/s));var d=ht({aspectRatio:s,width:c,height:u});c=d.width,u=d.height,o.minWidth=c,o.minHeight=u,o.maxWidth=1/0,o.maxHeight=1/0}if(e)if((l?0:1)<a){var h=i.width-o.width,f=i.height-o.height;o.minLeft=Math.min(0,h),o.minTop=Math.min(0,f),o.maxLeft=Math.max(0,h),o.maxTop=Math.max(0,f),l&&this.limited&&(o.minLeft=Math.min(r.left,r.left+(r.width-o.width)),o.minTop=Math.min(r.top,r.top+(r.height-o.height)),o.maxLeft=r.left,o.maxTop=r.top,2===a&&(o.width>=i.width&&(o.minLeft=Math.min(0,h),o.maxLeft=Math.max(0,h)),o.height>=i.height&&(o.minTop=Math.min(0,f),o.maxTop=Math.max(0,f))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=i.width,o.maxTop=i.height},renderCanvas:function(t,e){var n=this.canvasData,i=this.imageData;if(e){var o=function(t){var e=t.width,n=t.height,i=t.degree;if(90===(i=Math.abs(i)%180))return{width:n,height:e};var o=i%90*Math.PI/180,r=Math.sin(o),a=Math.cos(o),s=e*a+n*r,l=e*r+n*a;return 90<i?{width:l,height:s}:{width:s,height:l}}({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),r=o.width,a=o.height,s=n.width*(r/n.naturalWidth),l=n.height*(a/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(l-n.height)/2,n.width=s,n.height=l,n.aspectRatio=r/a,n.naturalWidth=r,n.naturalHeight=a,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,q(this.canvas,z({width:n.width,height:n.height},ut({translateX:n.left,translateY:n.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,n=this.imageData,i=n.naturalWidth*(e.width/e.naturalWidth),o=n.naturalHeight*(e.height/e.naturalHeight);z(n,{width:i,height:o,left:(e.width-i)/2,top:(e.height-o)/2}),q(this.image,z({width:n.width,height:n.height},ut(z({translateX:n.left,translateY:n.top},n)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,n=t.aspectRatio||t.initialAspectRatio,i=Number(t.autoCropArea)||.8,o={width:e.width,height:e.height};n&&(e.height*n>e.width?o.height=o.width/n:o.width=o.height*n),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*i),o.height=Math.max(o.minHeight,o.height*i),o.left=e.left+(e.width-o.width)/2,o.top=e.top+(e.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=z({},o)},limitCropBox:function(t,e){var n=this.options,i=this.containerData,o=this.canvasData,r=this.cropBoxData,a=this.limited,s=n.aspectRatio;if(t){var l=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,u=a?Math.min(i.width,o.width,o.width+o.left,i.width-o.left):i.width,d=a?Math.min(i.height,o.height,o.height+o.top,i.height-o.top):i.height;l=Math.min(l,i.width),c=Math.min(c,i.height),s&&(l&&c?l<c*s?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),u<d*s?d=u/s:u=d*s),r.minWidth=Math.min(l,u),r.minHeight=Math.min(c,d),r.maxWidth=u,r.maxHeight=d}e&&(a?(r.minLeft=Math.max(0,o.left),r.minTop=Math.max(0,o.top),r.maxLeft=Math.min(i.width,o.left+o.width)-r.width,r.maxTop=Math.min(i.height,o.top+o.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=i.width-r.width,r.maxTop=i.height-r.height))},renderCropBox:function(){var t=this.options,e=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&J(this.face,p,n.width>=e.width&&n.height>=e.height?"move":"all"),q(this.cropBox,z({width:n.width,height:n.height},ut({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ot(this.element,"crop",this.getData())}},vt={initPreview:function(){var t=this.element,n=this.crossOrigin,e=this.options.preview,i=n?this.crossOriginUrl:this.url,o=t.alt||"The image to preview",r=document.createElement("img");if(n&&(r.crossOrigin=n),r.src=i,r.alt=o,this.viewBox.appendChild(r),this.viewBoxImage=r,e){var a=e;"string"==typeof e?a=t.ownerDocument.querySelectorAll(e):e.querySelector&&(a=[e]),$(this.previews=a,function(t){var e=document.createElement("img");J(t,g,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),n&&(e.crossOrigin=n),e.src=i,e.alt=o,e.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(e)})}},resetPreview:function(){$(this.previews,function(t){var e=Q(t,g);q(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(e,n){if(N(e[n]))try{delete e[n]}catch(t){e[n]=void 0}else if(e.dataset)try{delete e.dataset[n]}catch(t){e.dataset[n]=void 0}else e.removeAttribute("data-".concat(Z(n)))}(t,g)})},preview:function(){var s=this.imageData,t=this.canvasData,e=this.cropBoxData,l=e.width,c=e.height,u=s.width,d=s.height,h=e.left-t.left-s.left,f=e.top-t.top-s.top;this.cropped&&!this.disabled&&(q(this.viewBoxImage,z({width:u,height:d},ut(z({translateX:-h,translateY:-f},s)))),$(this.previews,function(t){var e=Q(t,g),n=e.width,i=e.height,o=n,r=i,a=1;l&&(r=c*(a=n/l)),c&&i<r&&(o=l*(a=i/c),r=i),q(t,{width:o,height:r}),q(t.getElementsByTagName("img")[0],z({width:u*a,height:d*a},ut(z({translateX:-h*a,translateY:-f*a},s))))}))}},yt={bind:function(){var t=this.element,e=this.options,n=this.cropper;L(e.cropstart)&&it(t,y,e.cropstart),L(e.cropmove)&&it(t,v,e.cropmove),L(e.cropend)&&it(t,m,e.cropend),L(e.crop)&&it(t,"crop",e.crop),L(e.zoom)&&it(t,"zoom",e.zoom),it(n,b,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&it(n,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&it(n,"dblclick",this.onDblclick=this.dblclick.bind(this)),it(t.ownerDocument,_,this.onCropMove=this.cropMove.bind(this)),it(t.ownerDocument,E,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&it(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,n=this.cropper;L(e.cropstart)&&nt(t,y,e.cropstart),L(e.cropmove)&&nt(t,v,e.cropmove),L(e.cropend)&&nt(t,m,e.cropend),L(e.crop)&&nt(t,"crop",e.crop),L(e.zoom)&&nt(t,"zoom",e.zoom),nt(n,b,this.onCropStart),e.zoomable&&e.zoomOnWheel&&nt(n,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&nt(n,"dblclick",this.onDblclick),nt(t.ownerDocument,_,this.onCropMove),nt(t.ownerDocument,E,this.onCropEnd),e.responsive&&nt(window,"resize",this.onResize)}},bt={resize:function(){var t=this.options,e=this.container,n=this.containerData,i=Number(t.minContainerWidth)||200,o=Number(t.minContainerHeight)||100;if(!(this.disabled||n.width<=i||n.height<=o)){var r,a,s=e.offsetWidth/n.width;if(1!=s||e.offsetHeight!==n.height)t.restore&&(r=this.getCanvasData(),a=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData($(r,function(t,e){r[e]=t*s})),this.setCropBoxData($(a,function(t,e){a[e]=t*s})))}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(function(t,e){return t.classList?t.classList.contains(e):-1<t.className.indexOf(e)}(this.dragBox,s)?"move":"crop")},wheel:function(t){var e=this,n=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?i=0<t.deltaY?1:-1:t.wheelDelta?i=-t.wheelDelta/120:t.detail&&(i=0<t.detail?1:-1),this.zoom(-i*n,t)))},cropStart:function(t){var e=t.buttons,n=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(R(e)&&1!==e||R(n)&&0!==n||t.ctrlKey))){var i,o=this.options,r=this.pointers;t.changedTouches?$(t.changedTouches,function(t){r[t.identifier]=dt(t)}):r[t.pointerId||0]=dt(t),i=1<Object.keys(r).length&&o.zoomable&&o.zoomOnTouch?"zoom":Q(t.target,p),x.test(i)&&!1!==ot(this.element,y,{originalEvent:t,action:i})&&(t.preventDefault(),this.action=i,this.cropping=!1,"crop"===i&&(this.cropping=!0,G(this.dragBox,c)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var n=this.pointers;t.preventDefault(),!1!==ot(this.element,v,{originalEvent:t,action:e})&&(t.changedTouches?$(t.changedTouches,function(t){z(n[t.identifier]||{},dt(t,!0))}):z(n[t.pointerId||0]||{},dt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,n=this.pointers;t.changedTouches?$(t.changedTouches,function(t){delete n[t.identifier]}):delete n[t.pointerId||0],e&&(t.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,Y(this.dragBox,c,this.cropped&&this.options.modal)),ot(this.element,m,{originalEvent:t,action:e}))}}},_t={change:function(t){var e,n=this.options,i=this.canvasData,o=this.containerData,r=this.cropBoxData,a=this.pointers,s=this.action,l=n.aspectRatio,c=r.left,u=r.top,d=r.width,h=r.height,f=c+d,p=u+h,g=0,m=0,v=o.width,y=o.height,b=!0;!l&&t.shiftKey&&(l=d&&h?d/h:1),this.limited&&(g=r.minLeft,m=r.minTop,v=g+Math.min(o.width,i.width,i.left+i.width),y=m+Math.min(o.height,i.height,i.top+i.height));function _(t){switch(t){case"e":f+w.x>v&&(w.x=v-f);break;case"w":c+w.x<g&&(w.x=g-c);break;case"n":u+w.y<m&&(w.y=m-u);break;case"s":p+w.y>y&&(w.y=y-p)}}var E=a[Object.keys(a)[0]],w={x:E.endX-E.startX,y:E.endY-E.startY};switch(s){case"all":c+=w.x,u+=w.y;break;case"e":if(0<=w.x&&(v<=f||l&&(u<=m||y<=p))){b=!1;break}_("e"),(d+=w.x)<0&&(s="w",c-=d=-d),l&&(h=d/l,u+=(r.height-h)/2);break;case"n":if(w.y<=0&&(u<=m||l&&(c<=g||v<=f))){b=!1;break}_("n"),h-=w.y,u+=w.y,h<0&&(s="s",u-=h=-h),l&&(d=h*l,c+=(r.width-d)/2);break;case"w":if(w.x<=0&&(c<=g||l&&(u<=m||y<=p))){b=!1;break}_("w"),d-=w.x,c+=w.x,d<0&&(s="e",c-=d=-d),l&&(h=d/l,u+=(r.height-h)/2);break;case"s":if(0<=w.y&&(y<=p||l&&(c<=g||v<=f))){b=!1;break}_("s"),(h+=w.y)<0&&(s="n",u-=h=-h),l&&(d=h*l,c+=(r.width-d)/2);break;case"ne":if(l){if(w.y<=0&&(u<=m||v<=f)){b=!1;break}_("n"),h-=w.y,u+=w.y,d=h*l}else _("n"),_("e"),0<=w.x?f<v?d+=w.x:w.y<=0&&u<=m&&(b=!1):d+=w.x,w.y<=0?m<u&&(h-=w.y,u+=w.y):(h-=w.y,u+=w.y);d<0&&h<0?(s="sw",u-=h=-h,c-=d=-d):d<0?(s="nw",c-=d=-d):h<0&&(s="se",u-=h=-h);break;case"nw":if(l){if(w.y<=0&&(u<=m||c<=g)){b=!1;break}_("n"),h-=w.y,u+=w.y,d=h*l,c+=r.width-d}else _("n"),_("w"),w.x<=0?g<c?(d-=w.x,c+=w.x):w.y<=0&&u<=m&&(b=!1):(d-=w.x,c+=w.x),w.y<=0?m<u&&(h-=w.y,u+=w.y):(h-=w.y,u+=w.y);d<0&&h<0?(s="se",u-=h=-h,c-=d=-d):d<0?(s="ne",c-=d=-d):h<0&&(s="sw",u-=h=-h);break;case"sw":if(l){if(w.x<=0&&(c<=g||y<=p)){b=!1;break}_("w"),d-=w.x,c+=w.x,h=d/l}else _("s"),_("w"),w.x<=0?g<c?(d-=w.x,c+=w.x):0<=w.y&&y<=p&&(b=!1):(d-=w.x,c+=w.x),0<=w.y?p<y&&(h+=w.y):h+=w.y;d<0&&h<0?(s="ne",u-=h=-h,c-=d=-d):d<0?(s="se",c-=d=-d):h<0&&(s="nw",u-=h=-h);break;case"se":if(l){if(0<=w.x&&(v<=f||y<=p)){b=!1;break}_("e"),h=(d+=w.x)/l}else _("s"),_("e"),0<=w.x?f<v?d+=w.x:0<=w.y&&y<=p&&(b=!1):d+=w.x,0<=w.y?p<y&&(h+=w.y):h+=w.y;d<0&&h<0?(s="nw",u-=h=-h,c-=d=-d):d<0?(s="sw",c-=d=-d):h<0&&(s="ne",u-=h=-h);break;case"move":this.move(w.x,w.y),b=!1;break;case"zoom":this.zoom(function(t){var e=T({},t),l=[];return $(t,function(s,t){delete e[t],$(e,function(t){var e=Math.abs(s.startX-t.startX),n=Math.abs(s.startY-t.startY),i=Math.abs(s.endX-t.endX),o=Math.abs(s.endY-t.endY),r=Math.sqrt(e*e+n*n),a=(Math.sqrt(i*i+o*o)-r)/r;l.push(a)})}),l.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),l[0]}(a),t),b=!1;break;case"crop":if(!w.x||!w.y){b=!1;break}e=rt(this.cropper),c=E.startX-e.left,u=E.startY-e.top,d=r.minWidth,h=r.minHeight,0<w.x?s=0<w.y?"se":"ne":w.x<0&&(c-=d,s=0<w.y?"sw":"nw"),w.y<0&&(u-=h),this.cropped||(U(this.cropBox,C),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}b&&(r.width=d,r.height=h,r.left=c,r.top=u,this.action=s,this.renderCropBox()),$(a,function(t){t.startX=t.endX,t.startY=t.endY})}},Et={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&G(this.dragBox,c),U(this.cropBox,C),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=z({},this.initialImageData),this.canvasData=z({},this.initialCanvasData),this.cropBoxData=z({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(z(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),U(this.dragBox,c),G(this.cropBox,C)),this},replace:function(e,t){var n=1<arguments.length&&void 0!==t&&t;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,$(this.previews,function(t){t.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,U(this.cropper,l)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,G(this.cropper,l)),this},destroy:function(){var t=this.element;return t[u]&&(t[u]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate()),this},move:function(t,e){var n=1<arguments.length&&void 0!==e?e:t,i=this.canvasData,o=i.left,r=i.top;return this.moveTo(M(t)?t:o+Number(t),M(n)?n:r+Number(n))},moveTo:function(t,e){var n=1<arguments.length&&void 0!==e?e:t,i=this.canvasData,o=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(R(t)&&(i.left=t,o=!0),R(n)&&(i.top=n,o=!0),o&&this.renderCanvas(!0)),this},zoom:function(t,e){var n=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,null,e)},zoomTo:function(t,e,n){var i=this.options,o=this.canvasData,r=o.width,a=o.height,s=o.naturalWidth,l=o.naturalHeight;if(0<=(t=Number(t))&&this.ready&&!this.disabled&&i.zoomable){var c=s*t,u=l*t;if(!1===ot(this.element,"zoom",{ratio:t,oldRatio:r/s,originalEvent:n}))return this;if(n){var d=this.pointers,h=rt(this.cropper),f=d&&Object.keys(d).length?function(t){var i=0,o=0,r=0;return $(t,function(t){var e=t.startX,n=t.startY;i+=e,o+=n,r+=1}),{pageX:i/=r,pageY:o/=r}}(d):{pageX:n.pageX,pageY:n.pageY};o.left-=(c-r)*((f.pageX-h.left-o.left)/r),o.top-=(u-a)*((f.pageY-h.top-o.top)/a)}else P(e)&&R(e.x)&&R(e.y)?(o.left-=(c-r)*((e.x-o.left)/r),o.top-=(u-a)*((e.y-o.top)/a)):(o.left-=(c-r)/2,o.top-=(u-a)/2);o.width=c,o.height=u,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return R(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,R(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(R(e)?e:1,t)},scale:function(t,e){var n=1<arguments.length&&void 0!==e?e:t,i=this.imageData,o=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(R(t)&&(i.scaleX=t,o=!0),R(n)&&(i.scaleY=n,o=!0),o&&this.renderCanvas(!0,!0)),this},getData:function(t){var n,e=0<arguments.length&&void 0!==t&&t,i=this.options,o=this.imageData,r=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){n={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height};var s=o.width/o.naturalWidth;if($(n,function(t,e){n[e]=t/s}),e){var l=Math.round(n.y+n.height),c=Math.round(n.x+n.width);n.x=Math.round(n.x),n.y=Math.round(n.y),n.width=c-n.x,n.height=l-n.y}}else n={x:0,y:0,width:0,height:0};return i.rotatable&&(n.rotate=o.rotate||0),i.scalable&&(n.scaleX=o.scaleX||1,n.scaleY=o.scaleY||1),n},setData:function(t){var e=this.options,n=this.imageData,i=this.canvasData,o={};if(this.ready&&!this.disabled&&P(t)){var r=!1;e.rotatable&&R(t.rotate)&&t.rotate!==n.rotate&&(n.rotate=t.rotate,r=!0),e.scalable&&(R(t.scaleX)&&t.scaleX!==n.scaleX&&(n.scaleX=t.scaleX,r=!0),R(t.scaleY)&&t.scaleY!==n.scaleY&&(n.scaleY=t.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var a=n.width/n.naturalWidth;R(t.x)&&(o.left=t.x*a+i.left),R(t.y)&&(o.top=t.y*a+i.top),R(t.width)&&(o.width=t.width*a),R(t.height)&&(o.height=t.height*a),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?z({},this.containerData):{}},getImageData:function(){return this.sized?z({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&$(["left","top","width","height","naturalWidth","naturalHeight"],function(t){n[t]=e[t]}),n},setCanvasData:function(t){var e=this.canvasData,n=e.aspectRatio;return this.ready&&!this.disabled&&P(t)&&(R(t.left)&&(e.left=t.left),R(t.top)&&(e.top=t.top),R(t.width)?(e.width=t.width,e.height=t.width/n):R(t.height)&&(e.height=t.height,e.width=t.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,n,i=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&P(t)&&(R(t.left)&&(i.left=t.left),R(t.top)&&(i.top=t.top),R(t.width)&&t.width!==i.width&&(e=!0,i.width=t.width),R(t.height)&&t.height!==i.height&&(n=!0,i.height=t.height),o&&(e?i.height=i.width/o:n&&(i.width=i.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(t){var e=0<arguments.length&&void 0!==t?t:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,i=function(t,e,n,i){var o=e.aspectRatio,r=e.naturalWidth,a=e.naturalHeight,s=e.rotate,l=void 0===s?0:s,c=e.scaleX,u=void 0===c?1:c,d=e.scaleY,h=void 0===d?1:d,f=n.aspectRatio,p=n.naturalWidth,g=n.naturalHeight,m=i.fillColor,v=void 0===m?"transparent":m,y=i.imageSmoothingEnabled,b=void 0===y||y,_=i.imageSmoothingQuality,E=void 0===_?"low":_,w=i.maxWidth,T=void 0===w?1/0:w,C=i.maxHeight,x=void 0===C?1/0:C,D=i.minWidth,O=void 0===D?0:D,I=i.minHeight,k=void 0===I?0:I,S=document.createElement("canvas"),R=S.getContext("2d"),A=ht({aspectRatio:f,width:T,height:x}),M=ht({aspectRatio:f,width:O,height:k},"cover"),N=Math.min(A.width,Math.max(M.width,p)),K=Math.min(A.height,Math.max(M.height,g)),P=ht({aspectRatio:o,width:T,height:x}),L=ht({aspectRatio:o,width:O,height:k},"cover"),F=Math.min(P.width,Math.max(L.width,r)),B=Math.min(P.height,Math.max(L.height,a)),$=[-F/2,-B/2,F,B];return S.width=V(N),S.height=V(K),R.fillStyle=v,R.fillRect(0,0,N,K),R.save(),R.translate(N/2,K/2),R.rotate(l*Math.PI/180),R.scale(u,h),R.imageSmoothingEnabled=b,R.imageSmoothingQuality=E,R.drawImage.apply(R,[t].concat(H($.map(function(t){return Math.floor(V(t))})))),R.restore(),S}(this.image,this.imageData,n,e);if(!this.cropped)return i;var o=this.getData(),r=o.x,a=o.y,s=o.width,l=o.height,c=i.width/Math.floor(n.naturalWidth);1!=c&&(r*=c,a*=c,s*=c,l*=c);var u=s/l,d=ht({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),h=ht({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),f=ht({aspectRatio:u,width:e.width||(1!=c?i.width:s),height:e.height||(1!=c?i.height:l)}),p=f.width,g=f.height;p=Math.min(d.width,Math.max(h.width,p)),g=Math.min(d.height,Math.max(h.height,g));var m=document.createElement("canvas"),v=m.getContext("2d");m.width=V(p),m.height=V(g),v.fillStyle=e.fillColor||"transparent",v.fillRect(0,0,p,g);var y=e.imageSmoothingEnabled,b=void 0===y||y,_=e.imageSmoothingQuality;v.imageSmoothingEnabled=b,_&&(v.imageSmoothingQuality=_);var E,w,T,C,x,D,O=i.width,I=i.height,k=r,S=a;k<=-s||O<k?x=T=E=k=0:k<=0?(T=-k,k=0,x=E=Math.min(O,s+k)):k<=O&&(T=0,x=E=Math.min(s,O-k)),E<=0||S<=-l||I<S?D=C=w=S=0:S<=0?(C=-S,S=0,D=w=Math.min(I,l+S)):S<=I&&(C=0,D=w=Math.min(l,I-S));var R=[k,S,E,w];if(0<x&&0<D){var A=p/s;R.push(T*A,C*A,x*A,D*A)}return v.drawImage.apply(v,[i].concat(H(R.map(function(t){return Math.floor(V(t))})))),m},setAspectRatio:function(t){var e=this.options;return this.disabled||M(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,n=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var o="crop"===t,r=e.movable&&"move"===t;t=o||r?t:"none",e.dragMode=t,J(n,p,t),Y(n,s,o),Y(n,f,r),e.cropBoxMovable||(J(i,p,t),Y(i,s,o),Y(i,f,r))}return this}},wt=a.Cropper,Tt=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),!t||!I.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=z({},k,P(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(n,[{key:"init",value:function(){var t,e=this.element,n=e.tagName.toLowerCase();if(!e[u]){if(e[u]=this,"img"===n){if(this.isImg=!0,t=e.getAttribute("src")||"",!(this.originalUrl=t))return;t=e.src}else"canvas"===n&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var n=this.element,i=this.options;if(i.rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer)if(D.test(t))O.test(t)?this.read(function(t){var e=t.replace(pt,""),n=atob(e),i=new ArrayBuffer(n.length),o=new Uint8Array(i);return $(o,function(t,e){o[e]=n.charCodeAt(e)}),i}(t)):this.clone();else{var o=new XMLHttpRequest,r=this.clone.bind(this);this.reloading=!0,(this.xhr=o).onabort=r,o.onerror=r,o.ontimeout=r,o.onprogress=function(){o.getResponseHeader("content-type")!==w&&o.abort()},o.onload=function(){e.read(o.response)},o.onloadend=function(){e.reloading=!1,e.xhr=null},i.checkCrossOrigin&&lt(t)&&n.crossOrigin&&(t=ct(t)),o.open("GET",t),o.responseType="arraybuffer",o.withCredentials="use-credentials"===n.crossOrigin,o.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,n=this.imageData,i=gt(t),o=0,r=1,a=1;if(1<i){this.url=function(t,e){for(var n=[],i=new Uint8Array(t);0<i.length;)n.push(ft.apply(null,B(i.subarray(0,8192)))),i=i.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}(t,w);var s=function(t){var e=0,n=1,i=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:i}}(i);o=s.rotate,r=s.scaleX,a=s.scaleY}e.rotatable&&(n.rotate=o),e.scalable&&(n.scaleX=r,n.scaleY=a),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,n=t.crossOrigin,i=e;this.options.checkCrossOrigin&&lt(e)&&(n=n||"anonymous",i=ct(e)),this.crossOrigin=n,this.crossOriginUrl=i;var o=document.createElement("img");n&&(o.crossOrigin=n),o.src=i||e,o.alt=t.alt||"The image to crop",(this.image=o).onload=this.start.bind(this),o.onerror=this.stop.bind(this),G(o,d),t.parentNode.insertBefore(o,t.nextSibling)}},{key:"start",value:function(){var n=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;function e(t,e){z(n.imageData,{naturalWidth:t,naturalHeight:e,aspectRatio:t/e}),n.sizing=!1,n.sized=!0,n.build()}var i=a.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(a.navigator.userAgent);if(!t.naturalWidth||i){var o=document.createElement("img"),r=document.body||document.documentElement;(this.sizingImage=o).onload=function(){e(o.width,o.height),i||r.removeChild(o)},o.src=t.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(o))}else e(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,n=this.image,i=t.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var r=o.querySelector(".".concat(u,"-container")),a=r.querySelector(".".concat(u,"-canvas")),s=r.querySelector(".".concat(u,"-drag-box")),l=r.querySelector(".".concat(u,"-crop-box")),c=l.querySelector(".".concat(u,"-face"));this.container=i,this.cropper=r,this.canvas=a,this.dragBox=s,this.cropBox=l,this.viewBox=r.querySelector(".".concat(u,"-view-box")),this.face=c,a.appendChild(n),G(t,C),i.insertBefore(r,t.nextSibling),this.isImg||U(n,d),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,G(l,C),e.guides||G(l.getElementsByClassName("".concat(u,"-dashed")),C),e.center||G(l.getElementsByClassName("".concat(u,"-center")),C),e.background&&G(r,"".concat(u,"-bg")),e.highlight||G(c,h),e.cropBoxMovable&&(G(c,f),J(c,p,"all")),e.cropBoxResizable||(G(l.getElementsByClassName("".concat(u,"-line")),C),G(l.getElementsByClassName("".concat(u,"-point")),C)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),L(e.ready)&&it(t,"ready",e.ready,{once:!0}),ot(t,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),U(this.element,C))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=wt,n}},{key:"setDefaults",value:function(t){z(k,P(t)&&t)}}]),n}();return z(Tt.prototype,mt,vt,yt,bt,_t,Et),Tt});
//# sourceMappingURL=plugins.min.js.map
